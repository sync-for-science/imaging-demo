/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/axios/index.js":
/*!**************************************!*\
  !*** ../node_modules/axios/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./lib/axios */ \"../node_modules/axios/lib/axios.js\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9heGlvcy9pbmRleC5qcz83MzM4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/axios/index.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/adapters/xhr.js":
/*!*************************************************!*\
  !*** ../node_modules/axios/lib/adapters/xhr.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\nvar settle = __webpack_require__(/*! ./../core/settle */ \"../node_modules/axios/lib/core/settle.js\");\nvar buildURL = __webpack_require__(/*! ./../helpers/buildURL */ \"../node_modules/axios/lib/helpers/buildURL.js\");\nvar parseHeaders = __webpack_require__(/*! ./../helpers/parseHeaders */ \"../node_modules/axios/lib/helpers/parseHeaders.js\");\nvar isURLSameOrigin = __webpack_require__(/*! ./../helpers/isURLSameOrigin */ \"../node_modules/axios/lib/helpers/isURLSameOrigin.js\");\nvar createError = __webpack_require__(/*! ../core/createError */ \"../node_modules/axios/lib/core/createError.js\");\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || __webpack_require__(/*! ./../helpers/btoa */ \"../node_modules/axios/lib/helpers/btoa.js\");\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if ( true &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = __webpack_require__(/*! ./../helpers/cookies */ \"../node_modules/axios/lib/helpers/cookies.js\");\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanM/Y2RmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9jcmVhdGVFcnJvcicpO1xudmFyIGJ0b2EgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmJ0b2EgJiYgd2luZG93LmJ0b2EuYmluZCh3aW5kb3cpKSB8fCByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnRvYScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1snQ29udGVudC1UeXBlJ107IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHZhciBsb2FkRXZlbnQgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbiAgICB2YXIgeERvbWFpbiA9IGZhbHNlO1xuXG4gICAgLy8gRm9yIElFIDgvOSBDT1JTIHN1cHBvcnRcbiAgICAvLyBPbmx5IHN1cHBvcnRzIFBPU1QgYW5kIEdFVCBjYWxscyBhbmQgZG9lc24ndCByZXR1cm5zIHRoZSByZXNwb25zZSBoZWFkZXJzLlxuICAgIC8vIERPTidUIGRvIHRoaXMgZm9yIHRlc3RpbmcgYi9jIFhNTEh0dHBSZXF1ZXN0IGlzIG1vY2tlZCwgbm90IFhEb21haW5SZXF1ZXN0LlxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmXG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpICYmXG4gICAgICAgICFpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpIHtcbiAgICAgIHJlcXVlc3QgPSBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG4gICAgICBsb2FkRXZlbnQgPSAnb25sb2FkJztcbiAgICAgIHhEb21haW4gPSB0cnVlO1xuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3MoKSB7fTtcbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHt9O1xuICAgIH1cblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3RbbG9hZEV2ZW50XSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCAmJiAheERvbWFpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgLy8gSUUgc2VuZHMgMTIyMyBpbnN0ZWFkIG9mIDIwNCAoaHR0cHM6Ly9naXRodWIuY29tL2F4aW9zL2F4aW9zL2lzc3Vlcy8yMDEpXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/adapters/xhr.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/axios.js":
/*!******************************************!*\
  !*** ../node_modules/axios/lib/axios.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./utils */ \"../node_modules/axios/lib/utils.js\");\nvar bind = __webpack_require__(/*! ./helpers/bind */ \"../node_modules/axios/lib/helpers/bind.js\");\nvar Axios = __webpack_require__(/*! ./core/Axios */ \"../node_modules/axios/lib/core/Axios.js\");\nvar defaults = __webpack_require__(/*! ./defaults */ \"../node_modules/axios/lib/defaults.js\");\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = __webpack_require__(/*! ./cancel/Cancel */ \"../node_modules/axios/lib/cancel/Cancel.js\");\naxios.CancelToken = __webpack_require__(/*! ./cancel/CancelToken */ \"../node_modules/axios/lib/cancel/CancelToken.js\");\naxios.isCancel = __webpack_require__(/*! ./cancel/isCancel */ \"../node_modules/axios/lib/cancel/isCancel.js\");\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = __webpack_require__(/*! ./helpers/spread */ \"../node_modules/axios/lib/helpers/spread.js\");\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzPzRjMzIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgQXhpb3MgPSByZXF1aXJlKCcuL2NvcmUvQXhpb3MnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxudmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICByZXR1cm4gY3JlYXRlSW5zdGFuY2UodXRpbHMubWVyZ2UoZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG59O1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbCcpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/axios.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/cancel/Cancel.js":
/*!**************************************************!*\
  !*** ../node_modules/axios/lib/cancel/Cancel.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcz9iNDg5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/cancel/Cancel.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/cancel/CancelToken.js":
/*!*******************************************************!*\
  !*** ../node_modules/axios/lib/cancel/CancelToken.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar Cancel = __webpack_require__(/*! ./Cancel */ \"../node_modules/axios/lib/cancel/Cancel.js\");\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanM/Mzg3NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/cancel/CancelToken.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/cancel/isCancel.js":
/*!****************************************************!*\
  !*** ../node_modules/axios/lib/cancel/isCancel.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanM/N2I5OCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/cancel/isCancel.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/core/Axios.js":
/*!***********************************************!*\
  !*** ../node_modules/axios/lib/core/Axios.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar defaults = __webpack_require__(/*! ./../defaults */ \"../node_modules/axios/lib/defaults.js\");\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\nvar InterceptorManager = __webpack_require__(/*! ./InterceptorManager */ \"../node_modules/axios/lib/core/InterceptorManager.js\");\nvar dispatchRequest = __webpack_require__(/*! ./dispatchRequest */ \"../node_modules/axios/lib/core/dispatchRequest.js\");\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcz9iOWE4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi8uLi9kZWZhdWx0cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IHV0aWxzLm1lcmdlKHtcbiAgICAgIHVybDogYXJndW1lbnRzWzBdXG4gICAgfSwgYXJndW1lbnRzWzFdKTtcbiAgfVxuXG4gIGNvbmZpZyA9IHV0aWxzLm1lcmdlKGRlZmF1bHRzLCB7bWV0aG9kOiAnZ2V0J30sIHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/core/Axios.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/core/InterceptorManager.js":
/*!************************************************************!*\
  !*** ../node_modules/axios/lib/core/InterceptorManager.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzPzhiNDEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/core/InterceptorManager.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/core/createError.js":
/*!*****************************************************!*\
  !*** ../node_modules/axios/lib/core/createError.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar enhanceError = __webpack_require__(/*! ./enhanceError */ \"../node_modules/axios/lib/core/enhanceError.js\");\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qcz9kOGExIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/core/createError.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/core/dispatchRequest.js":
/*!*********************************************************!*\
  !*** ../node_modules/axios/lib/core/dispatchRequest.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\nvar transformData = __webpack_require__(/*! ./transformData */ \"../node_modules/axios/lib/core/transformData.js\");\nvar isCancel = __webpack_require__(/*! ../cancel/isCancel */ \"../node_modules/axios/lib/cancel/isCancel.js\");\nvar defaults = __webpack_require__(/*! ../defaults */ \"../node_modules/axios/lib/defaults.js\");\nvar isAbsoluteURL = __webpack_require__(/*! ./../helpers/isAbsoluteURL */ \"../node_modules/axios/lib/helpers/isAbsoluteURL.js\");\nvar combineURLs = __webpack_require__(/*! ./../helpers/combineURLs */ \"../node_modules/axios/lib/helpers/combineURLs.js\");\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzPzgyZTUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/core/dispatchRequest.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/core/enhanceError.js":
/*!******************************************************!*\
  !*** ../node_modules/axios/lib/core/enhanceError.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzPzNhNjEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/core/enhanceError.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/core/settle.js":
/*!************************************************!*\
  !*** ../node_modules/axios/lib/core/settle.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar createError = __webpack_require__(/*! ./createError */ \"../node_modules/axios/lib/core/createError.js\");\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzPzY4NDAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/core/settle.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/core/transformData.js":
/*!*******************************************************!*\
  !*** ../node_modules/axios/lib/core/transformData.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanM/ZTBlOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/core/transformData.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/defaults.js":
/*!*********************************************!*\
  !*** ../node_modules/axios/lib/defaults.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {\n\nvar utils = __webpack_require__(/*! ./utils */ \"../node_modules/axios/lib/utils.js\");\nvar normalizeHeaderName = __webpack_require__(/*! ./helpers/normalizeHeaderName */ \"../node_modules/axios/lib/helpers/normalizeHeaderName.js\");\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = __webpack_require__(/*! ./adapters/xhr */ \"../node_modules/axios/lib/adapters/xhr.js\");\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = __webpack_require__(/*! ./adapters/http */ \"../node_modules/axios/lib/adapters/xhr.js\");\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"../node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzLmpzPzZkMWIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/defaults.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/bind.js":
/*!*************************************************!*\
  !*** ../node_modules/axios/lib/helpers/bind.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanM/ZTUwNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/bind.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/btoa.js":
/*!*************************************************!*\
  !*** ../node_modules/axios/lib/helpers/btoa.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J0b2EuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J0b2EuanM/Mjg1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vIGJ0b2EgcG9seWZpbGwgZm9yIElFPDEwIGNvdXJ0ZXN5IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGNoYW1iZXJzL0Jhc2U2NC5qc1xuXG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBFKCkge1xuICB0aGlzLm1lc3NhZ2UgPSAnU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyJztcbn1cbkUucHJvdG90eXBlID0gbmV3IEVycm9yO1xuRS5wcm90b3R5cGUuY29kZSA9IDU7XG5FLnByb3RvdHlwZS5uYW1lID0gJ0ludmFsaWRDaGFyYWN0ZXJFcnJvcic7XG5cbmZ1bmN0aW9uIGJ0b2EoaW5wdXQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhpbnB1dCk7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgZm9yIChcbiAgICAvLyBpbml0aWFsaXplIHJlc3VsdCBhbmQgY291bnRlclxuICAgIHZhciBibG9jaywgY2hhckNvZGUsIGlkeCA9IDAsIG1hcCA9IGNoYXJzO1xuICAgIC8vIGlmIHRoZSBuZXh0IHN0ciBpbmRleCBkb2VzIG5vdCBleGlzdDpcbiAgICAvLyAgIGNoYW5nZSB0aGUgbWFwcGluZyB0YWJsZSB0byBcIj1cIlxuICAgIC8vICAgY2hlY2sgaWYgZCBoYXMgbm8gZnJhY3Rpb25hbCBkaWdpdHNcbiAgICBzdHIuY2hhckF0KGlkeCB8IDApIHx8IChtYXAgPSAnPScsIGlkeCAlIDEpO1xuICAgIC8vIFwiOCAtIGlkeCAlIDEgKiA4XCIgZ2VuZXJhdGVzIHRoZSBzZXF1ZW5jZSAyLCA0LCA2LCA4XG4gICAgb3V0cHV0ICs9IG1hcC5jaGFyQXQoNjMgJiBibG9jayA+PiA4IC0gaWR4ICUgMSAqIDgpXG4gICkge1xuICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaWR4ICs9IDMgLyA0KTtcbiAgICBpZiAoY2hhckNvZGUgPiAweEZGKSB7XG4gICAgICB0aHJvdyBuZXcgRSgpO1xuICAgIH1cbiAgICBibG9jayA9IGJsb2NrIDw8IDggfCBjaGFyQ29kZTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ0b2E7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/btoa.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/buildURL.js":
/*!*****************************************************!*\
  !*** ../node_modules/axios/lib/helpers/buildURL.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qcz83ZjA5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHZhciBzZXJpYWxpemVkUGFyYW1zO1xuICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXNTZXJpYWxpemVyKHBhcmFtcyk7XG4gIH0gZWxzZSBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSkge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgIHV0aWxzLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiBzZXJpYWxpemUodmFsLCBrZXkpIHtcbiAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIGtleSA9IGtleSArICdbXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/buildURL.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/combineURLs.js":
/*!********************************************************!*\
  !*** ../node_modules/axios/lib/helpers/combineURLs.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcz84NTQzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/combineURLs.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/cookies.js":
/*!****************************************************!*\
  !*** ../node_modules/axios/lib/helpers/cookies.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanM/YmNjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpXG4pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/cookies.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/isAbsoluteURL.js":
/*!**********************************************************!*\
  !*** ../node_modules/axios/lib/helpers/isAbsoluteURL.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanM/NDczOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/isAbsoluteURL.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/isURLSameOrigin.js":
/*!************************************************************!*\
  !*** ../node_modules/axios/lib/helpers/isURLSameOrigin.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzPzcwZTMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKVxuKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/isURLSameOrigin.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/normalizeHeaderName.js":
/*!****************************************************************!*\
  !*** ../node_modules/axios/lib/helpers/normalizeHeaderName.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ../utils */ \"../node_modules/axios/lib/utils.js\");\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanM/ZWY1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/normalizeHeaderName.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/parseHeaders.js":
/*!*********************************************************!*\
  !*** ../node_modules/axios/lib/helpers/parseHeaders.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar utils = __webpack_require__(/*! ./../utils */ \"../node_modules/axios/lib/utils.js\");\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzP2M1MjEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/parseHeaders.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/helpers/spread.js":
/*!***************************************************!*\
  !*** ../node_modules/axios/lib/helpers/spread.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzP2VhY2YiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/helpers/spread.js\n");

/***/ }),

/***/ "../node_modules/axios/lib/utils.js":
/*!******************************************!*\
  !*** ../node_modules/axios/lib/utils.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar bind = __webpack_require__(/*! ./helpers/bind */ \"../node_modules/axios/lib/helpers/bind.js\");\nvar isBuffer = __webpack_require__(/*! is-buffer */ \"../node_modules/is-buffer/index.js\");\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzP2EyZjgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../node_modules/axios/lib/utils.js\n");

/***/ }),

/***/ "../node_modules/base-64/base64.js":
/*!*****************************************!*\
  !*** ../node_modules/base-64/base64.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports =  true && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule =  true && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atks excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttrue\n\t) {\n\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\t\treturn base64;\n\t\t}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t}\telse { var key; }\n\n}(this));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ \"../node_modules/webpack/buildin/module.js\")(module), __webpack_require__(/*! ./../webpack/buildin/global.js */ \"../node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2Jhc2UtNjQvYmFzZTY0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9iYXNlLTY0L2Jhc2U2NC5qcz81NGJhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBodHRwOi8vbXRocy5iZS9iYXNlNjQgdjAuMS4wIGJ5IEBtYXRoaWFzIHwgTUlUIGxpY2Vuc2UgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8vIERldGVjdCBmcmVlIHZhcmlhYmxlcyBgZXhwb3J0c2AuXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHM7XG5cblx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuXG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHRtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cyAmJiBtb2R1bGU7XG5cblx0Ly8gRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAsIGZyb20gTm9kZS5qcyBvciBCcm93c2VyaWZpZWQgY29kZSwgYW5kIHVzZVxuXHQvLyBpdCBhcyBgcm9vdGAuXG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fCBmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0dmFyIEludmFsaWRDaGFyYWN0ZXJFcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR9O1xuXHRJbnZhbGlkQ2hhcmFjdGVyRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yO1xuXHRJbnZhbGlkQ2hhcmFjdGVyRXJyb3IucHJvdG90eXBlLm5hbWUgPSAnSW52YWxpZENoYXJhY3RlckVycm9yJztcblxuXHR2YXIgZXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG5cdFx0Ly8gTm90ZTogdGhlIGVycm9yIG1lc3NhZ2VzIHVzZWQgdGhyb3VnaG91dCB0aGlzIGZpbGUgbWF0Y2ggdGhvc2UgdXNlZCBieVxuXHRcdC8vIHRoZSBuYXRpdmUgYGF0b2JgL2BidG9hYCBpbXBsZW1lbnRhdGlvbiBpbiBDaHJvbWl1bS5cblx0XHR0aHJvdyBuZXcgSW52YWxpZENoYXJhY3RlckVycm9yKG1lc3NhZ2UpO1xuXHR9O1xuXG5cdHZhciBUQUJMRSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcblx0Ly8gaHR0cDovL3doYXR3Zy5vcmcvaHRtbC9jb21tb24tbWljcm9zeW50YXhlcy5odG1sI3NwYWNlLWNoYXJhY3RlclxuXHR2YXIgUkVHRVhfU1BBQ0VfQ0hBUkFDVEVSUyA9IC9bXFx0XFxuXFxmXFxyIF0vZztcblxuXHQvLyBgZGVjb2RlYCBpcyBkZXNpZ25lZCB0byBiZSBmdWxseSBjb21wYXRpYmxlIHdpdGggYGF0b2JgIGFzIGRlc2NyaWJlZCBpbiB0aGVcblx0Ly8gSFRNTCBTdGFuZGFyZC4gaHR0cDovL3doYXR3Zy5vcmcvaHRtbC93ZWJhcHBhcGlzLmh0bWwjZG9tLXdpbmRvd2Jhc2U2NC1hdG9iXG5cdC8vIFRoZSBvcHRpbWl6ZWQgYmFzZTY0LWRlY29kaW5nIGFsZ29yaXRobSB1c2VkIGlzIGJhc2VkIG9uIEBhdGvigJlzIGV4Y2VsbGVudFxuXHQvLyBpbXBsZW1lbnRhdGlvbi4gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vYXRrLzEwMjAzOTZcblx0dmFyIGRlY29kZSA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0aW5wdXQgPSBTdHJpbmcoaW5wdXQpXG5cdFx0XHQucmVwbGFjZShSRUdFWF9TUEFDRV9DSEFSQUNURVJTLCAnJyk7XG5cdFx0dmFyIGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0XHRpZiAobGVuZ3RoICUgNCA9PSAwKSB7XG5cdFx0XHRpbnB1dCA9IGlucHV0LnJlcGxhY2UoLz09PyQvLCAnJyk7XG5cdFx0XHRsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cdFx0fVxuXHRcdGlmIChcblx0XHRcdGxlbmd0aCAlIDQgPT0gMSB8fFxuXHRcdFx0Ly8gaHR0cDovL3doYXR3Zy5vcmcvQyNhbHBoYW51bWVyaWMtYXNjaWktY2hhcmFjdGVyc1xuXHRcdFx0L1teK2EtekEtWjAtOS9dLy50ZXN0KGlucHV0KVxuXHRcdCkge1xuXHRcdFx0ZXJyb3IoXG5cdFx0XHRcdCdJbnZhbGlkIGNoYXJhY3RlcjogdGhlIHN0cmluZyB0byBiZSBkZWNvZGVkIGlzIG5vdCBjb3JyZWN0bHkgZW5jb2RlZC4nXG5cdFx0XHQpO1xuXHRcdH1cblx0XHR2YXIgYml0Q291bnRlciA9IDA7XG5cdFx0dmFyIGJpdFN0b3JhZ2U7XG5cdFx0dmFyIGJ1ZmZlcjtcblx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0dmFyIHBvc2l0aW9uID0gLTE7XG5cdFx0d2hpbGUgKCsrcG9zaXRpb24gPCBsZW5ndGgpIHtcblx0XHRcdGJ1ZmZlciA9IFRBQkxFLmluZGV4T2YoaW5wdXQuY2hhckF0KHBvc2l0aW9uKSk7XG5cdFx0XHRiaXRTdG9yYWdlID0gYml0Q291bnRlciAlIDQgPyBiaXRTdG9yYWdlICogNjQgKyBidWZmZXIgOiBidWZmZXI7XG5cdFx0XHQvLyBVbmxlc3MgdGhpcyBpcyB0aGUgZmlyc3Qgb2YgYSBncm91cCBvZiA0IGNoYXJhY3RlcnPigKZcblx0XHRcdGlmIChiaXRDb3VudGVyKysgJSA0KSB7XG5cdFx0XHRcdC8vIOKApmNvbnZlcnQgdGhlIGZpcnN0IDggYml0cyB0byBhIHNpbmdsZSBBU0NJSSBjaGFyYWN0ZXIuXG5cdFx0XHRcdG91dHB1dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuXHRcdFx0XHRcdDB4RkYgJiBiaXRTdG9yYWdlID4+ICgtMiAqIGJpdENvdW50ZXIgJiA2KVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9O1xuXG5cdC8vIGBlbmNvZGVgIGlzIGRlc2lnbmVkIHRvIGJlIGZ1bGx5IGNvbXBhdGlibGUgd2l0aCBgYnRvYWAgYXMgZGVzY3JpYmVkIGluIHRoZVxuXHQvLyBIVE1MIFN0YW5kYXJkOiBodHRwOi8vd2hhdHdnLm9yZy9odG1sL3dlYmFwcGFwaXMuaHRtbCNkb20td2luZG93YmFzZTY0LWJ0b2Fcblx0dmFyIGVuY29kZSA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0aW5wdXQgPSBTdHJpbmcoaW5wdXQpO1xuXHRcdGlmICgvW15cXDAtXFx4RkZdLy50ZXN0KGlucHV0KSkge1xuXHRcdFx0Ly8gTm90ZTogbm8gbmVlZCB0byBzcGVjaWFsLWNhc2UgYXN0cmFsIHN5bWJvbHMgaGVyZSwgYXMgc3Vycm9nYXRlcyBhcmVcblx0XHRcdC8vIG1hdGNoZWQsIGFuZCB0aGUgaW5wdXQgaXMgc3VwcG9zZWQgdG8gb25seSBjb250YWluIEFTQ0lJIGFueXdheS5cblx0XHRcdGVycm9yKFxuXHRcdFx0XHQnVGhlIHN0cmluZyB0byBiZSBlbmNvZGVkIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3V0c2lkZSBvZiB0aGUgJyArXG5cdFx0XHRcdCdMYXRpbjEgcmFuZ2UuJ1xuXHRcdFx0KTtcblx0XHR9XG5cdFx0dmFyIHBhZGRpbmcgPSBpbnB1dC5sZW5ndGggJSAzO1xuXHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHR2YXIgcG9zaXRpb24gPSAtMTtcblx0XHR2YXIgYTtcblx0XHR2YXIgYjtcblx0XHR2YXIgYztcblx0XHR2YXIgZDtcblx0XHR2YXIgYnVmZmVyO1xuXHRcdC8vIE1ha2Ugc3VyZSBhbnkgcGFkZGluZyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIGxvb3AuXG5cdFx0dmFyIGxlbmd0aCA9IGlucHV0Lmxlbmd0aCAtIHBhZGRpbmc7XG5cblx0XHR3aGlsZSAoKytwb3NpdGlvbiA8IGxlbmd0aCkge1xuXHRcdFx0Ly8gUmVhZCB0aHJlZSBieXRlcywgaS5lLiAyNCBiaXRzLlxuXHRcdFx0YSA9IGlucHV0LmNoYXJDb2RlQXQocG9zaXRpb24pIDw8IDE2O1xuXHRcdFx0YiA9IGlucHV0LmNoYXJDb2RlQXQoKytwb3NpdGlvbikgPDwgODtcblx0XHRcdGMgPSBpbnB1dC5jaGFyQ29kZUF0KCsrcG9zaXRpb24pO1xuXHRcdFx0YnVmZmVyID0gYSArIGIgKyBjO1xuXHRcdFx0Ly8gVHVybiB0aGUgMjQgYml0cyBpbnRvIGZvdXIgY2h1bmtzIG9mIDYgYml0cyBlYWNoLCBhbmQgYXBwZW5kIHRoZVxuXHRcdFx0Ly8gbWF0Y2hpbmcgY2hhcmFjdGVyIGZvciBlYWNoIG9mIHRoZW0gdG8gdGhlIG91dHB1dC5cblx0XHRcdG91dHB1dCArPSAoXG5cdFx0XHRcdFRBQkxFLmNoYXJBdChidWZmZXIgPj4gMTggJiAweDNGKSArXG5cdFx0XHRcdFRBQkxFLmNoYXJBdChidWZmZXIgPj4gMTIgJiAweDNGKSArXG5cdFx0XHRcdFRBQkxFLmNoYXJBdChidWZmZXIgPj4gNiAmIDB4M0YpICtcblx0XHRcdFx0VEFCTEUuY2hhckF0KGJ1ZmZlciAmIDB4M0YpXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChwYWRkaW5nID09IDIpIHtcblx0XHRcdGEgPSBpbnB1dC5jaGFyQ29kZUF0KHBvc2l0aW9uKSA8PCA4O1xuXHRcdFx0YiA9IGlucHV0LmNoYXJDb2RlQXQoKytwb3NpdGlvbik7XG5cdFx0XHRidWZmZXIgPSBhICsgYjtcblx0XHRcdG91dHB1dCArPSAoXG5cdFx0XHRcdFRBQkxFLmNoYXJBdChidWZmZXIgPj4gMTApICtcblx0XHRcdFx0VEFCTEUuY2hhckF0KChidWZmZXIgPj4gNCkgJiAweDNGKSArXG5cdFx0XHRcdFRBQkxFLmNoYXJBdCgoYnVmZmVyIDw8IDIpICYgMHgzRikgK1xuXHRcdFx0XHQnPSdcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChwYWRkaW5nID09IDEpIHtcblx0XHRcdGJ1ZmZlciA9IGlucHV0LmNoYXJDb2RlQXQocG9zaXRpb24pO1xuXHRcdFx0b3V0cHV0ICs9IChcblx0XHRcdFx0VEFCTEUuY2hhckF0KGJ1ZmZlciA+PiAyKSArXG5cdFx0XHRcdFRBQkxFLmNoYXJBdCgoYnVmZmVyIDw8IDQpICYgMHgzRikgK1xuXHRcdFx0XHQnPT0nXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH07XG5cblx0dmFyIGJhc2U2NCA9IHtcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J3ZlcnNpb24nOiAnMC4xLjAnXG5cdH07XG5cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gYmFzZTY0O1xuXHRcdH0pO1xuXHR9XHRlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiAhZnJlZUV4cG9ydHMubm9kZVR5cGUpIHtcblx0XHRpZiAoZnJlZU1vZHVsZSkgeyAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gYmFzZTY0O1xuXHRcdH0gZWxzZSB7IC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gYmFzZTY0KSB7XG5cdFx0XHRcdGJhc2U2NC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gYmFzZTY0W2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHsgLy8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QuYmFzZTY0ID0gYmFzZTY0O1xuXHR9XG5cbn0odGhpcykpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0Esb0JBVUE7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/base-64/base64.js\n");

/***/ }),

/***/ "../node_modules/cornerstone-core/dist/cornerstone.js":
/*!************************************************************!*\
  !*** ../node_modules/cornerstone-core/dist/cornerstone.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*! cornerstone-core - 2.2.7 - 2018-10-25 | (c) 2016 Chris Hafey | https://github.com/cornerstonejs/cornerstone */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \tfunction hotDisposeChunk(chunkId) {\n/******/ \t\tdelete installedChunks[chunkId];\n/******/ \t}\n/******/ \tvar parentHotUpdateCallback = window[\"webpackHotUpdate\"];\n/******/ \twindow[\"webpackHotUpdate\"] = // eslint-disable-next-line no-unused-vars\n/******/ \tfunction webpackHotUpdateCallback(chunkId, moreModules) {\n/******/ \t\thotAddUpdateChunk(chunkId, moreModules);\n/******/ \t\tif (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\n/******/ \t} ;\n/******/\n/******/ \t// eslint-disable-next-line no-unused-vars\n/******/ \tfunction hotDownloadUpdateChunk(chunkId) {\n/******/ \t\tvar head = document.getElementsByTagName(\"head\")[0];\n/******/ \t\tvar script = document.createElement(\"script\");\n/******/ \t\tscript.charset = \"utf-8\";\n/******/ \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\n/******/ \t\t;\n/******/ \t\thead.appendChild(script);\n/******/ \t}\n/******/\n/******/ \t// eslint-disable-next-line no-unused-vars\n/******/ \tfunction hotDownloadManifest(requestTimeout) {\n/******/ \t\trequestTimeout = requestTimeout || 10000;\n/******/ \t\treturn new Promise(function(resolve, reject) {\n/******/ \t\t\tif (typeof XMLHttpRequest === \"undefined\") {\n/******/ \t\t\t\treturn reject(new Error(\"No browser support\"));\n/******/ \t\t\t}\n/******/ \t\t\ttry {\n/******/ \t\t\t\tvar request = new XMLHttpRequest();\n/******/ \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\n/******/ \t\t\t\trequest.open(\"GET\", requestPath, true);\n/******/ \t\t\t\trequest.timeout = requestTimeout;\n/******/ \t\t\t\trequest.send(null);\n/******/ \t\t\t} catch (err) {\n/******/ \t\t\t\treturn reject(err);\n/******/ \t\t\t}\n/******/ \t\t\trequest.onreadystatechange = function() {\n/******/ \t\t\t\tif (request.readyState !== 4) return;\n/******/ \t\t\t\tif (request.status === 0) {\n/******/ \t\t\t\t\t// timeout\n/******/ \t\t\t\t\treject(\n/******/ \t\t\t\t\t\tnew Error(\"Manifest request to \" + requestPath + \" timed out.\")\n/******/ \t\t\t\t\t);\n/******/ \t\t\t\t} else if (request.status === 404) {\n/******/ \t\t\t\t\t// no update available\n/******/ \t\t\t\t\tresolve();\n/******/ \t\t\t\t} else if (request.status !== 200 && request.status !== 304) {\n/******/ \t\t\t\t\t// other failure\n/******/ \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\n/******/ \t\t\t\t} else {\n/******/ \t\t\t\t\t// success\n/******/ \t\t\t\t\ttry {\n/******/ \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\n/******/ \t\t\t\t\t} catch (e) {\n/******/ \t\t\t\t\t\treject(e);\n/******/ \t\t\t\t\t\treturn;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t\tresolve(update);\n/******/ \t\t\t\t}\n/******/ \t\t\t};\n/******/ \t\t});\n/******/ \t}\n/******/\n/******/ \tvar hotApplyOnUpdate = true;\n/******/ \t// eslint-disable-next-line no-unused-vars\n/******/ \tvar hotCurrentHash = \"236f9d7982d2d4eff8cb\";\n/******/ \tvar hotRequestTimeout = 10000;\n/******/ \tvar hotCurrentModuleData = {};\n/******/ \tvar hotCurrentChildModule;\n/******/ \t// eslint-disable-next-line no-unused-vars\n/******/ \tvar hotCurrentParents = [];\n/******/ \t// eslint-disable-next-line no-unused-vars\n/******/ \tvar hotCurrentParentsTemp = [];\n/******/\n/******/ \t// eslint-disable-next-line no-unused-vars\n/******/ \tfunction hotCreateRequire(moduleId) {\n/******/ \t\tvar me = installedModules[moduleId];\n/******/ \t\tif (!me) return __webpack_require__;\n/******/ \t\tvar fn = function(request) {\n/******/ \t\t\tif (me.hot.active) {\n/******/ \t\t\t\tif (installedModules[request]) {\n/******/ \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n/******/ \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t} else {\n/******/ \t\t\t\t\thotCurrentParents = [moduleId];\n/******/ \t\t\t\t\thotCurrentChildModule = request;\n/******/ \t\t\t\t}\n/******/ \t\t\t\tif (me.children.indexOf(request) === -1) {\n/******/ \t\t\t\t\tme.children.push(request);\n/******/ \t\t\t\t}\n/******/ \t\t\t} else {\n/******/ \t\t\t\tconsole.warn(\n/******/ \t\t\t\t\t\"[HMR] unexpected require(\" +\n/******/ \t\t\t\t\t\trequest +\n/******/ \t\t\t\t\t\t\") from disposed module \" +\n/******/ \t\t\t\t\t\tmoduleId\n/******/ \t\t\t\t);\n/******/ \t\t\t\thotCurrentParents = [];\n/******/ \t\t\t}\n/******/ \t\t\treturn __webpack_require__(request);\n/******/ \t\t};\n/******/ \t\tvar ObjectFactory = function ObjectFactory(name) {\n/******/ \t\t\treturn {\n/******/ \t\t\t\tconfigurable: true,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: function() {\n/******/ \t\t\t\t\treturn __webpack_require__[name];\n/******/ \t\t\t\t},\n/******/ \t\t\t\tset: function(value) {\n/******/ \t\t\t\t\t__webpack_require__[name] = value;\n/******/ \t\t\t\t}\n/******/ \t\t\t};\n/******/ \t\t};\n/******/ \t\tfor (var name in __webpack_require__) {\n/******/ \t\t\tif (\n/******/ \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n/******/ \t\t\t\tname !== \"e\" &&\n/******/ \t\t\t\tname !== \"t\"\n/******/ \t\t\t) {\n/******/ \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tfn.e = function(chunkId) {\n/******/ \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n/******/ \t\t\thotChunksLoading++;\n/******/ \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n/******/ \t\t\t\tfinishChunkLoading();\n/******/ \t\t\t\tthrow err;\n/******/ \t\t\t});\n/******/\n/******/ \t\t\tfunction finishChunkLoading() {\n/******/ \t\t\t\thotChunksLoading--;\n/******/ \t\t\t\tif (hotStatus === \"prepare\") {\n/******/ \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n/******/ \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n/******/ \t\t\t\t\t\thotUpdateDownloaded();\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t\tfn.t = function(value, mode) {\n/******/ \t\t\tif (mode & 1) value = fn(value);\n/******/ \t\t\treturn __webpack_require__.t(value, mode & ~1);\n/******/ \t\t};\n/******/ \t\treturn fn;\n/******/ \t}\n/******/\n/******/ \t// eslint-disable-next-line no-unused-vars\n/******/ \tfunction hotCreateModule(moduleId) {\n/******/ \t\tvar hot = {\n/******/ \t\t\t// private stuff\n/******/ \t\t\t_acceptedDependencies: {},\n/******/ \t\t\t_declinedDependencies: {},\n/******/ \t\t\t_selfAccepted: false,\n/******/ \t\t\t_selfDeclined: false,\n/******/ \t\t\t_disposeHandlers: [],\n/******/ \t\t\t_main: hotCurrentChildModule !== moduleId,\n/******/\n/******/ \t\t\t// Module API\n/******/ \t\t\tactive: true,\n/******/ \t\t\taccept: function(dep, callback) {\n/******/ \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n/******/ \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n/******/ \t\t\t\telse if (typeof dep === \"object\")\n/******/ \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n/******/ \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n/******/ \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n/******/ \t\t\t},\n/******/ \t\t\tdecline: function(dep) {\n/******/ \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n/******/ \t\t\t\telse if (typeof dep === \"object\")\n/******/ \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n/******/ \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n/******/ \t\t\t\telse hot._declinedDependencies[dep] = true;\n/******/ \t\t\t},\n/******/ \t\t\tdispose: function(callback) {\n/******/ \t\t\t\thot._disposeHandlers.push(callback);\n/******/ \t\t\t},\n/******/ \t\t\taddDisposeHandler: function(callback) {\n/******/ \t\t\t\thot._disposeHandlers.push(callback);\n/******/ \t\t\t},\n/******/ \t\t\tremoveDisposeHandler: function(callback) {\n/******/ \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n/******/ \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n/******/ \t\t\t},\n/******/\n/******/ \t\t\t// Management API\n/******/ \t\t\tcheck: hotCheck,\n/******/ \t\t\tapply: hotApply,\n/******/ \t\t\tstatus: function(l) {\n/******/ \t\t\t\tif (!l) return hotStatus;\n/******/ \t\t\t\thotStatusHandlers.push(l);\n/******/ \t\t\t},\n/******/ \t\t\taddStatusHandler: function(l) {\n/******/ \t\t\t\thotStatusHandlers.push(l);\n/******/ \t\t\t},\n/******/ \t\t\tremoveStatusHandler: function(l) {\n/******/ \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n/******/ \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n/******/ \t\t\t},\n/******/\n/******/ \t\t\t//inherit from previous dispose call\n/******/ \t\t\tdata: hotCurrentModuleData[moduleId]\n/******/ \t\t};\n/******/ \t\thotCurrentChildModule = undefined;\n/******/ \t\treturn hot;\n/******/ \t}\n/******/\n/******/ \tvar hotStatusHandlers = [];\n/******/ \tvar hotStatus = \"idle\";\n/******/\n/******/ \tfunction hotSetStatus(newStatus) {\n/******/ \t\thotStatus = newStatus;\n/******/ \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n/******/ \t\t\thotStatusHandlers[i].call(null, newStatus);\n/******/ \t}\n/******/\n/******/ \t// while downloading\n/******/ \tvar hotWaitingFiles = 0;\n/******/ \tvar hotChunksLoading = 0;\n/******/ \tvar hotWaitingFilesMap = {};\n/******/ \tvar hotRequestedFilesMap = {};\n/******/ \tvar hotAvailableFilesMap = {};\n/******/ \tvar hotDeferred;\n/******/\n/******/ \t// The update info\n/******/ \tvar hotUpdate, hotUpdateNewHash;\n/******/\n/******/ \tfunction toModuleId(id) {\n/******/ \t\tvar isNumber = +id + \"\" === id;\n/******/ \t\treturn isNumber ? +id : id;\n/******/ \t}\n/******/\n/******/ \tfunction hotCheck(apply) {\n/******/ \t\tif (hotStatus !== \"idle\") {\n/******/ \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n/******/ \t\t}\n/******/ \t\thotApplyOnUpdate = apply;\n/******/ \t\thotSetStatus(\"check\");\n/******/ \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n/******/ \t\t\tif (!update) {\n/******/ \t\t\t\thotSetStatus(\"idle\");\n/******/ \t\t\t\treturn null;\n/******/ \t\t\t}\n/******/ \t\t\thotRequestedFilesMap = {};\n/******/ \t\t\thotWaitingFilesMap = {};\n/******/ \t\t\thotAvailableFilesMap = update.c;\n/******/ \t\t\thotUpdateNewHash = update.h;\n/******/\n/******/ \t\t\thotSetStatus(\"prepare\");\n/******/ \t\t\tvar promise = new Promise(function(resolve, reject) {\n/******/ \t\t\t\thotDeferred = {\n/******/ \t\t\t\t\tresolve: resolve,\n/******/ \t\t\t\t\treject: reject\n/******/ \t\t\t\t};\n/******/ \t\t\t});\n/******/ \t\t\thotUpdate = {};\n/******/ \t\t\tvar chunkId = \"cornerstone\";\n/******/ \t\t\t// eslint-disable-next-line no-lone-blocks\n/******/ \t\t\t{\n/******/ \t\t\t\t/*globals chunkId */\n/******/ \t\t\t\thotEnsureUpdateChunk(chunkId);\n/******/ \t\t\t}\n/******/ \t\t\tif (\n/******/ \t\t\t\thotStatus === \"prepare\" &&\n/******/ \t\t\t\thotChunksLoading === 0 &&\n/******/ \t\t\t\thotWaitingFiles === 0\n/******/ \t\t\t) {\n/******/ \t\t\t\thotUpdateDownloaded();\n/******/ \t\t\t}\n/******/ \t\t\treturn promise;\n/******/ \t\t});\n/******/ \t}\n/******/\n/******/ \t// eslint-disable-next-line no-unused-vars\n/******/ \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n/******/ \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n/******/ \t\t\treturn;\n/******/ \t\thotRequestedFilesMap[chunkId] = false;\n/******/ \t\tfor (var moduleId in moreModules) {\n/******/ \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n/******/ \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n/******/ \t\t\thotUpdateDownloaded();\n/******/ \t\t}\n/******/ \t}\n/******/\n/******/ \tfunction hotEnsureUpdateChunk(chunkId) {\n/******/ \t\tif (!hotAvailableFilesMap[chunkId]) {\n/******/ \t\t\thotWaitingFilesMap[chunkId] = true;\n/******/ \t\t} else {\n/******/ \t\t\thotRequestedFilesMap[chunkId] = true;\n/******/ \t\t\thotWaitingFiles++;\n/******/ \t\t\thotDownloadUpdateChunk(chunkId);\n/******/ \t\t}\n/******/ \t}\n/******/\n/******/ \tfunction hotUpdateDownloaded() {\n/******/ \t\thotSetStatus(\"ready\");\n/******/ \t\tvar deferred = hotDeferred;\n/******/ \t\thotDeferred = null;\n/******/ \t\tif (!deferred) return;\n/******/ \t\tif (hotApplyOnUpdate) {\n/******/ \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n/******/ \t\t\t// avoid triggering uncaught exception warning in Chrome.\n/******/ \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n/******/ \t\t\tPromise.resolve()\n/******/ \t\t\t\t.then(function() {\n/******/ \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n/******/ \t\t\t\t})\n/******/ \t\t\t\t.then(\n/******/ \t\t\t\t\tfunction(result) {\n/******/ \t\t\t\t\t\tdeferred.resolve(result);\n/******/ \t\t\t\t\t},\n/******/ \t\t\t\t\tfunction(err) {\n/******/ \t\t\t\t\t\tdeferred.reject(err);\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t);\n/******/ \t\t} else {\n/******/ \t\t\tvar outdatedModules = [];\n/******/ \t\t\tfor (var id in hotUpdate) {\n/******/ \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n/******/ \t\t\t\t\toutdatedModules.push(toModuleId(id));\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t\tdeferred.resolve(outdatedModules);\n/******/ \t\t}\n/******/ \t}\n/******/\n/******/ \tfunction hotApply(options) {\n/******/ \t\tif (hotStatus !== \"ready\")\n/******/ \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n/******/ \t\toptions = options || {};\n/******/\n/******/ \t\tvar cb;\n/******/ \t\tvar i;\n/******/ \t\tvar j;\n/******/ \t\tvar module;\n/******/ \t\tvar moduleId;\n/******/\n/******/ \t\tfunction getAffectedStuff(updateModuleId) {\n/******/ \t\t\tvar outdatedModules = [updateModuleId];\n/******/ \t\t\tvar outdatedDependencies = {};\n/******/\n/******/ \t\t\tvar queue = outdatedModules.slice().map(function(id) {\n/******/ \t\t\t\treturn {\n/******/ \t\t\t\t\tchain: [id],\n/******/ \t\t\t\t\tid: id\n/******/ \t\t\t\t};\n/******/ \t\t\t});\n/******/ \t\t\twhile (queue.length > 0) {\n/******/ \t\t\t\tvar queueItem = queue.pop();\n/******/ \t\t\t\tvar moduleId = queueItem.id;\n/******/ \t\t\t\tvar chain = queueItem.chain;\n/******/ \t\t\t\tmodule = installedModules[moduleId];\n/******/ \t\t\t\tif (!module || module.hot._selfAccepted) continue;\n/******/ \t\t\t\tif (module.hot._selfDeclined) {\n/******/ \t\t\t\t\treturn {\n/******/ \t\t\t\t\t\ttype: \"self-declined\",\n/******/ \t\t\t\t\t\tchain: chain,\n/******/ \t\t\t\t\t\tmoduleId: moduleId\n/******/ \t\t\t\t\t};\n/******/ \t\t\t\t}\n/******/ \t\t\t\tif (module.hot._main) {\n/******/ \t\t\t\t\treturn {\n/******/ \t\t\t\t\t\ttype: \"unaccepted\",\n/******/ \t\t\t\t\t\tchain: chain,\n/******/ \t\t\t\t\t\tmoduleId: moduleId\n/******/ \t\t\t\t\t};\n/******/ \t\t\t\t}\n/******/ \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n/******/ \t\t\t\t\tvar parentId = module.parents[i];\n/******/ \t\t\t\t\tvar parent = installedModules[parentId];\n/******/ \t\t\t\t\tif (!parent) continue;\n/******/ \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n/******/ \t\t\t\t\t\treturn {\n/******/ \t\t\t\t\t\t\ttype: \"declined\",\n/******/ \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n/******/ \t\t\t\t\t\t\tmoduleId: moduleId,\n/******/ \t\t\t\t\t\t\tparentId: parentId\n/******/ \t\t\t\t\t\t};\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n/******/ \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n/******/ \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n/******/ \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n/******/ \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n/******/ \t\t\t\t\t\tcontinue;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t\tdelete outdatedDependencies[parentId];\n/******/ \t\t\t\t\toutdatedModules.push(parentId);\n/******/ \t\t\t\t\tqueue.push({\n/******/ \t\t\t\t\t\tchain: chain.concat([parentId]),\n/******/ \t\t\t\t\t\tid: parentId\n/******/ \t\t\t\t\t});\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/\n/******/ \t\t\treturn {\n/******/ \t\t\t\ttype: \"accepted\",\n/******/ \t\t\t\tmoduleId: updateModuleId,\n/******/ \t\t\t\toutdatedModules: outdatedModules,\n/******/ \t\t\t\toutdatedDependencies: outdatedDependencies\n/******/ \t\t\t};\n/******/ \t\t}\n/******/\n/******/ \t\tfunction addAllToSet(a, b) {\n/******/ \t\t\tfor (var i = 0; i < b.length; i++) {\n/******/ \t\t\t\tvar item = b[i];\n/******/ \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n/******/ \t\t\t}\n/******/ \t\t}\n/******/\n/******/ \t\t// at begin all updates modules are outdated\n/******/ \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n/******/ \t\tvar outdatedDependencies = {};\n/******/ \t\tvar outdatedModules = [];\n/******/ \t\tvar appliedUpdate = {};\n/******/\n/******/ \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n/******/ \t\t\tconsole.warn(\n/******/ \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n/******/ \t\t\t);\n/******/ \t\t};\n/******/\n/******/ \t\tfor (var id in hotUpdate) {\n/******/ \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n/******/ \t\t\t\tmoduleId = toModuleId(id);\n/******/ \t\t\t\t/** @type {TODO} */\n/******/ \t\t\t\tvar result;\n/******/ \t\t\t\tif (hotUpdate[id]) {\n/******/ \t\t\t\t\tresult = getAffectedStuff(moduleId);\n/******/ \t\t\t\t} else {\n/******/ \t\t\t\t\tresult = {\n/******/ \t\t\t\t\t\ttype: \"disposed\",\n/******/ \t\t\t\t\t\tmoduleId: id\n/******/ \t\t\t\t\t};\n/******/ \t\t\t\t}\n/******/ \t\t\t\t/** @type {Error|false} */\n/******/ \t\t\t\tvar abortError = false;\n/******/ \t\t\t\tvar doApply = false;\n/******/ \t\t\t\tvar doDispose = false;\n/******/ \t\t\t\tvar chainInfo = \"\";\n/******/ \t\t\t\tif (result.chain) {\n/******/ \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n/******/ \t\t\t\t}\n/******/ \t\t\t\tswitch (result.type) {\n/******/ \t\t\t\t\tcase \"self-declined\":\n/******/ \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n/******/ \t\t\t\t\t\tif (!options.ignoreDeclined)\n/******/ \t\t\t\t\t\t\tabortError = new Error(\n/******/ \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n/******/ \t\t\t\t\t\t\t\t\tresult.moduleId +\n/******/ \t\t\t\t\t\t\t\t\tchainInfo\n/******/ \t\t\t\t\t\t\t);\n/******/ \t\t\t\t\t\tbreak;\n/******/ \t\t\t\t\tcase \"declined\":\n/******/ \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n/******/ \t\t\t\t\t\tif (!options.ignoreDeclined)\n/******/ \t\t\t\t\t\t\tabortError = new Error(\n/******/ \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n/******/ \t\t\t\t\t\t\t\t\tresult.moduleId +\n/******/ \t\t\t\t\t\t\t\t\t\" in \" +\n/******/ \t\t\t\t\t\t\t\t\tresult.parentId +\n/******/ \t\t\t\t\t\t\t\t\tchainInfo\n/******/ \t\t\t\t\t\t\t);\n/******/ \t\t\t\t\t\tbreak;\n/******/ \t\t\t\t\tcase \"unaccepted\":\n/******/ \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n/******/ \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n/******/ \t\t\t\t\t\t\tabortError = new Error(\n/******/ \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n/******/ \t\t\t\t\t\t\t);\n/******/ \t\t\t\t\t\tbreak;\n/******/ \t\t\t\t\tcase \"accepted\":\n/******/ \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n/******/ \t\t\t\t\t\tdoApply = true;\n/******/ \t\t\t\t\t\tbreak;\n/******/ \t\t\t\t\tcase \"disposed\":\n/******/ \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n/******/ \t\t\t\t\t\tdoDispose = true;\n/******/ \t\t\t\t\t\tbreak;\n/******/ \t\t\t\t\tdefault:\n/******/ \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n/******/ \t\t\t\t}\n/******/ \t\t\t\tif (abortError) {\n/******/ \t\t\t\t\thotSetStatus(\"abort\");\n/******/ \t\t\t\t\treturn Promise.reject(abortError);\n/******/ \t\t\t\t}\n/******/ \t\t\t\tif (doApply) {\n/******/ \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n/******/ \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n/******/ \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n/******/ \t\t\t\t\t\tif (\n/******/ \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n/******/ \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n/******/ \t\t\t\t\t\t\t\tmoduleId\n/******/ \t\t\t\t\t\t\t)\n/******/ \t\t\t\t\t\t) {\n/******/ \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n/******/ \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n/******/ \t\t\t\t\t\t\taddAllToSet(\n/******/ \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n/******/ \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n/******/ \t\t\t\t\t\t\t);\n/******/ \t\t\t\t\t\t}\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t\t\tif (doDispose) {\n/******/ \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n/******/ \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t}\n/******/\n/******/ \t\t// Store self accepted outdated modules to require them later by the module system\n/******/ \t\tvar outdatedSelfAcceptedModules = [];\n/******/ \t\tfor (i = 0; i < outdatedModules.length; i++) {\n/******/ \t\t\tmoduleId = outdatedModules[i];\n/******/ \t\t\tif (\n/******/ \t\t\t\tinstalledModules[moduleId] &&\n/******/ \t\t\t\tinstalledModules[moduleId].hot._selfAccepted\n/******/ \t\t\t)\n/******/ \t\t\t\toutdatedSelfAcceptedModules.push({\n/******/ \t\t\t\t\tmodule: moduleId,\n/******/ \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n/******/ \t\t\t\t});\n/******/ \t\t}\n/******/\n/******/ \t\t// Now in \"dispose\" phase\n/******/ \t\thotSetStatus(\"dispose\");\n/******/ \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n/******/ \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n/******/ \t\t\t\thotDisposeChunk(chunkId);\n/******/ \t\t\t}\n/******/ \t\t});\n/******/\n/******/ \t\tvar idx;\n/******/ \t\tvar queue = outdatedModules.slice();\n/******/ \t\twhile (queue.length > 0) {\n/******/ \t\t\tmoduleId = queue.pop();\n/******/ \t\t\tmodule = installedModules[moduleId];\n/******/ \t\t\tif (!module) continue;\n/******/\n/******/ \t\t\tvar data = {};\n/******/\n/******/ \t\t\t// Call dispose handlers\n/******/ \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n/******/ \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n/******/ \t\t\t\tcb = disposeHandlers[j];\n/******/ \t\t\t\tcb(data);\n/******/ \t\t\t}\n/******/ \t\t\thotCurrentModuleData[moduleId] = data;\n/******/\n/******/ \t\t\t// disable module (this disables requires from this module)\n/******/ \t\t\tmodule.hot.active = false;\n/******/\n/******/ \t\t\t// remove module from cache\n/******/ \t\t\tdelete installedModules[moduleId];\n/******/\n/******/ \t\t\t// when disposing there is no need to call dispose handler\n/******/ \t\t\tdelete outdatedDependencies[moduleId];\n/******/\n/******/ \t\t\t// remove \"parents\" references from all children\n/******/ \t\t\tfor (j = 0; j < module.children.length; j++) {\n/******/ \t\t\t\tvar child = installedModules[module.children[j]];\n/******/ \t\t\t\tif (!child) continue;\n/******/ \t\t\t\tidx = child.parents.indexOf(moduleId);\n/******/ \t\t\t\tif (idx >= 0) {\n/******/ \t\t\t\t\tchild.parents.splice(idx, 1);\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t}\n/******/\n/******/ \t\t// remove outdated dependency from module children\n/******/ \t\tvar dependency;\n/******/ \t\tvar moduleOutdatedDependencies;\n/******/ \t\tfor (moduleId in outdatedDependencies) {\n/******/ \t\t\tif (\n/******/ \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n/******/ \t\t\t) {\n/******/ \t\t\t\tmodule = installedModules[moduleId];\n/******/ \t\t\t\tif (module) {\n/******/ \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n/******/ \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n/******/ \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n/******/ \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n/******/ \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t}\n/******/\n/******/ \t\t// Not in \"apply\" phase\n/******/ \t\thotSetStatus(\"apply\");\n/******/\n/******/ \t\thotCurrentHash = hotUpdateNewHash;\n/******/\n/******/ \t\t// insert new code\n/******/ \t\tfor (moduleId in appliedUpdate) {\n/******/ \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n/******/ \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/\n/******/ \t\t// call accept handlers\n/******/ \t\tvar error = null;\n/******/ \t\tfor (moduleId in outdatedDependencies) {\n/******/ \t\t\tif (\n/******/ \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n/******/ \t\t\t) {\n/******/ \t\t\t\tmodule = installedModules[moduleId];\n/******/ \t\t\t\tif (module) {\n/******/ \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n/******/ \t\t\t\t\tvar callbacks = [];\n/******/ \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n/******/ \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n/******/ \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n/******/ \t\t\t\t\t\tif (cb) {\n/******/ \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n/******/ \t\t\t\t\t\t\tcallbacks.push(cb);\n/******/ \t\t\t\t\t\t}\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n/******/ \t\t\t\t\t\tcb = callbacks[i];\n/******/ \t\t\t\t\t\ttry {\n/******/ \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n/******/ \t\t\t\t\t\t} catch (err) {\n/******/ \t\t\t\t\t\t\tif (options.onErrored) {\n/******/ \t\t\t\t\t\t\t\toptions.onErrored({\n/******/ \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n/******/ \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n/******/ \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n/******/ \t\t\t\t\t\t\t\t\terror: err\n/******/ \t\t\t\t\t\t\t\t});\n/******/ \t\t\t\t\t\t\t}\n/******/ \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n/******/ \t\t\t\t\t\t\t\tif (!error) error = err;\n/******/ \t\t\t\t\t\t\t}\n/******/ \t\t\t\t\t\t}\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t}\n/******/\n/******/ \t\t// Load self accepted modules\n/******/ \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n/******/ \t\t\tvar item = outdatedSelfAcceptedModules[i];\n/******/ \t\t\tmoduleId = item.module;\n/******/ \t\t\thotCurrentParents = [moduleId];\n/******/ \t\t\ttry {\n/******/ \t\t\t\t__webpack_require__(moduleId);\n/******/ \t\t\t} catch (err) {\n/******/ \t\t\t\tif (typeof item.errorHandler === \"function\") {\n/******/ \t\t\t\t\ttry {\n/******/ \t\t\t\t\t\titem.errorHandler(err);\n/******/ \t\t\t\t\t} catch (err2) {\n/******/ \t\t\t\t\t\tif (options.onErrored) {\n/******/ \t\t\t\t\t\t\toptions.onErrored({\n/******/ \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n/******/ \t\t\t\t\t\t\t\tmoduleId: moduleId,\n/******/ \t\t\t\t\t\t\t\terror: err2,\n/******/ \t\t\t\t\t\t\t\toriginalError: err\n/******/ \t\t\t\t\t\t\t});\n/******/ \t\t\t\t\t\t}\n/******/ \t\t\t\t\t\tif (!options.ignoreErrored) {\n/******/ \t\t\t\t\t\t\tif (!error) error = err2;\n/******/ \t\t\t\t\t\t}\n/******/ \t\t\t\t\t\tif (!error) error = err;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t} else {\n/******/ \t\t\t\t\tif (options.onErrored) {\n/******/ \t\t\t\t\t\toptions.onErrored({\n/******/ \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n/******/ \t\t\t\t\t\t\tmoduleId: moduleId,\n/******/ \t\t\t\t\t\t\terror: err\n/******/ \t\t\t\t\t\t});\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t\tif (!options.ignoreErrored) {\n/******/ \t\t\t\t\t\tif (!error) error = err;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t}\n/******/\n/******/ \t\t// handle errors in accept handlers and self accepted module load\n/******/ \t\tif (error) {\n/******/ \t\t\thotSetStatus(\"fail\");\n/******/ \t\t\treturn Promise.reject(error);\n/******/ \t\t}\n/******/\n/******/ \t\thotSetStatus(\"idle\");\n/******/ \t\treturn new Promise(function(resolve) {\n/******/ \t\t\tresolve(outdatedModules);\n/******/ \t\t});\n/******/ \t}\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {},\n/******/ \t\t\thot: hotCreateModule(moduleId),\n/******/ \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n/******/ \t\t\tchildren: []\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// __webpack_hash__\n/******/ \t__webpack_require__.h = function() { return hotCurrentHash; };\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn hotCreateRequire(\"./index.js\")(__webpack_require__.s = \"./index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./canvasToPixel.js\":\n/*!**************************!*\\\n  !*** ./canvasToPixel.js ***!\n  \\**************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/getTransform.js */ \"./internal/getTransform.js\");\n\n\n/**\n * Converts a point in the canvas coordinate system to the pixel coordinate system\n * system.  This can be used to reset tools' image coordinates after modifications\n * have been made in canvas space (e.g. moving a tool by a few cm, independent of\n * image resolution).\n *\n * @param {HTMLElement} element The Cornerstone element within which the input point lies\n * @param {{x: Number, y: Number}} pt The input point in the canvas coordinate system\n *\n * @returns {{x: Number, y: Number}} The transformed point in the pixel coordinate system\n * @memberof PixelCoordinateSystem\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, pt) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  var transform = Object(_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement);\n  transform.invert();\n  return transform.transformPoint(pt.x, pt.y);\n});\n\n/***/ }),\n\n/***/ \"./colors/colormap.js\":\n/*!****************************!*\\\n  !*** ./colors/colormap.js ***!\n  \\****************************/\n/*! exports provided: getColormapsList, getColormap */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getColormapsList\", function() { return getColormapsList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getColormap\", function() { return getColormap; });\n/* harmony import */ var _lookupTable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lookupTable.js */ \"./colors/lookupTable.js\");\n\nvar COLOR_TRANSPARENT = [0, 0, 0, 0]; // Colormaps\n//\n// Hot Iron, PET, Hot Metal Blue and PET 20 Step are color palettes\n// Defined by the DICOM standard\n// http://dicom.nema.org/dicom/2013/output/chtml/part06/chapter_B.html\n//\n// All Linear Segmented Colormaps were copied from matplotlib\n// https://github.com/stefanv/matplotlib/blob/master/lib/matplotlib/_cm.py\n\nvar colormapsData = {\n  hotIron: {\n    name: 'Hot Iron',\n    numOfColors: 256,\n    colors: [[0, 0, 0, 255], [2, 0, 0, 255], [4, 0, 0, 255], [6, 0, 0, 255], [8, 0, 0, 255], [10, 0, 0, 255], [12, 0, 0, 255], [14, 0, 0, 255], [16, 0, 0, 255], [18, 0, 0, 255], [20, 0, 0, 255], [22, 0, 0, 255], [24, 0, 0, 255], [26, 0, 0, 255], [28, 0, 0, 255], [30, 0, 0, 255], [32, 0, 0, 255], [34, 0, 0, 255], [36, 0, 0, 255], [38, 0, 0, 255], [40, 0, 0, 255], [42, 0, 0, 255], [44, 0, 0, 255], [46, 0, 0, 255], [48, 0, 0, 255], [50, 0, 0, 255], [52, 0, 0, 255], [54, 0, 0, 255], [56, 0, 0, 255], [58, 0, 0, 255], [60, 0, 0, 255], [62, 0, 0, 255], [64, 0, 0, 255], [66, 0, 0, 255], [68, 0, 0, 255], [70, 0, 0, 255], [72, 0, 0, 255], [74, 0, 0, 255], [76, 0, 0, 255], [78, 0, 0, 255], [80, 0, 0, 255], [82, 0, 0, 255], [84, 0, 0, 255], [86, 0, 0, 255], [88, 0, 0, 255], [90, 0, 0, 255], [92, 0, 0, 255], [94, 0, 0, 255], [96, 0, 0, 255], [98, 0, 0, 255], [100, 0, 0, 255], [102, 0, 0, 255], [104, 0, 0, 255], [106, 0, 0, 255], [108, 0, 0, 255], [110, 0, 0, 255], [112, 0, 0, 255], [114, 0, 0, 255], [116, 0, 0, 255], [118, 0, 0, 255], [120, 0, 0, 255], [122, 0, 0, 255], [124, 0, 0, 255], [126, 0, 0, 255], [128, 0, 0, 255], [130, 0, 0, 255], [132, 0, 0, 255], [134, 0, 0, 255], [136, 0, 0, 255], [138, 0, 0, 255], [140, 0, 0, 255], [142, 0, 0, 255], [144, 0, 0, 255], [146, 0, 0, 255], [148, 0, 0, 255], [150, 0, 0, 255], [152, 0, 0, 255], [154, 0, 0, 255], [156, 0, 0, 255], [158, 0, 0, 255], [160, 0, 0, 255], [162, 0, 0, 255], [164, 0, 0, 255], [166, 0, 0, 255], [168, 0, 0, 255], [170, 0, 0, 255], [172, 0, 0, 255], [174, 0, 0, 255], [176, 0, 0, 255], [178, 0, 0, 255], [180, 0, 0, 255], [182, 0, 0, 255], [184, 0, 0, 255], [186, 0, 0, 255], [188, 0, 0, 255], [190, 0, 0, 255], [192, 0, 0, 255], [194, 0, 0, 255], [196, 0, 0, 255], [198, 0, 0, 255], [200, 0, 0, 255], [202, 0, 0, 255], [204, 0, 0, 255], [206, 0, 0, 255], [208, 0, 0, 255], [210, 0, 0, 255], [212, 0, 0, 255], [214, 0, 0, 255], [216, 0, 0, 255], [218, 0, 0, 255], [220, 0, 0, 255], [222, 0, 0, 255], [224, 0, 0, 255], [226, 0, 0, 255], [228, 0, 0, 255], [230, 0, 0, 255], [232, 0, 0, 255], [234, 0, 0, 255], [236, 0, 0, 255], [238, 0, 0, 255], [240, 0, 0, 255], [242, 0, 0, 255], [244, 0, 0, 255], [246, 0, 0, 255], [248, 0, 0, 255], [250, 0, 0, 255], [252, 0, 0, 255], [254, 0, 0, 255], [255, 0, 0, 255], [255, 2, 0, 255], [255, 4, 0, 255], [255, 6, 0, 255], [255, 8, 0, 255], [255, 10, 0, 255], [255, 12, 0, 255], [255, 14, 0, 255], [255, 16, 0, 255], [255, 18, 0, 255], [255, 20, 0, 255], [255, 22, 0, 255], [255, 24, 0, 255], [255, 26, 0, 255], [255, 28, 0, 255], [255, 30, 0, 255], [255, 32, 0, 255], [255, 34, 0, 255], [255, 36, 0, 255], [255, 38, 0, 255], [255, 40, 0, 255], [255, 42, 0, 255], [255, 44, 0, 255], [255, 46, 0, 255], [255, 48, 0, 255], [255, 50, 0, 255], [255, 52, 0, 255], [255, 54, 0, 255], [255, 56, 0, 255], [255, 58, 0, 255], [255, 60, 0, 255], [255, 62, 0, 255], [255, 64, 0, 255], [255, 66, 0, 255], [255, 68, 0, 255], [255, 70, 0, 255], [255, 72, 0, 255], [255, 74, 0, 255], [255, 76, 0, 255], [255, 78, 0, 255], [255, 80, 0, 255], [255, 82, 0, 255], [255, 84, 0, 255], [255, 86, 0, 255], [255, 88, 0, 255], [255, 90, 0, 255], [255, 92, 0, 255], [255, 94, 0, 255], [255, 96, 0, 255], [255, 98, 0, 255], [255, 100, 0, 255], [255, 102, 0, 255], [255, 104, 0, 255], [255, 106, 0, 255], [255, 108, 0, 255], [255, 110, 0, 255], [255, 112, 0, 255], [255, 114, 0, 255], [255, 116, 0, 255], [255, 118, 0, 255], [255, 120, 0, 255], [255, 122, 0, 255], [255, 124, 0, 255], [255, 126, 0, 255], [255, 128, 4, 255], [255, 130, 8, 255], [255, 132, 12, 255], [255, 134, 16, 255], [255, 136, 20, 255], [255, 138, 24, 255], [255, 140, 28, 255], [255, 142, 32, 255], [255, 144, 36, 255], [255, 146, 40, 255], [255, 148, 44, 255], [255, 150, 48, 255], [255, 152, 52, 255], [255, 154, 56, 255], [255, 156, 60, 255], [255, 158, 64, 255], [255, 160, 68, 255], [255, 162, 72, 255], [255, 164, 76, 255], [255, 166, 80, 255], [255, 168, 84, 255], [255, 170, 88, 255], [255, 172, 92, 255], [255, 174, 96, 255], [255, 176, 100, 255], [255, 178, 104, 255], [255, 180, 108, 255], [255, 182, 112, 255], [255, 184, 116, 255], [255, 186, 120, 255], [255, 188, 124, 255], [255, 190, 128, 255], [255, 192, 132, 255], [255, 194, 136, 255], [255, 196, 140, 255], [255, 198, 144, 255], [255, 200, 148, 255], [255, 202, 152, 255], [255, 204, 156, 255], [255, 206, 160, 255], [255, 208, 164, 255], [255, 210, 168, 255], [255, 212, 172, 255], [255, 214, 176, 255], [255, 216, 180, 255], [255, 218, 184, 255], [255, 220, 188, 255], [255, 222, 192, 255], [255, 224, 196, 255], [255, 226, 200, 255], [255, 228, 204, 255], [255, 230, 208, 255], [255, 232, 212, 255], [255, 234, 216, 255], [255, 236, 220, 255], [255, 238, 224, 255], [255, 240, 228, 255], [255, 242, 232, 255], [255, 244, 236, 255], [255, 246, 240, 255], [255, 248, 244, 255], [255, 250, 248, 255], [255, 252, 252, 255], [255, 255, 255, 255]]\n  },\n  pet: {\n    name: 'PET',\n    numColors: 256,\n    colors: [[0, 0, 0, 255], [0, 2, 1, 255], [0, 4, 3, 255], [0, 6, 5, 255], [0, 8, 7, 255], [0, 10, 9, 255], [0, 12, 11, 255], [0, 14, 13, 255], [0, 16, 15, 255], [0, 18, 17, 255], [0, 20, 19, 255], [0, 22, 21, 255], [0, 24, 23, 255], [0, 26, 25, 255], [0, 28, 27, 255], [0, 30, 29, 255], [0, 32, 31, 255], [0, 34, 33, 255], [0, 36, 35, 255], [0, 38, 37, 255], [0, 40, 39, 255], [0, 42, 41, 255], [0, 44, 43, 255], [0, 46, 45, 255], [0, 48, 47, 255], [0, 50, 49, 255], [0, 52, 51, 255], [0, 54, 53, 255], [0, 56, 55, 255], [0, 58, 57, 255], [0, 60, 59, 255], [0, 62, 61, 255], [0, 65, 63, 255], [0, 67, 65, 255], [0, 69, 67, 255], [0, 71, 69, 255], [0, 73, 71, 255], [0, 75, 73, 255], [0, 77, 75, 255], [0, 79, 77, 255], [0, 81, 79, 255], [0, 83, 81, 255], [0, 85, 83, 255], [0, 87, 85, 255], [0, 89, 87, 255], [0, 91, 89, 255], [0, 93, 91, 255], [0, 95, 93, 255], [0, 97, 95, 255], [0, 99, 97, 255], [0, 101, 99, 255], [0, 103, 101, 255], [0, 105, 103, 255], [0, 107, 105, 255], [0, 109, 107, 255], [0, 111, 109, 255], [0, 113, 111, 255], [0, 115, 113, 255], [0, 117, 115, 255], [0, 119, 117, 255], [0, 121, 119, 255], [0, 123, 121, 255], [0, 125, 123, 255], [0, 128, 125, 255], [1, 126, 127, 255], [3, 124, 129, 255], [5, 122, 131, 255], [7, 120, 133, 255], [9, 118, 135, 255], [11, 116, 137, 255], [13, 114, 139, 255], [15, 112, 141, 255], [17, 110, 143, 255], [19, 108, 145, 255], [21, 106, 147, 255], [23, 104, 149, 255], [25, 102, 151, 255], [27, 100, 153, 255], [29, 98, 155, 255], [31, 96, 157, 255], [33, 94, 159, 255], [35, 92, 161, 255], [37, 90, 163, 255], [39, 88, 165, 255], [41, 86, 167, 255], [43, 84, 169, 255], [45, 82, 171, 255], [47, 80, 173, 255], [49, 78, 175, 255], [51, 76, 177, 255], [53, 74, 179, 255], [55, 72, 181, 255], [57, 70, 183, 255], [59, 68, 185, 255], [61, 66, 187, 255], [63, 64, 189, 255], [65, 63, 191, 255], [67, 61, 193, 255], [69, 59, 195, 255], [71, 57, 197, 255], [73, 55, 199, 255], [75, 53, 201, 255], [77, 51, 203, 255], [79, 49, 205, 255], [81, 47, 207, 255], [83, 45, 209, 255], [85, 43, 211, 255], [86, 41, 213, 255], [88, 39, 215, 255], [90, 37, 217, 255], [92, 35, 219, 255], [94, 33, 221, 255], [96, 31, 223, 255], [98, 29, 225, 255], [100, 27, 227, 255], [102, 25, 229, 255], [104, 23, 231, 255], [106, 21, 233, 255], [108, 19, 235, 255], [110, 17, 237, 255], [112, 15, 239, 255], [114, 13, 241, 255], [116, 11, 243, 255], [118, 9, 245, 255], [120, 7, 247, 255], [122, 5, 249, 255], [124, 3, 251, 255], [126, 1, 253, 255], [128, 0, 255, 255], [130, 2, 252, 255], [132, 4, 248, 255], [134, 6, 244, 255], [136, 8, 240, 255], [138, 10, 236, 255], [140, 12, 232, 255], [142, 14, 228, 255], [144, 16, 224, 255], [146, 18, 220, 255], [148, 20, 216, 255], [150, 22, 212, 255], [152, 24, 208, 255], [154, 26, 204, 255], [156, 28, 200, 255], [158, 30, 196, 255], [160, 32, 192, 255], [162, 34, 188, 255], [164, 36, 184, 255], [166, 38, 180, 255], [168, 40, 176, 255], [170, 42, 172, 255], [171, 44, 168, 255], [173, 46, 164, 255], [175, 48, 160, 255], [177, 50, 156, 255], [179, 52, 152, 255], [181, 54, 148, 255], [183, 56, 144, 255], [185, 58, 140, 255], [187, 60, 136, 255], [189, 62, 132, 255], [191, 64, 128, 255], [193, 66, 124, 255], [195, 68, 120, 255], [197, 70, 116, 255], [199, 72, 112, 255], [201, 74, 108, 255], [203, 76, 104, 255], [205, 78, 100, 255], [207, 80, 96, 255], [209, 82, 92, 255], [211, 84, 88, 255], [213, 86, 84, 255], [215, 88, 80, 255], [217, 90, 76, 255], [219, 92, 72, 255], [221, 94, 68, 255], [223, 96, 64, 255], [225, 98, 60, 255], [227, 100, 56, 255], [229, 102, 52, 255], [231, 104, 48, 255], [233, 106, 44, 255], [235, 108, 40, 255], [237, 110, 36, 255], [239, 112, 32, 255], [241, 114, 28, 255], [243, 116, 24, 255], [245, 118, 20, 255], [247, 120, 16, 255], [249, 122, 12, 255], [251, 124, 8, 255], [253, 126, 4, 255], [255, 128, 0, 255], [255, 130, 4, 255], [255, 132, 8, 255], [255, 134, 12, 255], [255, 136, 16, 255], [255, 138, 20, 255], [255, 140, 24, 255], [255, 142, 28, 255], [255, 144, 32, 255], [255, 146, 36, 255], [255, 148, 40, 255], [255, 150, 44, 255], [255, 152, 48, 255], [255, 154, 52, 255], [255, 156, 56, 255], [255, 158, 60, 255], [255, 160, 64, 255], [255, 162, 68, 255], [255, 164, 72, 255], [255, 166, 76, 255], [255, 168, 80, 255], [255, 170, 85, 255], [255, 172, 89, 255], [255, 174, 93, 255], [255, 176, 97, 255], [255, 178, 101, 255], [255, 180, 105, 255], [255, 182, 109, 255], [255, 184, 113, 255], [255, 186, 117, 255], [255, 188, 121, 255], [255, 190, 125, 255], [255, 192, 129, 255], [255, 194, 133, 255], [255, 196, 137, 255], [255, 198, 141, 255], [255, 200, 145, 255], [255, 202, 149, 255], [255, 204, 153, 255], [255, 206, 157, 255], [255, 208, 161, 255], [255, 210, 165, 255], [255, 212, 170, 255], [255, 214, 174, 255], [255, 216, 178, 255], [255, 218, 182, 255], [255, 220, 186, 255], [255, 222, 190, 255], [255, 224, 194, 255], [255, 226, 198, 255], [255, 228, 202, 255], [255, 230, 206, 255], [255, 232, 210, 255], [255, 234, 214, 255], [255, 236, 218, 255], [255, 238, 222, 255], [255, 240, 226, 255], [255, 242, 230, 255], [255, 244, 234, 255], [255, 246, 238, 255], [255, 248, 242, 255], [255, 250, 246, 255], [255, 252, 250, 255], [255, 255, 255, 255]]\n  },\n  hotMetalBlue: {\n    name: 'Hot Metal Blue',\n    numColors: 256,\n    colors: [[0, 0, 0, 255], [0, 0, 2, 255], [0, 0, 4, 255], [0, 0, 6, 255], [0, 0, 8, 255], [0, 0, 10, 255], [0, 0, 12, 255], [0, 0, 14, 255], [0, 0, 16, 255], [0, 0, 17, 255], [0, 0, 19, 255], [0, 0, 21, 255], [0, 0, 23, 255], [0, 0, 25, 255], [0, 0, 27, 255], [0, 0, 29, 255], [0, 0, 31, 255], [0, 0, 33, 255], [0, 0, 35, 255], [0, 0, 37, 255], [0, 0, 39, 255], [0, 0, 41, 255], [0, 0, 43, 255], [0, 0, 45, 255], [0, 0, 47, 255], [0, 0, 49, 255], [0, 0, 51, 255], [0, 0, 53, 255], [0, 0, 55, 255], [0, 0, 57, 255], [0, 0, 59, 255], [0, 0, 61, 255], [0, 0, 63, 255], [0, 0, 65, 255], [0, 0, 67, 255], [0, 0, 69, 255], [0, 0, 71, 255], [0, 0, 73, 255], [0, 0, 75, 255], [0, 0, 77, 255], [0, 0, 79, 255], [0, 0, 81, 255], [0, 0, 83, 255], [0, 0, 84, 255], [0, 0, 86, 255], [0, 0, 88, 255], [0, 0, 90, 255], [0, 0, 92, 255], [0, 0, 94, 255], [0, 0, 96, 255], [0, 0, 98, 255], [0, 0, 100, 255], [0, 0, 102, 255], [0, 0, 104, 255], [0, 0, 106, 255], [0, 0, 108, 255], [0, 0, 110, 255], [0, 0, 112, 255], [0, 0, 114, 255], [0, 0, 116, 255], [0, 0, 117, 255], [0, 0, 119, 255], [0, 0, 121, 255], [0, 0, 123, 255], [0, 0, 125, 255], [0, 0, 127, 255], [0, 0, 129, 255], [0, 0, 131, 255], [0, 0, 133, 255], [0, 0, 135, 255], [0, 0, 137, 255], [0, 0, 139, 255], [0, 0, 141, 255], [0, 0, 143, 255], [0, 0, 145, 255], [0, 0, 147, 255], [0, 0, 149, 255], [0, 0, 151, 255], [0, 0, 153, 255], [0, 0, 155, 255], [0, 0, 157, 255], [0, 0, 159, 255], [0, 0, 161, 255], [0, 0, 163, 255], [0, 0, 165, 255], [0, 0, 167, 255], [3, 0, 169, 255], [6, 0, 171, 255], [9, 0, 173, 255], [12, 0, 175, 255], [15, 0, 177, 255], [18, 0, 179, 255], [21, 0, 181, 255], [24, 0, 183, 255], [26, 0, 184, 255], [29, 0, 186, 255], [32, 0, 188, 255], [35, 0, 190, 255], [38, 0, 192, 255], [41, 0, 194, 255], [44, 0, 196, 255], [47, 0, 198, 255], [50, 0, 200, 255], [52, 0, 197, 255], [55, 0, 194, 255], [57, 0, 191, 255], [59, 0, 188, 255], [62, 0, 185, 255], [64, 0, 182, 255], [66, 0, 179, 255], [69, 0, 176, 255], [71, 0, 174, 255], [74, 0, 171, 255], [76, 0, 168, 255], [78, 0, 165, 255], [81, 0, 162, 255], [83, 0, 159, 255], [85, 0, 156, 255], [88, 0, 153, 255], [90, 0, 150, 255], [93, 2, 144, 255], [96, 4, 138, 255], [99, 6, 132, 255], [102, 8, 126, 255], [105, 9, 121, 255], [108, 11, 115, 255], [111, 13, 109, 255], [114, 15, 103, 255], [116, 17, 97, 255], [119, 19, 91, 255], [122, 21, 85, 255], [125, 23, 79, 255], [128, 24, 74, 255], [131, 26, 68, 255], [134, 28, 62, 255], [137, 30, 56, 255], [140, 32, 50, 255], [143, 34, 47, 255], [146, 36, 44, 255], [149, 38, 41, 255], [152, 40, 38, 255], [155, 41, 35, 255], [158, 43, 32, 255], [161, 45, 29, 255], [164, 47, 26, 255], [166, 49, 24, 255], [169, 51, 21, 255], [172, 53, 18, 255], [175, 55, 15, 255], [178, 56, 12, 255], [181, 58, 9, 255], [184, 60, 6, 255], [187, 62, 3, 255], [190, 64, 0, 255], [194, 66, 0, 255], [198, 68, 0, 255], [201, 70, 0, 255], [205, 72, 0, 255], [209, 73, 0, 255], [213, 75, 0, 255], [217, 77, 0, 255], [221, 79, 0, 255], [224, 81, 0, 255], [228, 83, 0, 255], [232, 85, 0, 255], [236, 87, 0, 255], [240, 88, 0, 255], [244, 90, 0, 255], [247, 92, 0, 255], [251, 94, 0, 255], [255, 96, 0, 255], [255, 98, 3, 255], [255, 100, 6, 255], [255, 102, 9, 255], [255, 104, 12, 255], [255, 105, 15, 255], [255, 107, 18, 255], [255, 109, 21, 255], [255, 111, 24, 255], [255, 113, 26, 255], [255, 115, 29, 255], [255, 117, 32, 255], [255, 119, 35, 255], [255, 120, 38, 255], [255, 122, 41, 255], [255, 124, 44, 255], [255, 126, 47, 255], [255, 128, 50, 255], [255, 130, 53, 255], [255, 132, 56, 255], [255, 134, 59, 255], [255, 136, 62, 255], [255, 137, 65, 255], [255, 139, 68, 255], [255, 141, 71, 255], [255, 143, 74, 255], [255, 145, 76, 255], [255, 147, 79, 255], [255, 149, 82, 255], [255, 151, 85, 255], [255, 152, 88, 255], [255, 154, 91, 255], [255, 156, 94, 255], [255, 158, 97, 255], [255, 160, 100, 255], [255, 162, 103, 255], [255, 164, 106, 255], [255, 166, 109, 255], [255, 168, 112, 255], [255, 169, 115, 255], [255, 171, 118, 255], [255, 173, 121, 255], [255, 175, 124, 255], [255, 177, 126, 255], [255, 179, 129, 255], [255, 181, 132, 255], [255, 183, 135, 255], [255, 184, 138, 255], [255, 186, 141, 255], [255, 188, 144, 255], [255, 190, 147, 255], [255, 192, 150, 255], [255, 194, 153, 255], [255, 196, 156, 255], [255, 198, 159, 255], [255, 200, 162, 255], [255, 201, 165, 255], [255, 203, 168, 255], [255, 205, 171, 255], [255, 207, 174, 255], [255, 209, 176, 255], [255, 211, 179, 255], [255, 213, 182, 255], [255, 215, 185, 255], [255, 216, 188, 255], [255, 218, 191, 255], [255, 220, 194, 255], [255, 222, 197, 255], [255, 224, 200, 255], [255, 226, 203, 255], [255, 228, 206, 255], [255, 229, 210, 255], [255, 231, 213, 255], [255, 233, 216, 255], [255, 235, 219, 255], [255, 237, 223, 255], [255, 239, 226, 255], [255, 240, 229, 255], [255, 242, 232, 255], [255, 244, 236, 255], [255, 246, 239, 255], [255, 248, 242, 255], [255, 250, 245, 255], [255, 251, 249, 255], [255, 253, 252, 255], [255, 255, 255, 255]]\n  },\n  pet20Step: {\n    name: 'PET 20 Step',\n    numColors: 256,\n    colors: [[0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [0, 0, 0, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [96, 0, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 80, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [48, 48, 112, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [80, 80, 128, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [96, 96, 176, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [112, 112, 192, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [128, 128, 224, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 96, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [48, 144, 48, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [80, 192, 80, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [64, 224, 64, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [224, 224, 80, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 208, 96, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 176, 64, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [208, 144, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [192, 96, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [176, 48, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 0, 0, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255], [255, 255, 255, 255]]\n  },\n  gray: {\n    name: 'Gray',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0, 0], [1, 1, 1]],\n      green: [[0, 0, 0], [1, 1, 1]],\n      blue: [[0, 0, 0], [1, 1, 1]]\n    }\n  },\n  jet: {\n    name: 'Jet',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0, 0], [0.35, 0, 0], [0.66, 1, 1], [0.89, 1, 1], [1, 0.5, 0.5]],\n      green: [[0, 0, 0], [0.125, 0, 0], [0.375, 1, 1], [0.64, 1, 1], [0.91, 0, 0], [1, 0, 0]],\n      blue: [[0, 0.5, 0.5], [0.11, 1, 1], [0.34, 1, 1], [0.65, 0, 0], [1, 0, 0]]\n    }\n  },\n  hsv: {\n    name: 'HSV',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 1, 1], [0.158730, 1, 1], [0.174603, 0.968750, 0.968750], [0.333333, 0.031250, 0.031250], [0.349206, 0, 0], [0.666667, 0, 0], [0.682540, 0.031250, 0.031250], [0.841270, 0.968750, 0.968750], [0.857143, 1, 1], [1, 1, 1]],\n      green: [[0, 0, 0], [0.158730, 0.937500, 0.937500], [0.174603, 1, 1], [0.507937, 1, 1], [0.666667, 0.062500, 0.062500], [0.682540, 0, 0], [1, 0, 0]],\n      blue: [[0, 0, 0], [0.333333, 0, 0], [0.349206, 0.062500, 0.062500], [0.507937, 1, 1], [0.841270, 1, 1], [0.857143, 0.937500, 0.937500], [1, 0.09375, 0.09375]]\n    }\n  },\n  hot: {\n    name: 'Hot',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0.0416, 0.0416], [0.365079, 1, 1], [1, 1, 1]],\n      green: [[0, 0, 0], [0.365079, 0, 0], [0.746032, 1, 1], [1, 1, 1]],\n      blue: [[0, 0, 0], [0.746032, 0, 0], [1, 1, 1]]\n    }\n  },\n  cool: {\n    name: 'Cool',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0, 0], [1, 1, 1]],\n      green: [[0, 1, 1], [1, 0, 0]],\n      blue: [[0, 1, 1], [1, 1, 1]]\n    }\n  },\n  spring: {\n    name: 'Spring',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 1, 1], [1, 1, 1]],\n      green: [[0, 0, 0], [1, 1, 1]],\n      blue: [[0, 1, 1], [1, 0, 0]]\n    }\n  },\n  summer: {\n    name: 'Summer',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0, 0], [1, 1, 1]],\n      green: [[0, 0.5, 0.5], [1, 1, 1]],\n      blue: [[0, 0.4, 0.4], [1, 0.4, 0.4]]\n    }\n  },\n  autumn: {\n    name: 'Autumn',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 1, 1], [1, 1, 1]],\n      green: [[0, 0, 0], [1, 1, 1]],\n      blue: [[0, 0, 0], [1, 0, 0]]\n    }\n  },\n  winter: {\n    name: 'Winter',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0, 0], [1, 0, 0]],\n      green: [[0, 0, 0], [1, 1, 1]],\n      blue: [[0, 1, 1], [1, 0.5, 0.5]]\n    }\n  },\n  bone: {\n    name: 'Bone',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0, 0], [0.746032, 0.652778, 0.652778], [1, 1, 1]],\n      green: [[0, 0, 0], [0.365079, 0.319444, 0.319444], [0.746032, 0.777778, 0.777778], [1, 1, 1]],\n      blue: [[0, 0, 0], [0.365079, 0.444444, 0.444444], [1, 1, 1]]\n    }\n  },\n  copper: {\n    name: 'Copper',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0, 0], [0.809524, 1, 1], [1, 1, 1]],\n      green: [[0, 0, 0], [1, 0.7812, 0.7812]],\n      blue: [[0, 0, 0], [1, 0.4975, 0.4975]]\n    }\n  },\n  spectral: {\n    name: 'Spectral',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0, 0], [0.05, 0.4667, 0.4667], [0.10, 0.5333, 0.5333], [0.15, 0, 0], [0.20, 0, 0], [0.25, 0, 0], [0.30, 0, 0], [0.35, 0, 0], [0.40, 0, 0], [0.45, 0, 0], [0.50, 0, 0], [0.55, 0, 0], [0.60, 0, 0], [0.65, 0.7333, 0.7333], [0.70, 0.9333, 0.9333], [0.75, 1, 1], [0.80, 1, 1], [0.85, 1, 1], [0.90, 0.8667, 0.8667], [0.95, 0.80, 0.80], [1, 0.80, 0.80]],\n      green: [[0, 0, 0], [0.05, 0, 0], [0.10, 0, 0], [0.15, 0, 0], [0.20, 0, 0], [0.25, 0.4667, 0.4667], [0.30, 0.6000, 0.6000], [0.35, 0.6667, 0.6667], [0.40, 0.6667, 0.6667], [0.45, 0.6000, 0.6000], [0.50, 0.7333, 0.7333], [0.55, 0.8667, 0.8667], [0.60, 1, 1], [0.65, 1, 1], [0.70, 0.9333, 0.9333], [0.75, 0.8000, 0.8000], [0.80, 0.6000, 0.6000], [0.85, 0, 0], [0.90, 0, 0], [0.95, 0, 0], [1, 0.80, 0.80]],\n      blue: [[0, 0, 0], [0.05, 0.5333, 0.5333], [0.10, 0.6000, 0.6000], [0.15, 0.6667, 0.6667], [0.20, 0.8667, 0.8667], [0.25, 0.8667, 0.8667], [0.30, 0.8667, 0.8667], [0.35, 0.6667, 0.6667], [0.40, 0.5333, 0.5333], [0.45, 0, 0], [0.5, 0, 0], [0.55, 0, 0], [0.60, 0, 0], [0.65, 0, 0], [0.70, 0, 0], [0.75, 0, 0], [0.80, 0, 0], [0.85, 0, 0], [0.90, 0, 0], [0.95, 0, 0], [1, 0.80, 0.80]]\n    }\n  },\n  coolwarm: {\n    name: 'CoolWarm',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0.2298057, 0.2298057], [0.03125, 0.26623388, 0.26623388], [0.0625, 0.30386891, 0.30386891], [0.09375, 0.342804478, 0.342804478], [0.125, 0.38301334, 0.38301334], [0.15625, 0.424369608, 0.424369608], [0.1875, 0.46666708, 0.46666708], [0.21875, 0.509635204, 0.509635204], [0.25, 0.552953156, 0.552953156], [0.28125, 0.596262162, 0.596262162], [0.3125, 0.639176211, 0.639176211], [0.34375, 0.681291281, 0.681291281], [0.375, 0.722193294, 0.722193294], [0.40625, 0.761464949, 0.761464949], [0.4375, 0.798691636, 0.798691636], [0.46875, 0.833466556, 0.833466556], [0.5, 0.865395197, 0.865395197], [0.53125, 0.897787179, 0.897787179], [0.5625, 0.924127593, 0.924127593], [0.59375, 0.944468518, 0.944468518], [0.625, 0.958852946, 0.958852946], [0.65625, 0.96732803, 0.96732803], [0.6875, 0.969954137, 0.969954137], [0.71875, 0.966811177, 0.966811177], [0.75, 0.958003065, 0.958003065], [0.78125, 0.943660866, 0.943660866], [0.8125, 0.923944917, 0.923944917], [0.84375, 0.89904617, 0.89904617], [0.875, 0.869186849, 0.869186849], [0.90625, 0.834620542, 0.834620542], [0.9375, 0.795631745, 0.795631745], [0.96875, 0.752534934, 0.752534934], [1, 0.705673158, 0.705673158]],\n      green: [[0, 0.298717966, 0.298717966], [0.03125, 0.353094838, 0.353094838], [0.0625, 0.406535296, 0.406535296], [0.09375, 0.458757618, 0.458757618], [0.125, 0.50941904, 0.50941904], [0.15625, 0.558148092, 0.558148092], [0.1875, 0.604562568, 0.604562568], [0.21875, 0.648280772, 0.648280772], [0.25, 0.688929332, 0.688929332], [0.28125, 0.726149107, 0.726149107], [0.3125, 0.759599947, 0.759599947], [0.34375, 0.788964712, 0.788964712], [0.375, 0.813952739, 0.813952739], [0.40625, 0.834302879, 0.834302879], [0.4375, 0.849786142, 0.849786142], [0.46875, 0.860207984, 0.860207984], [0.5, 0.86541021, 0.86541021], [0.53125, 0.848937047, 0.848937047], [0.5625, 0.827384882, 0.827384882], [0.59375, 0.800927443, 0.800927443], [0.625, 0.769767752, 0.769767752], [0.65625, 0.734132809, 0.734132809], [0.6875, 0.694266682, 0.694266682], [0.71875, 0.650421156, 0.650421156], [0.75, 0.602842431, 0.602842431], [0.78125, 0.551750968, 0.551750968], [0.8125, 0.49730856, 0.49730856], [0.84375, 0.439559467, 0.439559467], [0.875, 0.378313092, 0.378313092], [0.90625, 0.312874446, 0.312874446], [0.9375, 0.24128379, 0.24128379], [0.96875, 0.157246067, 0.157246067], [1, 0.01555616, 0.01555616]],\n      blue: [[0, 0.753683153, 0.753683153], [0.03125, 0.801466763, 0.801466763], [0.0625, 0.84495867, 0.84495867], [0.09375, 0.883725899, 0.883725899], [0.125, 0.917387822, 0.917387822], [0.15625, 0.945619588, 0.945619588], [0.1875, 0.968154911, 0.968154911], [0.21875, 0.98478814, 0.98478814], [0.25, 0.995375608, 0.995375608], [0.28125, 0.999836203, 0.999836203], [0.3125, 0.998151185, 0.998151185], [0.34375, 0.990363227, 0.990363227], [0.375, 0.976574709, 0.976574709], [0.40625, 0.956945269, 0.956945269], [0.4375, 0.931688648, 0.931688648], [0.46875, 0.901068838, 0.901068838], [0.5, 0.865395561, 0.865395561], [0.53125, 0.820880546, 0.820880546], [0.5625, 0.774508472, 0.774508472], [0.59375, 0.726736146, 0.726736146], [0.625, 0.678007945, 0.678007945], [0.65625, 0.628751763, 0.628751763], [0.6875, 0.579375448, 0.579375448], [0.71875, 0.530263762, 0.530263762], [0.75, 0.481775914, 0.481775914], [0.78125, 0.434243684, 0.434243684], [0.8125, 0.387970225, 0.387970225], [0.84375, 0.343229596, 0.343229596], [0.875, 0.300267182, 0.300267182], [0.90625, 0.259301199, 0.259301199], [0.9375, 0.220525627, 0.220525627], [0.96875, 0.184115123, 0.184115123], [1, 0.150232812, 0.150232812]]\n    }\n  },\n  blues: {\n    name: 'Blues',\n    numColors: 256,\n    gamma: 1,\n    segmentedData: {\n      red: [[0, 0.9686274528503418, 0.9686274528503418], [0.125, 0.87058824300765991, 0.87058824300765991], [0.25, 0.7764706015586853, 0.7764706015586853], [0.375, 0.61960786581039429, 0.61960786581039429], [0.5, 0.41960784792900085, 0.41960784792900085], [0.625, 0.25882354378700256, 0.25882354378700256], [0.75, 0.12941177189350128, 0.12941177189350128], [0.875, 0.031372550874948502, 0.031372550874948502], [1, 0.031372550874948502, 0.031372550874948502]],\n      green: [[0, 0.9843137264251709, 0.9843137264251709], [0.125, 0.92156863212585449, 0.92156863212585449], [0.25, 0.85882353782653809, 0.85882353782653809], [0.375, 0.7921568751335144, 0.7921568751335144], [0.5, 0.68235296010971069, 0.68235296010971069], [0.625, 0.57254904508590698, 0.57254904508590698], [0.75, 0.44313725829124451, 0.44313725829124451], [0.875, 0.31764706969261169, 0.31764706969261169], [1, 0.18823529779911041, 0.18823529779911041]],\n      blue: [[0, 1, 1], [0.125, 0.9686274528503418, 0.9686274528503418], [0.25, 0.93725490570068359, 0.93725490570068359], [0.375, 0.88235294818878174, 0.88235294818878174], [0.5, 0.83921569585800171, 0.83921569585800171], [0.625, 0.7764706015586853, 0.7764706015586853], [0.75, 0.70980393886566162, 0.70980393886566162], [0.875, 0.61176472902297974, 0.61176472902297974], [1, 0.41960784792900085, 0.41960784792900085]]\n    }\n  }\n};\n/**\n *  Generate linearly spaced vectors\n*  http://cens.ioc.ee/local/man/matlab/techdoc/ref/linspace.html\n * @param {Number} a A number representing the first vector\n * @param {Number} b A number representing the second vector\n * @param {Number} n The number of linear spaced vectors to generate\n * @returns {Array} An array of points representing linear spaced vectors.\n * @memberof Colors\n */\n\nfunction linspace(a, b, n) {\n  n = n === null ? 100 : n;\n  var increment = (b - a) / (n - 1);\n  var vector = [];\n\n  while (n-- > 0) {\n    vector.push(a);\n    a += increment;\n  } // Make sure the last item will always be \"b\" because most of the\n  // Time we'll get numbers like 1.0000000000000002 instead of 1.\n\n\n  vector[vector.length - 1] = b;\n  return vector;\n}\n/**\n * Returns the \"rank/index\" of the element in a sorted array if found or the highest index if not. Uses (binary search)\n * @param {Array} array A sorted array to search in\n * @param {any} elem the element in the array to search for\n * @returns {number} The rank/index of the element in the given array\n * @memberof Colors\n */\n\n\nfunction getRank(array, elem) {\n  var left = 0;\n  var right = array.length - 1;\n\n  while (left <= right) {\n    var mid = left + Math.floor((right - left) / 2);\n    var midElem = array[mid];\n\n    if (midElem === elem) {\n      return mid;\n    } else if (elem < midElem) {\n      right = mid - 1;\n    } else {\n      left = mid + 1;\n    }\n  }\n\n  return left;\n}\n/**\n * Find the indices into a sorted array a such that, if the corresponding elements\n * In v were inserted before the indices, the order of a would be preserved.\n *  http://lagrange.univ-lyon1.fr/docs/numpy/1.11.0/reference/generated/numpy.searchsorted.html\n * @param {Array} inputArray The array where the values will be inserted\n * @param {Array} values An array of the values to be inserted into the inputArray\n * @returns {Array} The indices where elements should be inserted to maintain order.\n * @memberof Colors\n */\n\n\nfunction searchSorted(inputArray, values) {\n  var i;\n  var indexes = [];\n  var len = values.length;\n  inputArray.sort(function (a, b) {\n    return a - b;\n  });\n\n  for (i = 0; i < len; i++) {\n    indexes[i] = getRank(inputArray, values[i]);\n  }\n\n  return indexes;\n}\n/**\n * Creates an *N* -element 1-d lookup table\n * @param {Number} N The number of elements in the result lookup table\n * @param {Array} data represented by a list of x,y0,y1 mapping correspondences. Each element in this\n * List represents how a value between 0 and 1 (inclusive) represented by x is mapped to\n * A corresponding value between 0 and 1 (inclusive). The two values of y are to allow for\n * Discontinuous mapping functions (say as might be found in a sawtooth) where y0 represents\n * The value of y for values of x <= to that given, and y1 is the value to be used for x >\n * Than that given). The list must start with x=0, end with x=1, and all values of x must be\n * In increasing order. Values between the given mapping points are determined by simple linear\n * Interpolation.\n * @param {any} gamma value denotes a \"gamma curve\" value which adjusts the brightness\n * at the bottom and top of the map.\n * @returns {any[]} an array \"result\" where result[x*(N-1)] gives the closest value for\n * Values of x between 0 and 1.\n * @memberof Colors\n */\n\n\nfunction makeMappingArray(N, data, gamma) {\n  var i;\n  var x = [];\n  var y0 = [];\n  var y1 = [];\n  var lut = [];\n  gamma = gamma === null ? 1 : gamma;\n\n  for (i = 0; i < data.length; i++) {\n    var element = data[i];\n    x.push((N - 1) * element[0]);\n    y0.push(element[1]);\n    y1.push(element[1]);\n  }\n\n  var xLinSpace = linspace(0, 1, N);\n\n  for (i = 0; i < N; i++) {\n    xLinSpace[i] = (N - 1) * Math.pow(xLinSpace[i], gamma);\n  }\n\n  var xLinSpaceIndexes = searchSorted(x, xLinSpace);\n\n  for (i = 1; i < N - 1; i++) {\n    var index = xLinSpaceIndexes[i];\n    var colorPercent = (xLinSpace[i] - x[index - 1]) / (x[index] - x[index - 1]);\n    var colorDelta = y0[index] - y1[index - 1];\n    lut[i] = colorPercent * colorDelta + y1[index - 1];\n  }\n\n  lut[0] = y1[0];\n  lut[N - 1] = y0[data.length - 1];\n  return lut;\n}\n/**\n * Creates a Colormap based on lookup tables using linear segments.\n * @param {{red:Array, green:Array, blue:Array}} segmentedData An object with a red, green and blue entries.\n * Each entry should be a list of x, y0, y1 tuples, forming rows in a table.\n * @param {Number} N The number of elements in the result Colormap\n * @param {any} gamma value denotes a \"gamma curve\" value which adjusts the brightness\n * at the bottom and top of the Colormap.\n * @returns {Array} The created Colormap object\n * @description The lookup table is generated using linear interpolation for each\n *  Primary color, with the 0-1 domain divided into any number of\n * Segments.\n * https://github.com/stefanv/matplotlib/blob/3f1a23755e86fef97d51e30e106195f34425c9e3/lib/matplotlib/colors.py#L663\n * @memberof Colors\n */\n\n\nfunction createLinearSegmentedColormap(segmentedData, N, gamma) {\n  var i;\n  var lut = [];\n  N = N === null ? 256 : N;\n  gamma = gamma === null ? 1 : gamma;\n  var redLut = makeMappingArray(N, segmentedData.red, gamma);\n  var greenLut = makeMappingArray(N, segmentedData.green, gamma);\n  var blueLut = makeMappingArray(N, segmentedData.blue, gamma);\n\n  for (i = 0; i < N; i++) {\n    var red = Math.round(redLut[i] * 255);\n    var green = Math.round(greenLut[i] * 255);\n    var blue = Math.round(blueLut[i] * 255);\n    var rgba = [red, green, blue, 255];\n    lut.push(rgba);\n  }\n\n  return lut;\n}\n/**\n * Return all available colormaps (id and name)\n * @returns {Array<{id,key}>} An array of colormaps with an object containing the \"id\" and display \"name\"\n * @memberof Colors\n */\n\n\nfunction getColormapsList() {\n  var colormaps = [];\n  var keys = Object.keys(colormapsData);\n  keys.forEach(function (key) {\n    if (colormapsData.hasOwnProperty(key)) {\n      var colormap = colormapsData[key];\n      colormaps.push({\n        id: key,\n        name: colormap.name\n      });\n    }\n  });\n  colormaps.sort(function (a, b) {\n    var aName = a.name.toLowerCase();\n    var bName = b.name.toLowerCase();\n\n    if (aName === bName) {\n      return 0;\n    }\n\n    return aName < bName ? -1 : 1;\n  });\n  return colormaps;\n}\n/**\n * Return a colorMap object with the provided id and colormapData\n * if the Id matches existent colorMap objects (check colormapsData) the colormapData is ignored.\n * if the colormapData is not empty, the colorMap will be added to the colormapsData list. Otherwise, an empty colorMap object is returned.\n * @param {string} id The ID of the colormap\n * @param {Object} colormapData - An object that can contain a name, numColors, gama, segmentedData and/or colors\n * @returns {*} The Colormap Object\n * @memberof Colors\n*/\n\nfunction getColormap(id, colormapData) {\n  var colormap = colormapsData[id];\n\n  if (!colormap) {\n    colormap = colormapsData[id] = colormapData || {\n      name: '',\n      colors: []\n    };\n  }\n\n  if (!colormap.colors && colormap.segmentedData) {\n    colormap.colors = createLinearSegmentedColormap(colormap.segmentedData, colormap.numColors, colormap.gamma);\n  }\n\n  return {\n    getId: function getId() {\n      return id;\n    },\n    getColorSchemeName: function getColorSchemeName() {\n      return colormap.name;\n    },\n    setColorSchemeName: function setColorSchemeName(name) {\n      colormap.name = name;\n    },\n    getNumberOfColors: function getNumberOfColors() {\n      return colormap.colors.length;\n    },\n    setNumberOfColors: function setNumberOfColors(numColors) {\n      while (colormap.colors.length < numColors) {\n        colormap.colors.push(COLOR_TRANSPARENT);\n      }\n\n      colormap.colors.length = numColors;\n    },\n    getColor: function getColor(index) {\n      if (this.isValidIndex(index)) {\n        return colormap.colors[index];\n      }\n\n      return COLOR_TRANSPARENT;\n    },\n    getColorRepeating: function getColorRepeating(index) {\n      var numColors = colormap.colors.length;\n      index = numColors ? index % numColors : 0;\n      return this.getColor(index);\n    },\n    setColor: function setColor(index, rgba) {\n      if (this.isValidIndex(index)) {\n        colormap.colors[index] = rgba;\n      }\n    },\n    addColor: function addColor(rgba) {\n      colormap.colors.push(rgba);\n    },\n    insertColor: function insertColor(index, rgba) {\n      if (this.isValidIndex(index)) {\n        colormap.colors.splice(index, 1, rgba);\n      }\n    },\n    removeColor: function removeColor(index) {\n      if (this.isValidIndex(index)) {\n        colormap.colors.splice(index, 1);\n      }\n    },\n    clearColors: function clearColors() {\n      colormap.colors = [];\n    },\n    buildLookupTable: function buildLookupTable(lut) {\n      if (!lut) {\n        return;\n      }\n\n      var numColors = colormap.colors.length;\n      lut.setNumberOfTableValues(numColors);\n\n      for (var i = 0; i < numColors; i++) {\n        lut.setTableValue(i, colormap.colors[i]);\n      }\n    },\n    createLookupTable: function createLookupTable() {\n      var lut = new _lookupTable_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n      this.buildLookupTable(lut);\n      return lut;\n    },\n    isValidIndex: function isValidIndex(index) {\n      return index >= 0 && index < colormap.colors.length;\n    }\n  };\n}\n\n/***/ }),\n\n/***/ \"./colors/index.js\":\n/*!*************************!*\\\n  !*** ./colors/index.js ***!\n  \\*************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _colormap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./colormap.js */ \"./colors/colormap.js\");\n/* harmony import */ var _lookupTable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lookupTable.js */ \"./colors/lookupTable.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  getColormap: _colormap_js__WEBPACK_IMPORTED_MODULE_0__[\"getColormap\"],\n  getColormapsList: _colormap_js__WEBPACK_IMPORTED_MODULE_0__[\"getColormapsList\"],\n  LookupTable: _lookupTable_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./colors/lookupTable.js\":\n/*!*******************************!*\\\n  !*** ./colors/lookupTable.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// This code was created based on vtkLookupTable\n// http://www.vtk.org/doc/release/5.0/html/a01697.html\n// https://github.com/Kitware/VTK/blob/master/Common/Core/vtkLookupTable.cxx\nvar BELOW_RANGE_COLOR_INDEX = 0;\nvar ABOVE_RANGE_COLOR_INDEX = 1;\nvar NAN_COLOR_INDEX = 2;\n/**\n * Converts an HSV  (Hue, Saturation, Value) color to RGB (Red, Green, Blue) color value\n * @param {Number} hue A number representing the hue color value\n * @param {any} sat A number representing the saturation color value\n * @param {any} val A number representing the value color value\n * @returns {Numberp[]} An RGB color array\n */\n\nfunction HSVToRGB(hue, sat, val) {\n  if (hue > 1) {\n    throw new Error('HSVToRGB expects hue < 1');\n  }\n\n  var rgb = [];\n\n  if (sat === 0) {\n    rgb[0] = val;\n    rgb[1] = val;\n    rgb[2] = val;\n    return rgb;\n  }\n\n  var hueCase = Math.floor(hue * 6);\n  var frac = 6 * hue - hueCase;\n  var lx = val * (1 - sat);\n  var ly = val * (1 - sat * frac);\n  var lz = val * (1 - sat * (1 - frac));\n\n  switch (hueCase) {\n    /* 0<hue<1/6 */\n    case 0:\n    case 6:\n      rgb[0] = val;\n      rgb[1] = lz;\n      rgb[2] = lx;\n      break;\n\n    /* 1/6<hue<2/6 */\n\n    case 1:\n      rgb[0] = ly;\n      rgb[1] = val;\n      rgb[2] = lx;\n      break;\n\n    /* 2/6<hue<3/6 */\n\n    case 2:\n      rgb[0] = lx;\n      rgb[1] = val;\n      rgb[2] = lz;\n      break;\n\n    /* 3/6<hue/4/6 */\n\n    case 3:\n      rgb[0] = lx;\n      rgb[1] = ly;\n      rgb[2] = val;\n      break;\n\n    /* 4/6<hue<5/6 */\n\n    case 4:\n      rgb[0] = lz;\n      rgb[1] = lx;\n      rgb[2] = val;\n      break;\n\n    /* 5/6<hue<1 */\n\n    case 5:\n      rgb[0] = val;\n      rgb[1] = lx;\n      rgb[2] = ly;\n      break;\n  }\n\n  return rgb;\n}\n/**\n * Maps a value to an index in the table\n * @param {Number} v A double value which table index will be returned.\n * @param {any} p An object that contains the Table \"Range\", the table \"MaxIndex\",\n * A \"Shift\" from first value in the table and the table \"Scale\" value\n * @returns {Number} The mapped index in the table\n * @memberof Colors\n */\n\n\nfunction linearIndexLookupMain(v, p) {\n  var dIndex; // NOTE: Added Math.floor since values were not integers? Check VTK source\n\n  if (v < p.Range[0]) {\n    dIndex = p.MaxIndex + BELOW_RANGE_COLOR_INDEX + 1.5;\n  } else if (v > p.Range[1]) {\n    dIndex = p.MaxIndex + ABOVE_RANGE_COLOR_INDEX + 1.5;\n  } else {\n    dIndex = (v + p.Shift) * p.Scale;\n  }\n\n  return Math.floor(dIndex);\n}\n/**\n * Maps scalar values into colors via a lookup table\n * LookupTable is an object that is used by mapper objects to map scalar values into rgba (red-green-blue-alpha transparency) color specification,\n * or rgba into scalar values. The color table can be created by direct insertion of color values, or by specifying hue, saturation, value, and alpha range and generating a table\n */\n\n\nvar LookupTable =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a default linear LookupTable object with 256 colors.\n   */\n  function LookupTable() {\n    _classCallCheck(this, LookupTable);\n\n    this.NumberOfColors = 256;\n    this.Ramp = 'linear';\n    this.TableRange = [0, 255];\n    this.HueRange = [0, 0.66667];\n    this.SaturationRange = [1, 1];\n    this.ValueRange = [1, 1];\n    this.AlphaRange = [1, 1];\n    this.NaNColor = [128, 0, 0, 255];\n    this.BelowRangeColor = [0, 0, 0, 255];\n    this.UseBelowRangeColor = true;\n    this.AboveRangeColor = [255, 255, 255, 255];\n    this.UseAboveRangeColor = true;\n    this.InputRange = [0, 255];\n    this.Table = [];\n  }\n  /**\n   * Specify the number of values (i.e., colors) in the lookup table.\n   * @param {Number} number The number of colors in he LookupTable\n   * @returns {void}\n   * @memberof Colors\n   */\n\n\n  _createClass(LookupTable, [{\n    key: \"setNumberOfTableValues\",\n    value: function setNumberOfTableValues(number) {\n      this.NumberOfColors = number;\n    }\n    /**\n     * Set the shape of the table ramp to either 'linear', 'scurve' or 'sqrt'\n     * @param {String} ramp A string value representing the shape of the table. Allowed values are 'linear', 'scurve' or 'sqrt'\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"setRamp\",\n    value: function setRamp(ramp) {\n      this.Ramp = ramp;\n    }\n    /**\n     * Sets the minimum/maximum scalar values for scalar mapping.\n     * Scalar values less than minimum range value are clamped to minimum range value.\n     * Scalar values greater than maximum range value are clamped to maximum range value.\n     * @param {Number} start A double representing the minimum scaler value of the LookupTable\n     * @param {any} end A double representing the maximum scaler value of the LookupTable\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"setTableRange\",\n    value: function setTableRange(start, end) {\n      this.TableRange[0] = start;\n      this.TableRange[1] = end;\n    }\n    /**\n     * Set the range in hue (using automatic generation). Hue ranges between [0,1].\n     * @param {Number} start A double representing the minimum hue value in a range. Min. is 0\n     * @param {Number} end A double representing the maximum hue value in a range. Max. is 1\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"setHueRange\",\n    value: function setHueRange(start, end) {\n      this.HueRange[0] = start;\n      this.HueRange[1] = end;\n    }\n    /**\n     * Set the range in saturation (using automatic generation). Saturation ranges between [0,1].\n     * @param {Number} start A double representing the minimum Saturation value in a range. Min. is 0\n     * @param {Number} end A double representing the maximum Saturation value in a range. Max. is 1\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"setSaturationRange\",\n    value: function setSaturationRange(start, end) {\n      this.SaturationRange[0] = start;\n      this.SaturationRange[1] = end;\n    }\n    /**\n     * Set the range in value (using automatic generation). Value ranges between [0,1].\n     * @param {Numeber } start A double representing the minimum value in a range. Min. is 0\n     * @param {Numeber} end A double representing the maximum value in a range. Max. is 1\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"setValueRange\",\n    value: function setValueRange(start, end) {\n      // Set the range in value (using automatic generation). Value ranges between [0,1].\n      this.ValueRange[0] = start;\n      this.ValueRange[1] = end;\n    }\n    /**\n     * (Not Used) Sets the range of scalars which will be mapped.\n     * @param {Number} start the minimum scalar value in the range\n     * @param {Number} end the maximum scalar value in the range\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"setRange\",\n    value: function setRange(start, end) {\n      this.InputRange[0] = start;\n      this.InputRange[1] = end;\n    }\n    /**\n     * Set the range in alpha (using automatic generation). Alpha ranges from [0,1].\n     * @param {Number} start A double representing the minimum alpha value\n     * @param {Number} end A double representing the maximum alpha value\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"setAlphaRange\",\n    value: function setAlphaRange(start, end) {\n      // Set the range in alpha (using automatic generation). Alpha ranges from [0,1].\n      this.AlphaRange[0] = start;\n      this.AlphaRange[1] = end;\n    }\n    /**\n     * Map one value through the lookup table and return the color as an\n     * RGBA array of doubles between 0 and 1.\n     * @param {Number} scalar A double scalar value which will be mapped to a color in the LookupTable\n     * @returns {Number[]} An RGBA array of doubles between 0 and 1\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"getColor\",\n    value: function getColor(scalar) {\n      return this.mapValue(scalar);\n    }\n    /**\n     * Generate lookup table from hue, saturation, value, alpha min/max values. Table is built from linear ramp of each value.\n     * @param {Boolean} force true to force the build of the LookupTable. Otherwie, false. This is useful if a lookup table has been defined manually\n     * (using SetTableValue) and then an application decides to rebuild the lookup table using the implicit process.\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"build\",\n    value: function build(force) {\n      if (this.Table.length > 1 && !force) {\n        return;\n      } // Clear the table\n\n\n      this.Table = [];\n      var maxIndex = this.NumberOfColors - 1;\n      var hinc, sinc, vinc, ainc;\n\n      if (maxIndex) {\n        hinc = (this.HueRange[1] - this.HueRange[0]) / maxIndex;\n        sinc = (this.SaturationRange[1] - this.SaturationRange[0]) / maxIndex;\n        vinc = (this.ValueRange[1] - this.ValueRange[0]) / maxIndex;\n        ainc = (this.AlphaRange[1] - this.AlphaRange[0]) / maxIndex;\n      } else {\n        hinc = sinc = vinc = ainc = 0.0;\n      }\n\n      for (var i = 0; i <= maxIndex; i++) {\n        var hue = this.HueRange[0] + i * hinc;\n        var sat = this.SaturationRange[0] + i * sinc;\n        var val = this.ValueRange[0] + i * vinc;\n        var alpha = this.AlphaRange[0] + i * ainc;\n        var rgb = HSVToRGB(hue, sat, val);\n        var c_rgba = [];\n\n        switch (this.Ramp) {\n          case 'scurve':\n            c_rgba[0] = Math.floor(127.5 * (1.0 + Math.cos((1.0 - rgb[0]) * Math.PI)));\n            c_rgba[1] = Math.floor(127.5 * (1.0 + Math.cos((1.0 - rgb[1]) * Math.PI)));\n            c_rgba[2] = Math.floor(127.5 * (1.0 + Math.cos((1.0 - rgb[2]) * Math.PI)));\n            c_rgba[3] = Math.floor(alpha * 255);\n            break;\n\n          case 'linear':\n            c_rgba[0] = Math.floor(rgb[0] * 255 + 0.5);\n            c_rgba[1] = Math.floor(rgb[1] * 255 + 0.5);\n            c_rgba[2] = Math.floor(rgb[2] * 255 + 0.5);\n            c_rgba[3] = Math.floor(alpha * 255 + 0.5);\n            break;\n\n          case 'sqrt':\n            c_rgba[0] = Math.floor(Math.sqrt(rgb[0]) * 255 + 0.5);\n            c_rgba[1] = Math.floor(Math.sqrt(rgb[1]) * 255 + 0.5);\n            c_rgba[2] = Math.floor(Math.sqrt(rgb[2]) * 255 + 0.5);\n            c_rgba[3] = Math.floor(Math.sqrt(alpha) * 255 + 0.5);\n            break;\n\n          default:\n            throw new Error(\"Invalid Ramp value (\".concat(this.Ramp, \")\"));\n        }\n\n        this.Table.push(c_rgba);\n      }\n\n      this.buildSpecialColors();\n    }\n    /**\n     * Ensures the out-of-range colors (Below range and Above range) are set correctly.\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"buildSpecialColors\",\n    value: function buildSpecialColors() {\n      var numberOfColors = this.NumberOfColors;\n      var belowRangeColorIndex = numberOfColors + BELOW_RANGE_COLOR_INDEX;\n      var aboveRangeColorIndex = numberOfColors + ABOVE_RANGE_COLOR_INDEX;\n      var nanColorIndex = numberOfColors + NAN_COLOR_INDEX; // Below range color\n\n      if (this.UseBelowRangeColor || numberOfColors === 0) {\n        this.Table[belowRangeColorIndex] = this.BelowRangeColor;\n      } else {\n        // Duplicate the first color in the table.\n        this.Table[belowRangeColorIndex] = this.Table[0];\n      } // Above range color\n\n\n      if (this.UseAboveRangeColor || numberOfColors === 0) {\n        this.Table[aboveRangeColorIndex] = this.AboveRangeColor;\n      } else {\n        // Duplicate the last color in the table.\n        this.Table[aboveRangeColorIndex] = this.Table[numberOfColors - 1];\n      } // Always use NanColor\n\n\n      this.Table[nanColorIndex] = this.NaNColor;\n    }\n    /**\n     * Similar to GetColor - Map one value through the lookup table and return the color as an\n     * RGBA array of doubles between 0 and 1.\n     * @param {Numeber} v A double scalar value which will be mapped to a color in the LookupTable\n     * @returns {Number[]} An RGBA array of doubles between 0 and 1\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"mapValue\",\n    value: function mapValue(v) {\n      var index = this.getIndex(v);\n\n      if (index < 0) {\n        return this.NaNColor;\n      } else if (index === 0) {\n        if (this.UseBelowRangeColor && v < this.TableRange[0]) {\n          return this.BelowRangeColor;\n        }\n      } else if (index === this.NumberOfColors - 1) {\n        if (this.UseAboveRangeColor && v > this.TableRange[1]) {\n          return this.AboveRangeColor;\n        }\n      }\n\n      return this.Table[index];\n    }\n    /**\n     * Return the table index associated with a particular value.\n     * @param {Number} v A double value which table index will be returned.\n     * @returns {Number} The index in the LookupTable\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(v) {\n      var p = {};\n      p.Range = [];\n      p.MaxIndex = this.NumberOfColors - 1; // This was LookupShiftAndScale\n\n      p.Shift = -this.TableRange[0];\n\n      if (this.TableRange[1] <= this.TableRange[0]) {\n        p.Scale = Number.MAX_VALUE;\n      } else {\n        p.Scale = p.MaxIndex / (this.TableRange[1] - this.TableRange[0]);\n      }\n\n      p.Range[0] = this.TableRange[0];\n      p.Range[1] = this.TableRange[1]; // First, check whether we have a number...\n\n      if (isNaN(v)) {\n        // For backwards compatibility\n        return -1;\n      } // Map to an index:\n\n\n      var index = linearIndexLookupMain(v, p); // For backwards compatibility, if the index indicates an\n      // Out-of-range value, truncate to index range for in-range colors.\n\n      if (index === this.NumberOfColors + BELOW_RANGE_COLOR_INDEX) {\n        index = 0;\n      } else if (index === this.NumberOfColors + ABOVE_RANGE_COLOR_INDEX) {\n        index = this.NumberOfColors - 1;\n      }\n\n      return index;\n    }\n    /**\n     * Directly load color into lookup table. Use [0,1] double values for color component specification.\n     * Make sure that you've either used the Build() method or used SetNumberOfTableValues() prior to using this method.\n     * @param {Number} index The index in the LookupTable of where to insert the color value\n     * @param {Number[]} rgba An array of [0,1] double values for an RGBA color component\n     * @returns {void}\n     * @memberof Colors\n     */\n\n  }, {\n    key: \"setTableValue\",\n    value: function setTableValue(index, rgba) {\n      // Check if it index, red, green, blue and alpha were passed as parameter\n      if (arguments.length === 5) {\n        rgba = Array.prototype.slice.call(arguments, 1);\n      } // Check the index to make sure it is valid\n\n\n      if (index < 0) {\n        throw new Error(\"Can't set the table value for negative index (\".concat(index, \")\"));\n      }\n\n      if (index >= this.NumberOfColors) {\n        new Error(\"Index \".concat(index, \" is greater than the number of colors \").concat(this.NumberOfColors));\n      }\n\n      this.Table[index] = rgba;\n\n      if (index === 0 || index === this.NumberOfColors - 1) {\n        // This is needed due to the way the special colors are stored in\n        // The internal table. If Above/BelowRangeColors are not used and\n        // The min/max colors are changed in the table with this member\n        // Function, then the colors used for values outside the range may\n        // Be incorrect. Calling this here ensures the out-of-range colors\n        // Are set correctly.\n        this.buildSpecialColors();\n      }\n    }\n  }]);\n\n  return LookupTable;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LookupTable);\n\n/***/ }),\n\n/***/ \"./disable.js\":\n/*!********************!*\\\n  !*** ./disable.js ***!\n  \\********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n\n\n\n/**\r\n *  Disable an HTML element for further use in Cornerstone\r\n *\r\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\r\n * @returns {void}\r\n * @memberof Enable\r\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element) {\n  if (element === undefined) {\n    throw new Error('disable: element must not be undefined');\n  } // Search for this element in this list of enabled elements\n\n\n  var enabledElements = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElements\"])();\n\n  for (var i = 0; i < enabledElements.length; i++) {\n    if (enabledElements[i].element === element) {\n      // We found it!\n      // Fire an event so dependencies can cleanup\n      var eventData = {\n        element: element\n      };\n      Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element, _events_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ELEMENT_DISABLED, eventData);\n      Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_2__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ELEMENT_DISABLED, eventData); // Remove the child DOM elements that we created (e.g.canvas)\n\n      enabledElements[i].element.removeChild(enabledElements[i].canvas);\n      enabledElements[i].canvas = undefined; // Remove this element from the list of enabled elements\n\n      enabledElements.splice(i, 1);\n      break;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"./displayImage.js\":\n/*!*************************!*\\\n  !*** ./displayImage.js ***!\n  \\*************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/getDefaultViewport.js */ \"./internal/getDefaultViewport.js\");\n/* harmony import */ var _updateImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updateImage.js */ \"./updateImage.js\");\n/* harmony import */ var _internal_now_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/now.js */ \"./internal/now.js\");\n/* harmony import */ var _layers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layers.js */ \"./layers.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n\n\n\n\n\n\n\n/**\n * Sets a new image object for a given element.\n *\n * Will also apply an optional viewport setting.\n *\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\n * @param {Object} image An Image loaded by a Cornerstone Image Loader\n * @param {Object} [viewport] A set of Cornerstone viewport parameters\n * @returns {void}\n * @memberof Drawing\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, image, viewport) {\n  if (element === undefined) {\n    throw new Error('displayImage: parameter element must not be undefined');\n  }\n\n  if (image === undefined) {\n    throw new Error('displayImage: parameter image must not be undefined');\n  }\n\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  var oldImage = enabledElement.image;\n  enabledElement.image = image;\n\n  if (enabledElement.layers && enabledElement.layers.length) {\n    Object(_layers_js__WEBPACK_IMPORTED_MODULE_4__[\"setLayerImage\"])(element, image);\n  }\n\n  if (enabledElement.viewport === undefined) {\n    enabledElement.viewport = Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement.canvas, image);\n  } // Merge viewport\n\n\n  if (viewport) {\n    for (var attrname in viewport) {\n      if (viewport[attrname] !== null) {\n        enabledElement.viewport[attrname] = viewport[attrname];\n      }\n    }\n  }\n\n  var frameRate;\n\n  if (enabledElement.lastImageTimeStamp !== undefined) {\n    var timeSinceLastImage = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])() - enabledElement.lastImageTimeStamp;\n    frameRate = (1000 / timeSinceLastImage).toFixed();\n  }\n\n  enabledElement.lastImageTimeStamp = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n  var newImageEventData = {\n    viewport: enabledElement.viewport,\n    element: enabledElement.element,\n    image: enabledElement.image,\n    oldImage: oldImage,\n    enabledElement: enabledElement,\n    frameRate: frameRate\n  };\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enabledElement.element, _events_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].NEW_IMAGE, newImageEventData);\n  Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element);\n});\n\n/***/ }),\n\n/***/ \"./draw.js\":\n/*!*****************!*\\\n  !*** ./draw.js ***!\n  \\*****************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/drawImage.js */ \"./internal/drawImage.js\");\n\n\n/**\n * Immediately draws the enabled element\n *\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\n * @returns {void}\n * @memberof Drawing\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n\n  if (enabledElement.image === undefined) {\n    throw new Error('draw: image has not been loaded yet');\n  }\n\n  Object(_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement);\n});\n\n/***/ }),\n\n/***/ \"./drawInvalidated.js\":\n/*!****************************!*\\\n  !*** ./drawInvalidated.js ***!\n  \\****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/drawImage.js */ \"./internal/drawImage.js\");\n/**\n * This module is responsible for drawing invalidated enabled elements\n */\n\n\n/**\n * Draws all invalidated enabled elements and clears the invalid flag after drawing it\n *\n * @returns {void}\n * @memberof Drawing\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  var enabledElements = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElements\"])();\n\n  for (var i = 0; i < enabledElements.length; i++) {\n    var ee = enabledElements[i];\n\n    if (ee.invalid === true) {\n      Object(_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ee, true);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"./enable.js\":\n/*!*******************!*\\\n  !*** ./enable.js ***!\n  \\*******************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _resize_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resize.js */ \"./resize.js\");\n/* harmony import */ var _internal_drawImageSync_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/drawImageSync.js */ \"./internal/drawImageSync.js\");\n/* harmony import */ var _internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/requestAnimationFrame.js */ \"./internal/requestAnimationFrame.js\");\n/* harmony import */ var _internal_tryEnableWebgl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/tryEnableWebgl.js */ \"./internal/tryEnableWebgl.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony import */ var _generateUUID_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./generateUUID.js */ \"./generateUUID.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n/* harmony import */ var _internal_getCanvas_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./internal/getCanvas.js */ \"./internal/getCanvas.js\");\n\n\n\n\n\n\n\n\n\n/**\r\n * @module Enable\r\n * This module is responsible for enabling an element to display images with cornerstone\r\n */\n\n/**\r\n * Returns whether or not an Enabled Element has either a currently active image or\r\n * a non-empty Array of Enabled Element Layers.\r\n *\r\n * @param {EnabledElement} enabledElement An Enabled Element\r\n * @return {Boolean} Whether or not the Enabled Element has an active image or valid set of layers\r\n * @memberof Enable\r\n */\n\nfunction hasImageOrLayers(enabledElement) {\n  return enabledElement.image !== undefined || enabledElement.layers.length > 0;\n}\n/**\r\n * Enable an HTML Element for use in Cornerstone\r\n *\r\n * - If there is a Canvas already present within the HTMLElement, and it has the class\r\n * 'cornerstone-canvas', this function will use this existing Canvas instead of creating\r\n * a new one. This may be helpful when using libraries (e.g. React, Vue) which don't\r\n * want third parties to change the DOM.\r\n *\r\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\r\n * @param {Object} options Options for the enabledElement\r\n *\r\n * @return {void}\r\n * @memberof Enable\r\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, options) {\n  if (element === undefined) {\n    throw new Error('enable: parameter element cannot be undefined');\n  } // If this enabled element has the option set for WebGL, we should\n  // Check if this device actually supports it\n\n\n  if (options && options.renderer && options.renderer.toLowerCase() === 'webgl') {\n    Object(_internal_tryEnableWebgl_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options);\n  }\n\n  var canvas = Object(_internal_getCanvas_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(element);\n  var enabledElement = {\n    element: element,\n    canvas: canvas,\n    image: undefined,\n    // Will be set once image is loaded\n    invalid: false,\n    // True if image needs to be drawn, false if not\n    needsRedraw: true,\n    options: options,\n    layers: [],\n    data: {},\n    renderingTools: {},\n    uuid: Object(_generateUUID_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()\n  };\n  Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"addEnabledElement\"])(enabledElement);\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_7__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].ELEMENT_ENABLED, enabledElement);\n  Object(_resize_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element, true);\n  /**\r\n   * Draw the image immediately\r\n   *\r\n   * @param {DOMHighResTimeStamp} timestamp The current time for when requestAnimationFrame starts to fire callbacks\r\n   * @returns {void}\r\n   * @memberof Drawing\r\n   */\n\n  function draw(timestamp) {\n    if (enabledElement.canvas === undefined) {\n      return;\n    }\n\n    var eventDetails = {\n      enabledElement: enabledElement,\n      timestamp: timestamp\n    };\n    Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enabledElement.element, _events_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].PRE_RENDER, eventDetails);\n\n    if (enabledElement.needsRedraw && hasImageOrLayers(enabledElement)) {\n      Object(_internal_drawImageSync_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(enabledElement, enabledElement.invalid);\n    }\n\n    Object(_internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(draw);\n  }\n\n  draw();\n});\n\n/***/ }),\n\n/***/ \"./enabledElementData.js\":\n/*!*******************************!*\\\n  !*** ./enabledElementData.js ***!\n  \\*******************************/\n/*! exports provided: getElementData, removeElementData */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementData\", function() { return getElementData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeElementData\", function() { return removeElementData; });\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n\n/**\n * Retrieves any data for a Cornerstone enabledElement for a specific string\n * dataType\n *\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\n * @param {string} dataType A string name for an arbitrary set of data\n * @returns {*} Whatever data is stored for this enabled element\n */\n\nfunction getElementData(element, dataType) {\n  var ee = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n\n  if (ee.data.hasOwnProperty(dataType) === false) {\n    ee.data[dataType] = {};\n  }\n\n  return ee.data[dataType];\n}\n/**\n * Clears any data for a Cornerstone enabledElement for a specific string\n * dataType\n *\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\n * @param {string} dataType A string name for an arbitrary set of data\n *\n * @returns {void}\n */\n\nfunction removeElementData(element, dataType) {\n  var ee = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  delete ee.data[dataType];\n}\n\n/***/ }),\n\n/***/ \"./enabledElements.js\":\n/*!****************************!*\\\n  !*** ./enabledElements.js ***!\n  \\****************************/\n/*! exports provided: getEnabledElement, addEnabledElement, getEnabledElementsByImageId, getEnabledElements */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEnabledElement\", function() { return getEnabledElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addEnabledElement\", function() { return addEnabledElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEnabledElementsByImageId\", function() { return getEnabledElementsByImageId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEnabledElements\", function() { return getEnabledElements; });\nvar enabledElements = [];\n/**\n * @module EnabledElements\n */\n\n/**\n * @module Objects\n */\n\n/**\n * A two-dimensional vector\n *\n * @typedef {Object} vec2\n * @memberof Objects\n * @param {Number} x - The x distance\n * @param {Number} y - The y distance\n */\n\n/**\n * VOI\n *\n * @typedef {Object} VOI\n * @memberof Objects\n * @param {Number} windowWidth - Window Width for display\n * @param {Number} windowCenter - Window Center for display\n */\n\n/**\n * Lookup Table Array\n *\n * @typedef {Object} LUT\n * @memberof Objects\n * @property {Number} firstValueMapped\n * @property {Number} numBitsPerEntry\n * @property {Array} lut\n */\n\n/**\n * Image Statistics Object\n *\n * @typedef {Object} ImageStats\n * @memberof Objects\n * @property {Number} [lastGetPixelDataTime] The time in ms taken to retrieve stored pixels required to draw the image\n * @property {Number} [lastStoredPixelDataToCanvasImageDataTime] The time in ms taken to map from stored pixel array to canvas pixel array\n * @property {Number} [lastPutImageDataTime] The time in ms taken for putImageData to put the canvas pixel data into the canvas context\n * @property {Number} [lastRenderTime] The total time in ms taken for the entire rendering function to run\n * @property {Number} [lastLutGenerateTime] The time in ms taken to generate the lookup table for the image\n */\n\n/**\n * An Image Object in Cornerstone\n *\n * @typedef {Object} Image\n * @memberof Objects\n * @property {string} imageId - The imageId associated with this image object\n * @property {Number} minPixelValue - the minimum stored pixel value in the image\n * @property {Number} maxPixelValue - the maximum stored pixel value in the image\n * @property {Number} slope - the rescale slope to convert stored pixel values to modality pixel values or 1 if not specified\n * @property {Number} intercept - the rescale intercept used to convert stored pixel values to modality values or 0 if not specified\n * @property {Number} windowCenter - the default windowCenter to apply to the image\n * @property {Number} windowWidth - the default windowWidth to apply to the image\n * @property {function} getPixelData - a function that returns the underlying pixel data. An array of integers for grayscale and an array of RGBA for color\n * @property {function} getImageData - a function that returns a canvas imageData object for the image. This is only needed for color images\n * @property {function} getCanvas - a function that returns a canvas element with the image loaded into it. This is only needed for color images.\n * @property {function} getImage - a function that returns a JavaScript Image object with the image data. This is optional and typically used for images encoded in standard web JPEG and PNG formats\n * @property {Number} rows - number of rows in the image. This is the same as height but duplicated for convenience\n * @property {Number} columns - number of columns in the image. This is the same as width but duplicated for convenience\n * @property {Number} height - the height of the image. This is the same as rows but duplicated for convenience\n * @property {Number} width - the width of the image. This is the same as columns but duplicated for convenience\n * @property {Boolean} color - true if pixel data is RGB, false if grayscale\n * @property {Object} lut - The Lookup Table\n * @property {Boolean} rgba - Is the color pixel data stored in RGBA?\n * @property {Number} columnPixelSpacing - horizontal distance between the middle of each pixel (or width of each pixel) in mm or undefined if not known\n * @property {Number} rowPixelSpacing - vertical distance between the middle of each pixel (or height of each pixel) in mm or undefined if not known\n * @property {Boolean} invert - true if the the image should initially be displayed be inverted, false if not. This is here mainly to support DICOM images with a photometric interpretation of MONOCHROME1\n * @property {Number} sizeInBytes - the number of bytes used to store the pixels for this image.\n * @property {Boolean} [falseColor=false] - Whether or not the image has undergone false color mapping\n * @property {Array} [origPixelData] - Original pixel data for an image after it has undergone false color mapping\n * @property {ImageStats} [stats] - Statistics for the last redraw of the image\n * @property {Object} cachedLut - Cached Lookup Table for this image.\n * @property {String|Colormap} [colormap] - Depreacted. Use viewport.colormap instead. an optional colormap ID or colormap object (from colors/colormap.js). This will be applied during rendering to convert the image to pseudocolor\n * @property {Boolean} [labelmap=false] - whether or not to render this image as a label map (i.e. skip modality and VOI LUT pipelines and use only a color lookup table)\n */\n\n/**\n * A Viewport Settings Object Cornerstone\n *\n * @typedef {Object} Viewport\n * @memberof Objects\n * @property {Number} [scale=1.0] - The scale applied to the image. A scale of 1.0 will display no zoom (one image pixel takes up one screen pixel). A scale of 2.0 will be double zoom and a scale of .5 will be zoomed out by 2x\n * @property {vec2} [translation] - An object with properties x and y which describe the translation to apply in the pixel coordinate system. Note that the image is initially displayed centered in the enabled element with a x and y translation of 0 and 0 respectively.\n * @property {VOI} [voi] - an object with properties windowWidth and windowCenter.\n * @property {boolean} [invert=false] - Whether or not the image is inverted.\n * @property {boolean} [pixelReplication=false] - true if the image smooth / interpolation should be used when zoomed in on the image or false if pixel replication should be used.\n * @property {boolean} [hflip=false] - true if the image is flipped horizontally. Default is false\n * @property {boolean} [vflip=false] - true if the image is flipped vertically. Default is false\n * @property {Number} [rotation=0] - the rotation of the image (90 degree increments). Default is 0\n * @property {LUT} [modalityLUT] - the modality LUT to apply or undefined if none\n * @property {LUT} [voiLUT] - the modality LUT to apply or undefined if none\n * @property {String|Colormap} [colormap] - an optional colormap ID or colormap object (from colors/colormap.js). This will be applied during rendering to convert the image to pseudocolor\n * @property {Boolean} [labelmap=false] - whether or not to render this image as a label map (i.e. skip modality and VOI LUT pipelines and use only a color lookup table)\n */\n\n/**\n * An Enabled Element in Cornerstone\n *\n * @typedef {Object} EnabledElement\n * @memberof Objects\n * @property {HTMLElement} element - The DOM element which has been enabled for use by Cornerstone\n * @property {Image} [image] - The image currently displayed in the enabledElement\n * @property {Viewport} [viewport] - The current viewport settings of the enabledElement\n * @property {HTMLCanvasElement} [canvas] - The current canvas for this enabledElement\n * @property {Boolean} invalid - Whether or not the image pixel data underlying the enabledElement has been changed, necessitating a redraw\n * @property {Boolean} needsRedraw - A flag for triggering a redraw of the canvas without re-retrieving the pixel data, since it remains valid\n * @property {EnabledElementLayer[]} [layers] - The layers that have been added to the enabledElement\n * @property {Boolean} [syncViewports] - Whether or not to synchronize the viewport parameters\n * for each of the enabled element's layers\n * @property {Boolean} [lastSyncViewportsState] - The previous state for the sync viewport boolean\n */\n\n/**\n * An Enabled Element Layer in Cornerstone\n *\n * @typedef {Object} EnabledElementLayer\n * @memberof Objects\n * @property {HTMLElement} element - The DOM element which has been enabled for use by Cornerstone\n * @property {Image} [image] - The image currently displayed in the enabledElement\n * @property {Viewport} [viewport] - The current viewport settings of the enabledElement\n * @property {HTMLCanvasElement} [canvas] - The current canvas for this enabledElement\n * @property {Object} [options] - Layer drawing options\n * @property {Boolean} invalid - Whether or not the image pixel data underlying the enabledElement has been changed, necessitating a redraw\n * @property {Boolean} needsRedraw - A flag for triggering a redraw of the canvas without re-retrieving the pixel data, since it remains valid\n */\n\n/**\n * An Image Load Object\n *\n * @typedef {Object} ImageLoadObject\n * @memberof Objects\n * @property {Promise} promise - The Promise tracking the loading of this image\n * @property {Function|undefined} cancelFn - A function to cancel the image load request\n */\n\n/**\n * Retrieves a Cornerstone Enabled Element object\n *\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\n *\n * @returns {EnabledElement} A Cornerstone Enabled Element\n * @memberof EnabledElements\n */\n\nfunction getEnabledElement(element) {\n  if (element === undefined) {\n    throw new Error('getEnabledElement: parameter element must not be undefined');\n  }\n\n  for (var i = 0; i < enabledElements.length; i++) {\n    if (enabledElements[i].element === element) {\n      return enabledElements[i];\n    }\n  }\n\n  throw new Error('element not enabled');\n}\n/**\n * Adds a Cornerstone Enabled Element object to the central store of enabledElements\n *\n * @param {EnabledElement} enabledElement A Cornerstone enabledElement Object\n * @returns {void}\n * @memberof EnabledElements\n */\n\nfunction addEnabledElement(enabledElement) {\n  if (enabledElement === undefined) {\n    throw new Error('getEnabledElement: enabledElement element must not be undefined');\n  }\n\n  enabledElements.push(enabledElement);\n}\n/**\n * Adds a Cornerstone Enabled Element object to the central store of enabledElements\n *\n * @param {string} imageId A Cornerstone Image ID\n * @returns {EnabledElement[]} An Array of Cornerstone enabledElement Objects\n * @memberof EnabledElements\n */\n\nfunction getEnabledElementsByImageId(imageId) {\n  var ees = [];\n  enabledElements.forEach(function (enabledElement) {\n    if (enabledElement.image && enabledElement.image.imageId === imageId) {\n      ees.push(enabledElement);\n    }\n  });\n  return ees;\n}\n/**\n * Retrieve all of the currently enabled Cornerstone elements\n *\n * @return {EnabledElement[]} An Array of Cornerstone enabledElement Objects\n * @memberof EnabledElements\n */\n\nfunction getEnabledElements() {\n  return enabledElements;\n}\n\n/***/ }),\n\n/***/ \"./events.js\":\n/*!*******************!*\\\n  !*** ./events.js ***!\n  \\*******************/\n/*! exports provided: default, events */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"events\", function() { return events; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EVENTS = {\n  NEW_IMAGE: 'cornerstonenewimage',\n  INVALIDATED: 'cornerstoneinvalidated',\n  PRE_RENDER: 'cornerstoneprerender',\n  IMAGE_CACHE_MAXIMUM_SIZE_CHANGED: 'cornerstoneimagecachemaximumsizechanged',\n  IMAGE_CACHE_PROMISE_REMOVED: 'cornerstoneimagecachepromiseremoved',\n  IMAGE_CACHE_FULL: 'cornerstoneimagecachefull',\n  IMAGE_CACHE_CHANGED: 'cornerstoneimagecachechanged',\n  WEBGL_TEXTURE_REMOVED: 'cornerstonewebgltextureremoved',\n  WEBGL_TEXTURE_CACHE_FULL: 'cornerstonewebgltexturecachefull',\n  IMAGE_LOADED: 'cornerstoneimageloaded',\n  IMAGE_LOAD_FAILED: 'cornerstoneimageloadfailed',\n  ELEMENT_RESIZED: 'cornerstoneelementresized',\n  IMAGE_RENDERED: 'cornerstoneimagerendered',\n  LAYER_ADDED: 'cornerstonelayeradded',\n  LAYER_REMOVED: 'cornerstonelayerremoved',\n  ACTIVE_LAYER_CHANGED: 'cornerstoneactivelayerchanged',\n  ELEMENT_DISABLED: 'cornerstoneelementdisabled',\n  ELEMENT_ENABLED: 'cornerstoneelementenabled'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (EVENTS);\n/**\n * EventTarget - Provides the [EventTarget](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget) interface\n *\n * @class\n * @memberof Polyfills\n */\n\nvar EventTarget =\n/*#__PURE__*/\nfunction () {\n  function EventTarget() {\n    _classCallCheck(this, EventTarget);\n\n    this.listeners = {};\n    this.namespaces = {};\n  }\n\n  _createClass(EventTarget, [{\n    key: \"addEventNamespaceListener\",\n    value: function addEventNamespaceListener(type, callback) {\n      if (type.indexOf('.') <= 0) {\n        return;\n      }\n\n      this.namespaces[type] = callback;\n      this.addEventListener(type.split('.')[0], callback);\n    }\n  }, {\n    key: \"removeEventNamespaceListener\",\n    value: function removeEventNamespaceListener(type) {\n      if (type.indexOf('.') <= 0 || !this.namespaces[type]) {\n        return;\n      }\n\n      this.removeEventListener(type.split('.')[0], this.namespaces[type]);\n      delete this.namespaces[type];\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(type, callback) {\n      // Check if it is an event namespace\n      if (type.indexOf('.') > 0) {\n        this.addEventNamespaceListener(type, callback);\n        return;\n      }\n\n      if (!(type in this.listeners)) {\n        this.listeners[type] = [];\n      }\n\n      this.listeners[type].push(callback);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type, callback) {\n      // Check if it is an event namespace\n      if (type.indexOf('.') > 0) {\n        this.removeEventNamespaceListener(type);\n        return;\n      }\n\n      if (!(type in this.listeners)) {\n        return;\n      }\n\n      var stack = this.listeners[type];\n\n      for (var i = 0, l = stack.length; i < l; i++) {\n        if (stack[i] === callback) {\n          stack.splice(i, 1);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event) {\n      if (!(event.type in this.listeners)) {\n        return true;\n      }\n\n      var stack = this.listeners[event.type];\n\n      for (var i = 0, l = stack.length; i < l; i++) {\n        stack[i].call(this, event);\n      }\n\n      return !event.defaultPrevented;\n    }\n  }]);\n\n  return EventTarget;\n}();\n\nvar events = new EventTarget();\n\n/***/ }),\n\n/***/ \"./falseColorMapping.js\":\n/*!******************************!*\\\n  !*** ./falseColorMapping.js ***!\n  \\******************************/\n/*! exports provided: convertImageToFalseColorImage, convertToFalseColorImage, restoreImage */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertImageToFalseColorImage\", function() { return convertImageToFalseColorImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertToFalseColorImage\", function() { return convertToFalseColorImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"restoreImage\", function() { return restoreImage; });\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pixelDataToFalseColorData.js */ \"./pixelDataToFalseColorData.js\");\n/* harmony import */ var _colors_colormap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./colors/colormap.js */ \"./colors/colormap.js\");\n\n\n\n/**\n * Retrieves the minimum and maximum pixel values from an Array of pixel data\n *\n * @param {Array} pixelData The input pixel data array\n *\n * @returns {{minPixelValue: Number, maxPixelValue: Number}} The minimum and maximum pixel values in the input Array\n */\n\nfunction getPixelValues(pixelData) {\n  var minPixelValue = Number.MAX_VALUE;\n  var maxPixelValue = Number.MIN_VALUE;\n  var len = pixelData.length;\n  var pixel;\n\n  for (var i = 0; i < len; i++) {\n    pixel = pixelData[i];\n    minPixelValue = minPixelValue < pixel ? minPixelValue : pixel;\n    maxPixelValue = maxPixelValue > pixel ? maxPixelValue : pixel;\n  }\n\n  return {\n    minPixelValue: minPixelValue,\n    maxPixelValue: maxPixelValue\n  };\n}\n/**\n * Retrieve a function that will allow an image object to be reset to its original form\n * after a false color mapping transformation\n *\n * @param {Image} image A Cornerstone Image Object\n *\n * @return {Function} A function for resetting an Image Object to its original form\n */\n\n\nfunction getRestoreImageMethod(image) {\n  if (image.restore) {\n    return image.restore;\n  }\n\n  var color = image.color;\n  var rgba = image.rgba;\n  var cachedLut = image.cachedLut;\n  var slope = image.slope;\n  var windowWidth = image.windowWidth;\n  var windowCenter = image.windowCenter;\n  var minPixelValue = image.minPixelValue;\n  var maxPixelValue = image.maxPixelValue;\n  return function () {\n    image.color = color;\n    image.rgba = rgba;\n    image.cachedLut = cachedLut;\n    image.slope = slope;\n    image.windowWidth = windowWidth;\n    image.windowCenter = windowCenter;\n    image.minPixelValue = minPixelValue;\n    image.maxPixelValue = maxPixelValue;\n\n    if (image.origPixelData) {\n      var pixelData = image.origPixelData;\n\n      image.getPixelData = function () {\n        return pixelData;\n      };\n    } // Remove some attributes added by false color mapping\n\n\n    image.origPixelData = undefined;\n    image.colormapId = undefined;\n    image.falseColor = undefined;\n  };\n} //\n// Then we need to make sure it will be converted into a colormap object if it's as string.\n\n/**\n * User can pass a colormap or its id as string to some of these public functions.\n * Then we need to make sure it will be converted into a colormap object if it's a string.\n *\n * @param {*} colormap A colormap ID or Object\n * @return {*} The colormap\n */\n\n\nfunction ensuresColormap(colormap) {\n  if (colormap && typeof colormap === 'string') {\n    colormap = Object(_colors_colormap_js__WEBPACK_IMPORTED_MODULE_2__[\"getColormap\"])(colormap);\n  }\n\n  return colormap;\n}\n/**\n * Restores a false color image to its original version\n *\n * @param {Image} image A Cornerstone Image Object\n * @returns {Boolean} True if the image object had a valid restore function, which was run. Otherwise, false.\n */\n\n\nfunction restoreImage(image) {\n  if (image.restore && typeof image.restore === 'function') {\n    image.restore();\n    return true;\n  }\n\n  return false;\n}\n/**\n * Convert an image to a false color image\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {String|Object} colormap - it can be a colormap object or a colormap id (string)\n *\n * @returns {Boolean} - Whether or not the image has been converted to a false color image\n */\n\n\nfunction convertImageToFalseColorImage(image, colormap) {\n  if (image.color && !image.falseColor) {\n    throw new Error('Color transforms are not implemented yet');\n  } // User can pass a colormap id or a colormap object\n\n\n  colormap = ensuresColormap(colormap);\n  var colormapId = colormap.getId(); // Doesn't do anything if colormapId hasn't changed\n\n  if (image.colormapId === colormapId) {\n    // It has already being converted into a false color image\n    // Using the colormapId passed as parameter\n    return false;\n  } // Restore the image attributes updated when converting to a false color image\n\n\n  restoreImage(image); // Convert the image to a false color image\n\n  if (colormapId) {\n    var minPixelValue = image.minPixelValue || 0;\n    var maxPixelValue = image.maxPixelValue || 255;\n    image.restore = getRestoreImageMethod(image);\n    var lookupTable = colormap.createLookupTable();\n    lookupTable.setTableRange(minPixelValue, maxPixelValue); // Update the pixel data and render the new image\n\n    Object(_pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(image, lookupTable); // Update min and max pixel values\n\n    var pixelValues = getPixelValues(image.getPixelData());\n    image.minPixelValue = pixelValues.minPixelValue;\n    image.maxPixelValue = pixelValues.maxPixelValue;\n    image.windowWidth = 255;\n    image.windowCenter = 128; // Cache the last colormapId used for performance\n    // Then it doesn't need to be re-rendered on next\n    // Time if the user hasn't updated it\n\n    image.colormapId = colormapId;\n  } // Return `true` to tell the caller that the image has got updated\n\n\n  return true;\n}\n/**\n * Convert the image of a element to a false color image\n *\n * @param {HTMLElement} element The Cornerstone element\n * @param {*} colormap - it can be a colormap object or a colormap id (string)\n *\n * @returns {void}\n */\n\n\nfunction convertToFalseColorImage(element, colormap) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  return convertImageToFalseColorImage(enabledElement.image, colormap);\n}\n\n\n\n/***/ }),\n\n/***/ \"./fitToWindow.js\":\n/*!************************!*\\\n  !*** ./fitToWindow.js ***!\n  \\************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _updateImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./updateImage.js */ \"./updateImage.js\");\n/* harmony import */ var _internal_getImageFitScale_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/getImageFitScale.js */ \"./internal/getImageFitScale.js\");\n\n\n\n/**\n * Adjusts an image's scale and translation so the image is centered and all pixels\n * in the image are viewable.\n *\n * @param {HTMLElement} element The Cornerstone element to update\n * @returns {void}\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  var image = enabledElement.image; // The new scale is the minimum of the horizontal and vertical scale values\n\n  enabledElement.viewport.scale = Object(_internal_getImageFitScale_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(enabledElement.canvas, image, enabledElement.viewport.rotation).scaleFactor;\n  enabledElement.viewport.translation.x = 0;\n  enabledElement.viewport.translation.y = 0;\n  Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element);\n});\n\n/***/ }),\n\n/***/ \"./generateUUID.js\":\n/*!*************************!*\\\n  !*** ./generateUUID.js ***!\n  \\*************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n* Generates a UUID for the enabledElement.\n*\n* @return {String} the UUID.\n*/\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  // https://stackoverflow.com/a/8809472/9208320 Public Domain/MIT\n\n  /* eslint no-bitwise: [\"error\", { \"allow\": [\"&\",\"|\"] }] */\n  var d = new Date().getTime();\n\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    d += performance.now(); // Use high-precision timer if available\n  }\n\n  return 'x.x.x.x.x.x.xxxx.xxx.x.x.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === 'x' ? r : r & 0x3 | 0x8).toString(16);\n  });\n});\n\n/***/ }),\n\n/***/ \"./getDefaultViewportForImage.js\":\n/*!***************************************!*\\\n  !*** ./getDefaultViewportForImage.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/getDefaultViewport.js */ \"./internal/getDefaultViewport.js\");\n\n\n/**\n * Returns a default viewport for display the specified image on the specified\n * enabled element.  The default viewport is fit to window\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @param {Image} image A Cornerstone Image Object\n *\n * @returns {Viewport} The default viewport for the image\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, image) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  return Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement.canvas, image);\n});\n\n/***/ }),\n\n/***/ \"./getImage.js\":\n/*!*********************!*\\\n  !*** ./getImage.js ***!\n  \\*********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n\n/**\n * Returns the currently displayed image for an element or undefined if no image has\n * been displayed yet\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @returns {Image} The Cornerstone Image Object displayed in this element\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  return enabledElement.image;\n});\n\n/***/ }),\n\n/***/ \"./getPixels.js\":\n/*!**********************!*\\\n  !*** ./getPixels.js ***!\n  \\**********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _getStoredPixels_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getStoredPixels.js */ \"./getStoredPixels.js\");\n/* harmony import */ var _internal_getModalityLUT_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/getModalityLUT.js */ \"./internal/getModalityLUT.js\");\n\n\n\n/**\n * Retrieves an array of pixels from a rectangular region with modality LUT transformation applied\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @param {Number} x The x coordinate of the top left corner of the sampling rectangle in image coordinates\n * @param {Number} y The y coordinate of the top left corner of the sampling rectangle in image coordinates\n * @param {Number} width The width of the of the sampling rectangle in image coordinates\n * @param {Number} height The height of the of the sampling rectangle in image coordinates\n * @returns {Array} The modality pixel value of the pixels in the sampling rectangle\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, x, y, width, height) {\n  var storedPixels = Object(_getStoredPixels_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element, x, y, width, height);\n  var ee = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  var mlutfn = Object(_internal_getModalityLUT_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ee.image.slope, ee.image.intercept, ee.viewport.modalityLUT);\n  return storedPixels.map(mlutfn);\n});\n\n/***/ }),\n\n/***/ \"./getStoredPixels.js\":\n/*!****************************!*\\\n  !*** ./getStoredPixels.js ***!\n  \\****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n\n/**\n * Retrieves an array of stored pixel values from a rectangular region of an image\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @param {Number} x The x coordinate of the top left corner of the sampling rectangle in image coordinates\n * @param {Number} y The y coordinate of the top left corner of the sampling rectangle in image coordinates\n * @param {Number} width The width of the of the sampling rectangle in image coordinates\n * @param {Number} height The height of the of the sampling rectangle in image coordinates\n * @returns {Array} The stored pixel value of the pixels in the sampling rectangle\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, x, y, width, height) {\n  if (element === undefined) {\n    throw new Error('getStoredPixels: parameter element must not be undefined');\n  }\n\n  x = Math.round(x);\n  y = Math.round(y);\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  var storedPixels = [];\n  var index = 0;\n  var pixelData = enabledElement.image.getPixelData();\n\n  for (var row = 0; row < height; row++) {\n    for (var column = 0; column < width; column++) {\n      var spIndex = (row + y) * enabledElement.image.columns + (column + x);\n      storedPixels[index++] = pixelData[spIndex];\n    }\n  }\n\n  return storedPixels;\n});\n\n/***/ }),\n\n/***/ \"./getViewport.js\":\n/*!************************!*\\\n  !*** ./getViewport.js ***!\n  \\************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n\n/**\n * Retrieves the viewport for the specified enabled element\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @returns {Viewport|undefined} The Cornerstone Viewport settings for this element, if they exist. Otherwise, undefined\n * @memberof ViewportSettings\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  var viewport = enabledElement.viewport;\n\n  if (viewport === undefined) {\n    return;\n  } // Return a copy of the viewport\n\n\n  return Object.assign({}, viewport);\n});\n\n/***/ }),\n\n/***/ \"./imageCache.js\":\n/*!***********************!*\\\n  !*** ./imageCache.js ***!\n  \\***********************/\n/*! exports provided: cachedImages, setMaximumSizeBytes, putImageLoadObject, getImageLoadObject, removeImageLoadObject, getCacheInfo, purgeCache, changeImageIdCacheSize, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cachedImages\", function() { return cachedImages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMaximumSizeBytes\", function() { return setMaximumSizeBytes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"putImageLoadObject\", function() { return putImageLoadObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getImageLoadObject\", function() { return getImageLoadObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeImageLoadObject\", function() { return removeImageLoadObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCacheInfo\", function() { return getCacheInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"purgeCache\", function() { return purgeCache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeImageIdCacheSize\", function() { return changeImageIdCacheSize; });\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n\n\n/**\n * This module deals with caching images\n * @module ImageCache\n */\n\nvar maximumSizeInBytes = 1024 * 1024 * 1024; // 1 GB\n\nvar cacheSizeInBytes = 0; // Dictionary of imageId to cachedImage objects\n\nvar imageCacheDict = {}; // Array of cachedImage objects\n\nvar cachedImages = [];\n/** Sets the maximum size of cache and purges cache contents if necessary.\n *\n * @param {number} numBytes The maximun size that the cache should occupy.\n * @returns {void}\n */\n\nfunction setMaximumSizeBytes(numBytes) {\n  if (numBytes === undefined) {\n    throw new Error('setMaximumSizeBytes: parameter numBytes must not be undefined');\n  }\n\n  if (numBytes.toFixed === undefined) {\n    throw new Error('setMaximumSizeBytes: parameter numBytes must be a number');\n  }\n\n  maximumSizeInBytes = numBytes;\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_0__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].IMAGE_CACHE_MAXIMUM_SIZE_CHANGED);\n  purgeCacheIfNecessary();\n}\n/**\n * Purges the cache if size exceeds maximum\n * @returns {void}\n */\n\nfunction purgeCacheIfNecessary() {\n  // If max cache size has not been exceeded, do nothing\n  if (cacheSizeInBytes <= maximumSizeInBytes) {\n    return;\n  } // Cache size has been exceeded, create list of images sorted by timeStamp\n  // So we can purge the least recently used image\n\n\n  function compare(a, b) {\n    if (a.timeStamp > b.timeStamp) {\n      return -1;\n    }\n\n    if (a.timeStamp < b.timeStamp) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  cachedImages.sort(compare); // Remove images as necessary)\n\n  while (cacheSizeInBytes > maximumSizeInBytes) {\n    var lastCachedImage = cachedImages[cachedImages.length - 1];\n    var imageId = lastCachedImage.imageId;\n    removeImageLoadObject(imageId);\n    Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_0__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].IMAGE_CACHE_PROMISE_REMOVED, {\n      imageId: imageId\n    });\n  }\n\n  var cacheInfo = getCacheInfo();\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_0__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].IMAGE_CACHE_FULL, cacheInfo);\n}\n/**\n * Puts a new image loader into the cache\n *\n * @param {string} imageId ImageId of the image loader\n * @param {Object} imageLoadObject The object that is loading or loaded the image\n * @returns {void}\n */\n\n\nfunction putImageLoadObject(imageId, imageLoadObject) {\n  if (imageId === undefined) {\n    throw new Error('putImageLoadObject: imageId must not be undefined');\n  }\n\n  if (imageLoadObject.promise === undefined) {\n    throw new Error('putImageLoadObject: imageLoadObject.promise must not be undefined');\n  }\n\n  if (imageCacheDict.hasOwnProperty(imageId) === true) {\n    throw new Error('putImageLoadObject: imageId already in cache');\n  }\n\n  if (imageLoadObject.cancelFn && typeof imageLoadObject.cancelFn !== 'function') {\n    throw new Error('putImageLoadObject: imageLoadObject.cancelFn must be a function');\n  }\n\n  var cachedImage = {\n    loaded: false,\n    imageId: imageId,\n    sharedCacheKey: undefined,\n    // The sharedCacheKey for this imageId.  undefined by default\n    imageLoadObject: imageLoadObject,\n    timeStamp: Date.now(),\n    sizeInBytes: 0\n  };\n  imageCacheDict[imageId] = cachedImage;\n  cachedImages.push(cachedImage);\n  imageLoadObject.promise.then(function (image) {\n    if (cachedImages.indexOf(cachedImage) === -1) {\n      // If the image has been purged before being loaded, we stop here.\n      return;\n    }\n\n    cachedImage.loaded = true;\n    cachedImage.image = image;\n\n    if (image.sizeInBytes === undefined) {\n      throw new Error('putImageLoadObject: image.sizeInBytes must not be undefined');\n    }\n\n    if (image.sizeInBytes.toFixed === undefined) {\n      throw new Error('putImageLoadObject: image.sizeInBytes is not a number');\n    }\n\n    cachedImage.sizeInBytes = image.sizeInBytes;\n    cacheSizeInBytes += cachedImage.sizeInBytes;\n    var eventDetails = {\n      action: 'addImage',\n      image: cachedImage\n    };\n    Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_0__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].IMAGE_CACHE_CHANGED, eventDetails);\n    cachedImage.sharedCacheKey = image.sharedCacheKey;\n    purgeCacheIfNecessary();\n  }, function () {\n    var cachedImage = imageCacheDict[imageId];\n    cachedImages.splice(cachedImages.indexOf(cachedImage), 1);\n    delete imageCacheDict[imageId];\n  });\n}\n/**\n * Retuns the object that is loading a given imageId\n *\n * @param {string} imageId Image ID\n * @returns {void}\n */\n\nfunction getImageLoadObject(imageId) {\n  if (imageId === undefined) {\n    throw new Error('getImageLoadObject: imageId must not be undefined');\n  }\n\n  var cachedImage = imageCacheDict[imageId];\n\n  if (cachedImage === undefined) {\n    return;\n  } // Bump time stamp for cached image\n\n\n  cachedImage.timeStamp = Date.now();\n  return cachedImage.imageLoadObject;\n}\n/**\n * Removes the image loader associated with a given Id from the cache\n *\n * @param {string} imageId Image ID\n * @returns {void}\n */\n\nfunction removeImageLoadObject(imageId) {\n  if (imageId === undefined) {\n    throw new Error('removeImageLoadObject: imageId must not be undefined');\n  }\n\n  var cachedImage = imageCacheDict[imageId];\n\n  if (cachedImage === undefined) {\n    throw new Error('removeImageLoadObject: imageId was not present in imageCache');\n  }\n\n  cachedImages.splice(cachedImages.indexOf(cachedImage), 1);\n  cacheSizeInBytes -= cachedImage.sizeInBytes;\n  var eventDetails = {\n    action: 'deleteImage',\n    image: cachedImage\n  };\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_0__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].IMAGE_CACHE_CHANGED, eventDetails);\n  decache(cachedImage.imageLoadObject);\n  delete imageCacheDict[imageId];\n}\n/**\n * @typedef {Object} CacheInformation\n * @property {number} maximumSizeInBytes  The maximum size of the cache in bytes\n * @property {number} cacheSizeInBytes Currently occupied space in the cache in bytes\n * @property {number} numberOfImagesCached Number of ImageLoaders in the cache\n * @returns {void}\n */\n\n/**\n * Gets the current state of the cache\n * @returns {void}\n */\n\nfunction getCacheInfo() {\n  return {\n    maximumSizeInBytes: maximumSizeInBytes,\n    cacheSizeInBytes: cacheSizeInBytes,\n    numberOfImagesCached: cachedImages.length\n  };\n} // This method should only be called by `removeImageLoadObject` because it's\n// The one that knows how to deal with shared cache keys and cache size.\n\n/**\n * INTERNAL: Removes and ImageLoader from the cache\n *\n * @param {Object} imageLoadObject Image Loader Object to remove\n * @returns {void}\n */\n\nfunction decache(imageLoadObject) {\n  imageLoadObject.promise.then(function () {\n    if (imageLoadObject.decache) {\n      imageLoadObject.decache();\n    }\n  }, function () {\n    if (imageLoadObject.decache) {\n      imageLoadObject.decache();\n    }\n  });\n}\n/**\n * Removes all images from cache\n * @returns {void}\n */\n\n\nfunction purgeCache() {\n  while (cachedImages.length > 0) {\n    var removedCachedImage = cachedImages[0];\n    removeImageLoadObject(removedCachedImage.imageId);\n  }\n}\n/**\n * Updates the space than an image is using in the cache\n *\n * @param {string} imageId Image ID\n * @param {number} newCacheSize New image size\n * @returns {void}\n */\n\nfunction changeImageIdCacheSize(imageId, newCacheSize) {\n  var cacheEntry = imageCacheDict[imageId];\n\n  if (cacheEntry) {\n    cacheEntry.imageLoadObject.promise.then(function (image) {\n      var cacheSizeDifference = newCacheSize - image.sizeInBytes;\n      image.sizeInBytes = newCacheSize;\n      cacheEntry.sizeInBytes = newCacheSize;\n      cacheSizeInBytes += cacheSizeDifference;\n      var eventDetails = {\n        action: 'changeImageSize',\n        image: image\n      };\n      Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_0__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].IMAGE_CACHE_CHANGED, eventDetails);\n    });\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  imageCache: imageCacheDict,\n  cachedImages: cachedImages,\n  setMaximumSizeBytes: setMaximumSizeBytes,\n  putImageLoadObject: putImageLoadObject,\n  getImageLoadObject: getImageLoadObject,\n  removeImageLoadObject: removeImageLoadObject,\n  getCacheInfo: getCacheInfo,\n  purgeCache: purgeCache,\n  changeImageIdCacheSize: changeImageIdCacheSize\n});\n\n/***/ }),\n\n/***/ \"./imageLoader.js\":\n/*!************************!*\\\n  !*** ./imageLoader.js ***!\n  \\************************/\n/*! exports provided: loadImage, loadAndCacheImage, registerImageLoader, registerUnknownImageLoader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadImage\", function() { return loadImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadAndCacheImage\", function() { return loadAndCacheImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerImageLoader\", function() { return registerImageLoader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerUnknownImageLoader\", function() { return registerUnknownImageLoader; });\n/* harmony import */ var _imageCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./imageCache.js */ \"./imageCache.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n\n\n\n/**\r\n * This module deals with ImageLoaders, loading images and caching images\r\n * @module ImageLoader\r\n */\n\nvar imageLoaders = {};\nvar unknownImageLoader;\n/**\r\n * Load an image using a registered Cornerstone Image Loader.\r\n *\r\n * The image loader that is used will be\r\n * determined by the image loader scheme matching against the imageId.\r\n *\r\n * @param {String} imageId A Cornerstone Image Object's imageId\r\n * @param {Object} [options] Options to be passed to the Image Loader\r\n *\r\n * @returns {ImageLoadObject} An Object which can be used to act after an image is loaded or loading fails\r\n * @memberof ImageLoader\r\n */\n\nfunction loadImageFromImageLoader(imageId, options) {\n  var colonIndex = imageId.indexOf(':');\n  var scheme = imageId.substring(0, colonIndex);\n  var loader = imageLoaders[scheme];\n\n  if (loader === undefined || loader === null) {\n    if (unknownImageLoader !== undefined) {\n      return unknownImageLoader(imageId);\n    }\n\n    throw new Error('loadImageFromImageLoader: no image loader for imageId');\n  }\n\n  var imageLoadObject = loader(imageId, options); // Broadcast an image loaded event once the image is loaded\n\n  imageLoadObject.promise.then(function (image) {\n    Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_1__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].IMAGE_LOADED, {\n      image: image\n    });\n  }, function (error) {\n    var errorObject = {\n      imageId: imageId,\n      error: error\n    };\n    Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_1__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].IMAGE_LOAD_FAILED, errorObject);\n  });\n  return imageLoadObject;\n}\n/**\r\n * Loads an image given an imageId and optional priority and returns a promise which will resolve to\r\n * the loaded image object or fail if an error occurred.  The loaded image is not stored in the cache.\r\n *\r\n * @param {String} imageId A Cornerstone Image Object's imageId\r\n * @param {Object} [options] Options to be passed to the Image Loader\r\n *\r\n * @returns {ImageLoadObject} An Object which can be used to act after an image is loaded or loading fails\r\n * @memberof ImageLoader\r\n */\n\n\nfunction loadImage(imageId, options) {\n  if (imageId === undefined) {\n    throw new Error('loadImage: parameter imageId must not be undefined');\n  }\n\n  var imageLoadObject = Object(_imageCache_js__WEBPACK_IMPORTED_MODULE_0__[\"getImageLoadObject\"])(imageId);\n\n  if (imageLoadObject !== undefined) {\n    return imageLoadObject.promise;\n  }\n\n  return loadImageFromImageLoader(imageId, options).promise;\n} //\n\n/**\r\n * Loads an image given an imageId and optional priority and returns a promise which will resolve to\r\n * the loaded image object or fail if an error occurred. The image is stored in the cache.\r\n *\r\n * @param {String} imageId A Cornerstone Image Object's imageId\r\n * @param {Object} [options] Options to be passed to the Image Loader\r\n *\r\n * @returns {ImageLoadObject} Image Loader Object\r\n * @memberof ImageLoader\r\n */\n\nfunction loadAndCacheImage(imageId, options) {\n  if (imageId === undefined) {\n    throw new Error('loadAndCacheImage: parameter imageId must not be undefined');\n  }\n\n  var imageLoadObject = Object(_imageCache_js__WEBPACK_IMPORTED_MODULE_0__[\"getImageLoadObject\"])(imageId);\n\n  if (imageLoadObject !== undefined) {\n    return imageLoadObject.promise;\n  }\n\n  imageLoadObject = loadImageFromImageLoader(imageId, options);\n  Object(_imageCache_js__WEBPACK_IMPORTED_MODULE_0__[\"putImageLoadObject\"])(imageId, imageLoadObject);\n  return imageLoadObject.promise;\n}\n/**\r\n * Registers an imageLoader plugin with cornerstone for the specified scheme\r\n *\r\n * @param {String} scheme The scheme to use for this image loader (e.g. 'dicomweb', 'wadouri', 'http')\r\n * @param {Function} imageLoader A Cornerstone Image Loader function\r\n * @returns {void}\r\n * @memberof ImageLoader\r\n */\n\nfunction registerImageLoader(scheme, imageLoader) {\n  imageLoaders[scheme] = imageLoader;\n}\n/**\r\n * Registers a new unknownImageLoader and returns the previous one\r\n *\r\n * @param {Function} imageLoader A Cornerstone Image Loader\r\n *\r\n * @returns {Function|Undefined} The previous Unknown Image Loader\r\n * @memberof ImageLoader\r\n */\n\nfunction registerUnknownImageLoader(imageLoader) {\n  var oldImageLoader = unknownImageLoader;\n  unknownImageLoader = imageLoader;\n  return oldImageLoader;\n}\n\n/***/ }),\n\n/***/ \"./index.js\":\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/*! exports provided: drawImage, generateLut, getDefaultViewport, requestAnimationFrame, storedPixelDataToCanvasImageData, storedColorPixelDataToCanvasImageData, storedPixelDataToCanvasImageDataColorLUT, storedPixelDataToCanvasImageDataPseudocolorLUT, internal, renderLabelMapImage, renderPseudoColorImage, renderColorImage, renderGrayscaleImage, renderWebImage, renderToCanvas, canvasToPixel, disable, displayImage, draw, drawInvalidated, enable, getElementData, removeElementData, getEnabledElement, addEnabledElement, getEnabledElementsByImageId, getEnabledElements, addLayer, removeLayer, getLayer, getLayers, getVisibleLayers, setActiveLayer, getActiveLayer, purgeLayers, setLayerImage, fitToWindow, getDefaultViewportForImage, getImage, getPixels, getStoredPixels, getViewport, loadImage, loadAndCacheImage, registerImageLoader, registerUnknownImageLoader, invalidate, invalidateImageId, pageToPixel, pixelToCanvas, reset, resize, setToPixelCoordinateSystem, setViewport, updateImage, pixelDataToFalseColorData, rendering, imageCache, metaData, webGL, colors, convertImageToFalseColorImage, convertToFalseColorImage, restoreImage, EVENTS, events, triggerEvent */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_drawImage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/drawImage.js */ \"./internal/drawImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"drawImage\", function() { return _internal_drawImage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _internal_generateLut_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/generateLut.js */ \"./internal/generateLut.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"generateLut\", function() { return _internal_generateLut_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/getDefaultViewport.js */ \"./internal/getDefaultViewport.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getDefaultViewport\", function() { return _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/requestAnimationFrame.js */ \"./internal/requestAnimationFrame.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"requestAnimationFrame\", function() { return _internal_requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/storedPixelDataToCanvasImageData.js */ \"./internal/storedPixelDataToCanvasImageData.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"storedPixelDataToCanvasImageData\", function() { return _internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./internal/storedColorPixelDataToCanvasImageData.js */ \"./internal/storedColorPixelDataToCanvasImageData.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"storedColorPixelDataToCanvasImageData\", function() { return _internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internal/storedPixelDataToCanvasImageDataColorLUT.js */ \"./internal/storedPixelDataToCanvasImageDataColorLUT.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"storedPixelDataToCanvasImageDataColorLUT\", function() { return _internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js */ \"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"storedPixelDataToCanvasImageDataPseudocolorLUT\", function() { return _internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _internal_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./internal/index.js */ \"./internal/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"internal\", function() { return _internal_index_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./rendering/renderLabelMapImage.js */ \"./rendering/renderLabelMapImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"renderLabelMapImage\", function() { return _rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_9__[\"renderLabelMapImage\"]; });\n\n/* harmony import */ var _rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./rendering/renderPseudoColorImage.js */ \"./rendering/renderPseudoColorImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"renderPseudoColorImage\", function() { return _rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_10__[\"renderPseudoColorImage\"]; });\n\n/* harmony import */ var _rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./rendering/renderColorImage.js */ \"./rendering/renderColorImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"renderColorImage\", function() { return _rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_11__[\"renderColorImage\"]; });\n\n/* harmony import */ var _rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./rendering/renderGrayscaleImage.js */ \"./rendering/renderGrayscaleImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"renderGrayscaleImage\", function() { return _rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_12__[\"renderGrayscaleImage\"]; });\n\n/* harmony import */ var _rendering_renderWebImage_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./rendering/renderWebImage.js */ \"./rendering/renderWebImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"renderWebImage\", function() { return _rendering_renderWebImage_js__WEBPACK_IMPORTED_MODULE_13__[\"renderWebImage\"]; });\n\n/* harmony import */ var _rendering_renderToCanvas_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./rendering/renderToCanvas.js */ \"./rendering/renderToCanvas.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"renderToCanvas\", function() { return _rendering_renderToCanvas_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]; });\n\n/* harmony import */ var _canvasToPixel_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./canvasToPixel.js */ \"./canvasToPixel.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"canvasToPixel\", function() { return _canvasToPixel_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"]; });\n\n/* harmony import */ var _disable_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./disable.js */ \"./disable.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"disable\", function() { return _disable_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"]; });\n\n/* harmony import */ var _displayImage_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./displayImage.js */ \"./displayImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"displayImage\", function() { return _displayImage_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"]; });\n\n/* harmony import */ var _draw_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./draw.js */ \"./draw.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"draw\", function() { return _draw_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"]; });\n\n/* harmony import */ var _drawInvalidated_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./drawInvalidated.js */ \"./drawInvalidated.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"drawInvalidated\", function() { return _drawInvalidated_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"]; });\n\n/* harmony import */ var _enable_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./enable.js */ \"./enable.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"enable\", function() { return _enable_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"]; });\n\n/* harmony import */ var _enabledElementData_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./enabledElementData.js */ \"./enabledElementData.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getElementData\", function() { return _enabledElementData_js__WEBPACK_IMPORTED_MODULE_21__[\"getElementData\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"removeElementData\", function() { return _enabledElementData_js__WEBPACK_IMPORTED_MODULE_21__[\"removeElementData\"]; });\n\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getEnabledElement\", function() { return _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__[\"getEnabledElement\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"addEnabledElement\", function() { return _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__[\"addEnabledElement\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getEnabledElementsByImageId\", function() { return _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__[\"getEnabledElementsByImageId\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getEnabledElements\", function() { return _enabledElements_js__WEBPACK_IMPORTED_MODULE_22__[\"getEnabledElements\"]; });\n\n/* harmony import */ var _layers_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./layers.js */ \"./layers.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"addLayer\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"addLayer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"removeLayer\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"removeLayer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getLayer\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"getLayer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getLayers\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"getLayers\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getVisibleLayers\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"getVisibleLayers\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"setActiveLayer\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"setActiveLayer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getActiveLayer\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"getActiveLayer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"purgeLayers\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"purgeLayers\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"setLayerImage\", function() { return _layers_js__WEBPACK_IMPORTED_MODULE_23__[\"setLayerImage\"]; });\n\n/* harmony import */ var _fitToWindow_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./fitToWindow.js */ \"./fitToWindow.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fitToWindow\", function() { return _fitToWindow_js__WEBPACK_IMPORTED_MODULE_24__[\"default\"]; });\n\n/* harmony import */ var _getDefaultViewportForImage_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./getDefaultViewportForImage.js */ \"./getDefaultViewportForImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getDefaultViewportForImage\", function() { return _getDefaultViewportForImage_js__WEBPACK_IMPORTED_MODULE_25__[\"default\"]; });\n\n/* harmony import */ var _getImage_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./getImage.js */ \"./getImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getImage\", function() { return _getImage_js__WEBPACK_IMPORTED_MODULE_26__[\"default\"]; });\n\n/* harmony import */ var _getPixels_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./getPixels.js */ \"./getPixels.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getPixels\", function() { return _getPixels_js__WEBPACK_IMPORTED_MODULE_27__[\"default\"]; });\n\n/* harmony import */ var _getStoredPixels_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./getStoredPixels.js */ \"./getStoredPixels.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getStoredPixels\", function() { return _getStoredPixels_js__WEBPACK_IMPORTED_MODULE_28__[\"default\"]; });\n\n/* harmony import */ var _getViewport_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./getViewport.js */ \"./getViewport.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getViewport\", function() { return _getViewport_js__WEBPACK_IMPORTED_MODULE_29__[\"default\"]; });\n\n/* harmony import */ var _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./imageLoader.js */ \"./imageLoader.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"loadImage\", function() { return _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__[\"loadImage\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"loadAndCacheImage\", function() { return _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__[\"loadAndCacheImage\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"registerImageLoader\", function() { return _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__[\"registerImageLoader\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"registerUnknownImageLoader\", function() { return _imageLoader_js__WEBPACK_IMPORTED_MODULE_30__[\"registerUnknownImageLoader\"]; });\n\n/* harmony import */ var _invalidate_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./invalidate.js */ \"./invalidate.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"invalidate\", function() { return _invalidate_js__WEBPACK_IMPORTED_MODULE_31__[\"default\"]; });\n\n/* harmony import */ var _invalidateImageId_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./invalidateImageId.js */ \"./invalidateImageId.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"invalidateImageId\", function() { return _invalidateImageId_js__WEBPACK_IMPORTED_MODULE_32__[\"default\"]; });\n\n/* harmony import */ var _pageToPixel_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./pageToPixel.js */ \"./pageToPixel.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pageToPixel\", function() { return _pageToPixel_js__WEBPACK_IMPORTED_MODULE_33__[\"default\"]; });\n\n/* harmony import */ var _pixelToCanvas_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./pixelToCanvas.js */ \"./pixelToCanvas.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pixelToCanvas\", function() { return _pixelToCanvas_js__WEBPACK_IMPORTED_MODULE_34__[\"default\"]; });\n\n/* harmony import */ var _reset_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./reset.js */ \"./reset.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"reset\", function() { return _reset_js__WEBPACK_IMPORTED_MODULE_35__[\"default\"]; });\n\n/* harmony import */ var _resize_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./resize.js */ \"./resize.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"resize\", function() { return _resize_js__WEBPACK_IMPORTED_MODULE_36__[\"default\"]; });\n\n/* harmony import */ var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./setToPixelCoordinateSystem.js */ \"./setToPixelCoordinateSystem.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"setToPixelCoordinateSystem\", function() { return _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_37__[\"default\"]; });\n\n/* harmony import */ var _setViewport_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./setViewport.js */ \"./setViewport.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"setViewport\", function() { return _setViewport_js__WEBPACK_IMPORTED_MODULE_38__[\"default\"]; });\n\n/* harmony import */ var _updateImage_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./updateImage.js */ \"./updateImage.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"updateImage\", function() { return _updateImage_js__WEBPACK_IMPORTED_MODULE_39__[\"default\"]; });\n\n/* harmony import */ var _pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./pixelDataToFalseColorData.js */ \"./pixelDataToFalseColorData.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pixelDataToFalseColorData\", function() { return _pixelDataToFalseColorData_js__WEBPACK_IMPORTED_MODULE_40__[\"default\"]; });\n\n/* harmony import */ var _rendering_index_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./rendering/index.js */ \"./rendering/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rendering\", function() { return _rendering_index_js__WEBPACK_IMPORTED_MODULE_41__[\"default\"]; });\n\n/* harmony import */ var _imageCache_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./imageCache.js */ \"./imageCache.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"imageCache\", function() { return _imageCache_js__WEBPACK_IMPORTED_MODULE_42__[\"default\"]; });\n\n/* harmony import */ var _metaData_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./metaData.js */ \"./metaData.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"metaData\", function() { return _metaData_js__WEBPACK_IMPORTED_MODULE_43__[\"default\"]; });\n\n/* harmony import */ var _webgl_index_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./webgl/index.js */ \"./webgl/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"webGL\", function() { return _webgl_index_js__WEBPACK_IMPORTED_MODULE_44__[\"default\"]; });\n\n/* harmony import */ var _colors_index_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./colors/index.js */ \"./colors/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"colors\", function() { return _colors_index_js__WEBPACK_IMPORTED_MODULE_45__[\"default\"]; });\n\n/* harmony import */ var _falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./falseColorMapping.js */ \"./falseColorMapping.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"convertImageToFalseColorImage\", function() { return _falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__[\"convertImageToFalseColorImage\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"convertToFalseColorImage\", function() { return _falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__[\"convertToFalseColorImage\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"restoreImage\", function() { return _falseColorMapping_js__WEBPACK_IMPORTED_MODULE_46__[\"restoreImage\"]; });\n\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EVENTS\", function() { return _events_js__WEBPACK_IMPORTED_MODULE_47__[\"default\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"events\", function() { return _events_js__WEBPACK_IMPORTED_MODULE_47__[\"events\"]; });\n\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"triggerEvent\", function() { return _triggerEvent_js__WEBPACK_IMPORTED_MODULE_48__[\"default\"]; });\n\n// Internal (some of these are from old internal/legacy expose)\n\n\n\n\n\n\n\n\n // Rendering\n\n\n\n\n\n\n\n/**\n * @module PixelCoordinateSystem\n */\n\n/**\n * @module ViewportSettings\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./internal/calculateTransform.js\":\n/*!****************************************!*\\\n  !*** ./internal/calculateTransform.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transform.js */ \"./internal/transform.js\");\n\n/**\n * Calculate the transform for a Cornerstone enabled element\n *\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element\n * @param {Number} [scale] The viewport scale\n * @return {Transform} The current transform\n * @memberof Internal\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement, scale) {\n  var transform = new _transform_js__WEBPACK_IMPORTED_MODULE_0__[\"Transform\"](); // Move to center of canvas\n\n  transform.translate(enabledElement.canvas.width / 2, enabledElement.canvas.height / 2); // Apply the rotation before scaling for non square pixels\n\n  var angle = enabledElement.viewport.rotation;\n\n  if (angle !== 0) {\n    transform.rotate(angle * Math.PI / 180);\n  } // Apply the scale\n\n\n  var widthScale = enabledElement.viewport.scale;\n  var heightScale = enabledElement.viewport.scale;\n  var width = enabledElement.viewport.displayedArea.brhc.x - (enabledElement.viewport.displayedArea.tlhc.x - 1);\n  var height = enabledElement.viewport.displayedArea.brhc.y - (enabledElement.viewport.displayedArea.tlhc.y - 1);\n\n  if (enabledElement.viewport.displayedArea.presentationSizeMode === 'NONE') {\n    if (enabledElement.image.rowPixelSpacing < enabledElement.image.columnPixelSpacing) {\n      widthScale *= enabledElement.image.columnPixelSpacing / enabledElement.image.rowPixelSpacing;\n    } else if (enabledElement.image.columnPixelSpacing < enabledElement.image.rowPixelSpacing) {\n      heightScale *= enabledElement.image.rowPixelSpacing / enabledElement.image.columnPixelSpacing;\n    }\n  } else {\n    // These should be good for \"TRUE SIZE\" and \"MAGNIFY\"\n    widthScale = enabledElement.viewport.displayedArea.columnPixelSpacing;\n    heightScale = enabledElement.viewport.displayedArea.rowPixelSpacing;\n\n    if (enabledElement.viewport.displayedArea.presentationSizeMode === 'SCALE TO FIT') {\n      // Fit TRUE IMAGE image (width/height) to window\n      var verticalScale = enabledElement.canvas.height / (height * heightScale);\n      var horizontalScale = enabledElement.canvas.width / (width * widthScale); // Apply new scale\n\n      widthScale = heightScale = Math.min(horizontalScale, verticalScale);\n\n      if (enabledElement.viewport.displayedArea.rowPixelSpacing < enabledElement.viewport.displayedArea.columnPixelSpacing) {\n        widthScale *= enabledElement.viewport.displayedArea.columnPixelSpacing / enabledElement.viewport.displayedArea.rowPixelSpacing;\n      } else if (enabledElement.viewport.displayedArea.columnPixelSpacing < enabledElement.viewport.displayedArea.rowPixelSpacing) {\n        heightScale *= enabledElement.viewport.displayedArea.rowPixelSpacing / enabledElement.viewport.displayedArea.columnPixelSpacing;\n      }\n    }\n  }\n\n  transform.scale(widthScale, heightScale); // Unrotate to so we can translate unrotated\n\n  if (angle !== 0) {\n    transform.rotate(-angle * Math.PI / 180);\n  } // Apply the pan offset\n\n\n  transform.translate(enabledElement.viewport.translation.x, enabledElement.viewport.translation.y); // Rotate again so we can apply general scale\n\n  if (angle !== 0) {\n    transform.rotate(angle * Math.PI / 180);\n  }\n\n  if (scale !== undefined) {\n    // Apply the font scale\n    transform.scale(scale, scale);\n  } // Apply Flip if required\n\n\n  if (enabledElement.viewport.hflip) {\n    transform.scale(-1, 1);\n  }\n\n  if (enabledElement.viewport.vflip) {\n    transform.scale(1, -1);\n  } // Move back from center of image\n\n\n  transform.translate(-width / 2, -height / 2);\n  return transform;\n});\n\n/***/ }),\n\n/***/ \"./internal/computeAutoVoi.js\":\n/*!************************************!*\\\n  !*** ./internal/computeAutoVoi.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return computeAutoVoi; });\n/**\n * Computes the VOI to display all the pixels if no VOI LUT data (Window Width/Window Center or voiLUT) exists on the viewport object.\n *\n * @param {Viewport} viewport - Object containing the viewport properties\n * @param {Object} image An Image loaded by a Cornerstone Image Loader\n * @returns {void}\n * @memberof Internal\n */\nfunction computeAutoVoi(viewport, image) {\n  if (hasVoi(viewport)) {\n    return;\n  }\n\n  var maxVoi = image.maxPixelValue * image.slope + image.intercept;\n  var minVoi = image.minPixelValue * image.slope + image.intercept;\n  var ww = maxVoi - minVoi;\n  var wc = (maxVoi + minVoi) / 2;\n\n  if (viewport.voi === undefined) {\n    viewport.voi = {\n      windowWidth: ww,\n      windowCenter: wc\n    };\n  } else {\n    viewport.voi.windowWidth = ww;\n    viewport.voi.windowCenter = wc;\n  }\n}\n/**\n * Check if viewport has voi LUT data\n * @param {any} viewport The viewport to check for voi LUT data\n * @returns {Boolean} true viewport has LUT data (Window Width/Window Center or voiLUT). Otherwise, false.\n * @memberof Internal\n */\n\nfunction hasVoi(viewport) {\n  var hasLut = viewport.voiLUT && viewport.voiLUT.lut && viewport.voiLUT.lut.length > 0;\n  return hasLut || viewport.voi.windowWidth !== undefined && viewport.voi.windowCenter !== undefined;\n}\n\n/***/ }),\n\n/***/ \"./internal/drawCompositeImage.js\":\n/*!****************************************!*\\\n  !*** ./internal/drawCompositeImage.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _layers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../layers.js */ \"./layers.js\");\n/* harmony import */ var _rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rendering/renderGrayscaleImage.js */ \"./rendering/renderGrayscaleImage.js\");\n/* harmony import */ var _rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rendering/renderColorImage.js */ \"./rendering/renderColorImage.js\");\n/* harmony import */ var _rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rendering/renderPseudoColorImage.js */ \"./rendering/renderPseudoColorImage.js\");\n/* harmony import */ var _rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rendering/renderLabelMapImage.js */ \"./rendering/renderLabelMapImage.js\");\n/* harmony import */ var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../setToPixelCoordinateSystem.js */ \"./setToPixelCoordinateSystem.js\");\n\n\n\n\n\n\n\nfunction getViewportRatio(baseLayer, targetLayer) {\n  if (!baseLayer.syncProps) {\n    updateLayerSyncProps(baseLayer);\n  }\n\n  if (!targetLayer.syncProps) {\n    updateLayerSyncProps(targetLayer);\n  }\n\n  return targetLayer.syncProps.originalScale / baseLayer.syncProps.originalScale;\n}\n\nfunction updateLayerSyncProps(layer) {\n  var syncProps = layer.syncProps || {}; // This is used to keep each of the layers' viewports in sync with the active layer\n\n  syncProps.originalScale = layer.viewport.scale;\n  layer.syncProps = syncProps;\n} // Sync all viewports based on active layer's viewport\n\n\nfunction syncViewports(layers, activeLayer) {\n  // If we intend to keep the viewport's scale, translation and rotation in sync,\n  // loop through the layers\n  layers.forEach(function (layer) {\n    // Don't do anything to the active layer\n    // Don't do anything if this layer has no viewport\n    if (layer === activeLayer || !layer.viewport || !activeLayer.viewport) {\n      return;\n    }\n\n    if (!layer.syncProps) {\n      updateLayerSyncProps(layer);\n    }\n\n    var viewportRatio = getViewportRatio(activeLayer, layer); // Update the layer's translation and scale to keep them in sync with the first image\n    // based on the ratios between the images\n\n    layer.viewport.scale = activeLayer.viewport.scale * viewportRatio;\n    layer.viewport.rotation = activeLayer.viewport.rotation;\n    layer.viewport.translation = {\n      x: activeLayer.viewport.translation.x / viewportRatio,\n      y: activeLayer.viewport.translation.y / viewportRatio\n    };\n    layer.viewport.hflip = activeLayer.viewport.hflip;\n    layer.viewport.vflip = activeLayer.viewport.vflip;\n  });\n}\n/**\n * Internal function to render all layers for a Cornerstone enabled element\n *\n * @param {CanvasRenderingContext2D} context Canvas context to draw upon\n * @param {EnabledElementLayer[]} layers The array of all layers for this enabled element\n * @param {Boolean} invalidated A boolean whether or not this image has been invalidated and must be redrawn\n * @returns {void}\n * @memberof Internal\n */\n\n\nfunction renderLayers(context, layers, invalidated) {\n  // Loop through each layer and draw it to the canvas\n  layers.forEach(function (layer, index) {\n    if (!layer.image) {\n      return;\n    }\n\n    context.save(); // Set the layer's canvas to the pixel coordinate system\n\n    layer.canvas = context.canvas;\n    Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(layer, context); // Render into the layer's canvas\n\n    var colormap = layer.viewport.colormap || layer.options.colormap;\n    var labelmap = layer.viewport.labelmap;\n    var isInvalid = layer.invalid || invalidated;\n\n    if (colormap && colormap !== '' && labelmap === true) {\n      Object(_rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_4__[\"addLabelMapLayer\"])(layer, isInvalid);\n    } else if (colormap && colormap !== '') {\n      Object(_rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_3__[\"addPseudoColorLayer\"])(layer, isInvalid);\n    } else if (layer.image.color === true) {\n      Object(_rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_2__[\"addColorLayer\"])(layer, isInvalid);\n    } else {\n      // If this is the base layer, use the alpha channel for rendering of the grayscale image\n      var useAlphaChannel = index === 0;\n      Object(_rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_1__[\"addGrayscaleLayer\"])(layer, isInvalid, useAlphaChannel);\n    } // Apply any global opacity settings that have been defined for this layer\n\n\n    if (layer.options && layer.options.opacity) {\n      context.globalAlpha = layer.options.opacity;\n    } else {\n      context.globalAlpha = 1;\n    }\n\n    if (layer.options && layer.options.fillStyle) {\n      context.fillStyle = layer.options.fillStyle;\n    } // Set the pixelReplication property before drawing from the layer into the\n    // composite canvas\n\n\n    context.imageSmoothingEnabled = !layer.viewport.pixelReplication;\n    context.mozImageSmoothingEnabled = context.imageSmoothingEnabled; // Draw from the current layer's canvas onto the enabled element's canvas\n\n    var sx = layer.viewport.displayedArea.tlhc.x - 1;\n    var sy = layer.viewport.displayedArea.tlhc.y - 1;\n    var width = layer.viewport.displayedArea.brhc.x - sx;\n    var height = layer.viewport.displayedArea.brhc.y - sy;\n    context.drawImage(layer.canvas, sx, sy, width, height, 0, 0, width, height);\n    context.restore();\n    layer.invalid = false;\n  });\n}\n/**\n * Internal API function to draw a composite image to a given enabled element\n *\n * @param {EnabledElement} enabledElement An enabled element to draw into\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement, invalidated) {\n  var element = enabledElement.element;\n  var allLayers = Object(_layers_js__WEBPACK_IMPORTED_MODULE_0__[\"getLayers\"])(element);\n  var activeLayer = Object(_layers_js__WEBPACK_IMPORTED_MODULE_0__[\"getActiveLayer\"])(element);\n  var visibleLayers = Object(_layers_js__WEBPACK_IMPORTED_MODULE_0__[\"getVisibleLayers\"])(element);\n  var resynced = !enabledElement.lastSyncViewportsState && enabledElement.syncViewports; // This state will help us to determine if the user has re-synced the\n  // layers allowing us to make a new copy of the viewports\n\n  enabledElement.lastSyncViewportsState = enabledElement.syncViewports; // Stores a copy of all viewports if the user has just synced them then we can use the\n  // copies to calculate anything later (ratio, translation offset, rotation offset, etc)\n\n  if (resynced) {\n    allLayers.forEach(function (layer) {\n      if (layer.viewport) {\n        updateLayerSyncProps(layer);\n      }\n    });\n  } // Sync all viewports in case it's activated\n\n\n  if (enabledElement.syncViewports === true) {\n    syncViewports(visibleLayers, activeLayer);\n  } // Get the enabled element's canvas so we can draw to it\n\n\n  var context = enabledElement.canvas.getContext('2d');\n  context.setTransform(1, 0, 0, 1, 0, 0); // Clear the canvas\n\n  context.fillStyle = 'black';\n  context.fillRect(0, 0, enabledElement.canvas.width, enabledElement.canvas.height); // Render all visible layers\n\n  renderLayers(context, visibleLayers, invalidated);\n});\n\n/***/ }),\n\n/***/ \"./internal/drawImage.js\":\n/*!*******************************!*\\\n  !*** ./internal/drawImage.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Internal API function to draw an image to a given enabled element\n *\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element to redraw\n * @param {Boolean} [invalidated = false] - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n * @memberof Internal\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement) {\n  var invalidated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  enabledElement.needsRedraw = true;\n\n  if (invalidated) {\n    enabledElement.invalid = true;\n  }\n});\n\n/***/ }),\n\n/***/ \"./internal/drawImageSync.js\":\n/*!***********************************!*\\\n  !*** ./internal/drawImageSync.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./now.js */ \"./internal/now.js\");\n/* harmony import */ var _drawCompositeImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./drawCompositeImage.js */ \"./internal/drawCompositeImage.js\");\n/* harmony import */ var _rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../rendering/renderColorImage.js */ \"./rendering/renderColorImage.js\");\n/* harmony import */ var _rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../rendering/renderGrayscaleImage.js */ \"./rendering/renderGrayscaleImage.js\");\n/* harmony import */ var _rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../rendering/renderPseudoColorImage.js */ \"./rendering/renderPseudoColorImage.js\");\n/* harmony import */ var _rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../rendering/renderLabelMapImage.js */ \"./rendering/renderLabelMapImage.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../events.js */ \"./events.js\");\n\n\n\n\n\n\n\n\n/**\r\n * Draw an image to a given enabled element synchronously\r\n *\r\n * @param {EnabledElement} enabledElement An enabled element to draw into\r\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\r\n * @returns {void}\r\n * @memberof Internal\r\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement, invalidated) {\n  var image = enabledElement.image;\n  var element = enabledElement.element;\n  var layers = enabledElement.layers || []; // Check if enabledElement can be redrawn\n\n  if (!enabledElement.canvas || !(enabledElement.image || layers.length)) {\n    return;\n  } // Start measuring the time needed to draw the image/layers\n\n\n  var start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  image.stats = {\n    lastGetPixelDataTime: -1.0,\n    lastStoredPixelDataToCanvasImageDataTime: -1.0,\n    lastPutImageDataTime: -1.0,\n    lastRenderTime: -1.0,\n    lastLutGenerateTime: -1.0\n  };\n\n  if (layers && layers.length) {\n    Object(_drawCompositeImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement, invalidated);\n  } else if (image) {\n    var render = image.render;\n\n    if (!render) {\n      if (enabledElement.viewport.colormap && enabledElement.viewport.colormap !== '' && enabledElement.image.labelmap === true) {\n        render = _rendering_renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_5__[\"renderLabelMapImage\"];\n      } else if (enabledElement.viewport.colormap && enabledElement.viewport.colormap !== '') {\n        render = _rendering_renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_4__[\"renderPseudoColorImage\"];\n      } else if (image.color) {\n        render = _rendering_renderColorImage_js__WEBPACK_IMPORTED_MODULE_2__[\"renderColorImage\"];\n      } else {\n        render = _rendering_renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_3__[\"renderGrayscaleImage\"];\n      }\n    }\n\n    render(enabledElement, invalidated);\n  } // Calculate how long it took to draw the image/layers\n\n\n  var renderTimeInMs = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n  var eventData = {\n    viewport: enabledElement.viewport,\n    element: element,\n    image: image,\n    enabledElement: enabledElement,\n    canvasContext: enabledElement.canvas.getContext('2d'),\n    renderTimeInMs: renderTimeInMs\n  };\n  image.stats.lastRenderTime = renderTimeInMs;\n  enabledElement.invalid = false;\n  enabledElement.needsRedraw = false;\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(element, _events_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].IMAGE_RENDERED, eventData);\n});\n\n/***/ }),\n\n/***/ \"./internal/generateColorLut.js\":\n/*!**************************************!*\\\n  !*** ./internal/generateColorLut.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _getVOILut_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getVOILut.js */ \"./internal/getVOILut.js\");\n\n/**\n * Creates a LUT used while rendering to convert stored pixel values to\n * display pixels\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {Number} windowWidth The Window Width\n * @param {Number} windowCenter The Window Center\n * @param {Boolean} invert A boolean describing whether or not the image has been inverted\n * @param {Array} [voiLUT] A Volume of Interest Lookup Table\n *\n * @returns {Uint8ClampedArray} A lookup table to apply to the image\n * @memberof Internal\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (image, windowWidth, windowCenter, invert, voiLUT) {\n  var maxPixelValue = image.maxPixelValue;\n  var minPixelValue = image.minPixelValue;\n  var offset = Math.min(minPixelValue, 0);\n\n  if (image.cachedLut === undefined) {\n    var length = maxPixelValue - offset + 1;\n    image.cachedLut = {};\n    image.cachedLut.lutArray = new Uint8ClampedArray(length);\n  }\n\n  var lut = image.cachedLut.lutArray;\n  var vlutfn = Object(_getVOILut_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(windowWidth, windowCenter, voiLUT);\n\n  if (invert === true) {\n    for (var storedValue = minPixelValue; storedValue <= maxPixelValue; storedValue++) {\n      lut[storedValue + -offset] = 255 - vlutfn(storedValue);\n    }\n  } else {\n    for (var _storedValue = minPixelValue; _storedValue <= maxPixelValue; _storedValue++) {\n      lut[_storedValue + -offset] = vlutfn(_storedValue);\n    }\n  }\n\n  return lut;\n});\n\n/***/ }),\n\n/***/ \"./internal/generateLut.js\":\n/*!*********************************!*\\\n  !*** ./internal/generateLut.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _getModalityLUT_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getModalityLUT.js */ \"./internal/getModalityLUT.js\");\n/* harmony import */ var _getVOILut_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getVOILut.js */ \"./internal/getVOILut.js\");\n\n\n/**\r\n * Creates a LUT used while rendering to convert stored pixel values to\r\n * display pixels\r\n *\r\n * @param {Image} image A Cornerstone Image Object\r\n * @param {Number} windowWidth The Window Width\r\n * @param {Number} windowCenter The Window Center\r\n * @param {Boolean} invert A boolean describing whether or not the image has been inverted\r\n * @param {Array} [modalityLUT] A modality Lookup Table\r\n * @param {Array} [voiLUT] A Volume of Interest Lookup Table\r\n *\r\n * @returns {Uint8ClampedArray} A lookup table to apply to the image\r\n * @memberof Internal\r\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (image, windowWidth, windowCenter, invert, modalityLUT, voiLUT) {\n  var maxPixelValue = image.maxPixelValue;\n  var minPixelValue = image.minPixelValue;\n  var offset = Math.min(minPixelValue, 0);\n\n  if (image.cachedLut === undefined) {\n    var length = maxPixelValue - offset + 1;\n    image.cachedLut = {};\n    image.cachedLut.lutArray = new Uint8ClampedArray(length);\n  }\n\n  var lut = image.cachedLut.lutArray;\n  var mlutfn = Object(_getModalityLUT_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(image.slope, image.intercept, modalityLUT);\n  var vlutfn = Object(_getVOILut_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(windowWidth, windowCenter, voiLUT);\n\n  if (invert === true) {\n    for (var storedValue = minPixelValue; storedValue <= maxPixelValue; storedValue++) {\n      lut[storedValue + -offset] = 255 - vlutfn(mlutfn(storedValue));\n    }\n  } else {\n    for (var _storedValue = minPixelValue; _storedValue <= maxPixelValue; _storedValue++) {\n      lut[_storedValue + -offset] = vlutfn(mlutfn(_storedValue));\n    }\n  }\n\n  return lut;\n});\n\n/***/ }),\n\n/***/ \"./internal/getCanvas.js\":\n/*!*******************************!*\\\n  !*** ./internal/getCanvas.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getCanvas; });\nvar CANVAS_CSS_CLASS = 'cornerstone-canvas';\n/**\n * Create a canvas and append it to the element\n *\n * @param {HTMLElement} element An HTML Element\n * @return {HTMLElement} canvas A Canvas DOM element\n */\n\nfunction createCanvas(element) {\n  var canvas = document.createElement('canvas');\n  canvas.style.display = 'block';\n  canvas.classList.add(CANVAS_CSS_CLASS);\n  element.appendChild(canvas);\n  return canvas;\n}\n/**\n * Create a canvas or returns the one that already exists for a given element\n *\n * @param {HTMLElement} element An HTML Element\n * @return {HTMLElement} canvas A Canvas DOM element\n */\n\n\nfunction getCanvas(element) {\n  var selector = \"canvas.\".concat(CANVAS_CSS_CLASS);\n  return element.querySelector(selector) || createCanvas(element);\n}\n\n/***/ }),\n\n/***/ \"./internal/getDefaultViewport.js\":\n/*!****************************************!*\\\n  !*** ./internal/getDefaultViewport.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _getImageFitScale_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getImageFitScale.js */ \"./internal/getImageFitScale.js\");\n\n/**\n * Creates a new viewport object containing default values\n *\n * @returns {Viewport} viewport object\n * @memberof Internal\n */\n\nfunction createViewport() {\n  var displayedArea = createDefaultDisplayedArea();\n  return {\n    scale: 1,\n    translation: {\n      x: 0,\n      y: 0\n    },\n    voi: {\n      windowWidth: undefined,\n      windowCenter: undefined\n    },\n    invert: false,\n    pixelReplication: false,\n    rotation: 0,\n    hflip: false,\n    vflip: false,\n    modalityLUT: undefined,\n    voiLUT: undefined,\n    colormap: undefined,\n    labelmap: false,\n    displayedArea: displayedArea\n  };\n}\n/**\n * Creates the default displayed area.\n * C.10.4 Displayed Area Module: This Module describes Attributes required to define a Specified Displayed Area space.\n *\n * @returns {tlhc: {x,y}, brhc: {x, y},rowPixelSpacing: Number, columnPixelSpacing: Number, presentationSizeMode: Number} displayedArea object\n * @memberof Internal\n */\n\n\nfunction createDefaultDisplayedArea() {\n  return {\n    // Top Left Hand Corner\n    tlhc: {\n      x: 1,\n      y: 1\n    },\n    // Bottom Right Hand Corner\n    brhc: {\n      x: 1,\n      y: 1\n    },\n    rowPixelSpacing: 1,\n    columnPixelSpacing: 1,\n    presentationSizeMode: 'NONE'\n  };\n}\n/**\n * Creates a new viewport object containing default values for the image and canvas\n *\n * @param {HTMLElement} canvas A Canvas DOM element\n * @param {Image} image A Cornerstone Image Object\n * @returns {Viewport} viewport object\n * @memberof Internal\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (canvas, image) {\n  if (canvas === undefined) {\n    throw new Error('getDefaultViewport: parameter canvas must not be undefined');\n  }\n\n  if (image === undefined) {\n    return createViewport();\n  } // Fit image to window\n\n\n  var scale = Object(_getImageFitScale_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(canvas, image, 0).scaleFactor;\n  return {\n    scale: scale,\n    translation: {\n      x: 0,\n      y: 0\n    },\n    voi: {\n      windowWidth: image.windowWidth,\n      windowCenter: image.windowCenter\n    },\n    invert: image.invert,\n    pixelReplication: false,\n    rotation: 0,\n    hflip: false,\n    vflip: false,\n    modalityLUT: image.modalityLUT,\n    voiLUT: image.voiLUT,\n    colormap: image.colormap,\n    labelmap: Boolean(image.labelmap),\n    displayedArea: {\n      tlhc: {\n        x: 1,\n        y: 1\n      },\n      brhc: {\n        x: image.columns,\n        y: image.rows\n      },\n      rowPixelSpacing: image.rowPixelSpacing === undefined ? 1 : image.rowPixelSpacing,\n      columnPixelSpacing: image.columnPixelSpacing === undefined ? 1 : image.columnPixelSpacing,\n      presentationSizeMode: 'NONE'\n    }\n  };\n});\n\n/***/ }),\n\n/***/ \"./internal/getImageFitScale.js\":\n/*!**************************************!*\\\n  !*** ./internal/getImageFitScale.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _validator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validator.js */ \"./internal/validator.js\");\n/* harmony import */ var _getImageSize_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getImageSize.js */ \"./internal/getImageSize.js\");\n\n\n/**\n * Calculates the horizontal, vertical and minimum scale factor for an image\n   @param {{width, height}} windowSize The window size where the image is displayed. This can be any HTML element or structure with a width, height fields (e.g. canvas).\n * @param {any} image The cornerstone image object\n * @param {Number} rotation Optional. The rotation angle of the image.\n * @return {{horizontalScale, verticalScale, scaleFactor}} The calculated horizontal, vertical and minimum scale factor\n * @memberof Internal\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (windowSize, image) {\n  var rotation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__[\"validateParameterUndefinedOrNull\"])(windowSize, 'getImageScale: parameter windowSize must not be undefined');\n  Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__[\"validateParameterUndefinedOrNull\"])(image, 'getImageScale: parameter image must not be undefined');\n  var imageSize = Object(_getImageSize_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(image, rotation);\n  var rowPixelSpacing = image.rowPixelSpacing || 1;\n  var columnPixelSpacing = image.columnPixelSpacing || 1;\n  var verticalRatio = 1;\n  var horizontalRatio = 1;\n\n  if (rowPixelSpacing < columnPixelSpacing) {\n    horizontalRatio = columnPixelSpacing / rowPixelSpacing;\n  } else {\n    // even if they are equal we want to calculate this ratio (the ration might be 0.5)\n    verticalRatio = rowPixelSpacing / columnPixelSpacing;\n  }\n\n  var verticalScale = windowSize.height / imageSize.height / verticalRatio;\n  var horizontalScale = windowSize.width / imageSize.width / horizontalRatio; // Fit image to window\n\n  return {\n    verticalScale: verticalScale,\n    horizontalScale: horizontalScale,\n    scaleFactor: Math.min(horizontalScale, verticalScale)\n  };\n});\n\n/***/ }),\n\n/***/ \"./internal/getImageSize.js\":\n/*!**********************************!*\\\n  !*** ./internal/getImageSize.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _validator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validator.js */ \"./internal/validator.js\");\n\n/**\n * Check if the angle is rotated\n * @param {Number} rotation the rotation angle\n * @returns {Boolean} true if the angle is rotated; Otherwise, false.\n * @memberof Internal\n */\n\nfunction isRotated(rotation) {\n  return !(rotation === null || rotation === undefined || rotation === 0 || rotation === 180);\n}\n/**\n * Retrieves the current image dimensions given an enabled element\n *\n * @param {any} image The Cornerstone image.\n * @param {Number} rotation Optional. The rotation angle of the image.\n * @return {{width:Number, height:Number}} The Image dimensions\n * @memberof Internal\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (image) {\n  var rotation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__[\"validateParameterUndefinedOrNull\"])(image, 'getImageSize: parameter image must not be undefined');\n  Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__[\"validateParameterUndefinedOrNull\"])(image.width, 'getImageSize: parameter image must have width');\n  Object(_validator_js__WEBPACK_IMPORTED_MODULE_0__[\"validateParameterUndefinedOrNull\"])(image.height, 'getImageSize: parameter image must have height');\n\n  if (isRotated(rotation)) {\n    return {\n      height: image.width,\n      width: image.height\n    };\n  }\n\n  return {\n    width: image.width,\n    height: image.height\n  };\n});\n\n/***/ }),\n\n/***/ \"./internal/getModalityLUT.js\":\n/*!************************************!*\\\n  !*** ./internal/getModalityLUT.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Generates a linear modality transformation function\n *\n * See DICOM PS3.3 C.11.1 Modality LUT Module\n *\n * http://dicom.nema.org/medical/Dicom/current/output/chtml/part03/sect_C.11.html\n *\n * @param {Number} slope m in the equation specified by Rescale Intercept (0028,1052).\n * @param {Number} intercept The value b in relationship between stored values (SV) and the output units specified in Rescale Type (0028,1054).\n\n Output units = m*SV + b.\n * @return {function(*): *} A linear modality LUT function. Given a stored pixel it returns the modality pixel value\n * @memberof Internal\n */\nfunction generateLinearModalityLUT(slope, intercept) {\n  return function (storedPixelValue) {\n    return storedPixelValue * slope + intercept;\n  };\n}\n\nfunction generateNonLinearModalityLUT(modalityLUT) {\n  var minValue = modalityLUT.lut[0];\n  var maxValue = modalityLUT.lut[modalityLUT.lut.length - 1];\n  var maxValueMapped = modalityLUT.firstValueMapped + modalityLUT.lut.length;\n  return function (storedPixelValue) {\n    if (storedPixelValue < modalityLUT.firstValueMapped) {\n      return minValue;\n    } else if (storedPixelValue >= maxValueMapped) {\n      return maxValue;\n    }\n\n    return modalityLUT.lut[storedPixelValue];\n  };\n}\n/**\n * Get the appropriate Modality LUT for the current situation.\n *\n * @param {Number} [slope] m in the equation specified by Rescale Intercept (0028,1052).\n * @param {Number} [intercept] The value b in relationship between stored values (SV) and the output units specified in Rescale Type (0028,1054).\n * @param {Function} [modalityLUT] A modality LUT function. Given a stored pixel it returns the modality pixel value.\n *\n * @return {function(*): *} A modality LUT function. Given a stored pixel it returns the modality pixel value.\n * @memberof Internal\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (slope, intercept, modalityLUT) {\n  if (modalityLUT) {\n    return generateNonLinearModalityLUT(modalityLUT);\n  }\n\n  return generateLinearModalityLUT(slope, intercept);\n});\n\n/***/ }),\n\n/***/ \"./internal/getTransform.js\":\n/*!**********************************!*\\\n  !*** ./internal/getTransform.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _calculateTransform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calculateTransform.js */ \"./internal/calculateTransform.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement) {\n  // For now we will calculate it every time it is requested.\n  // In the future, we may want to cache it in the enabled element to speed things up.\n  return Object(_calculateTransform_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(enabledElement);\n});\n\n/***/ }),\n\n/***/ \"./internal/getVOILut.js\":\n/*!*******************************!*\\\n  !*** ./internal/getVOILut.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/* eslint no-bitwise: 0 */\n\n/**\n * Volume of Interest Lookup Table Function\n *\n * @typedef {Function} VOILUTFunction\n *\n * @param {Number} modalityLutValue\n * @returns {Number} transformed value\n * @memberof Objects\n */\n\n/**\n * @module: VOILUT\n */\n\n/**\n *\n * @param {Number} windowWidth Window Width\n * @param {Number} windowCenter Window Center\n * @returns {VOILUTFunction} VOI LUT mapping function\n * @memberof VOILUT\n */\nfunction generateLinearVOILUT(windowWidth, windowCenter) {\n  return function (modalityLutValue) {\n    return ((modalityLutValue - windowCenter) / windowWidth + 0.5) * 255.0;\n  };\n}\n/**\n * Generate a non-linear volume of interest lookup table\n *\n * @param {LUT} voiLUT Volume of Interest Lookup Table Object\n *\n * @returns {VOILUTFunction} VOI LUT mapping function\n * @memberof VOILUT\n */\n\n\nfunction generateNonLinearVOILUT(voiLUT) {\n  // We don't trust the voiLUT.numBitsPerEntry, mainly thanks to Agfa!\n  var bitsPerEntry = Math.max.apply(Math, _toConsumableArray(voiLUT.lut)).toString(2).length;\n  var shift = bitsPerEntry - 8;\n  var minValue = voiLUT.lut[0] >> shift;\n  var maxValue = voiLUT.lut[voiLUT.lut.length - 1] >> shift;\n  var maxValueMapped = voiLUT.firstValueMapped + voiLUT.lut.length - 1;\n  return function (modalityLutValue) {\n    if (modalityLutValue < voiLUT.firstValueMapped) {\n      return minValue;\n    } else if (modalityLutValue >= maxValueMapped) {\n      return maxValue;\n    }\n\n    return voiLUT.lut[modalityLutValue - voiLUT.firstValueMapped] >> shift;\n  };\n}\n/**\n * Retrieve a VOI LUT mapping function given the current windowing settings\n * and the VOI LUT for the image\n *\n * @param {Number} windowWidth Window Width\n * @param {Number} windowCenter Window Center\n * @param {LUT} [voiLUT] Volume of Interest Lookup Table Object\n *\n * @return {VOILUTFunction} VOI LUT mapping function\n * @memberof VOILUT\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (windowWidth, windowCenter, voiLUT) {\n  if (voiLUT) {\n    return generateNonLinearVOILUT(voiLUT);\n  }\n\n  return generateLinearVOILUT(windowWidth, windowCenter);\n});\n\n/***/ }),\n\n/***/ \"./internal/guid.js\":\n/*!**************************!*\\\n  !*** ./internal/guid.js ***!\n  \\**************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction s4() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n}\n/**\n * Generate a unique identifier\n *\n * @return {string} A unique identifier\n * @memberof Internal\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  return \"\".concat(s4() + s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4()).concat(s4()).concat(s4());\n});\n\n/***/ }),\n\n/***/ \"./internal/index.js\":\n/*!***************************!*\\\n  !*** ./internal/index.js ***!\n  \\***************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _drawImage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./drawImage.js */ \"./internal/drawImage.js\");\n/* harmony import */ var _generateLut_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generateLut.js */ \"./internal/generateLut.js\");\n/* harmony import */ var _getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getDefaultViewport.js */ \"./internal/getDefaultViewport.js\");\n/* harmony import */ var _requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./requestAnimationFrame.js */ \"./internal/requestAnimationFrame.js\");\n/* harmony import */ var _storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storedPixelDataToCanvasImageData.js */ \"./internal/storedPixelDataToCanvasImageData.js\");\n/* harmony import */ var _storedPixelDataToCanvasImageDataRGBA_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./storedPixelDataToCanvasImageDataRGBA.js */ \"./internal/storedPixelDataToCanvasImageDataRGBA.js\");\n/* harmony import */ var _storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./storedColorPixelDataToCanvasImageData.js */ \"./internal/storedColorPixelDataToCanvasImageData.js\");\n/* harmony import */ var _storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./storedPixelDataToCanvasImageDataColorLUT.js */ \"./internal/storedPixelDataToCanvasImageDataColorLUT.js\");\n/* harmony import */ var _storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./storedPixelDataToCanvasImageDataPseudocolorLUT.js */ \"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js\");\n/* harmony import */ var _getTransform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./getTransform.js */ \"./internal/getTransform.js\");\n/* harmony import */ var _calculateTransform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./calculateTransform.js */ \"./internal/calculateTransform.js\");\n/* harmony import */ var _transform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./transform.js */ \"./internal/transform.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\r\n * @module Internal\r\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  drawImage: _drawImage_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  generateLut: _generateLut_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  getDefaultViewport: _getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  requestAnimationFrame: _requestAnimationFrame_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  storedPixelDataToCanvasImageData: _storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  storedPixelDataToCanvasImageDataRGBA: _storedPixelDataToCanvasImageDataRGBA_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  storedPixelDataToCanvasImageDataColorLUT: _storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  storedPixelDataToCanvasImageDataPseudocolorLUT: _storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  storedColorPixelDataToCanvasImageData: _storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  getTransform: _getTransform_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  calculateTransform: _calculateTransform_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  Transform: _transform_js__WEBPACK_IMPORTED_MODULE_11__[\"Transform\"]\n});\n\n/***/ }),\n\n/***/ \"./internal/now.js\":\n/*!*************************!*\\\n  !*** ./internal/now.js ***!\n  \\*************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * @module Polyfills\n */\n\n/**\n * Use the performance.now() method if possible, and if not, use Date.now()\n *\n * @return {number} Time elapsed since the time origin\n * @memberof Polyfills\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  if (window.performance) {\n    return performance.now();\n  }\n\n  return Date.now();\n});\n\n/***/ }),\n\n/***/ \"./internal/requestAnimationFrame.js\":\n/*!*******************************************!*\\\n  !*** ./internal/requestAnimationFrame.js ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nfunction requestFrame(callback) {\n  window.setTimeout(callback, 1000 / 60);\n}\n/**\n * Polyfills requestAnimationFrame for older browsers.\n *\n * @param {Function} callback A parameter specifying a function to call when it's time to update your animation for the next repaint. The callback has one single argument, a DOMHighResTimeStamp, which indicates the current time (the time returned from performance.now() ) for when requestAnimationFrame starts to fire callbacks.\n *\n * @return {Number} A long integer value, the request id, that uniquely identifies the entry in the callback list. This is a non-zero value, but you may not make any other assumptions about its value. You can pass this value to window.cancelAnimationFrame() to cancel the refresh callback request.\n * @memberof Polyfills\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (callback) {\n  return window.requestAnimationFrame(callback) || window.webkitRequestAnimationFrame(callback) || window.mozRequestAnimationFrame(callback) || window.oRequestAnimationFrame(callback) || window.msRequestAnimationFrame(callback) || requestFrame(callback);\n});\n\n/***/ }),\n\n/***/ \"./internal/storedColorPixelDataToCanvasImageData.js\":\n/*!***********************************************************!*\\\n  !*** ./internal/storedColorPixelDataToCanvasImageData.js ***!\n  \\***********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./now.js */ \"./internal/now.js\");\n\n/**\n * Converts stored color pixel values to display pixel values using a LUT.\n *\n * Note: Skips alpha value for any input image pixel data.\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {Array} lut Lookup table array\n * @param {Uint8ClampedArray} canvasImageDataData canvasImageData.data buffer filled with white pixels\n *\n * @returns {void}\n * @memberof Internal\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (image, lut, canvasImageDataData) {\n  var start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  var pixelData = image.getPixelData();\n  image.stats.lastGetPixelDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n  var minPixelValue = image.minPixelValue;\n  var canvasImageDataIndex = 0;\n  var storedPixelDataIndex = 0;\n  var numPixels = pixelData.length; // NOTE: As of Nov 2014, most javascript engines have lower performance when indexing negative indexes.\n  // We have a special code path for this case that improves performance.  Thanks to @jpambrun for this enhancement\n\n  start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n  if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue]; // Red\n\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue]; // Green\n\n      canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex] + -minPixelValue]; // Blue\n\n      storedPixelDataIndex += 2;\n      canvasImageDataIndex += 2;\n    }\n  } else {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++]]; // Red\n\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++]]; // Green\n\n      canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex]]; // Blue\n\n      storedPixelDataIndex += 2;\n      canvasImageDataIndex += 2;\n    }\n  }\n\n  image.stats.lastStoredPixelDataToCanvasImageDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n});\n\n/***/ }),\n\n/***/ \"./internal/storedPixelDataToCanvasImageData.js\":\n/*!******************************************************!*\\\n  !*** ./internal/storedPixelDataToCanvasImageData.js ***!\n  \\******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./now.js */ \"./internal/now.js\");\n\n/**\n * This function transforms stored pixel values into a canvas image data buffer\n * by using a LUT.  This is the most performance sensitive code in cornerstone and\n * we use a special trick to make this go as fast as possible.  Specifically we\n * use the alpha channel only to control the luminance rather than the red, green and\n * blue channels which makes it over 3x faster. The canvasImageDataData buffer needs\n * to be previously filled with white pixels.\n *\n * NOTE: Attribution would be appreciated if you use this technique!\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {Array} lut Lookup table array\n * @param {Uint8ClampedArray} canvasImageDataData canvasImageData.data buffer filled with white pixels\n *\n * @returns {void}\n * @memberof Internal\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (image, lut, canvasImageDataData) {\n  var start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  var pixelData = image.getPixelData();\n  image.stats.lastGetPixelDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n  var numPixels = pixelData.length;\n  var minPixelValue = image.minPixelValue;\n  var canvasImageDataIndex = 3;\n  var storedPixelDataIndex = 0; // NOTE: As of Nov 2014, most javascript engines have lower performance when indexing negative indexes.\n  // We have a special code path for this case that improves performance.  Thanks to @jpambrun for this enhancement\n  // Added two paths (Int16Array, Uint16Array) to avoid polymorphic deoptimization in chrome.\n\n  start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n  if (pixelData instanceof Int16Array) {\n    if (minPixelValue < 0) {\n      while (storedPixelDataIndex < numPixels) {\n        canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue]; // Alpha\n\n        canvasImageDataIndex += 4;\n      }\n    } else {\n      while (storedPixelDataIndex < numPixels) {\n        canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++]]; // Alpha\n\n        canvasImageDataIndex += 4;\n      }\n    }\n  } else if (pixelData instanceof Uint16Array) {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++]]; // Alpha\n\n      canvasImageDataIndex += 4;\n    }\n  } else if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue]; // Alpha\n\n      canvasImageDataIndex += 4;\n    }\n  } else {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex] = lut[pixelData[storedPixelDataIndex++]]; // Alpha\n\n      canvasImageDataIndex += 4;\n    }\n  }\n\n  image.stats.lastStoredPixelDataToCanvasImageDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n});\n\n/***/ }),\n\n/***/ \"./internal/storedPixelDataToCanvasImageDataColorLUT.js\":\n/*!**************************************************************!*\\\n  !*** ./internal/storedPixelDataToCanvasImageDataColorLUT.js ***!\n  \\**************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _colors_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../colors/index.js */ \"./colors/index.js\");\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./now.js */ \"./internal/now.js\");\n\n\n/**\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {LookupTable|Array} colorLut Lookup table array\n * @param {Uint8ClampedArray} canvasImageDataData canvasImageData.data buffer filled with white pixels\n *\n * @returns {void}\n * @memberof Internal\n */\n\nfunction storedPixelDataToCanvasImageDataColorLUT(image, colorLut, canvasImageDataData) {\n  var start = Object(_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n  var pixelData = image.getPixelData();\n  image.stats.lastGetPixelDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - start;\n  var numPixels = pixelData.length;\n  var minPixelValue = image.minPixelValue;\n  var canvasImageDataIndex = 0;\n  var storedPixelDataIndex = 0;\n  var rgba;\n  var clut;\n  start = Object(_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  if (colorLut instanceof _colors_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LookupTable) {\n    clut = colorLut.Table;\n  } else {\n    clut = colorLut;\n  }\n\n  if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numPixels) {\n      rgba = clut[pixelData[storedPixelDataIndex++] + -minPixelValue];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[0];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[1];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[2];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[3];\n    }\n  } else {\n    while (storedPixelDataIndex < numPixels) {\n      rgba = clut[pixelData[storedPixelDataIndex++]];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[0];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[1];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[2];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[3];\n    }\n  }\n\n  image.stats.lastStoredPixelDataToCanvasImageDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - start;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (storedPixelDataToCanvasImageDataColorLUT);\n\n/***/ }),\n\n/***/ \"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js\":\n/*!********************************************************************!*\\\n  !*** ./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js ***!\n  \\********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _colors_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../colors/index.js */ \"./colors/index.js\");\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./now.js */ \"./internal/now.js\");\n\n\n/**\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {Array} grayscaleLut Lookup table array\n * @param {LookupTable|Array} colorLut Lookup table array\n * @param {Uint8ClampedArray} canvasImageDataData canvasImageData.data buffer filled with white pixels\n *\n * @returns {void}\n * @memberof Internal\n */\n\nfunction storedPixelDataToCanvasImageDataPseudocolorLUT(image, grayscaleLut, colorLut, canvasImageDataData) {\n  var start = Object(_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n  var pixelData = image.getPixelData();\n  image.stats.lastGetPixelDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - start;\n  var numPixels = pixelData.length;\n  var minPixelValue = image.minPixelValue;\n  var canvasImageDataIndex = 0;\n  var storedPixelDataIndex = 0;\n  var grayscale;\n  var rgba;\n  var clut;\n  start = Object(_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  if (colorLut instanceof _colors_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LookupTable) {\n    clut = colorLut.Table;\n  } else {\n    clut = colorLut;\n  }\n\n  if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numPixels) {\n      grayscale = grayscaleLut[pixelData[storedPixelDataIndex++] + -minPixelValue];\n      rgba = clut[grayscale];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[0];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[1];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[2];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[3];\n    }\n  } else {\n    while (storedPixelDataIndex < numPixels) {\n      grayscale = grayscaleLut[pixelData[storedPixelDataIndex++]];\n      rgba = clut[grayscale];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[0];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[1];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[2];\n      canvasImageDataData[canvasImageDataIndex++] = rgba[3];\n    }\n  }\n\n  image.stats.lastStoredPixelDataToCanvasImageDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - start;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (storedPixelDataToCanvasImageDataPseudocolorLUT);\n\n/***/ }),\n\n/***/ \"./internal/storedPixelDataToCanvasImageDataRGBA.js\":\n/*!**********************************************************!*\\\n  !*** ./internal/storedPixelDataToCanvasImageDataRGBA.js ***!\n  \\**********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./now.js */ \"./internal/now.js\");\n\n/**\n * This function transforms stored pixel values into a canvas image data buffer\n * by using a LUT.\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {Array} lut Lookup table array\n * @param {Uint8ClampedArray} canvasImageDataData canvasImageData.data buffer filled with white pixels\n *\n * @returns {void}\n * @memberof Internal\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (image, lut, canvasImageDataData) {\n  var start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  var pixelData = image.getPixelData();\n  image.stats.lastGetPixelDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n  var numPixels = pixelData.length;\n  var minPixelValue = image.minPixelValue;\n  var canvasImageDataIndex = 0;\n  var storedPixelDataIndex = 0;\n  var pixelValue; // NOTE: As of Nov 2014, most javascript engines have lower performance when indexing negative indexes.\n  // We have a special code path for this case that improves performance.  Thanks to @jpambrun for this enhancement\n  // Added two paths (Int16Array, Uint16Array) to avoid polymorphic deoptimization in chrome.\n\n  start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n  if (pixelData instanceof Int16Array) {\n    if (minPixelValue < 0) {\n      while (storedPixelDataIndex < numPixels) {\n        pixelValue = lut[pixelData[storedPixelDataIndex++] + -minPixelValue];\n        canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n        canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n        canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n        canvasImageDataData[canvasImageDataIndex++] = 255; // Alpha\n      }\n    } else {\n      while (storedPixelDataIndex < numPixels) {\n        pixelValue = lut[pixelData[storedPixelDataIndex++]];\n        canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n        canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n        canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n        canvasImageDataData[canvasImageDataIndex++] = 255; // Alpha\n      }\n    }\n  } else if (pixelData instanceof Uint16Array) {\n    while (storedPixelDataIndex < numPixels) {\n      pixelValue = lut[pixelData[storedPixelDataIndex++]];\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = 255; // Alpha\n    }\n  } else if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numPixels) {\n      pixelValue = lut[pixelData[storedPixelDataIndex++] + -minPixelValue];\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = 255; // Alpha\n    }\n  } else {\n    while (storedPixelDataIndex < numPixels) {\n      pixelValue = lut[pixelData[storedPixelDataIndex++]];\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = pixelValue;\n      canvasImageDataData[canvasImageDataIndex++] = 255; // Alpha\n    }\n  }\n\n  image.stats.lastStoredPixelDataToCanvasImageDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n});\n\n/***/ }),\n\n/***/ \"./internal/storedRGBAPixelDataToCanvasImageData.js\":\n/*!**********************************************************!*\\\n  !*** ./internal/storedRGBAPixelDataToCanvasImageData.js ***!\n  \\**********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _now_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./now.js */ \"./internal/now.js\");\n\n/**\n * Converts stored RGBA color pixel values to display pixel values using a LUT.\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {Array} lut Lookup table array\n * @param {Uint8ClampedArray} canvasImageDataData canvasImageData.data buffer filled with white pixels\n *\n * @returns {void}\n * @memberof Internal\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (image, lut, canvasImageDataData) {\n  var start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  var pixelData = image.getPixelData();\n  image.stats.lastGetPixelDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n  var minPixelValue = image.minPixelValue;\n  var canvasImageDataIndex = 0;\n  var storedPixelDataIndex = 0;\n  var numPixels = pixelData.length; // NOTE: As of Nov 2014, most javascript engines have lower performance when indexing negative indexes.\n  // We have a special code path for this case that improves performance.  Thanks to @jpambrun for this enhancement\n\n  start = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n  if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue]; // Red\n\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue]; // Green\n\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++] + -minPixelValue]; // Blue\n\n      canvasImageDataData[canvasImageDataIndex++] = pixelData[storedPixelDataIndex++];\n    }\n  } else {\n    while (storedPixelDataIndex < numPixels) {\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++]]; // Red\n\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++]]; // Green\n\n      canvasImageDataData[canvasImageDataIndex++] = lut[pixelData[storedPixelDataIndex++]]; // Blue\n\n      canvasImageDataData[canvasImageDataIndex++] = pixelData[storedPixelDataIndex++];\n    }\n  }\n\n  image.stats.lastStoredPixelDataToCanvasImageDataTime = Object(_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n});\n\n/***/ }),\n\n/***/ \"./internal/transform.js\":\n/*!*******************************!*\\\n  !*** ./internal/transform.js ***!\n  \\*******************************/\n/*! exports provided: Transform */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Transform\", function() { return Transform; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// By Simon Sarris\n// Www.simonsarris.com\n// Sarris@acm.org\n//\n// Free to use and distribute at will\n// So long as you are nice to people, etc\n// Simple class for keeping track of the current transformation matrix\n// For instance:\n//    Var t = new Transform();\n//    T.rotate(5);\n//    Var m = t.m;\n//    Ctx.setTransform(m[0], m[1], m[2], m[3], m[4], m[5]);\n// Is equivalent to:\n//    Ctx.rotate(5);\n// But now you can retrieve it :)\n// Remember that this does not account for any CSS transforms applied to the canvas\nvar Transform =\n/*#__PURE__*/\nfunction () {\n  function Transform() {\n    _classCallCheck(this, Transform);\n\n    this.reset();\n  }\n\n  _createClass(Transform, [{\n    key: \"reset\",\n    value: function reset() {\n      this.m = [1, 0, 0, 1, 0, 0];\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var transform = new Transform();\n      transform.m[0] = this.m[0];\n      transform.m[1] = this.m[1];\n      transform.m[2] = this.m[2];\n      transform.m[3] = this.m[3];\n      transform.m[4] = this.m[4];\n      transform.m[5] = this.m[5];\n      return transform;\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(matrix) {\n      var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n      var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n      var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n      var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n      var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n      var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n      this.m[0] = m11;\n      this.m[1] = m12;\n      this.m[2] = m21;\n      this.m[3] = m22;\n      this.m[4] = dx;\n      this.m[5] = dy;\n    }\n  }, {\n    key: \"invert\",\n    value: function invert() {\n      var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n      var m0 = this.m[3] * d;\n      var m1 = -this.m[1] * d;\n      var m2 = -this.m[2] * d;\n      var m3 = this.m[0] * d;\n      var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n      var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n      this.m[0] = m0;\n      this.m[1] = m1;\n      this.m[2] = m2;\n      this.m[3] = m3;\n      this.m[4] = m4;\n      this.m[5] = m5;\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(rad) {\n      var c = Math.cos(rad);\n      var s = Math.sin(rad);\n      var m11 = this.m[0] * c + this.m[2] * s;\n      var m12 = this.m[1] * c + this.m[3] * s;\n      var m21 = this.m[0] * -s + this.m[2] * c;\n      var m22 = this.m[1] * -s + this.m[3] * c;\n      this.m[0] = m11;\n      this.m[1] = m12;\n      this.m[2] = m21;\n      this.m[3] = m22;\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(x, y) {\n      this.m[4] += this.m[0] * x + this.m[2] * y;\n      this.m[5] += this.m[1] * x + this.m[3] * y;\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(sx, sy) {\n      this.m[0] *= sx;\n      this.m[1] *= sx;\n      this.m[2] *= sy;\n      this.m[3] *= sy;\n    }\n  }, {\n    key: \"transformPoint\",\n    value: function transformPoint(px, py) {\n      var x = px;\n      var y = py;\n      px = x * this.m[0] + y * this.m[2] + this.m[4];\n      py = x * this.m[1] + y * this.m[3] + this.m[5];\n      return {\n        x: px,\n        y: py\n      };\n    }\n  }]);\n\n  return Transform;\n}();\n\n/***/ }),\n\n/***/ \"./internal/tryEnableWebgl.js\":\n/*!************************************!*\\\n  !*** ./internal/tryEnableWebgl.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _webgl_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../webgl/index.js */ \"./webgl/index.js\");\n\n/**\n * Checks if webGL is supported and initializes the rendering engine.\n * @param {any} options Options to check if webgl rendering is requested (e.g. enable webgl by passing {renderer: 'webgl'})\n * @returns {Boolean} true if webgl rendering has been successfully initialized. Otherwise, false.\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (options) {\n  if (_webgl_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].renderer.isWebGLAvailable()) {\n    // If WebGL is available on the device, initialize the renderer\n    // And return the renderCanvas from the WebGL rendering path\n    _webgl_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].renderer.initRenderer();\n    options.renderer = 'webgl';\n    return true;\n  } // If WebGL is not available on this device, we will fall back\n  // To using the Canvas renderer\n\n\n  console.error('WebGL not available, falling back to Canvas renderer');\n  delete options.renderer;\n  return false;\n});\n\n/***/ }),\n\n/***/ \"./internal/validator.js\":\n/*!*******************************!*\\\n  !*** ./internal/validator.js ***!\n  \\*******************************/\n/*! exports provided: validateParameterUndefined, validateParameterUndefinedOrNull */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateParameterUndefined\", function() { return validateParameterUndefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateParameterUndefinedOrNull\", function() { return validateParameterUndefinedOrNull; });\n/**\n * Check if the supplied parameter is undefined and throws and error\n * @param {any} checkParam the parameter to validate for undefined\n * @param {any} errorMsg the error message to be thrown\n * @returns {void}\n * @memberof internal\n */\nfunction validateParameterUndefined(checkParam, errorMsg) {\n  if (checkParam === undefined) {\n    throw new Error(errorMsg);\n  }\n}\n/**\n * Check if the supplied parameter is undefined or null and throws and error\n * @param {any} checkParam the parameter to validate for undefined\n * @param {any} errorMsg the error message to be thrown\n * @returns {void}\n * @memberof internal\n */\n\nfunction validateParameterUndefinedOrNull(checkParam, errorMsg) {\n  if (checkParam === undefined || checkParam === null) {\n    throw new Error(errorMsg);\n  }\n}\n\n/***/ }),\n\n/***/ \"./invalidate.js\":\n/*!***********************!*\\\n  !*** ./invalidate.js ***!\n  \\***********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n\n\n\n/**\r\n * Sets the invalid flag on the enabled element and fire an event\r\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\r\n * @returns {void}\r\n * @memberof Drawing\r\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  enabledElement.invalid = true;\n  enabledElement.needsRedraw = true;\n  var eventData = {\n    element: element\n  };\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element, _events_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].INVALIDATED, eventData);\n});\n\n/***/ }),\n\n/***/ \"./invalidateImageId.js\":\n/*!******************************!*\\\n  !*** ./invalidateImageId.js ***!\n  \\******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/drawImage.js */ \"./internal/drawImage.js\");\n\n\n/**\n * Forces the image to be updated/redrawn for the all enabled elements\n * displaying the specified imageId\n *\n * @param {string} imageId The imageId of the Cornerstone Image Object to redraw\n * @returns {void}\n * @memberof Drawing\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (imageId) {\n  var enabledElements = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElementsByImageId\"])(imageId);\n  enabledElements.forEach(function (enabledElement) {\n    Object(_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement, true);\n  });\n});\n\n/***/ }),\n\n/***/ \"./layers.js\":\n/*!*******************!*\\\n  !*** ./layers.js ***!\n  \\*******************/\n/*! exports provided: rescaleImage, addLayer, removeLayer, getLayer, getLayers, getVisibleLayers, setActiveLayer, setLayerImage, getActiveLayer, purgeLayers */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rescaleImage\", function() { return rescaleImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLayer\", function() { return addLayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeLayer\", function() { return removeLayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayer\", function() { return getLayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayers\", function() { return getLayers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getVisibleLayers\", function() { return getVisibleLayers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setActiveLayer\", function() { return setActiveLayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setLayerImage\", function() { return setLayerImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getActiveLayer\", function() { return getActiveLayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"purgeLayers\", function() { return purgeLayers; });\n/* harmony import */ var _internal_guid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/guid.js */ \"./internal/guid.js\");\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/getDefaultViewport.js */ \"./internal/getDefaultViewport.js\");\n/* harmony import */ var _updateImage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./updateImage.js */ \"./updateImage.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n\n\n\n\n\n\n/**\n * @module EnabledElementLayers\n */\n\n/**\n * Helper function to trigger an event on a Cornerstone element with\n * a specific layerId\n *\n * @param {String} eventName The event name (e.g. CornerstoneLayerAdded)\n * @param {EnabledElement} enabledElement The Cornerstone enabled element\n * @param {String} layerId The layer's unique identifier\n * @returns {void}\n * @memberof EnabledElementLayers\n */\n\nfunction triggerEventForLayer(eventName, enabledElement, layerId) {\n  var element = enabledElement.element;\n  var eventData = {\n    viewport: enabledElement.viewport,\n    element: enabledElement.element,\n    image: enabledElement.image,\n    enabledElement: enabledElement,\n    layerId: layerId\n  };\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(element, eventName, eventData);\n}\n/**\n * Rescale the target layer to the base layer based on the\n * relative size of each image and their pixel dimensions.\n *\n * This function will update the Viewport parameters of the\n * target layer to a new scale.\n *\n * @param {EnabledElementLayer} baseLayer The base layer\n * @param {EnabledElementLayer} targetLayer The target layer to rescale\n * @returns {void}\n * @memberof EnabledElementLayers\n */\n\n\nfunction rescaleImage(baseLayer, targetLayer) {\n  if (baseLayer.layerId === targetLayer.layerId) {\n    throw new Error('rescaleImage: both arguments represent the same layer');\n  }\n\n  var baseImage = baseLayer.image;\n  var targetImage = targetLayer.image; // Return if these images don't have an imageId (e.g. for dynamic images)\n\n  if (!baseImage.imageId || !targetImage.imageId) {\n    return;\n  } // Column pixel spacing need to be considered when calculating the\n  // ratio between the layer added and base layer images\n\n\n  var colRelative = targetLayer.viewport.displayedArea.columnPixelSpacing * targetImage.width / (baseLayer.viewport.displayedArea.columnPixelSpacing * baseImage.width);\n  var viewportRatio = targetLayer.viewport.scale / baseLayer.viewport.scale * colRelative;\n  targetLayer.viewport.scale = baseLayer.viewport.scale * viewportRatio;\n}\n/**\n * Add a layer to a Cornerstone element\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @param {Image} image A Cornerstone Image object to add as a new layer\n * @param {Object} options Options for the layer\n *\n * @returns {String} layerId The new layer's unique identifier\n * @memberof EnabledElementLayers\n */\n\nfunction addLayer(element, image, options) {\n  var layerId = Object(_internal_guid_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element);\n  var layers = enabledElement.layers;\n  var viewport;\n\n  if (image) {\n    viewport = Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(enabledElement.canvas, image); // Override the defaults if any optional viewport settings\n    // have been specified\n\n    if (options && options.viewport) {\n      viewport = Object.assign(viewport, options.viewport);\n    }\n  } // Set syncViewports to true by default when a new layer is added\n\n\n  if (enabledElement.syncViewports !== false) {\n    enabledElement.syncViewports = true;\n  }\n\n  var newLayer = {\n    image: image,\n    layerId: layerId,\n    viewport: viewport,\n    options: options || {},\n    renderingTools: {}\n  }; // Rescale the new layer based on the base layer to make sure\n  // they will have a proportional size (pixel spacing)\n\n  if (layers.length && image) {\n    rescaleImage(layers[0], newLayer);\n  }\n\n  layers.push(newLayer);\n  triggerEventForLayer(_events_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].LAYER_ADDED, enabledElement, layerId); // Set the layer as active if it's the first layer added\n\n  if (layers.length === 1 && image) {\n    setActiveLayer(element, layerId);\n  }\n\n  return layerId;\n}\n/**\n * Remove a layer from a Cornerstone element given a layer ID\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @param {String} layerId The unique identifier for the layer\n * @returns {void}\n * @memberof EnabledElementLayers\n */\n\nfunction removeLayer(element, layerId) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element);\n  var layers = enabledElement.layers;\n  var index = enabledElement.layers.findIndex(function (layer) {\n    return layer.layerId === layerId;\n  });\n\n  if (index !== -1) {\n    layers.splice(index, 1); // If the current layer is active, and we have other layers,\n    // switch to the first layer that remains in the array\n\n    if (layerId === enabledElement.activeLayerId && layers.length) {\n      setActiveLayer(element, layers[0].layerId);\n    }\n\n    triggerEventForLayer(_events_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].LAYER_REMOVED, enabledElement, layerId);\n  }\n}\n/**\n * Retrieve a layer from a Cornerstone element given a layer ID\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @param {String} layerId The unique identifier for the layer\n * @return {EnabledElementLayer} The layer\n * @memberof EnabledElementLayers\n */\n\nfunction getLayer(element, layerId) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element);\n  return enabledElement.layers.find(function (layer) {\n    return layer.layerId === layerId;\n  });\n}\n/**\n * Retrieve all layers for a Cornerstone element\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n *\n * @return {EnabledElementLayer[]} An array of layers\n * @memberof EnabledElementLayers\n */\n\nfunction getLayers(element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element);\n  return enabledElement.layers;\n}\n/**\n * Retrieve all visible layers for a Cornerstone element\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n *\n * @return {EnabledElementLayer[]} An array of layers\n * @memberof EnabledElementLayers\n */\n\nfunction getVisibleLayers(element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element);\n  return enabledElement.layers.filter(function (layer) {\n    return layer.options && layer.options.visible !== false && layer.options.opacity !== 0;\n  });\n}\n/**\n * Set the active layer for a Cornerstone element\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @param {String} layerId The unique identifier for the layer\n * @returns {void}\n * @memberof EnabledElementLayers\n */\n\nfunction setActiveLayer(element, layerId) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element); // Stop here if this layer is already active\n\n  if (enabledElement.activeLayerId === layerId) {\n    return;\n  }\n\n  var index = enabledElement.layers.findIndex(function (layer) {\n    return layer.layerId === layerId;\n  });\n\n  if (index === -1) {\n    throw new Error('setActiveLayer: layer not found in layers array');\n  }\n\n  var layer = enabledElement.layers[index];\n\n  if (!layer.image) {\n    throw new Error('setActiveLayer: layer with undefined image cannot be set as active.');\n  }\n\n  enabledElement.activeLayerId = layerId;\n  enabledElement.image = layer.image;\n  enabledElement.viewport = layer.viewport;\n  Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(element);\n  triggerEventForLayer(_events_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ACTIVE_LAYER_CHANGED, enabledElement, layerId);\n}\n/**\n * Set a new image for a specific layerId\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @param {Image} image The image to be displayed in this layer\n * @param {String} [layerId] The unique identifier for the layer\n * @returns {void}\n * @memberof EnabledElementLayers\n */\n\nfunction setLayerImage(element, image, layerId) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element);\n  var baseLayer = enabledElement.layers[0];\n  var layer;\n\n  if (layerId) {\n    layer = getLayer(element, layerId);\n  } else {\n    layer = getActiveLayer(element);\n  }\n\n  if (!layer) {\n    throw new Error('setLayerImage: Layer not found');\n  }\n\n  layer.image = image;\n\n  if (!image) {\n    layer.viewport = undefined;\n    return;\n  }\n\n  if (!layer.viewport) {\n    var defaultViewport = Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(enabledElement.canvas, image); // Override the defaults if any optional viewport settings\n    // have been specified\n\n    if (layer.options && layer.options.viewport) {\n      layer.viewport = Object.assign(defaultViewport, layer.options.viewport);\n    }\n\n    if (baseLayer.layerId !== layerId) {\n      rescaleImage(baseLayer, layer);\n    }\n  }\n}\n/**\n * Retrieve the currently active layer for a Cornerstone element\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n * @return {EnabledElementLayer} The currently active layer\n * @memberof EnabledElementLayers\n */\n\nfunction getActiveLayer(element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element);\n  return enabledElement.layers.find(function (layer) {\n    return layer.layerId === enabledElement.activeLayerId;\n  });\n}\n/**\n * Purge the layers\r\n *\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\n *\r\n * @returns {void}\r\n */\n\nfunction purgeLayers(element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element);\n  enabledElement.layers = [];\n  delete enabledElement.activeLayerId;\n  delete enabledElement.lastSyncViewportsState;\n}\n\n/***/ }),\n\n/***/ \"./metaData.js\":\n/*!*********************!*\\\n  !*** ./metaData.js ***!\n  \\*********************/\n/*! exports provided: addProvider, removeProvider, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addProvider\", function() { return addProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeProvider\", function() { return removeProvider; });\n// This module defines a way to access various metadata about an imageId.  This layer of abstraction exists\n// So metadata can be provided in different ways (e.g. by parsing DICOM P10 or by a WADO-RS document)\nvar providers = [];\n/**\n * @module Metadata\n */\n\n/**\n * Adds a metadata provider with the specified priority\n * @param {Function} provider Metadata provider function\n * @param {Number} [priority=0] - 0 is default/normal, > 0 is high, < 0 is low\n *\n * @returns {void}\n * @memberof Metadata\n */\n\nfunction addProvider(provider) {\n  var priority = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var i; // Find the right spot to insert this provider based on priority\n\n  for (i = 0; i < providers.length; i++) {\n    if (providers[i].priority <= priority) {\n      break;\n    }\n  } // Insert the decode task at position i\n\n\n  providers.splice(i, 0, {\n    priority: priority,\n    provider: provider\n  });\n}\n/**\n * Removes the specified provider\n *\n * @param {Function} provider Metadata provider function\n *\n * @returns {void}\n * @memberof Metadata\n */\n\nfunction removeProvider(provider) {\n  for (var i = 0; i < providers.length; i++) {\n    if (providers[i].provider === provider) {\n      providers.splice(i, 1);\n      break;\n    }\n  }\n}\n/**\n * Gets metadata from the registered metadata providers.  Will call each one from highest priority to lowest\n * until one responds\n *\n * @param {String} type The type of metadata requested from the metadata store\n * @param {String} imageId The Cornerstone Image Object's imageId\n *\n * @returns {*} The metadata retrieved from the metadata store\n * @memberof Metadata\n */\n\nfunction getMetaData(type, imageId) {\n  // Invoke each provider in priority order until one returns something\n  for (var i = 0; i < providers.length; i++) {\n    var result = providers[i].provider(type, imageId);\n\n    if (result !== undefined) {\n      return result;\n    }\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  addProvider: addProvider,\n  removeProvider: removeProvider,\n  get: getMetaData\n});\n\n/***/ }),\n\n/***/ \"./pageToPixel.js\":\n/*!************************!*\\\n  !*** ./pageToPixel.js ***!\n  \\************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/getTransform.js */ \"./internal/getTransform.js\");\n\n\n/**\n * Converts a point in the page coordinate system to the pixel coordinate\n * system\n *\n * @param {HTMLElement} element The Cornerstone element within which the input point lies\n * @param {Number} pageX The x value in the page coordinate system\n * @param {Number} pageY The y value in the page coordinate system\n *\n * @returns {{x: Number, y: Number}} The transformed point in the pixel coordinate system\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, pageX, pageY) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n\n  if (enabledElement.image === undefined) {\n    throw new Error('image has not been loaded yet');\n  } // Convert the pageX and pageY to the canvas client coordinates\n\n\n  var rect = element.getBoundingClientRect();\n  var clientX = pageX - rect.left - window.pageXOffset;\n  var clientY = pageY - rect.top - window.pageYOffset;\n  var pt = {\n    x: clientX,\n    y: clientY\n  };\n  var transform = Object(_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement);\n  transform.invert();\n  return transform.transformPoint(pt.x, pt.y);\n});\n\n/***/ }),\n\n/***/ \"./pixelDataToFalseColorData.js\":\n/*!**************************************!*\\\n  !*** ./pixelDataToFalseColorData.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return pixelDataToFalseColorData; });\n/* harmony import */ var _colors_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./colors/index.js */ \"./colors/index.js\");\n\n/**\n * Converts the image pixel data into a false color data\n *\n * @param {Image} image A Cornerstone Image Object\n * @param {Object} lookupTable A lookup table Object\n *\n * @returns {void}\n * @deprecated This function is superseded by the ability to set the Viewport parameters\n * to include colormaps.\n */\n\nfunction pixelDataToFalseColorData(image, lookupTable) {\n  if (image.color && !image.falseColor) {\n    throw new Error('Color transforms are not implemented yet');\n  }\n\n  var minPixelValue = image.minPixelValue;\n  var canvasImageDataIndex = 0;\n  var storedPixelDataIndex = 0;\n  var numPixels = image.width * image.height;\n  var origPixelData = image.origPixelData || image.getPixelData();\n  var storedColorPixelData = new Uint8Array(numPixels * 4);\n  var sp;\n  var mapped;\n  image.color = true;\n  image.falseColor = true;\n  image.origPixelData = origPixelData;\n\n  if (lookupTable instanceof _colors_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LookupTable) {\n    lookupTable.build();\n\n    while (storedPixelDataIndex < numPixels) {\n      sp = origPixelData[storedPixelDataIndex++];\n      mapped = lookupTable.mapValue(sp);\n      storedColorPixelData[canvasImageDataIndex++] = mapped[0];\n      storedColorPixelData[canvasImageDataIndex++] = mapped[1];\n      storedColorPixelData[canvasImageDataIndex++] = mapped[2];\n      storedColorPixelData[canvasImageDataIndex++] = mapped[3];\n    }\n  } else if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numPixels) {\n      sp = origPixelData[storedPixelDataIndex++];\n      storedColorPixelData[canvasImageDataIndex++] = lookupTable[sp + -minPixelValue][0]; // Red\n\n      storedColorPixelData[canvasImageDataIndex++] = lookupTable[sp + -minPixelValue][1]; // Green\n\n      storedColorPixelData[canvasImageDataIndex++] = lookupTable[sp + -minPixelValue][2]; // Blue\n\n      storedColorPixelData[canvasImageDataIndex++] = lookupTable[sp + -minPixelValue][3]; // Alpha\n    }\n  } else {\n    while (storedPixelDataIndex < numPixels) {\n      sp = origPixelData[storedPixelDataIndex++];\n      storedColorPixelData[canvasImageDataIndex++] = lookupTable[sp][0]; // Red\n\n      storedColorPixelData[canvasImageDataIndex++] = lookupTable[sp][1]; // Green\n\n      storedColorPixelData[canvasImageDataIndex++] = lookupTable[sp][2]; // Blue\n\n      storedColorPixelData[canvasImageDataIndex++] = lookupTable[sp][3]; // Alpha\n    }\n  }\n\n  image.rgba = true;\n  image.cachedLut = undefined;\n  image.render = undefined;\n  image.slope = 1;\n  image.intercept = 0;\n  image.minPixelValue = 0;\n  image.maxPixelValue = 255;\n  image.windowWidth = 255;\n  image.windowCenter = 128;\n\n  image.getPixelData = function () {\n    return storedColorPixelData;\n  };\n}\n\n/***/ }),\n\n/***/ \"./pixelToCanvas.js\":\n/*!**************************!*\\\n  !*** ./pixelToCanvas.js ***!\n  \\**************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/getTransform.js */ \"./internal/getTransform.js\");\n\n\n/**\n * Converts a point in the pixel coordinate system to the canvas coordinate system\n * system.  This can be used to render using canvas context without having the weird\n * side effects that come from scaling and non square pixels\n *\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\n * @param {{x: Number, y: Number}} pt The transformed point in the pixel coordinate system\n *\n * @returns {{x: Number, y: Number}} The input point in the canvas coordinate system\n * @memberof PixelCoordinateSystem\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, pt) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  var transform = Object(_internal_getTransform_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement);\n  return transform.transformPoint(pt.x, pt.y);\n});\n\n/***/ }),\n\n/***/ \"./rendering/doesImageNeedToBeRendered.js\":\n/*!************************************************!*\\\n  !*** ./rendering/doesImageNeedToBeRendered.js ***!\n  \\************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Determine whether or not an Enabled Element needs to be re-rendered.\n *\n * If the imageId has changed, or if any of the last rendered viewport\n * parameters have changed, this function will return true.\n *\n * @param {EnabledElement} enabledElement An Enabled Element\n * @param {Image} image An Image\n * @return {boolean} Whether or not the Enabled Element needs to re-render its image\n * @memberof rendering\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement, image) {\n  var lastRenderedImageId = enabledElement.renderingTools.lastRenderedImageId;\n  var lastRenderedViewport = enabledElement.renderingTools.lastRenderedViewport;\n  return image.imageId !== lastRenderedImageId || !lastRenderedViewport || lastRenderedViewport.windowCenter !== enabledElement.viewport.voi.windowCenter || lastRenderedViewport.windowWidth !== enabledElement.viewport.voi.windowWidth || lastRenderedViewport.invert !== enabledElement.viewport.invert || lastRenderedViewport.rotation !== enabledElement.viewport.rotation || lastRenderedViewport.hflip !== enabledElement.viewport.hflip || lastRenderedViewport.vflip !== enabledElement.viewport.vflip || lastRenderedViewport.modalityLUT !== enabledElement.viewport.modalityLUT || lastRenderedViewport.voiLUT !== enabledElement.viewport.voiLUT || lastRenderedViewport.colormap !== enabledElement.viewport.colormap;\n});\n\n/***/ }),\n\n/***/ \"./rendering/getLut.js\":\n/*!*****************************!*\\\n  !*** ./rendering/getLut.js ***!\n  \\*****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_computeAutoVoi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../internal/computeAutoVoi.js */ \"./internal/computeAutoVoi.js\");\n/* harmony import */ var _lutMatches_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lutMatches.js */ \"./rendering/lutMatches.js\");\n/* harmony import */ var _internal_generateLut_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../internal/generateLut.js */ \"./internal/generateLut.js\");\n\n\n\n/**\n * Retrieve or generate a LUT Array for an Image and Viewport\n *\n * @param {Image} image An Image Object\n * @param {Viewport} viewport An Viewport Object\n * @param {Boolean} invalidated Whether or not the LUT data has been invalidated\n * (e.g. by a change to the windowWidth, windowCenter, or invert viewport parameters).\n * @return {Uint8ClampedArray} LUT Array\n * @memberof rendering\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (image, viewport, invalidated) {\n  // If we have a cached lut and it has the right values, return it immediately\n  if (image.cachedLut !== undefined && image.cachedLut.windowCenter === viewport.voi.windowCenter && image.cachedLut.windowWidth === viewport.voi.windowWidth && Object(_lutMatches_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(image.cachedLut.modalityLUT, viewport.modalityLUT) && Object(_lutMatches_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(image.cachedLut.voiLUT, viewport.voiLUT) && image.cachedLut.invert === viewport.invert && invalidated !== true) {\n    return image.cachedLut.lutArray;\n  }\n\n  Object(_internal_computeAutoVoi_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(viewport, image); // Lut is invalid or not present, regenerate it and cache it\n\n  Object(_internal_generateLut_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(image, viewport.voi.windowWidth, viewport.voi.windowCenter, viewport.invert, viewport.modalityLUT, viewport.voiLUT);\n  image.cachedLut.windowWidth = viewport.voi.windowWidth;\n  image.cachedLut.windowCenter = viewport.voi.windowCenter;\n  image.cachedLut.invert = viewport.invert;\n  image.cachedLut.voiLUT = viewport.voiLUT;\n  image.cachedLut.modalityLUT = viewport.modalityLUT;\n  return image.cachedLut.lutArray;\n});\n\n/***/ }),\n\n/***/ \"./rendering/index.js\":\n/*!****************************!*\\\n  !*** ./rendering/index.js ***!\n  \\****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _renderColorImage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderColorImage.js */ \"./rendering/renderColorImage.js\");\n/* harmony import */ var _renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderGrayscaleImage.js */ \"./rendering/renderGrayscaleImage.js\");\n/* harmony import */ var _renderWebImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./renderWebImage.js */ \"./rendering/renderWebImage.js\");\n/* harmony import */ var _renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./renderPseudoColorImage.js */ \"./rendering/renderPseudoColorImage.js\");\n/* harmony import */ var _renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./renderLabelMapImage.js */ \"./rendering/renderLabelMapImage.js\");\n/* harmony import */ var _renderToCanvas_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderToCanvas.js */ \"./rendering/renderToCanvas.js\");\n\n\n\n\n\n\n/**\n * @module rendering\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  colorImage: _renderColorImage_js__WEBPACK_IMPORTED_MODULE_0__[\"renderColorImage\"],\n  grayscaleImage: _renderGrayscaleImage_js__WEBPACK_IMPORTED_MODULE_1__[\"renderGrayscaleImage\"],\n  webImage: _renderWebImage_js__WEBPACK_IMPORTED_MODULE_2__[\"renderWebImage\"],\n  pseudoColorImage: _renderPseudoColorImage_js__WEBPACK_IMPORTED_MODULE_3__[\"renderPseudoColorImage\"],\n  labelMapImage: _renderLabelMapImage_js__WEBPACK_IMPORTED_MODULE_4__[\"renderLabelMapImage\"],\n  toCanvas: _renderToCanvas_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]\n});\n\n/***/ }),\n\n/***/ \"./rendering/initializeRenderCanvas.js\":\n/*!*********************************************!*\\\n  !*** ./rendering/initializeRenderCanvas.js ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Sets size and clears canvas\n *\n * @param {Object} enabledElement Cornerstone Enabled Element\n * @param {Object} image Image to be rendered\n * @returns {void}\n * @memberof rendering\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement, image) {\n  var renderCanvas = enabledElement.renderingTools.renderCanvas; // Resize the canvas\n\n  renderCanvas.width = image.width;\n  renderCanvas.height = image.height;\n  var canvasContext = renderCanvas.getContext('2d'); // NOTE - we need to fill the render canvas with white pixels since we\n  // control the luminance using the alpha channel to improve rendering performance.\n\n  canvasContext.fillStyle = 'white';\n  canvasContext.fillRect(0, 0, renderCanvas.width, renderCanvas.height);\n  var renderCanvasData = canvasContext.getImageData(0, 0, image.width, image.height);\n  enabledElement.renderingTools.renderCanvasContext = canvasContext;\n  enabledElement.renderingTools.renderCanvasData = renderCanvasData;\n});\n\n/***/ }),\n\n/***/ \"./rendering/lutMatches.js\":\n/*!*********************************!*\\\n  !*** ./rendering/lutMatches.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Check if two lookup tables match\n *\n * @param {LUT} a A lookup table function\n * @param {LUT} b Another lookup table function\n * @return {boolean} Whether or not they match\n * @memberof rendering\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (a, b) {\n  // If undefined, they are equal\n  if (!a && !b) {\n    return true;\n  } // If one is undefined, not equal\n\n\n  if (!a || !b) {\n    return false;\n  } // Check the unique ids\n\n\n  return a.id === b.id;\n});\n\n/***/ }),\n\n/***/ \"./rendering/renderColorImage.js\":\n/*!***************************************!*\\\n  !*** ./rendering/renderColorImage.js ***!\n  \\***************************************/\n/*! exports provided: renderColorImage, addColorLayer */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderColorImage\", function() { return renderColorImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addColorLayer\", function() { return addColorLayer; });\n/* harmony import */ var _internal_now_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../internal/now.js */ \"./internal/now.js\");\n/* harmony import */ var _internal_generateColorLut_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/generateColorLut.js */ \"./internal/generateColorLut.js\");\n/* harmony import */ var _internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../internal/storedColorPixelDataToCanvasImageData.js */ \"./internal/storedColorPixelDataToCanvasImageData.js\");\n/* harmony import */ var _internal_storedRGBAPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../internal/storedRGBAPixelDataToCanvasImageData.js */ \"./internal/storedRGBAPixelDataToCanvasImageData.js\");\n/* harmony import */ var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../setToPixelCoordinateSystem.js */ \"./setToPixelCoordinateSystem.js\");\n/* harmony import */ var _webgl_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webgl/index.js */ \"./webgl/index.js\");\n/* harmony import */ var _doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./doesImageNeedToBeRendered.js */ \"./rendering/doesImageNeedToBeRendered.js\");\n/* harmony import */ var _initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./initializeRenderCanvas.js */ \"./rendering/initializeRenderCanvas.js\");\n/* harmony import */ var _saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./saveLastRendered.js */ \"./rendering/saveLastRendered.js\");\n\n\n\n\n\n\n\n\n\n/**\n * Generates an appropriate Look Up Table to render the given image with the given window width and level (specified in the viewport)\n * Uses an internal cache for performance\n *\n * @param {Object} image  The image to be rendered\n * @param {Object} viewport The viewport values used for rendering\n * @returns {Uint8ClampedArray} Look Up Table array.\n * @memberof rendering\n */\n\nfunction getLut(image, viewport) {\n  // If we have a cached lut and it has the right values, return it immediately\n  if (image.cachedLut !== undefined && image.cachedLut.windowCenter === viewport.voi.windowCenter && image.cachedLut.windowWidth === viewport.voi.windowWidth && image.cachedLut.invert === viewport.invert) {\n    return image.cachedLut.lutArray;\n  } // Lut is invalid or not present, regenerate it and cache it\n\n\n  Object(_internal_generateColorLut_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(image, viewport.voi.windowWidth, viewport.voi.windowCenter, viewport.invert);\n  image.cachedLut.windowWidth = viewport.voi.windowWidth;\n  image.cachedLut.windowCenter = viewport.voi.windowCenter;\n  image.cachedLut.invert = viewport.invert;\n  return image.cachedLut.lutArray;\n}\n/**\n * Returns an appropriate canvas to render the Image. If the canvas available in the cache is appropriate\n * it is returned, otherwise adjustments are made. It also sets the color transfer functions.\n *\n * @param {Object} enabledElement The cornerstone enabled element\n * @param {Object} image The image to be rendered\n * @param {Boolean} invalidated Is pixel data valid\n * @returns {HTMLCanvasElement} An appropriate canvas for rendering the image\n * @memberof rendering\n */\n\n\nfunction getRenderCanvas(enabledElement, image, invalidated) {\n  var canvasWasColor = enabledElement.renderingTools.lastRenderedIsColor === true;\n\n  if (!enabledElement.renderingTools.renderCanvas || !canvasWasColor) {\n    enabledElement.renderingTools.renderCanvas = document.createElement('canvas');\n  }\n\n  var renderCanvas = enabledElement.renderingTools.renderCanvas; // The ww/wc is identity and not inverted - get a canvas with the image rendered into it for\n  // Fast drawing\n\n  if (enabledElement.viewport.voi.windowWidth === 255 && enabledElement.viewport.voi.windowCenter === 128 && enabledElement.viewport.invert === false && image.getCanvas && image.getCanvas()) {\n    return image.getCanvas();\n  } // Apply the lut to the stored pixel data onto the render canvas\n\n\n  if (Object(_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(enabledElement, image) === false && invalidated !== true) {\n    return renderCanvas;\n  } // If our render canvas does not match the size of this image reset it\n  // NOTE: This might be inefficient if we are updating multiple images of different\n  // Sizes frequently.\n\n\n  if (renderCanvas.width !== image.width || renderCanvas.height !== image.height) {\n    Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(enabledElement, image);\n  } // Get the lut to use\n\n\n  var start = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  var colorLut = getLut(image, enabledElement.viewport);\n  image.stats = image.stats || {};\n  image.stats.lastLutGenerateTime = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n  var renderCanvasData = enabledElement.renderingTools.renderCanvasData;\n  var renderCanvasContext = enabledElement.renderingTools.renderCanvasContext; // The color image voi/invert has been modified - apply the lut to the underlying\n  // Pixel data and put it into the renderCanvas\n\n  if (image.rgba) {\n    Object(_internal_storedRGBAPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(image, colorLut, renderCanvasData.data);\n  } else {\n    Object(_internal_storedColorPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(image, colorLut, renderCanvasData.data);\n  }\n\n  start = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  renderCanvasContext.putImageData(renderCanvasData, 0, 0);\n  image.stats.lastPutImageDataTime = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() - start;\n  return renderCanvas;\n}\n/**\n * API function to render a color image to an enabled element\n *\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element to redraw\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n * @memberof rendering\n */\n\n\nfunction renderColorImage(enabledElement, invalidated) {\n  if (enabledElement === undefined) {\n    throw new Error('renderColorImage: enabledElement parameter must not be undefined');\n  }\n\n  var image = enabledElement.image;\n\n  if (image === undefined) {\n    throw new Error('renderColorImage: image must be loaded before it can be drawn');\n  } // Get the canvas context and reset the transform\n\n\n  var context = enabledElement.canvas.getContext('2d');\n  context.setTransform(1, 0, 0, 1, 0, 0); // Clear the canvas\n\n  context.fillStyle = 'black';\n  context.fillRect(0, 0, enabledElement.canvas.width, enabledElement.canvas.height); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n  context.imageSmoothingEnabled = !enabledElement.viewport.pixelReplication;\n  context.mozImageSmoothingEnabled = context.imageSmoothingEnabled; // Save the canvas context state and apply the viewport properties\n\n  Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(enabledElement, context);\n  var renderCanvas;\n\n  if (enabledElement.options && enabledElement.options.renderer && enabledElement.options.renderer.toLowerCase() === 'webgl') {\n    // If this enabled element has the option set for WebGL, we should\n    // User it as our renderer.\n    renderCanvas = _webgl_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].renderer.render(enabledElement);\n  } else {\n    // If no options are set we will retrieve the renderCanvas through the\n    // Normal Canvas rendering path\n    renderCanvas = getRenderCanvas(enabledElement, image, invalidated);\n  }\n\n  var sx = enabledElement.viewport.displayedArea.tlhc.x - 1;\n  var sy = enabledElement.viewport.displayedArea.tlhc.y - 1;\n  var width = enabledElement.viewport.displayedArea.brhc.x - sx;\n  var height = enabledElement.viewport.displayedArea.brhc.y - sy;\n  context.drawImage(renderCanvas, sx, sy, width, height, 0, 0, width, height);\n  enabledElement.renderingTools = Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(enabledElement);\n}\nfunction addColorLayer(layer, invalidated) {\n  if (layer === undefined) {\n    throw new Error('addColorLayer: layer parameter must not be undefined');\n  }\n\n  var image = layer.image;\n\n  if (image === undefined) {\n    throw new Error('addColorLayer: image must be loaded before it can be drawn');\n  } // All multi-layer images should include the alpha value\n\n\n  image.rgba = true;\n  layer.canvas = getRenderCanvas(layer, image, invalidated);\n  var context = layer.canvas.getContext('2d'); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n  context.imageSmoothingEnabled = !layer.viewport.pixelReplication;\n  context.mozImageSmoothingEnabled = context.imageSmoothingEnabled;\n  layer.renderingTools = Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(layer);\n}\n\n/***/ }),\n\n/***/ \"./rendering/renderGrayscaleImage.js\":\n/*!*******************************************!*\\\n  !*** ./rendering/renderGrayscaleImage.js ***!\n  \\*******************************************/\n/*! exports provided: renderGrayscaleImage, addGrayscaleLayer */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderGrayscaleImage\", function() { return renderGrayscaleImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addGrayscaleLayer\", function() { return addGrayscaleLayer; });\n/* harmony import */ var _internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../internal/storedPixelDataToCanvasImageData.js */ \"./internal/storedPixelDataToCanvasImageData.js\");\n/* harmony import */ var _internal_storedPixelDataToCanvasImageDataRGBA_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/storedPixelDataToCanvasImageDataRGBA.js */ \"./internal/storedPixelDataToCanvasImageDataRGBA.js\");\n/* harmony import */ var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../setToPixelCoordinateSystem.js */ \"./setToPixelCoordinateSystem.js\");\n/* harmony import */ var _internal_now_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../internal/now.js */ \"./internal/now.js\");\n/* harmony import */ var _webgl_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webgl/index.js */ \"./webgl/index.js\");\n/* harmony import */ var _getLut_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getLut.js */ \"./rendering/getLut.js\");\n/* harmony import */ var _doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./doesImageNeedToBeRendered.js */ \"./rendering/doesImageNeedToBeRendered.js\");\n/* harmony import */ var _initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./initializeRenderCanvas.js */ \"./rendering/initializeRenderCanvas.js\");\n/* harmony import */ var _saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./saveLastRendered.js */ \"./rendering/saveLastRendered.js\");\n\n\n\n\n\n\n\n\n\n/**\n * Returns an appropriate canvas to render the Image. If the canvas available in the cache is appropriate\n * it is returned, otherwise adjustments are made. It also sets the color transfer functions.\n *\n * @param {Object} enabledElement The cornerstone enabled element\n * @param {Object} image The image to be rendered\n * @param {Boolean} invalidated Is pixel data valid\n * @param {Boolean} [useAlphaChannel = true] Will an alpha channel be used\n * @returns {HTMLCanvasElement} An appropriate canvas for rendering the image\n * @memberof rendering\n */\n\nfunction getRenderCanvas(enabledElement, image, invalidated) {\n  var useAlphaChannel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var canvasWasColor = enabledElement.renderingTools.lastRenderedIsColor === true;\n\n  if (!enabledElement.renderingTools.renderCanvas || canvasWasColor) {\n    enabledElement.renderingTools.renderCanvas = document.createElement('canvas');\n    Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(enabledElement, image);\n  }\n\n  var renderCanvas = enabledElement.renderingTools.renderCanvas;\n\n  if (Object(_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(enabledElement, image) === false && invalidated !== true) {\n    return renderCanvas;\n  } // If our render canvas does not match the size of this image reset it\n  // NOTE: This might be inefficient if we are updating multiple images of different\n  // Sizes frequently.\n\n\n  if (renderCanvas.width !== image.width || renderCanvas.height !== image.height) {\n    Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(enabledElement, image);\n  } // Get the lut to use\n\n\n  var start = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n  var lut = Object(_getLut_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(image, enabledElement.viewport, invalidated);\n  image.stats = image.stats || {};\n  image.stats.lastLutGenerateTime = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])() - start;\n  var renderCanvasData = enabledElement.renderingTools.renderCanvasData;\n  var renderCanvasContext = enabledElement.renderingTools.renderCanvasContext; // Gray scale image - apply the lut and put the resulting image onto the render canvas\n\n  if (useAlphaChannel) {\n    Object(_internal_storedPixelDataToCanvasImageData_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(image, lut, renderCanvasData.data);\n  } else {\n    Object(_internal_storedPixelDataToCanvasImageDataRGBA_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(image, lut, renderCanvasData.data);\n  }\n\n  start = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n  renderCanvasContext.putImageData(renderCanvasData, 0, 0);\n  image.stats.lastPutImageDataTime = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])() - start;\n  return renderCanvas;\n}\n/**\n * API function to draw a grayscale image to a given enabledElement\n *\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element to redraw\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n * @memberof rendering\n */\n\n\nfunction renderGrayscaleImage(enabledElement, invalidated) {\n  if (enabledElement === undefined) {\n    throw new Error('drawImage: enabledElement parameter must not be undefined');\n  }\n\n  var image = enabledElement.image;\n\n  if (image === undefined) {\n    throw new Error('drawImage: image must be loaded before it can be drawn');\n  } // Get the canvas context and reset the transform\n\n\n  var context = enabledElement.canvas.getContext('2d');\n  context.setTransform(1, 0, 0, 1, 0, 0); // Clear the canvas\n\n  context.fillStyle = 'black';\n  context.fillRect(0, 0, enabledElement.canvas.width, enabledElement.canvas.height); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n  context.imageSmoothingEnabled = !enabledElement.viewport.pixelReplication;\n  context.mozImageSmoothingEnabled = context.imageSmoothingEnabled; // Save the canvas context state and apply the viewport properties\n\n  Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(enabledElement, context);\n  var renderCanvas;\n\n  if (enabledElement.options && enabledElement.options.renderer && enabledElement.options.renderer.toLowerCase() === 'webgl') {\n    // If this enabled element has the option set for WebGL, we should\n    // User it as our renderer.\n    renderCanvas = _webgl_index_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].renderer.render(enabledElement);\n  } else {\n    // If no options are set we will retrieve the renderCanvas through the\n    // Normal Canvas rendering path\n    renderCanvas = getRenderCanvas(enabledElement, image, invalidated);\n  }\n\n  var sx = enabledElement.viewport.displayedArea.tlhc.x - 1;\n  var sy = enabledElement.viewport.displayedArea.tlhc.y - 1;\n  var width = enabledElement.viewport.displayedArea.brhc.x - sx;\n  var height = enabledElement.viewport.displayedArea.brhc.y - sy;\n  context.drawImage(renderCanvas, sx, sy, width, height, 0, 0, width, height);\n  enabledElement.renderingTools = Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(enabledElement);\n}\n/**\n * API function to draw a grayscale image to a given layer\n *\n * @param {EnabledElementLayer} layer The layer that the image will be added to\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @param {Boolean} [useAlphaChannel] - Whether or not to render the grayscale image using only the alpha channel.\n                                        This does not work if this layer is not the first layer in the enabledElement.\n * @returns {void}\n */\n\nfunction addGrayscaleLayer(layer, invalidated) {\n  var useAlphaChannel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (layer === undefined) {\n    throw new Error('addGrayscaleLayer: layer parameter must not be undefined');\n  }\n\n  var image = layer.image;\n\n  if (image === undefined) {\n    throw new Error('addGrayscaleLayer: image must be loaded before it can be drawn');\n  }\n\n  layer.canvas = getRenderCanvas(layer, image, invalidated, useAlphaChannel);\n  var context = layer.canvas.getContext('2d'); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n  context.imageSmoothingEnabled = !layer.viewport.pixelReplication;\n  context.mozImageSmoothingEnabled = context.imageSmoothingEnabled;\n  layer.renderingTools = Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(layer);\n}\n\n/***/ }),\n\n/***/ \"./rendering/renderLabelMapImage.js\":\n/*!******************************************!*\\\n  !*** ./rendering/renderLabelMapImage.js ***!\n  \\******************************************/\n/*! exports provided: renderLabelMapImage, addLabelMapLayer */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderLabelMapImage\", function() { return renderLabelMapImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addLabelMapLayer\", function() { return addLabelMapLayer; });\n/* harmony import */ var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../setToPixelCoordinateSystem.js */ \"./setToPixelCoordinateSystem.js\");\n/* harmony import */ var _internal_now_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/now.js */ \"./internal/now.js\");\n/* harmony import */ var _initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./initializeRenderCanvas.js */ \"./rendering/initializeRenderCanvas.js\");\n/* harmony import */ var _saveLastRendered_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./saveLastRendered.js */ \"./rendering/saveLastRendered.js\");\n/* harmony import */ var _doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./doesImageNeedToBeRendered.js */ \"./rendering/doesImageNeedToBeRendered.js\");\n/* harmony import */ var _internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../internal/storedPixelDataToCanvasImageDataColorLUT.js */ \"./internal/storedPixelDataToCanvasImageDataColorLUT.js\");\n/* harmony import */ var _colors_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../colors/index.js */ \"./colors/index.js\");\n\n\n\n\n\n\n\n/**\n * Returns an appropriate canvas to render the Image. If the canvas available in the cache is appropriate\n * it is returned, otherwise adjustments are made. It also sets the color transfer functions.\n *\n * @param {Object} enabledElement The cornerstone enabled element\n * @param {Object} image The image to be rendered\n * @param {Boolean} invalidated Is pixel data valid\n * @returns {HTMLCanvasElement} An appropriate canvas for rendering the image\n * @memberof rendering\n */\n\nfunction getRenderCanvas(enabledElement, image, invalidated) {\n  if (!enabledElement.renderingTools.renderCanvas) {\n    enabledElement.renderingTools.renderCanvas = document.createElement('canvas');\n  }\n\n  var renderCanvas = enabledElement.renderingTools.renderCanvas;\n  var colormap = enabledElement.viewport.colormap || enabledElement.options.colormap;\n\n  if (enabledElement.options.colormap) {\n    console.warn('enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead');\n  }\n\n  if (colormap && typeof colormap === 'string') {\n    colormap = _colors_index_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getColormap(colormap);\n  }\n\n  if (!colormap) {\n    throw new Error('renderLabelMapImage: colormap not found.');\n  }\n\n  var colormapId = colormap.getId();\n\n  if (Object(_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(enabledElement, image) === false && invalidated !== true && enabledElement.renderingTools.colormapId === colormapId) {\n    return renderCanvas;\n  } // If our render canvas does not match the size of this image reset it\n  // NOTE: This might be inefficient if we are updating multiple images of different\n  // Sizes frequently.\n\n\n  if (renderCanvas.width !== image.width || renderCanvas.height !== image.height) {\n    Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(enabledElement, image);\n  } // Get the lut to use\n\n\n  var start = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  if (!enabledElement.renderingTools.colorLut || invalidated || enabledElement.renderingTools.colormapId !== colormapId) {\n    enabledElement.renderingTools.colorLut = colormap.createLookupTable();\n    enabledElement.renderingTools.colormapId = colormapId;\n  }\n\n  image.stats = image.stats || {};\n  image.stats.lastLutGenerateTime = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - start;\n  var colorLut = enabledElement.renderingTools.colorLut;\n  var renderCanvasData = enabledElement.renderingTools.renderCanvasData;\n  var renderCanvasContext = enabledElement.renderingTools.renderCanvasContext;\n  Object(_internal_storedPixelDataToCanvasImageDataColorLUT_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(image, colorLut, renderCanvasData.data);\n  start = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n  renderCanvasContext.putImageData(renderCanvasData, 0, 0);\n  image.stats.lastPutImageDataTime = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - start;\n  return renderCanvas;\n}\n/**\n * API function to draw a label map image to a given enabledElement\n *\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element to redraw\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n * @memberof rendering\n */\n\n\nfunction renderLabelMapImage(enabledElement, invalidated) {\n  if (enabledElement === undefined) {\n    throw new Error('renderLabelMapImage: enabledElement parameter must not be undefined');\n  }\n\n  var image = enabledElement.image;\n\n  if (image === undefined) {\n    throw new Error('renderLabelMapImage: image must be loaded before it can be drawn');\n  } // Get the canvas context and reset the transform\n\n\n  var context = enabledElement.canvas.getContext('2d');\n  context.setTransform(1, 0, 0, 1, 0, 0); // Clear the canvas\n\n  context.fillStyle = 'black';\n  context.fillRect(0, 0, enabledElement.canvas.width, enabledElement.canvas.height); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n  context.imageSmoothingEnabled = !enabledElement.viewport.pixelReplication;\n  context.mozImageSmoothingEnabled = context.imageSmoothingEnabled; // Save the canvas context state and apply the viewport properties\n\n  Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(enabledElement, context); // If no options are set we will retrieve the renderCanvas through the\n  // Normal Canvas rendering path\n  // TODO: Add WebGL support for label map pipeline\n\n  var renderCanvas = getRenderCanvas(enabledElement, image, invalidated);\n  var sx = enabledElement.viewport.displayedArea.tlhc.x - 1;\n  var sy = enabledElement.viewport.displayedArea.tlhc.y - 1;\n  var width = enabledElement.viewport.displayedArea.brhc.x - sx;\n  var height = enabledElement.viewport.displayedArea.brhc.y - sy;\n  context.drawImage(renderCanvas, sx, sy, width, height, 0, 0, width, height);\n  enabledElement.renderingTools = Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(enabledElement);\n}\n/**\n * API function to draw a pseudo-color image to a given layer\n *\n * @param {EnabledElementLayer} layer The layer that the image will be added to\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n */\n\nfunction addLabelMapLayer(layer, invalidated) {\n  if (layer === undefined) {\n    throw new Error('addLabelMapLayer: layer parameter must not be undefined');\n  }\n\n  var image = layer.image;\n\n  if (image === undefined) {\n    throw new Error('addLabelMapLayer: image must be loaded before it can be drawn');\n  }\n\n  layer.canvas = getRenderCanvas(layer, image, invalidated);\n  var context = layer.canvas.getContext('2d'); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n  context.imageSmoothingEnabled = !layer.viewport.pixelReplication;\n  context.mozImageSmoothingEnabled = context.imageSmoothingEnabled;\n  layer.renderingTools = Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(layer);\n}\n\n/***/ }),\n\n/***/ \"./rendering/renderPseudoColorImage.js\":\n/*!*********************************************!*\\\n  !*** ./rendering/renderPseudoColorImage.js ***!\n  \\*********************************************/\n/*! exports provided: renderPseudoColorImage, addPseudoColorLayer */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderPseudoColorImage\", function() { return renderPseudoColorImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addPseudoColorLayer\", function() { return addPseudoColorLayer; });\n/* harmony import */ var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../setToPixelCoordinateSystem.js */ \"./setToPixelCoordinateSystem.js\");\n/* harmony import */ var _internal_now_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/now.js */ \"./internal/now.js\");\n/* harmony import */ var _initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./initializeRenderCanvas.js */ \"./rendering/initializeRenderCanvas.js\");\n/* harmony import */ var _getLut_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getLut.js */ \"./rendering/getLut.js\");\n/* harmony import */ var _saveLastRendered_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./saveLastRendered.js */ \"./rendering/saveLastRendered.js\");\n/* harmony import */ var _doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./doesImageNeedToBeRendered.js */ \"./rendering/doesImageNeedToBeRendered.js\");\n/* harmony import */ var _internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js */ \"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js\");\n/* harmony import */ var _colors_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../colors/index.js */ \"./colors/index.js\");\n\n\n\n\n\n\n\n\n/**\n * Returns an appropriate canvas to render the Image. If the canvas available in the cache is appropriate\n * it is returned, otherwise adjustments are made. It also sets the color transfer functions.\n *\n * @param {Object} enabledElement The cornerstone enabled element\n * @param {Object} image The image to be rendered\n * @param {Boolean} invalidated Is pixel data valid\n * @returns {HTMLCanvasElement} An appropriate canvas for rendering the image\n * @memberof rendering\n */\n\nfunction getRenderCanvas(enabledElement, image, invalidated) {\n  if (!enabledElement.renderingTools.renderCanvas) {\n    enabledElement.renderingTools.renderCanvas = document.createElement('canvas');\n  }\n\n  var renderCanvas = enabledElement.renderingTools.renderCanvas;\n  var colormap = enabledElement.viewport.colormap || enabledElement.options.colormap;\n\n  if (enabledElement.options.colormap) {\n    console.warn('enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead');\n  }\n\n  if (colormap && typeof colormap === 'string') {\n    colormap = _colors_index_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].getColormap(colormap);\n  }\n\n  if (!colormap) {\n    throw new Error('renderPseudoColorImage: colormap not found.');\n  }\n\n  var colormapId = colormap.getId();\n\n  if (Object(_doesImageNeedToBeRendered_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(enabledElement, image) === false && invalidated !== true && enabledElement.renderingTools.colormapId === colormapId) {\n    return renderCanvas;\n  } // If our render canvas does not match the size of this image reset it\n  // NOTE: This might be inefficient if we are updating multiple images of different\n  // Sizes frequently.\n\n\n  if (renderCanvas.width !== image.width || renderCanvas.height !== image.height) {\n    Object(_initializeRenderCanvas_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(enabledElement, image);\n  } // Get the lut to use\n\n\n  var start = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  if (!enabledElement.renderingTools.colorLut || invalidated || enabledElement.renderingTools.colormapId !== colormapId) {\n    colormap.setNumberOfColors(256);\n    enabledElement.renderingTools.colorLut = colormap.createLookupTable();\n    enabledElement.renderingTools.colormapId = colormapId;\n  }\n\n  var lut = Object(_getLut_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(image, enabledElement.viewport, invalidated);\n  image.stats = image.stats || {};\n  image.stats.lastLutGenerateTime = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - start;\n  var colorLut = enabledElement.renderingTools.colorLut;\n  var renderCanvasData = enabledElement.renderingTools.renderCanvasData;\n  var renderCanvasContext = enabledElement.renderingTools.renderCanvasContext;\n  Object(_internal_storedPixelDataToCanvasImageDataPseudocolorLUT_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(image, lut, colorLut, renderCanvasData.data);\n  start = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n  renderCanvasContext.putImageData(renderCanvasData, 0, 0);\n  image.stats.lastPutImageDataTime = Object(_internal_now_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() - start;\n  return renderCanvas;\n}\n/**\n * API function to draw a pseudo-color image to a given enabledElement\n *\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element to redraw\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n * @memberof rendering\n */\n\n\nfunction renderPseudoColorImage(enabledElement, invalidated) {\n  if (enabledElement === undefined) {\n    throw new Error('drawImage: enabledElement parameter must not be undefined');\n  }\n\n  var image = enabledElement.image;\n\n  if (image === undefined) {\n    throw new Error('drawImage: image must be loaded before it can be drawn');\n  } // Get the canvas context and reset the transform\n\n\n  var context = enabledElement.canvas.getContext('2d');\n  context.setTransform(1, 0, 0, 1, 0, 0); // Clear the canvas\n\n  context.fillStyle = 'black';\n  context.fillRect(0, 0, enabledElement.canvas.width, enabledElement.canvas.height); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n  context.imageSmoothingEnabled = !enabledElement.viewport.pixelReplication;\n  context.mozImageSmoothingEnabled = context.imageSmoothingEnabled; // Save the canvas context state and apply the viewport properties\n\n  Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(enabledElement, context); // If no options are set we will retrieve the renderCanvas through the\n  // Normal Canvas rendering path\n  // TODO: Add WebGL support for pseudocolor pipeline\n\n  var renderCanvas = getRenderCanvas(enabledElement, image, invalidated);\n  var sx = enabledElement.viewport.displayedArea.tlhc.x - 1;\n  var sy = enabledElement.viewport.displayedArea.tlhc.y - 1;\n  var width = enabledElement.viewport.displayedArea.brhc.x - sx;\n  var height = enabledElement.viewport.displayedArea.brhc.y - sy;\n  context.drawImage(renderCanvas, sx, sy, width, height, 0, 0, width, height);\n  enabledElement.renderingTools = Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(enabledElement);\n}\n/**\n * API function to draw a pseudo-color image to a given layer\n *\n * @param {EnabledElementLayer} layer The layer that the image will be added to\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n */\n\nfunction addPseudoColorLayer(layer, invalidated) {\n  if (layer === undefined) {\n    throw new Error('addPseudoColorLayer: layer parameter must not be undefined');\n  }\n\n  var image = layer.image;\n\n  if (image === undefined) {\n    throw new Error('addPseudoColorLayer: image must be loaded before it can be drawn');\n  }\n\n  layer.canvas = getRenderCanvas(layer, image, invalidated);\n  var context = layer.canvas.getContext('2d'); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n  context.imageSmoothingEnabled = !layer.viewport.pixelReplication;\n  context.mozImageSmoothingEnabled = context.imageSmoothingEnabled;\n  layer.renderingTools = Object(_saveLastRendered_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(layer);\n}\n\n/***/ }),\n\n/***/ \"./rendering/renderToCanvas.js\":\n/*!*************************************!*\\\n  !*** ./rendering/renderToCanvas.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events.js */ \"./events.js\");\n/* harmony import */ var _internal_drawImageSync_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../internal/drawImageSync.js */ \"./internal/drawImageSync.js\");\n/* harmony import */ var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../internal/getDefaultViewport.js */ \"./internal/getDefaultViewport.js\");\n/* harmony import */ var _internal_tryEnableWebgl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../internal/tryEnableWebgl.js */ \"./internal/tryEnableWebgl.js\");\n\n\n\n\n\n/**\r\n * @typedef {Object} EnabledElementStub\r\n * @property {HTMLElement} element  The enabled element\r\n * @property {HTMLCanvasElement} canvas The current canvas\r\n * @property {Object} image Currently displayed image\r\n * @property {Boolean} invalid Whether or not the image pixel data has been changed\r\n * @property {Boolean} needsRedraw  A flag for triggering a redraw of the canvas without re-retrieving the pixel data, since it remains valid\r\n * @property {Object} options Layer drawing options\r\n * @property {Object[]} layers Layers added to the EnabledElement\r\n * @property {Object} data\r\n * @property {Object} renderingTools\r\n * @property {Object} viewport The current viewport\r\n * @memberof rendering\r\n */\n\n/**\r\n * creates a dummy enabled element\r\n *\r\n * @param {HTMLCanvasElement} canvas the canvas that will be assigned to the enabled element.\r\n * @param {any} image An Image loaded by a Cornerstone Image Loader\r\n * @param { any } options Options for rendering the image (e.g.enable webgl by {renderer: 'webgl' })\r\n * @param { any } viewport A set of Cornerstone viewport parameters\r\n * @returns {EnabledElementStub} a dummy enabled element\r\n * @memberof rendering\r\n */\n\nfunction createEnabledElementStub(canvas, image, options, viewport) {\n  return {\n    element: canvas,\n    canvas: canvas,\n    image: image,\n    invalid: true,\n    // True if image needs to be drawn, false if not\n    needsRedraw: true,\n    options: options,\n    layers: [],\n    data: {},\n    renderingTools: {},\n    viewport: viewport\n  };\n}\n/**\r\n * Render the image to the provided canvas immediately.\r\n * @param {any} canvas The HTML canvas where the image will be rendered.\r\n * @param {any} image An Image loaded by a Cornerstone Image Loader\r\n * @param {any} [viewport = null] A set of Cornerstone viewport parameters\r\n * @param {any} [options = null] Options for rendering the image (e.g. enable webgl by {renderer: 'webgl'})\r\n * @returns {void}\r\n * @memberof rendering\r\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (canvas, image) {\n  var viewport = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  if (canvas === undefined) {\n    throw new Error('renderToCanvas: parameter canvas cannot be undefined');\n  } // If this enabled element has the option set for WebGL, we should\n  // Check if this device actually supports it\n\n\n  if (options && options.renderer && options.renderer.toLowerCase() === 'webgl') {\n    Object(_internal_tryEnableWebgl_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(options);\n  }\n\n  var defaultViewport = Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(canvas, image);\n\n  if (viewport) {\n    Object.assign(defaultViewport, viewport);\n  }\n\n  var enabledElementStub = createEnabledElementStub(canvas, image, options, defaultViewport);\n  var eventDetails = {\n    enabledElement: enabledElementStub,\n    timestamp: Date.now()\n  };\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(enabledElementStub.element, _events_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].PRE_RENDER, eventDetails);\n  Object(_internal_drawImageSync_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(enabledElementStub, enabledElementStub.invalid);\n});\n\n/***/ }),\n\n/***/ \"./rendering/renderWebImage.js\":\n/*!*************************************!*\\\n  !*** ./rendering/renderWebImage.js ***!\n  \\*************************************/\n/*! exports provided: renderWebImage */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderWebImage\", function() { return renderWebImage; });\n/* harmony import */ var _setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../setToPixelCoordinateSystem.js */ \"./setToPixelCoordinateSystem.js\");\n/* harmony import */ var _renderColorImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderColorImage.js */ \"./rendering/renderColorImage.js\");\n\n\n/**\n * API function to draw a standard web image (PNG, JPG) to an enabledImage\n *\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element to redraw\n * @param {Boolean} invalidated - true if pixel data has been invalidated and cached rendering should not be used\n * @returns {void}\n * @memberof rendering\n */\n\nfunction renderWebImage(enabledElement, invalidated) {\n  if (enabledElement === undefined) {\n    throw new Error('renderWebImage: enabledElement parameter must not be undefined');\n  }\n\n  var image = enabledElement.image;\n\n  if (image === undefined) {\n    throw new Error('renderWebImage: image must be loaded before it can be drawn');\n  } // If the viewport ww/wc and invert all match the initial state of the image, we can draw the image\n  // Directly. If any of those are changed, we call renderColorImage() to apply the lut\n\n\n  if (enabledElement.viewport.voi.windowWidth === enabledElement.image.windowWidth && enabledElement.viewport.voi.windowCenter === enabledElement.image.windowCenter && enabledElement.viewport.invert === false) {\n    // Get the canvas context and reset the transform\n    var context = enabledElement.canvas.getContext('2d');\n    context.setTransform(1, 0, 0, 1, 0, 0); // Clear the canvas\n\n    context.fillStyle = 'black';\n    context.fillRect(0, 0, enabledElement.canvas.width, enabledElement.canvas.height); // Turn off image smooth/interpolation if pixelReplication is set in the viewport\n\n    context.imageSmoothingEnabled = !enabledElement.viewport.pixelReplication;\n    context.mozImageSmoothingEnabled = context.imageSmoothingEnabled; // Save the canvas context state and apply the viewport properties\n\n    Object(_setToPixelCoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(enabledElement, context);\n    var sx = enabledElement.viewport.displayedArea.tlhc.x - 1;\n    var sy = enabledElement.viewport.displayedArea.tlhc.y - 1;\n    var width = enabledElement.viewport.displayedArea.brhc.x - sx;\n    var height = enabledElement.viewport.displayedArea.brhc.y - sy;\n    context.drawImage(image.getImage(), sx, sy, width, height, 0, 0, width, height);\n  } else {\n    Object(_renderColorImage_js__WEBPACK_IMPORTED_MODULE_1__[\"renderColorImage\"])(enabledElement, invalidated);\n  }\n}\n\n/***/ }),\n\n/***/ \"./rendering/saveLastRendered.js\":\n/*!***************************************!*\\\n  !*** ./rendering/saveLastRendered.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Saves the parameters of the last render into renderingTools, used later to decide if data can be reused.\n *\n * @param {Object} enabledElement Cornerstone EnabledElement\n * @returns {Object} enabledElement.renderingTools\n * @memberof rendering\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement) {\n  var imageId = enabledElement.image.imageId;\n  var viewport = enabledElement.viewport;\n  var isColor = enabledElement.image.color;\n  enabledElement.renderingTools.lastRenderedImageId = imageId;\n  enabledElement.renderingTools.lastRenderedIsColor = isColor;\n  enabledElement.renderingTools.lastRenderedViewport = {\n    windowCenter: viewport.voi.windowCenter,\n    windowWidth: viewport.voi.windowWidth,\n    invert: viewport.invert,\n    rotation: viewport.rotation,\n    hflip: viewport.hflip,\n    vflip: viewport.vflip,\n    modalityLUT: viewport.modalityLUT,\n    voiLUT: viewport.voiLUT,\n    colormap: viewport.colormap\n  };\n  return enabledElement.renderingTools;\n});\n\n/***/ }),\n\n/***/ \"./reset.js\":\n/*!******************!*\\\n  !*** ./reset.js ***!\n  \\******************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/getDefaultViewport.js */ \"./internal/getDefaultViewport.js\");\n/* harmony import */ var _updateImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updateImage.js */ \"./updateImage.js\");\n\n\n\n/**\n * Resets the viewport to the default settings\n *\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\n * @returns {void}\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  enabledElement.viewport = Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement.canvas, enabledElement.image);\n  Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element);\n});\n\n/***/ }),\n\n/***/ \"./resize.js\":\n/*!*******************!*\\\n  !*** ./resize.js ***!\n  \\*******************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _fitToWindow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fitToWindow.js */ \"./fitToWindow.js\");\n/* harmony import */ var _updateImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updateImage.js */ \"./updateImage.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./triggerEvent.js */ \"./triggerEvent.js\");\n/* harmony import */ var _internal_getImageSize_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/getImageSize.js */ \"./internal/getImageSize.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./events.js */ \"./events.js\");\n\n\n\n\n\n\n/**\r\n * This module is responsible for enabling an element to display images with cornerstone\r\n *\r\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\r\n * @param {HTMLElement} canvas The Canvas DOM element within the DOM element enabled for Cornerstone\r\n * @returns {void}\r\n */\n\nfunction setCanvasSize(element, canvas) {\n  // The device pixel ratio is 1.0 for normal displays and > 1.0\n  // For high DPI displays like Retina\n\n  /*\r\n      This functionality is disabled due to buggy behavior on systems with mixed DPI's.  If the canvas\r\n    is created on a display with high DPI (e.g. 2.0) and then the browser window is dragged to\r\n    a different display with a different DPI (e.g. 1.0), the canvas is not recreated so the pageToPixel\r\n    produces incorrect results.  I couldn't find any way to determine when the DPI changed other than\r\n    by polling which is not very clean.  If anyone has any ideas here, please let me know, but for now\r\n    we will disable this functionality.  We may want\r\n    to add a mechanism to optionally enable this functionality if we can determine it is safe to do\r\n    so (e.g. iPad or iPhone or perhaps enumerate the displays on the system.  I am choosing\r\n    to be cautious here since I would rather not have bug reports or safety issues related to this\r\n    scenario.\r\n      var devicePixelRatio = window.devicePixelRatio;\r\n    if(devicePixelRatio === undefined) {\r\n        devicePixelRatio = 1.0;\r\n    }\r\n    */\n  // Avoid setting the same value because it flashes the canvas with IE and Edge\n  if (canvas.width !== element.clientWidth) {\n    canvas.width = element.clientWidth;\n    canvas.style.width = \"\".concat(element.clientWidth, \"px\");\n  } // Avoid setting the same value because it flashes the canvas with IE and Edge\n\n\n  if (canvas.height !== element.clientHeight) {\n    canvas.height = element.clientHeight;\n    canvas.style.height = \"\".concat(element.clientHeight, \"px\");\n  }\n}\n/**\r\n * Checks if the image of a given enabled element fitted the window\r\n * before the resize\r\n *\r\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element\r\n * @param {number} oldCanvasWidth The width of the canvas before the resize\r\n * @param {number} oldCanvasHeight The height of the canvas before the resize\r\n * @return {Boolean} true if it fitted the windows, false otherwise\r\n */\n\n\nfunction wasFitToWindow(enabledElement, oldCanvasWidth, oldCanvasHeight) {\n  var scale = enabledElement.viewport.scale;\n  var imageSize = Object(_internal_getImageSize_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(enabledElement.image, enabledElement.viewport.rotation);\n  var imageWidth = Math.round(imageSize.width * scale);\n  var imageHeight = Math.round(imageSize.height * scale);\n  var x = enabledElement.viewport.translation.x;\n  var y = enabledElement.viewport.translation.y;\n  return imageWidth === oldCanvasWidth && imageHeight <= oldCanvasHeight || imageWidth <= oldCanvasWidth && imageHeight === oldCanvasHeight && x === 0 && y === 0;\n}\n/**\r\n * Rescale the image relative to the changed size of the canvas\r\n *\r\n * @param {EnabledElement} enabledElement The Cornerstone Enabled Element\r\n * @param {number} oldCanvasWidth The width of the canvas before the resize\r\n * @param {number} oldCanvasHeight The height of the canvas before the resize\r\n * @return {void}\r\n */\n\n\nfunction relativeRescale(enabledElement, oldCanvasWidth, oldCanvasHeight) {\n  var scale = enabledElement.viewport.scale;\n  var canvasWidth = enabledElement.canvas.width;\n  var canvasHeight = enabledElement.canvas.height;\n  var relWidthChange = canvasWidth / oldCanvasWidth;\n  var relHeightChange = canvasHeight / oldCanvasHeight;\n  var relChange = Math.sqrt(relWidthChange * relHeightChange);\n  enabledElement.viewport.scale = relChange * scale;\n}\n/**\r\n * Resizes an enabled element and optionally fits the image to window\r\n *\r\n * @param {HTMLElement} element The DOM element enabled for Cornerstone\r\n * @param {Boolean} forceFitToWindow true to to force a refit, false to rescale accordingly\r\n * @returns {void}\r\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, forceFitToWindow) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n  var oldCanvasWidth = enabledElement.canvas.width;\n  var oldCanvasHeight = enabledElement.canvas.height;\n  setCanvasSize(element, enabledElement.canvas);\n  var eventData = {\n    element: element\n  };\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(element, _events_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ELEMENT_RESIZED, eventData);\n\n  if (enabledElement.image === undefined) {\n    return;\n  }\n\n  if (forceFitToWindow || wasFitToWindow(enabledElement, oldCanvasWidth, oldCanvasHeight)) {\n    // Fit the image to the window again if it fitted before the resize\n    Object(_fitToWindow_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(element);\n  } else {\n    // Adapt the scale of a zoomed or panned image relative to the size change\n    relativeRescale(enabledElement, oldCanvasWidth, oldCanvasHeight);\n    Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element);\n  }\n});\n\n/***/ }),\n\n/***/ \"./setToPixelCoordinateSystem.js\":\n/*!***************************************!*\\\n  !*** ./setToPixelCoordinateSystem.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_calculateTransform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/calculateTransform.js */ \"./internal/calculateTransform.js\");\n\n/**\n * Sets the canvas context transformation matrix to the pixel coordinate system.  This allows\n * geometry to be driven using the canvas context using coordinates in the pixel coordinate system\n * @param {EnabledElement} enabledElement The\n * @param {CanvasRenderingContext2D} context The CanvasRenderingContext2D for the enabledElement's Canvas\n * @param {Number} [scale] Optional scale to apply\n * @returns {void}\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (enabledElement, context, scale) {\n  if (enabledElement === undefined) {\n    throw new Error('setToPixelCoordinateSystem: parameter enabledElement must not be undefined');\n  }\n\n  if (context === undefined) {\n    throw new Error('setToPixelCoordinateSystem: parameter context must not be undefined');\n  }\n\n  var transform = Object(_internal_calculateTransform_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(enabledElement, scale);\n  context.setTransform(transform.m[0], transform.m[1], transform.m[2], transform.m[3], transform.m[4], transform.m[5]);\n});\n\n/***/ }),\n\n/***/ \"./setViewport.js\":\n/*!************************!*\\\n  !*** ./setViewport.js ***!\n  \\************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/getDefaultViewport.js */ \"./internal/getDefaultViewport.js\");\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _updateImage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./updateImage.js */ \"./updateImage.js\");\n\n\n\nvar MIN_WINDOW_WIDTH = 0.000001;\nvar MIN_VIEWPORT_SCALE = 0.0001;\n/**\n * Sets/updates viewport of a given enabled element\n *\n * @param {HTMLElement} element - DOM element of the enabled element\n * @param {Viewport} [viewport] - Object containing the viewport properties\n * @returns {void}\n * @memberof ViewportSettings\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element, viewport) {\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_1__[\"getEnabledElement\"])(element); // If viewport is not already set, start with default and merge new\n  // viewport options later\n\n  if (enabledElement.viewport === undefined) {\n    enabledElement.viewport = Object(_internal_getDefaultViewport_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(enabledElement.canvas);\n  } // Merge viewport\n\n\n  if (viewport) {\n    for (var attrname in viewport) {\n      if (viewport[attrname] !== null) {\n        enabledElement.viewport[attrname] = viewport[attrname];\n      }\n    }\n  } // Prevent window width from being too small (note that values close to zero are valid and can occur with\n  // PET images in particular)\n\n\n  if (enabledElement.viewport.voi.windowWidth) {\n    enabledElement.viewport.voi.windowWidth = Math.max(viewport.voi.windowWidth, MIN_WINDOW_WIDTH);\n  } // Prevent scale from getting too small\n\n\n  if (enabledElement.viewport.scale) {\n    enabledElement.viewport.scale = Math.max(viewport.scale, MIN_VIEWPORT_SCALE);\n  } // Normalize the rotation value to a positive rotation in degrees\n\n\n  enabledElement.viewport.rotation %= 360;\n\n  if (enabledElement.viewport.rotation < 0) {\n    enabledElement.viewport.rotation += 360;\n  }\n\n  if (enabledElement.image) {\n    // Force the image to be updated since the viewport has been modified\n    Object(_updateImage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element);\n  }\n});\n\n/***/ }),\n\n/***/ \"./triggerEvent.js\":\n/*!*************************!*\\\n  !*** ./triggerEvent.js ***!\n  \\*************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return triggerEvent; });\n/**\n * Trigger a CustomEvent\n *\n * @param {EventTarget} el The element or EventTarget to trigger the event upon\n * @param {String} type The event type name\n * @param {Object|null} detail=null The event data to be sent\n * @returns {Boolean} The return value is false if at least one event listener called preventDefault(). Otherwise it returns true.\n */\nfunction triggerEvent(el, type) {\n  var detail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var event; // This check is needed to polyfill CustomEvent on IE11-\n\n  if (typeof window.CustomEvent === 'function') {\n    event = new CustomEvent(type, {\n      detail: detail,\n      cancelable: true\n    });\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, true, true, detail);\n  }\n\n  return el.dispatchEvent(event);\n}\n\n/***/ }),\n\n/***/ \"./updateImage.js\":\n/*!************************!*\\\n  !*** ./updateImage.js ***!\n  \\************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enabledElements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enabledElements.js */ \"./enabledElements.js\");\n/* harmony import */ var _internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal/drawImage.js */ \"./internal/drawImage.js\");\n\n\n/**\n * Forces the image to be updated/redrawn for the specified enabled element\n * @param {HTMLElement} element An HTML Element enabled for Cornerstone\n * @param {Boolean} [invalidated=false] Whether or not the image pixel data has been changed, necessitating a redraw\n *\n * @returns {void}\n * @memberof Drawing\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (element) {\n  var invalidated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var enabledElement = Object(_enabledElements_js__WEBPACK_IMPORTED_MODULE_0__[\"getEnabledElement\"])(element);\n\n  if (enabledElement.image === undefined && !enabledElement.layers.length) {\n    throw new Error('updateImage: image has not been loaded yet');\n  }\n\n  Object(_internal_drawImage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(enabledElement, invalidated);\n});\n\n/***/ }),\n\n/***/ \"./webgl/createProgramFromString.js\":\n/*!******************************************!*\\\n  !*** ./webgl/createProgramFromString.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Creates and compiles a shader.\n *\n * @param {!WebGLRenderingContext} gl The WebGL Context.\n * @param {string} shaderSource The GLSL source code for the shader.\n * @param {number} shaderType The type of shader, VERTEX_SHADER or FRAGMENT_SHADER.\n *\n * @return {!WebGLShader} The shader.\n * @memberof WebGLRendering\n */\nfunction compileShader(gl, shaderSource, shaderType) {\n  // Create the shader object\n  var shader = gl.createShader(shaderType); // Set the shader source code.\n\n  gl.shaderSource(shader, shaderSource); // Compile the shader\n\n  gl.compileShader(shader); // Check if it compiled\n\n  var success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n  if (!success && !gl.isContextLost()) {\n    // Something went wrong during compilation; get the error\n    var infoLog = gl.getShaderInfoLog(shader);\n    console.error(\"Could not compile shader:\\n\".concat(infoLog));\n  }\n\n  return shader;\n}\n/**\n * Creates a program from 2 shaders.\n *\n * @param {!WebGLRenderingContext} gl The WebGL context.\n * @param {!WebGLShader} vertexShader A vertex shader.\n * @param {!WebGLShader} fragmentShader A fragment shader.\n * @return {!WebGLProgram} A program.\n * @memberof WebGLRendering\n */\n\n\nfunction createProgram(gl, vertexShader, fragmentShader) {\n  // Create a program.\n  var program = gl.createProgram(); // Attach the shaders.\n\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader); // Link the program.\n\n  gl.linkProgram(program); // Check if it linked.\n\n  var success = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n  if (!success && !gl.isContextLost()) {\n    // Something went wrong with the link\n    var infoLog = gl.getProgramInfoLog(program);\n    console.error(\"WebGL program filed to link:\\n\".concat(infoLog));\n  }\n\n  return program;\n}\n/**\n * Creates a program from 2 shaders source (Strings)\n * @param  {!WebGLRenderingContext} gl              The WebGL context.\n * @param  {!WebGLShader} vertexShaderSrc   Vertex shader string\n * @param  {!WebGLShader} fragShaderSrc Fragment shader string\n * @return {!WebGLProgram}                 A program\n * @memberof WebGLRendering\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (gl, vertexShaderSrc, fragShaderSrc) {\n  var vertexShader = compileShader(gl, vertexShaderSrc, gl.VERTEX_SHADER);\n  var fragShader = compileShader(gl, fragShaderSrc, gl.FRAGMENT_SHADER);\n  return createProgram(gl, vertexShader, fragShader);\n});\n\n/***/ }),\n\n/***/ \"./webgl/index.js\":\n/*!************************!*\\\n  !*** ./webgl/index.js ***!\n  \\************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer.js */ \"./webgl/renderer.js\");\n/* harmony import */ var _createProgramFromString_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createProgramFromString.js */ \"./webgl/createProgramFromString.js\");\n/* harmony import */ var _textureCache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./textureCache.js */ \"./webgl/textureCache.js\");\n\n\n\n/**\n * @module WebGLRendering\n */\n\nvar mod = {\n  createProgramFromString: _createProgramFromString_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  renderer: {\n    render: _renderer_js__WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n    initRenderer: _renderer_js__WEBPACK_IMPORTED_MODULE_0__[\"initRenderer\"],\n    getRenderCanvas: _renderer_js__WEBPACK_IMPORTED_MODULE_0__[\"getRenderCanvas\"],\n    isWebGLAvailable: _renderer_js__WEBPACK_IMPORTED_MODULE_0__[\"isWebGLAvailable\"]\n  },\n  textureCache: _textureCache_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n};\nObject.defineProperty(mod, 'isWebGLInitialized', {\n  enumerable: true,\n  configurable: false,\n  get: function get() {\n    return _renderer_js__WEBPACK_IMPORTED_MODULE_0__[\"isWebGLInitialized\"];\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (mod);\n\n/***/ }),\n\n/***/ \"./webgl/renderer.js\":\n/*!***************************!*\\\n  !*** ./webgl/renderer.js ***!\n  \\***************************/\n/*! exports provided: isWebGLInitialized, getRenderCanvas, initRenderer, render, isWebGLAvailable */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isWebGLInitialized\", function() { return isWebGLInitialized; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRenderCanvas\", function() { return getRenderCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initRenderer\", function() { return initRenderer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isWebGLAvailable\", function() { return isWebGLAvailable; });\n/* harmony import */ var _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shaders/index.js */ \"./webgl/shaders/index.js\");\n/* harmony import */ var _vertexShader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vertexShader.js */ \"./webgl/vertexShader.js\");\n/* harmony import */ var _textureCache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./textureCache.js */ \"./webgl/textureCache.js\");\n/* harmony import */ var _createProgramFromString_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createProgramFromString.js */ \"./webgl/createProgramFromString.js\");\n/* eslint no-bitwise: 0 */\n\n\n\n\nvar renderCanvas = document.createElement('canvas');\nvar gl;\nvar texCoordBuffer;\nvar positionBuffer;\nvar isWebGLInitialized = false;\n\nfunction getRenderCanvas() {\n  return renderCanvas;\n}\n\nfunction initShaders() {\n  for (var id in _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__[\"shaders\"]) {\n    // Console.log(\"WEBGL: Loading shader\", id);\n    var shader = _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__[\"shaders\"][id];\n    shader.attributes = {};\n    shader.uniforms = {};\n    shader.vert = _vertexShader_js__WEBPACK_IMPORTED_MODULE_1__[\"vertexShader\"];\n    shader.program = Object(_createProgramFromString_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(gl, shader.vert, shader.frag);\n    shader.attributes.texCoordLocation = gl.getAttribLocation(shader.program, 'a_texCoord');\n    gl.enableVertexAttribArray(shader.attributes.texCoordLocation);\n    shader.attributes.positionLocation = gl.getAttribLocation(shader.program, 'a_position');\n    gl.enableVertexAttribArray(shader.attributes.positionLocation);\n    shader.uniforms.resolutionLocation = gl.getUniformLocation(shader.program, 'u_resolution');\n  }\n}\n\nfunction initRenderer() {\n  if (isWebGLInitialized === true) {\n    // Console.log(\"WEBGL Renderer already initialized\");\n    return;\n  }\n\n  if (initWebGL(renderCanvas)) {\n    initBuffers();\n    initShaders(); // Console.log(\"WEBGL Renderer initialized!\");\n\n    isWebGLInitialized = true;\n  }\n}\n\nfunction updateRectangle(gl, width, height) {\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([width, height, 0, height, width, 0, 0, 0]), gl.STATIC_DRAW);\n}\n\nfunction handleLostContext(event) {\n  event.preventDefault();\n  console.warn('WebGL Context Lost!');\n}\n\nfunction handleRestoredContext(event) {\n  event.preventDefault();\n  isWebGLInitialized = false;\n  _textureCache_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].purgeCache();\n  initRenderer(); // Console.log('WebGL Context Restored.');\n}\n\nfunction initWebGL(canvas) {\n  gl = null;\n\n  try {\n    // Try to grab the standard context. If it fails, fallback to experimental.\n    var options = {\n      preserveDrawingBuffer: true // Preserve buffer so we can copy to display canvas element\n\n    }; // ---------------- Testing purposes -------------\n    // If (debug === true && WebGLDebugUtils) {\n    //    RenderCanvas = WebGLDebugUtils.makeLostContextSimulatingCanvas(renderCanvas);\n    // }\n    // ---------------- Testing purposes -------------\n\n    gl = canvas.getContext('webgl', options) || canvas.getContext('experimental-webgl', options); // Set up event listeners for context lost / context restored\n\n    canvas.removeEventListener('webglcontextlost', handleLostContext, false);\n    canvas.addEventListener('webglcontextlost', handleLostContext, false);\n    canvas.removeEventListener('webglcontextrestored', handleRestoredContext, false);\n    canvas.addEventListener('webglcontextrestored', handleRestoredContext, false);\n  } catch (error) {\n    throw new Error('Error creating WebGL context');\n  } // If we don't have a GL context, give up now\n\n\n  if (!gl) {\n    console.error('Unable to initialize WebGL. Your browser may not support it.');\n    gl = null;\n  }\n\n  return gl;\n}\n/**\n * Returns the image data type as a string representation.\n * @param {any} image The cornerstone image object\n * @returns {string} image data type (rgb, iint16, uint16, int8 and uint8)\n * @memberof WebGLRendering\n */\n\n\nfunction getImageDataType(image) {\n  if (image.color) {\n    return 'rgb';\n  }\n\n  var pixelData = image.getPixelData();\n\n  if (pixelData instanceof Int16Array) {\n    return 'int16';\n  }\n\n  if (pixelData instanceof Uint16Array) {\n    return 'uint16';\n  }\n\n  if (pixelData instanceof Int8Array) {\n    return 'int8';\n  }\n\n  return 'uint8';\n}\n\nfunction getShaderProgram(image) {\n  var datatype = getImageDataType(image); // We need a mechanism for\n  // Choosing the shader based on the image datatype\n  // Console.log(\"Datatype: \" + datatype);\n\n  if (_shaders_index_js__WEBPACK_IMPORTED_MODULE_0__[\"shaders\"].hasOwnProperty(datatype)) {\n    return _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__[\"shaders\"][datatype];\n  }\n\n  return _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__[\"shaders\"].rgb;\n}\n\nfunction generateTexture(image) {\n  var TEXTURE_FORMAT = {\n    uint8: gl.LUMINANCE,\n    int8: gl.LUMINANCE_ALPHA,\n    uint16: gl.LUMINANCE_ALPHA,\n    int16: gl.RGB,\n    rgb: gl.RGB\n  };\n  var TEXTURE_BYTES = {\n    int8: 1,\n    // Luminance\n    uint16: 2,\n    // Luminance + Alpha\n    int16: 3,\n    // RGB\n    rgb: 3 // RGB\n\n  };\n  var imageDataType = getImageDataType(image);\n  var format = TEXTURE_FORMAT[imageDataType]; // GL texture configuration\n\n  var texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);\n  var imageData = _shaders_index_js__WEBPACK_IMPORTED_MODULE_0__[\"dataUtilities\"][imageDataType].storedPixelDataToImageData(image, image.width, image.height);\n  gl.texImage2D(gl.TEXTURE_2D, 0, format, image.width, image.height, 0, format, gl.UNSIGNED_BYTE, imageData); // Calculate the size in bytes of this image in memory\n\n  var sizeInBytes = image.width * image.height * TEXTURE_BYTES[imageDataType];\n  return {\n    texture: texture,\n    sizeInBytes: sizeInBytes\n  };\n}\n\nfunction getImageTexture(image) {\n  var imageTexture = _textureCache_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getImageTexture(image.imageId);\n\n  if (!imageTexture) {\n    // Console.log(\"Generating texture for imageid: \", image.imageId);\n    imageTexture = generateTexture(image);\n    _textureCache_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].putImageTexture(image, imageTexture);\n  }\n\n  return imageTexture.texture;\n}\n\nfunction initBuffers() {\n  positionBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([1, 1, 0, 1, 1, 0, 0, 0]), gl.STATIC_DRAW);\n  texCoordBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0]), gl.STATIC_DRAW);\n}\n\nfunction renderQuad(shader, parameters, texture, width, height) {\n  gl.clearColor(1.0, 0.0, 0.0, 1.0);\n  gl.viewport(0, 0, width, height);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  gl.useProgram(shader.program);\n  gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n  gl.vertexAttribPointer(shader.attributes.texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n  gl.vertexAttribPointer(shader.attributes.positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n  for (var key in parameters) {\n    var uniformLocation = gl.getUniformLocation(shader.program, key);\n\n    if (!uniformLocation) {\n      continue; // Disabling this error for now since RGB requires minPixelValue\n      // but the other shaders do not.\n      // throw `Could not access location for uniform: ${key}`;\n    }\n\n    var uniform = parameters[key];\n    var type = uniform.type;\n    var value = uniform.value;\n\n    if (type === 'i') {\n      gl.uniform1i(uniformLocation, value);\n    } else if (type === 'f') {\n      gl.uniform1f(uniformLocation, value);\n    } else if (type === '2f') {\n      gl.uniform2f(uniformLocation, value[0], value[1]);\n    }\n  }\n\n  updateRectangle(gl, width, height);\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n}\n\nfunction render(enabledElement) {\n  // Resize the canvas\n  var image = enabledElement.image;\n  renderCanvas.width = image.width;\n  renderCanvas.height = image.height;\n  var viewport = enabledElement.viewport; // Render the current image\n\n  var shader = getShaderProgram(image);\n  var texture = getImageTexture(image);\n  var parameters = {\n    u_resolution: {\n      type: '2f',\n      value: [image.width, image.height]\n    },\n    wc: {\n      type: 'f',\n      value: viewport.voi.windowCenter\n    },\n    ww: {\n      type: 'f',\n      value: viewport.voi.windowWidth\n    },\n    slope: {\n      type: 'f',\n      value: image.slope\n    },\n    intercept: {\n      type: 'f',\n      value: image.intercept\n    },\n    minPixelValue: {\n      type: 'f',\n      value: image.minPixelValue\n    },\n    invert: {\n      type: 'i',\n      value: viewport.invert ? 1 : 0\n    }\n  };\n  renderQuad(shader, parameters, texture, image.width, image.height);\n  return renderCanvas;\n}\nfunction isWebGLAvailable() {\n  // Adapted from\n  // http://stackoverflow.com/questions/9899807/three-js-detect-webgl-support-and-fallback-to-regular-canvas\n  var options = {\n    failIfMajorPerformanceCaveat: true\n  };\n\n  try {\n    var canvas = document.createElement('canvas');\n    return Boolean(window.WebGLRenderingContext) && (canvas.getContext('webgl', options) || canvas.getContext('experimental-webgl', options));\n  } catch (e) {\n    return false;\n  }\n}\n\n/***/ }),\n\n/***/ \"./webgl/shaders/index.js\":\n/*!********************************!*\\\n  !*** ./webgl/shaders/index.js ***!\n  \\********************************/\n/*! exports provided: shaders, dataUtilities */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"shaders\", function() { return shaders; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dataUtilities\", function() { return dataUtilities; });\n/* harmony import */ var _int16_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./int16.js */ \"./webgl/shaders/int16.js\");\n/* harmony import */ var _int8_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./int8.js */ \"./webgl/shaders/int8.js\");\n/* harmony import */ var _rgb_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./rgb.js */ \"./webgl/shaders/rgb.js\");\n/* harmony import */ var _uint16_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./uint16.js */ \"./webgl/shaders/uint16.js\");\n/* harmony import */ var _uint8_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./uint8.js */ \"./webgl/shaders/uint8.js\");\n\n\n\n\n\nvar shaders = {\n  int16: _int16_js__WEBPACK_IMPORTED_MODULE_0__[\"int16Shader\"],\n  int8: _int8_js__WEBPACK_IMPORTED_MODULE_1__[\"int8Shader\"],\n  rgb: _rgb_js__WEBPACK_IMPORTED_MODULE_2__[\"rgbShader\"],\n  uint16: _uint16_js__WEBPACK_IMPORTED_MODULE_3__[\"uint16Shader\"],\n  uint8: _uint8_js__WEBPACK_IMPORTED_MODULE_4__[\"uint8Shader\"]\n};\nvar dataUtilities = {\n  int16: _int16_js__WEBPACK_IMPORTED_MODULE_0__[\"int16DataUtilities\"],\n  int8: _int8_js__WEBPACK_IMPORTED_MODULE_1__[\"int8DataUtilities\"],\n  rgb: _rgb_js__WEBPACK_IMPORTED_MODULE_2__[\"rgbDataUtilities\"],\n  uint16: _uint16_js__WEBPACK_IMPORTED_MODULE_3__[\"uint16DataUtilities\"],\n  uint8: _uint8_js__WEBPACK_IMPORTED_MODULE_4__[\"uint8DataUtilities\"]\n};\n\n\n/***/ }),\n\n/***/ \"./webgl/shaders/int16.js\":\n/*!********************************!*\\\n  !*** ./webgl/shaders/int16.js ***!\n  \\********************************/\n/*! exports provided: int16DataUtilities, int16Shader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"int16DataUtilities\", function() { return int16DataUtilities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"int16Shader\", function() { return int16Shader; });\n/* eslint no-bitwise: 0 */\nvar int16Shader = {};\n/**\n * Convert stored pixel data to image data.\n *\n * Pack int16 into three uint8 channels (r, g, b)\n *\n * @param {Image} image A Cornerstone Image Object\n * @returns {Uint8Array} The image data for use by the WebGL shader\n * @memberof WebGLRendering\n */\n\nfunction storedPixelDataToImageData(image) {\n  // Transfer image data to alpha and luminance channels of WebGL texture\n  // Credit to @jpambrun and @fernandojsg\n  // Pack int16 into three uint8 channels (r, g, b)\n  var pixelData = image.getPixelData();\n  var numberOfChannels = 3;\n  var data = new Uint8Array(image.width * image.height * numberOfChannels);\n  var offset = 0;\n\n  for (var i = 0; i < pixelData.length; i++) {\n    var val = Math.abs(pixelData[i]);\n    data[offset++] = val & 0xFF;\n    data[offset++] = val >> 8;\n    data[offset++] = pixelData[i] < 0 ? 0 : 1; // 0 For negative, 1 for positive\n  }\n\n  return data;\n}\n\nvar int16DataUtilities = {\n  storedPixelDataToImageData: storedPixelDataToImageData\n};\nint16Shader.frag = 'precision mediump float;' + 'uniform sampler2D u_image;' + 'uniform float ww;' + 'uniform float wc;' + 'uniform float slope;' + 'uniform float intercept;' + 'uniform int invert;' + 'varying vec2 v_texCoord;' + 'void main() {' + // Get texture\n'vec4 color = texture2D(u_image, v_texCoord);' + // Calculate luminance from packed texture\n'float intensity = color.r*256.0 + color.g*65536.0;' + 'if (color.b == 0.0)' + 'intensity = -intensity;' + // Rescale based on slope and window settings\n'intensity = intensity * slope + intercept;' + 'float center0 = wc - 0.5;' + 'float width0 = max(ww, 1.0);' + 'intensity = (intensity - center0) / width0 + 0.5;' + // Clamp intensity\n'intensity = clamp(intensity, 0.0, 1.0);' + // RGBA output\n'gl_FragColor = vec4(intensity, intensity, intensity, 1.0);' + // Apply any inversion necessary\n'if (invert == 1)' + 'gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;' + '}';\n\n\n/***/ }),\n\n/***/ \"./webgl/shaders/int8.js\":\n/*!*******************************!*\\\n  !*** ./webgl/shaders/int8.js ***!\n  \\*******************************/\n/*! exports provided: int8DataUtilities, int8Shader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"int8DataUtilities\", function() { return int8DataUtilities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"int8Shader\", function() { return int8Shader; });\nvar int8Shader = {};\n/**\n * Convert stored pixel data to image data.\n *\n * Store data in Uint8Array\n *\n * @param {Image} image A Cornerstone Image Object\n * @returns {Uint8Array} The image data for use by the WebGL shader\n * @memberof WebGLRendering\n */\n\nfunction storedPixelDataToImageData(image) {\n  // Transfer image data to alpha channel of WebGL texture\n  // Store data in Uint8Array\n  var pixelData = image.getPixelData();\n  var numberOfChannels = 2;\n  var data = new Uint8Array(image.width * image.height * numberOfChannels);\n  var offset = 0;\n\n  for (var i = 0; i < pixelData.length; i++) {\n    data[offset++] = pixelData[i];\n    data[offset++] = pixelData[i] < 0 ? 0 : 1; // 0 For negative, 1 for positive\n  }\n\n  return data;\n}\n\nvar int8DataUtilities = {\n  storedPixelDataToImageData: storedPixelDataToImageData\n};\nint8Shader.frag = 'precision mediump float;' + 'uniform sampler2D u_image;' + 'uniform float ww;' + 'uniform float wc;' + 'uniform float slope;' + 'uniform float intercept;' + 'uniform int invert;' + 'varying vec2 v_texCoord;' + 'void main() {' + // Get texture\n'vec4 color = texture2D(u_image, v_texCoord);' + // Calculate luminance from packed texture\n'float intensity = color.r*256.;' + 'if (color.a == 0.0)' + 'intensity = -intensity;' + // Rescale based on slope and window settings\n'intensity = intensity * slope + intercept;' + 'float center0 = wc - 0.5;' + 'float width0 = max(ww, 1.0);' + 'intensity = (intensity - center0) / width0 + 0.5;' + // Clamp intensity\n'intensity = clamp(intensity, 0.0, 1.0);' + // RGBA output\n'gl_FragColor = vec4(intensity, intensity, intensity, 1.0);' + // Apply any inversion necessary\n'if (invert == 1)' + 'gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;' + '}';\n\n\n/***/ }),\n\n/***/ \"./webgl/shaders/rgb.js\":\n/*!******************************!*\\\n  !*** ./webgl/shaders/rgb.js ***!\n  \\******************************/\n/*! exports provided: rgbDataUtilities, rgbShader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgbDataUtilities\", function() { return rgbDataUtilities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgbShader\", function() { return rgbShader; });\nvar rgbShader = {};\n/**\n * Convert stored pixel data to image data.\n *\n * Pack RGB images into a 3-channel RGB texture\n *\n * @param {Image} image A Cornerstone Image Object\n * @returns {Uint8Array} The image data for use by the WebGL shader\n * @memberof WebGLRendering\n */\n\nfunction storedPixelDataToImageData(image) {\n  var minPixelValue = image.minPixelValue;\n  var canvasImageDataIndex = 0;\n  var storedPixelDataIndex = 0; // Only 3 channels, since we use WebGL's RGB texture format\n\n  var numStoredPixels = image.width * image.height * 4;\n  var numOutputPixels = image.width * image.height * 3;\n  var storedPixelData = image.getPixelData();\n  var data = new Uint8Array(numOutputPixels); // NOTE: As of Nov 2014, most javascript engines have lower performance when indexing negative indexes.\n  // We have a special code path for this case that improves performance.  Thanks to @jpambrun for this enhancement\n\n  if (minPixelValue < 0) {\n    while (storedPixelDataIndex < numStoredPixels) {\n      data[canvasImageDataIndex++] = storedPixelData[storedPixelDataIndex++] + -minPixelValue; // Red\n\n      data[canvasImageDataIndex++] = storedPixelData[storedPixelDataIndex++] + -minPixelValue; // Green\n\n      data[canvasImageDataIndex++] = storedPixelData[storedPixelDataIndex++] + -minPixelValue; // Blue\n\n      storedPixelDataIndex += 1; // The stored pixel data has 4 channels\n    }\n  } else {\n    while (storedPixelDataIndex < numStoredPixels) {\n      data[canvasImageDataIndex++] = storedPixelData[storedPixelDataIndex++]; // Red\n\n      data[canvasImageDataIndex++] = storedPixelData[storedPixelDataIndex++]; // Green\n\n      data[canvasImageDataIndex++] = storedPixelData[storedPixelDataIndex++]; // Blue\n\n      storedPixelDataIndex += 1; // The stored pixel data has 4 channels\n    }\n  }\n\n  return data;\n}\n\nvar rgbDataUtilities = {\n  storedPixelDataToImageData: storedPixelDataToImageData\n};\nrgbShader.frag = 'precision mediump float;' + 'uniform sampler2D u_image;' + 'uniform float ww;' + 'uniform float wc;' + 'uniform float slope;' + 'uniform float intercept;' + 'uniform float minPixelValue;' + 'uniform int invert;' + 'varying vec2 v_texCoord;' + 'void main() {' + // Get texture\n'vec3 color = texture2D(u_image, v_texCoord).xyz;' + // Rescale based on slope and intercept\n'color = color * 256.0 * slope + intercept;' + // Apply window settings\n'float center0 = wc - 0.5 - minPixelValue;' + 'float width0 = max(ww, 1.0);' + 'color = (color - center0) / width0 + 0.5;' + // RGBA output\n'gl_FragColor = vec4(color, 1);' + // Apply any inversion necessary\n'if (invert == 1)' + 'gl_FragColor.rgb = 1. - gl_FragColor.rgb;' + '}';\n\n\n/***/ }),\n\n/***/ \"./webgl/shaders/uint16.js\":\n/*!*********************************!*\\\n  !*** ./webgl/shaders/uint16.js ***!\n  \\*********************************/\n/*! exports provided: uint16DataUtilities, uint16Shader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uint16DataUtilities\", function() { return uint16DataUtilities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uint16Shader\", function() { return uint16Shader; });\n/* eslint no-bitwise: 0 */\nvar uint16Shader = {};\n/**\n * Convert stored pixel data to image data.\n *\n * For uint16 pack uint16 into two uint8 channels (r and a).\n *\n * @param {Image} image A Cornerstone Image Object\n * @returns {Uint8Array} The image data for use by the WebGL shader\n * @memberof WebGLRendering\n */\n\nfunction storedPixelDataToImageData(image) {\n  // Transfer image data to alpha and luminance channels of WebGL texture\n  // Credit to @jpambrun and @fernandojsg\n  // Pack uint16 into two uint8 channels (r and a)\n  var pixelData = image.getPixelData();\n  var numberOfChannels = 2;\n  var data = new Uint8Array(image.width * image.height * numberOfChannels);\n  var offset = 0;\n\n  for (var i = 0; i < pixelData.length; i++) {\n    var val = pixelData[i];\n    data[offset++] = val & 0xFF;\n    data[offset++] = val >> 8;\n  }\n\n  return data;\n}\n\nvar uint16DataUtilities = {\n  storedPixelDataToImageData: storedPixelDataToImageData\n};\nuint16Shader.frag = 'precision mediump float;' + 'uniform sampler2D u_image;' + 'uniform float ww;' + 'uniform float wc;' + 'uniform float slope;' + 'uniform float intercept;' + 'uniform int invert;' + 'varying vec2 v_texCoord;' + 'void main() {' + // Get texture\n'vec4 color = texture2D(u_image, v_texCoord);' + // Calculate luminance from packed texture\n'float intensity = color.r*256.0 + color.a*65536.0;' + // Rescale based on slope and window settings\n'intensity = intensity * slope + intercept;' + 'float center0 = wc - 0.5;' + 'float width0 = max(ww, 1.0);' + 'intensity = (intensity - center0) / width0 + 0.5;' + // Clamp intensity\n'intensity = clamp(intensity, 0.0, 1.0);' + // RGBA output\n'gl_FragColor = vec4(intensity, intensity, intensity, 1.0);' + // Apply any inversion necessary\n'if (invert == 1)' + 'gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;' + '}';\n\n\n/***/ }),\n\n/***/ \"./webgl/shaders/uint8.js\":\n/*!********************************!*\\\n  !*** ./webgl/shaders/uint8.js ***!\n  \\********************************/\n/*! exports provided: uint8DataUtilities, uint8Shader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uint8DataUtilities\", function() { return uint8DataUtilities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uint8Shader\", function() { return uint8Shader; });\nvar uint8Shader = {};\n/**\n * Convert stored pixel data to image data. Here we will store\n * all data in the alpha channel.\n *\n * @param {Image} image A Cornerstone Image Object\n * @returns {Uint8Array} The image data for use by the WebGL shader\n * @memberof WebGLRendering\n */\n\nfunction storedPixelDataToImageData(image) {\n  // Transfer image data to alpha channel of WebGL texture\n  return image.getPixelData();\n}\n\nvar uint8DataUtilities = {\n  storedPixelDataToImageData: storedPixelDataToImageData\n};\nuint8Shader.frag = 'precision mediump float;' + 'uniform sampler2D u_image;' + 'uniform float ww;' + 'uniform float wc;' + 'uniform float slope;' + 'uniform float intercept;' + 'uniform int invert;' + 'varying vec2 v_texCoord;' + 'void main() {' + // Get texture\n'vec4 color = texture2D(u_image, v_texCoord);' + // Calculate luminance from packed texture\n'float intensity = color.r*256.0;' + // Rescale based on slope and window settings\n'intensity = intensity * slope + intercept;' + 'float center0 = wc - 0.5;' + 'float width0 = max(ww, 1.0);' + 'intensity = (intensity - center0) / width0 + 0.5;' + // Clamp intensity\n'intensity = clamp(intensity, 0.0, 1.0);' + // RGBA output\n'gl_FragColor = vec4(intensity, intensity, intensity, 1.0);' + // Apply any inversion necessary\n'if (invert == 1)' + 'gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;' + '}';\n\n\n/***/ }),\n\n/***/ \"./webgl/textureCache.js\":\n/*!*******************************!*\\\n  !*** ./webgl/textureCache.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events.js */ \"./events.js\");\n/* harmony import */ var _triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../triggerEvent.js */ \"./triggerEvent.js\");\n\n\n/**\r\n * This module deals with caching image textures in VRAM for WebGL\r\n * @module WebGLTextureCache\r\n */\n\nvar imageCache = {};\nvar cachedImages = [];\nvar maximumSizeInBytes = 1024 * 1024 * 256; // 256 MB\n\nvar cacheSizeInBytes = 0;\n\nfunction getCacheInfo() {\n  return {\n    maximumSizeInBytes: maximumSizeInBytes,\n    cacheSizeInBytes: cacheSizeInBytes,\n    numberOfImagesCached: cachedImages.length\n  };\n}\n\nfunction purgeCacheIfNecessary() {\n  // If max cache size has not been exceeded, do nothing\n  if (cacheSizeInBytes <= maximumSizeInBytes) {\n    return;\n  } // Cache size has been exceeded, create list of images sorted by timeStamp\n  // So we can purge the least recently used image\n\n\n  function compare(a, b) {\n    if (a.timeStamp > b.timeStamp) {\n      return -1;\n    }\n\n    if (a.timeStamp < b.timeStamp) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  cachedImages.sort(compare); // Remove images as necessary\n\n  while (cacheSizeInBytes > maximumSizeInBytes) {\n    var lastCachedImage = cachedImages[cachedImages.length - 1];\n    cacheSizeInBytes -= lastCachedImage.sizeInBytes;\n    delete imageCache[lastCachedImage.imageId];\n    cachedImages.pop();\n    Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_0__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].WEBGL_TEXTURE_REMOVED, {\n      imageId: lastCachedImage.imageId\n    });\n  }\n\n  var cacheInfo = getCacheInfo();\n  Object(_triggerEvent_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_events_js__WEBPACK_IMPORTED_MODULE_0__[\"events\"], _events_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].WEBGL_TEXTURE_CACHE_FULL, cacheInfo);\n}\n\nfunction setMaximumSizeBytes(numBytes) {\n  if (numBytes === undefined) {\n    throw new Error('setMaximumSizeBytes: parameter numBytes must not be undefined');\n  }\n\n  if (numBytes.toFixed === undefined) {\n    throw new Error('setMaximumSizeBytes: parameter numBytes must be a number');\n  }\n\n  maximumSizeInBytes = numBytes;\n  purgeCacheIfNecessary();\n}\n\nfunction putImageTexture(image, imageTexture) {\n  var imageId = image.imageId;\n\n  if (image === undefined) {\n    throw new Error('putImageTexture: image must not be undefined');\n  }\n\n  if (imageId === undefined) {\n    throw new Error('putImageTexture: imageId must not be undefined');\n  }\n\n  if (imageTexture === undefined) {\n    throw new Error('putImageTexture: imageTexture must not be undefined');\n  }\n\n  if (Object.prototype.hasOwnProperty.call(imageCache, imageId) === true) {\n    throw new Error('putImageTexture: imageId already in cache');\n  }\n\n  var cachedImage = {\n    imageId: imageId,\n    imageTexture: imageTexture,\n    timeStamp: new Date(),\n    sizeInBytes: imageTexture.sizeInBytes\n  };\n  imageCache[imageId] = cachedImage;\n  cachedImages.push(cachedImage);\n\n  if (imageTexture.sizeInBytes === undefined) {\n    throw new Error('putImageTexture: imageTexture.sizeInBytes must not be undefined');\n  }\n\n  if (imageTexture.sizeInBytes.toFixed === undefined) {\n    throw new Error('putImageTexture: imageTexture.sizeInBytes is not a number');\n  }\n\n  cacheSizeInBytes += cachedImage.sizeInBytes;\n  purgeCacheIfNecessary();\n}\n\nfunction getImageTexture(imageId) {\n  if (imageId === undefined) {\n    throw new Error('getImageTexture: imageId must not be undefined');\n  }\n\n  var cachedImage = imageCache[imageId];\n\n  if (cachedImage === undefined) {\n    return;\n  } // Bump time stamp for cached image\n\n\n  cachedImage.timeStamp = new Date();\n  return cachedImage.imageTexture;\n}\n\nfunction removeImageTexture(imageId) {\n  if (imageId === undefined) {\n    throw new Error('removeImageTexture: imageId must not be undefined');\n  }\n\n  var cachedImage = imageCache[imageId];\n\n  if (cachedImage === undefined) {\n    throw new Error('removeImageTexture: imageId must not be undefined');\n  }\n\n  cachedImages.splice(cachedImages.indexOf(cachedImage), 1);\n  cacheSizeInBytes -= cachedImage.sizeInBytes;\n  delete imageCache[imageId];\n  return cachedImage.imageTexture;\n}\n\nfunction purgeCache() {\n  while (cachedImages.length > 0) {\n    var removedCachedImage = cachedImages.pop();\n    delete imageCache[removedCachedImage.imageId];\n  }\n\n  cacheSizeInBytes = 0;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  purgeCache: purgeCache,\n  getImageTexture: getImageTexture,\n  putImageTexture: putImageTexture,\n  removeImageTexture: removeImageTexture,\n  setMaximumSizeBytes: setMaximumSizeBytes\n});\n\n/***/ }),\n\n/***/ \"./webgl/vertexShader.js\":\n/*!*******************************!*\\\n  !*** ./webgl/vertexShader.js ***!\n  \\*******************************/\n/*! exports provided: vertexShader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vertexShader\", function() { return vertexShader; });\nvar vertexShader = 'attribute vec2 a_position;' + 'attribute vec2 a_texCoord;' + 'uniform vec2 u_resolution;' + 'varying vec2 v_texCoord;' + 'void main() {' + 'vec2 zeroToOne = a_position / u_resolution;' + 'vec2 zeroToTwo = zeroToOne * 2.0;' + 'vec2 clipSpace = zeroToTwo - 1.0;' + 'gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);' + 'v_texCoord = a_texCoord;' + '}';\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=cornerstone.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2Nvcm5lcnN0b25lLWNvcmUvZGlzdC9jb3JuZXJzdG9uZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvY29ybmVyc3RvbmUtY29yZS9kaXN0L2Nvcm5lcnN0b25lLmpzPzM1YzEiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIGNvcm5lcnN0b25lLWNvcmUgLSAyLjIuNyAtIDIwMTgtMTAtMjUgfCAoYykgMjAxNiBDaHJpcyBIYWZleSB8IGh0dHBzOi8vZ2l0aHViLmNvbS9jb3JuZXJzdG9uZWpzL2Nvcm5lcnN0b25lICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImNvcm5lcnN0b25lLWNvcmVcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiY29ybmVyc3RvbmUtY29yZVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJjb3JuZXJzdG9uZVwiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuLyoqKioqKi8gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4vKioqKioqLyBcdH1cbi8qKioqKiovIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gd2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbi8qKioqKiovIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuLyoqKioqKi8gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbi8qKioqKiovIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4vKioqKioqLyBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4vKioqKioqLyBcdH0gO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuLyoqKioqKi8gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuLyoqKioqKi8gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuLyoqKioqKi8gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuLyoqKioqKi8gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4vKioqKioqLyBcdFx0O1xuLyoqKioqKi8gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbi8qKioqKiovIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuLyoqKioqKi8gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbi8qKioqKiovIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XG4vKioqKioqLyBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4vKioqKioqLyBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuLyoqKioqKi8gXHRcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XG4vKioqKioqLyBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbi8qKioqKiovIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuLyoqKioqKi8gXHRcdFx0XHRpZiAocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcbi8qKioqKiovIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4vKioqKioqLyBcdFx0XHRcdFx0cmVqZWN0KFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0bmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKVxuLyoqKioqKi8gXHRcdFx0XHRcdCk7XG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcbi8qKioqKiovIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4vKioqKioqLyBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxuLyoqKioqKi8gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcbi8qKioqKiovIFx0XHRcdFx0XHQvLyBzdWNjZXNzXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm47XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fTtcbi8qKioqKiovIFx0XHR9KTtcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuLyoqKioqKi8gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCIyMzZmOWQ3OTgyZDJkNGVmZjhjYlwiO1xuLyoqKioqKi8gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7XG4vKioqKioqLyBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbi8qKioqKiovIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4vKioqKioqLyBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4vKioqKioqLyBcdFx0aWYgKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XG4vKioqKioqLyBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuLyoqKioqKi8gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbi8qKioqKiovIFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcbi8qKioqKiovIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuLyoqKioqKi8gXHRcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcbi8qKioqKiovIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xuLyoqKioqKi8gXHRcdFx0XHRjb25zb2xlLndhcm4oXG4vKioqKioqLyBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbi8qKioqKiovIFx0XHRcdFx0KTtcbi8qKioqKiovIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcbi8qKioqKiovIFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcbi8qKioqKiovIFx0XHRcdFx0fSxcbi8qKioqKiovIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuLyoqKioqKi8gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fTtcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuLyoqKioqKi8gXHRcdFx0aWYgKFxuLyoqKioqKi8gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiZcbi8qKioqKiovIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCIgJiZcbi8qKioqKiovIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbi8qKioqKiovIFx0XHRcdCkge1xuLyoqKioqKi8gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuLyoqKioqKi8gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuLyoqKioqKi8gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4vKioqKioqLyBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuLyoqKioqKi8gXHRcdFx0XHR0aHJvdyBlcnI7XG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XG4vKioqKioqLyBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbi8qKioqKiovIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRpZiAoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRcdGlmIChob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuLyoqKioqKi8gXHRcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdFx0Zm4udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0XHRpZiAobW9kZSAmIDEpIHZhbHVlID0gZm4odmFsdWUpO1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHRcdHJldHVybiBmbjtcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuLyoqKioqKi8gXHRcdHZhciBob3QgPSB7XG4vKioqKioqLyBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4vKioqKioqLyBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuLyoqKioqKi8gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcbi8qKioqKiovIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcbi8qKioqKiovIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuLyoqKioqKi9cbi8qKioqKiovIFx0XHRcdC8vIE1vZHVsZSBBUElcbi8qKioqKiovIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuLyoqKioqKi8gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbi8qKioqKiovIFx0XHRcdH0sXG4vKioqKioqLyBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbi8qKioqKiovIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XG4vKioqKioqLyBcdFx0XHR9LFxuLyoqKioqKi8gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbi8qKioqKiovIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4vKioqKioqLyBcdFx0XHR9LFxuLyoqKioqKi8gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuLyoqKioqKi8gXHRcdFx0fSxcbi8qKioqKiovIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuLyoqKioqKi8gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XG4vKioqKioqLyBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4vKioqKioqLyBcdFx0XHR9LFxuLyoqKioqKi9cbi8qKioqKiovIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4vKioqKioqLyBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4vKioqKioqLyBcdFx0XHRhcHBseTogaG90QXBwbHksXG4vKioqKioqLyBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbi8qKioqKiovIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuLyoqKioqKi8gXHRcdFx0fSxcbi8qKioqKiovIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbi8qKioqKiovIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbi8qKioqKiovIFx0XHRcdH0sXG4vKioqKioqLyBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xuLyoqKioqKi8gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuLyoqKioqKi8gXHRcdFx0fSxcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbi8qKioqKiovIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuLyoqKioqKi8gXHRcdHJldHVybiBob3Q7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuLyoqKioqKi8gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4vKioqKioqLyBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xuLyoqKioqKi8gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4vKioqKioqLyBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xuLyoqKioqKi8gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbi8qKioqKiovIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4vKioqKioqLyBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuLyoqKioqKi8gXHR2YXIgaG90RGVmZXJyZWQ7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgdXBkYXRlIGluZm9cbi8qKioqKiovIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcbi8qKioqKiovXG4vKioqKioqLyBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbi8qKioqKiovIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbi8qKioqKiovIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcbi8qKioqKiovIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuLyoqKioqKi8gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdChob3RSZXF1ZXN0VGltZW91dCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcbi8qKioqKiovIFx0XHRcdGlmICghdXBkYXRlKSB7XG4vKioqKioqLyBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4vKioqKioqLyBcdFx0XHRcdHJldHVybiBudWxsO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuLyoqKioqKi8gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuLyoqKioqKi8gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbi8qKioqKiovIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XG4vKioqKioqLyBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbi8qKioqKiovIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuLyoqKioqKi8gXHRcdFx0XHR9O1xuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbi8qKioqKiovIFx0XHRcdHZhciBjaHVua0lkID0gXCJjb3JuZXJzdG9uZVwiO1xuLyoqKioqKi8gXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmUtYmxvY2tzXG4vKioqKioqLyBcdFx0XHR7XG4vKioqKioqLyBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4vKioqKioqLyBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0aWYgKFxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4vKioqKioqLyBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiZcbi8qKioqKiovIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4vKioqKioqLyBcdFx0XHQpIHtcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4vKioqKioqLyBcdFx0fSk7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuLyoqKioqKi8gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuO1xuLyoqKioqKi8gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4vKioqKioqLyBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbi8qKioqKiovIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuLyoqKioqKi8gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4vKioqKioqLyBcdFx0fSBlbHNlIHtcbi8qKioqKiovIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuLyoqKioqKi8gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4vKioqKioqLyBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XG4vKioqKioqLyBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuLyoqKioqKi8gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbi8qKioqKiovIFx0XHRpZiAoaG90QXBwbHlPblVwZGF0ZSkge1xuLyoqKioqKi8gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbi8qKioqKiovIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuLyoqKioqKi8gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxuLyoqKioqKi8gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbi8qKioqKiovIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xuLyoqKioqKi8gXHRcdFx0XHR9KVxuLyoqKioqKi8gXHRcdFx0XHQudGhlbihcbi8qKioqKiovIFx0XHRcdFx0XHRmdW5jdGlvbihyZXN1bHQpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbi8qKioqKiovIFx0XHRcdFx0XHR9LFxuLyoqKioqKi8gXHRcdFx0XHRcdGZ1bmN0aW9uKGVycikge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHQpO1xuLyoqKioqKi8gXHRcdH0gZWxzZSB7XG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4vKioqKioqLyBcdFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbi8qKioqKiovIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xuLyoqKioqKi8gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbi8qKioqKiovIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbi8qKioqKiovIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0dmFyIGNiO1xuLyoqKioqKi8gXHRcdHZhciBpO1xuLyoqKioqKi8gXHRcdHZhciBqO1xuLyoqKioqKi8gXHRcdHZhciBtb2R1bGU7XG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZUlkO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4ge1xuLyoqKioqKi8gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuLyoqKioqKi8gXHRcdFx0XHRcdGlkOiBpZFxuLyoqKioqKi8gXHRcdFx0XHR9O1xuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuLyoqKioqKi8gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRcdFx0aWYgKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKSBjb250aW51ZTtcbi8qKioqKiovIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiB7XG4vKioqKioqLyBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuLyoqKioqKi8gXHRcdFx0XHRcdH07XG4vKioqKioqLyBcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4ge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbi8qKioqKiovIFx0XHRcdFx0XHR9O1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4vKioqKioqLyBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuLyoqKioqKi8gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiB7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbi8qKioqKiovIFx0XHRcdFx0XHRcdH07XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgIT09IC0xKSBjb250aW51ZTtcbi8qKioqKiovIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4vKioqKioqLyBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y29udGludWU7XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XG4vKioqKioqLyBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuLyoqKioqKi8gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuLyoqKioqKi8gXHRcdFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHR9XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIHtcbi8qKioqKiovIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbi8qKioqKiovIFx0XHRcdH07XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4vKioqKioqLyBcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbi8qKioqKiovIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuLyoqKioqKi8gXHRcdFx0XHRpZiAoYS5pbmRleE9mKGl0ZW0pID09PSAtMSkgYS5wdXNoKGl0ZW0pO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcbi8qKioqKiovIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuLyoqKioqKi8gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XG4vKioqKioqLyBcdFx0XHRjb25zb2xlLndhcm4oXG4vKioqKioqLyBcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiXG4vKioqKioqLyBcdFx0XHQpO1xuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuLyoqKioqKi8gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xuLyoqKioqKi8gXHRcdFx0XHQvKiogQHR5cGUge1RPRE99ICovXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXN1bHQ7XG4vKioqKioqLyBcdFx0XHRcdGlmIChob3RVcGRhdGVbaWRdKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XG4vKioqKioqLyBcdFx0XHRcdFx0cmVzdWx0ID0ge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4vKioqKioqLyBcdFx0XHRcdFx0fTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuLyoqKioqKi8gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xuLyoqKioqKi8gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuLyoqKioqKi8gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xuLyoqKioqKi8gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdCk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICtcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucGFyZW50SWQgK1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdCk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdCk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uQWNjZXB0ZWQpIG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xuLyoqKioqKi8gXHRcdFx0XHRcdGRlZmF1bHQ6XG4vKioqKioqLyBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4vKioqKioqLyBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xuLyoqKioqKi8gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmIChcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHQpXG4vKioqKioqLyBcdFx0XHRcdFx0XHQpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSxcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdCk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdGlmIChkb0Rpc3Bvc2UpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbi8qKioqKiovIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbi8qKioqKiovIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4vKioqKioqLyBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbi8qKioqKiovIFx0XHRcdGlmIChcbi8qKioqKiovIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiZcbi8qKioqKiovIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbi8qKioqKiovIFx0XHRcdClcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuLyoqKioqKi8gXHRcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4vKioqKioqLyBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuLyoqKioqKi8gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuLyoqKioqKi8gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4vKioqKioqLyBcdFx0XHR9XG4vKioqKioqLyBcdFx0fSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdHZhciBpZHg7XG4vKioqKioqLyBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4vKioqKioqLyBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbi8qKioqKiovIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4vKioqKioqLyBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuLyoqKioqKi8gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbi8qKioqKiovIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbi8qKioqKiovIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4vKioqKioqLyBcdFx0XHRcdGNiKGRhdGEpO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuLyoqKioqKi8gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbi8qKioqKiovIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4vKioqKioqLyBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4vKioqKioqLyBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbi8qKioqKiovIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4vKioqKioqLyBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4vKioqKioqLyBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4vKioqKioqLyBcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdH1cbi8qKioqKiovIFx0XHR9XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4vKioqKioqLyBcdFx0dmFyIGRlcGVuZGVuY3k7XG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuLyoqKioqKi8gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbi8qKioqKiovIFx0XHRcdGlmIChcbi8qKioqKiovIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbi8qKioqKiovIFx0XHRcdCkge1xuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuLyoqKioqKi8gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbi8qKioqKiovIFx0XHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdH1cbi8qKioqKiovIFx0XHR9XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2Vcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcbi8qKioqKiovIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbi8qKioqKiovIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XG4vKioqKioqLyBcdFx0XHR9XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuLyoqKioqKi8gXHRcdHZhciBlcnJvciA9IG51bGw7XG4vKioqKioqLyBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuLyoqKioqKi8gXHRcdFx0aWYgKFxuLyoqKioqKi8gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuLyoqKioqKi8gXHRcdFx0KSB7XG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuLyoqKioqKi8gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuLyoqKioqKi8gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmIChjYikge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoY2IpICE9PSAtMSkgY29udGludWU7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4vKioqKioqLyBcdFx0XHRcdFx0XHR0cnkge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4vKioqKioqLyBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHR9KTtcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHR9XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuLyoqKioqKi8gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbi8qKioqKiovIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuLyoqKioqKi8gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbi8qKioqKiovIFx0XHRcdHRyeSB7XG4vKioqKioqLyBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuLyoqKioqKi8gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4vKioqKioqLyBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4vKioqKioqLyBcdFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xuLyoqKioqKi8gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9KTtcbi8qKioqKiovIFx0XHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuLyoqKioqKi8gXHRcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbi8qKioqKiovIFx0XHRpZiAoZXJyb3IpIHtcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuLyoqKioqKi8gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuLyoqKioqKi8gXHRcdH0pO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4vKioqKioqLyBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4vKioqKioqLyBcdFx0XHRjaGlsZHJlbjogW11cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19oYXNoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoXCIuL2luZGV4LmpzXCIpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9pbmRleC5qc1wiKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gXCIuL2NhbnZhc1RvUGl4ZWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY2FudmFzVG9QaXhlbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9nZXRUcmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ2V0VHJhbnNmb3JtLmpzICovIFwiLi9pbnRlcm5hbC9nZXRUcmFuc2Zvcm0uanNcIik7XG5cblxuLyoqXG4gKiBDb252ZXJ0cyBhIHBvaW50IGluIHRoZSBjYW52YXMgY29vcmRpbmF0ZSBzeXN0ZW0gdG8gdGhlIHBpeGVsIGNvb3JkaW5hdGUgc3lzdGVtXG4gKiBzeXN0ZW0uICBUaGlzIGNhbiBiZSB1c2VkIHRvIHJlc2V0IHRvb2xzJyBpbWFnZSBjb29yZGluYXRlcyBhZnRlciBtb2RpZmljYXRpb25zXG4gKiBoYXZlIGJlZW4gbWFkZSBpbiBjYW52YXMgc3BhY2UgKGUuZy4gbW92aW5nIGEgdG9vbCBieSBhIGZldyBjbSwgaW5kZXBlbmRlbnQgb2ZcbiAqIGltYWdlIHJlc29sdXRpb24pLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIENvcm5lcnN0b25lIGVsZW1lbnQgd2l0aGluIHdoaWNoIHRoZSBpbnB1dCBwb2ludCBsaWVzXG4gKiBAcGFyYW0ge3t4OiBOdW1iZXIsIHk6IE51bWJlcn19IHB0IFRoZSBpbnB1dCBwb2ludCBpbiB0aGUgY2FudmFzIGNvb3JkaW5hdGUgc3lzdGVtXG4gKlxuICogQHJldHVybnMge3t4OiBOdW1iZXIsIHk6IE51bWJlcn19IFRoZSB0cmFuc2Zvcm1lZCBwb2ludCBpbiB0aGUgcGl4ZWwgY29vcmRpbmF0ZSBzeXN0ZW1cbiAqIEBtZW1iZXJvZiBQaXhlbENvb3JkaW5hdGVTeXN0ZW1cbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChlbGVtZW50LCBwdCkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICB2YXIgdHJhbnNmb3JtID0gT2JqZWN0KF9pbnRlcm5hbF9nZXRUcmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50KTtcbiAgdHJhbnNmb3JtLmludmVydCgpO1xuICByZXR1cm4gdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHB0LngsIHB0LnkpO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vY29sb3JzL2NvbG9ybWFwLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY29sb3JzL2NvbG9ybWFwLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGdldENvbG9ybWFwc0xpc3QsIGdldENvbG9ybWFwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldENvbG9ybWFwc0xpc3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRDb2xvcm1hcHNMaXN0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRDb2xvcm1hcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldENvbG9ybWFwOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbG9va3VwVGFibGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbG9va3VwVGFibGUuanMgKi8gXCIuL2NvbG9ycy9sb29rdXBUYWJsZS5qc1wiKTtcblxudmFyIENPTE9SX1RSQU5TUEFSRU5UID0gWzAsIDAsIDAsIDBdOyAvLyBDb2xvcm1hcHNcbi8vXG4vLyBIb3QgSXJvbiwgUEVULCBIb3QgTWV0YWwgQmx1ZSBhbmQgUEVUIDIwIFN0ZXAgYXJlIGNvbG9yIHBhbGV0dGVzXG4vLyBEZWZpbmVkIGJ5IHRoZSBESUNPTSBzdGFuZGFyZFxuLy8gaHR0cDovL2RpY29tLm5lbWEub3JnL2RpY29tLzIwMTMvb3V0cHV0L2NodG1sL3BhcnQwNi9jaGFwdGVyX0IuaHRtbFxuLy9cbi8vIEFsbCBMaW5lYXIgU2VnbWVudGVkIENvbG9ybWFwcyB3ZXJlIGNvcGllZCBmcm9tIG1hdHBsb3RsaWJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdGVmYW52L21hdHBsb3RsaWIvYmxvYi9tYXN0ZXIvbGliL21hdHBsb3RsaWIvX2NtLnB5XG5cbnZhciBjb2xvcm1hcHNEYXRhID0ge1xuICBob3RJcm9uOiB7XG4gICAgbmFtZTogJ0hvdCBJcm9uJyxcbiAgICBudW1PZkNvbG9yczogMjU2LFxuICAgIGNvbG9yczogW1swLCAwLCAwLCAyNTVdLCBbMiwgMCwgMCwgMjU1XSwgWzQsIDAsIDAsIDI1NV0sIFs2LCAwLCAwLCAyNTVdLCBbOCwgMCwgMCwgMjU1XSwgWzEwLCAwLCAwLCAyNTVdLCBbMTIsIDAsIDAsIDI1NV0sIFsxNCwgMCwgMCwgMjU1XSwgWzE2LCAwLCAwLCAyNTVdLCBbMTgsIDAsIDAsIDI1NV0sIFsyMCwgMCwgMCwgMjU1XSwgWzIyLCAwLCAwLCAyNTVdLCBbMjQsIDAsIDAsIDI1NV0sIFsyNiwgMCwgMCwgMjU1XSwgWzI4LCAwLCAwLCAyNTVdLCBbMzAsIDAsIDAsIDI1NV0sIFszMiwgMCwgMCwgMjU1XSwgWzM0LCAwLCAwLCAyNTVdLCBbMzYsIDAsIDAsIDI1NV0sIFszOCwgMCwgMCwgMjU1XSwgWzQwLCAwLCAwLCAyNTVdLCBbNDIsIDAsIDAsIDI1NV0sIFs0NCwgMCwgMCwgMjU1XSwgWzQ2LCAwLCAwLCAyNTVdLCBbNDgsIDAsIDAsIDI1NV0sIFs1MCwgMCwgMCwgMjU1XSwgWzUyLCAwLCAwLCAyNTVdLCBbNTQsIDAsIDAsIDI1NV0sIFs1NiwgMCwgMCwgMjU1XSwgWzU4LCAwLCAwLCAyNTVdLCBbNjAsIDAsIDAsIDI1NV0sIFs2MiwgMCwgMCwgMjU1XSwgWzY0LCAwLCAwLCAyNTVdLCBbNjYsIDAsIDAsIDI1NV0sIFs2OCwgMCwgMCwgMjU1XSwgWzcwLCAwLCAwLCAyNTVdLCBbNzIsIDAsIDAsIDI1NV0sIFs3NCwgMCwgMCwgMjU1XSwgWzc2LCAwLCAwLCAyNTVdLCBbNzgsIDAsIDAsIDI1NV0sIFs4MCwgMCwgMCwgMjU1XSwgWzgyLCAwLCAwLCAyNTVdLCBbODQsIDAsIDAsIDI1NV0sIFs4NiwgMCwgMCwgMjU1XSwgWzg4LCAwLCAwLCAyNTVdLCBbOTAsIDAsIDAsIDI1NV0sIFs5MiwgMCwgMCwgMjU1XSwgWzk0LCAwLCAwLCAyNTVdLCBbOTYsIDAsIDAsIDI1NV0sIFs5OCwgMCwgMCwgMjU1XSwgWzEwMCwgMCwgMCwgMjU1XSwgWzEwMiwgMCwgMCwgMjU1XSwgWzEwNCwgMCwgMCwgMjU1XSwgWzEwNiwgMCwgMCwgMjU1XSwgWzEwOCwgMCwgMCwgMjU1XSwgWzExMCwgMCwgMCwgMjU1XSwgWzExMiwgMCwgMCwgMjU1XSwgWzExNCwgMCwgMCwgMjU1XSwgWzExNiwgMCwgMCwgMjU1XSwgWzExOCwgMCwgMCwgMjU1XSwgWzEyMCwgMCwgMCwgMjU1XSwgWzEyMiwgMCwgMCwgMjU1XSwgWzEyNCwgMCwgMCwgMjU1XSwgWzEyNiwgMCwgMCwgMjU1XSwgWzEyOCwgMCwgMCwgMjU1XSwgWzEzMCwgMCwgMCwgMjU1XSwgWzEzMiwgMCwgMCwgMjU1XSwgWzEzNCwgMCwgMCwgMjU1XSwgWzEzNiwgMCwgMCwgMjU1XSwgWzEzOCwgMCwgMCwgMjU1XSwgWzE0MCwgMCwgMCwgMjU1XSwgWzE0MiwgMCwgMCwgMjU1XSwgWzE0NCwgMCwgMCwgMjU1XSwgWzE0NiwgMCwgMCwgMjU1XSwgWzE0OCwgMCwgMCwgMjU1XSwgWzE1MCwgMCwgMCwgMjU1XSwgWzE1MiwgMCwgMCwgMjU1XSwgWzE1NCwgMCwgMCwgMjU1XSwgWzE1NiwgMCwgMCwgMjU1XSwgWzE1OCwgMCwgMCwgMjU1XSwgWzE2MCwgMCwgMCwgMjU1XSwgWzE2MiwgMCwgMCwgMjU1XSwgWzE2NCwgMCwgMCwgMjU1XSwgWzE2NiwgMCwgMCwgMjU1XSwgWzE2OCwgMCwgMCwgMjU1XSwgWzE3MCwgMCwgMCwgMjU1XSwgWzE3MiwgMCwgMCwgMjU1XSwgWzE3NCwgMCwgMCwgMjU1XSwgWzE3NiwgMCwgMCwgMjU1XSwgWzE3OCwgMCwgMCwgMjU1XSwgWzE4MCwgMCwgMCwgMjU1XSwgWzE4MiwgMCwgMCwgMjU1XSwgWzE4NCwgMCwgMCwgMjU1XSwgWzE4NiwgMCwgMCwgMjU1XSwgWzE4OCwgMCwgMCwgMjU1XSwgWzE5MCwgMCwgMCwgMjU1XSwgWzE5MiwgMCwgMCwgMjU1XSwgWzE5NCwgMCwgMCwgMjU1XSwgWzE5NiwgMCwgMCwgMjU1XSwgWzE5OCwgMCwgMCwgMjU1XSwgWzIwMCwgMCwgMCwgMjU1XSwgWzIwMiwgMCwgMCwgMjU1XSwgWzIwNCwgMCwgMCwgMjU1XSwgWzIwNiwgMCwgMCwgMjU1XSwgWzIwOCwgMCwgMCwgMjU1XSwgWzIxMCwgMCwgMCwgMjU1XSwgWzIxMiwgMCwgMCwgMjU1XSwgWzIxNCwgMCwgMCwgMjU1XSwgWzIxNiwgMCwgMCwgMjU1XSwgWzIxOCwgMCwgMCwgMjU1XSwgWzIyMCwgMCwgMCwgMjU1XSwgWzIyMiwgMCwgMCwgMjU1XSwgWzIyNCwgMCwgMCwgMjU1XSwgWzIyNiwgMCwgMCwgMjU1XSwgWzIyOCwgMCwgMCwgMjU1XSwgWzIzMCwgMCwgMCwgMjU1XSwgWzIzMiwgMCwgMCwgMjU1XSwgWzIzNCwgMCwgMCwgMjU1XSwgWzIzNiwgMCwgMCwgMjU1XSwgWzIzOCwgMCwgMCwgMjU1XSwgWzI0MCwgMCwgMCwgMjU1XSwgWzI0MiwgMCwgMCwgMjU1XSwgWzI0NCwgMCwgMCwgMjU1XSwgWzI0NiwgMCwgMCwgMjU1XSwgWzI0OCwgMCwgMCwgMjU1XSwgWzI1MCwgMCwgMCwgMjU1XSwgWzI1MiwgMCwgMCwgMjU1XSwgWzI1NCwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMiwgMCwgMjU1XSwgWzI1NSwgNCwgMCwgMjU1XSwgWzI1NSwgNiwgMCwgMjU1XSwgWzI1NSwgOCwgMCwgMjU1XSwgWzI1NSwgMTAsIDAsIDI1NV0sIFsyNTUsIDEyLCAwLCAyNTVdLCBbMjU1LCAxNCwgMCwgMjU1XSwgWzI1NSwgMTYsIDAsIDI1NV0sIFsyNTUsIDE4LCAwLCAyNTVdLCBbMjU1LCAyMCwgMCwgMjU1XSwgWzI1NSwgMjIsIDAsIDI1NV0sIFsyNTUsIDI0LCAwLCAyNTVdLCBbMjU1LCAyNiwgMCwgMjU1XSwgWzI1NSwgMjgsIDAsIDI1NV0sIFsyNTUsIDMwLCAwLCAyNTVdLCBbMjU1LCAzMiwgMCwgMjU1XSwgWzI1NSwgMzQsIDAsIDI1NV0sIFsyNTUsIDM2LCAwLCAyNTVdLCBbMjU1LCAzOCwgMCwgMjU1XSwgWzI1NSwgNDAsIDAsIDI1NV0sIFsyNTUsIDQyLCAwLCAyNTVdLCBbMjU1LCA0NCwgMCwgMjU1XSwgWzI1NSwgNDYsIDAsIDI1NV0sIFsyNTUsIDQ4LCAwLCAyNTVdLCBbMjU1LCA1MCwgMCwgMjU1XSwgWzI1NSwgNTIsIDAsIDI1NV0sIFsyNTUsIDU0LCAwLCAyNTVdLCBbMjU1LCA1NiwgMCwgMjU1XSwgWzI1NSwgNTgsIDAsIDI1NV0sIFsyNTUsIDYwLCAwLCAyNTVdLCBbMjU1LCA2MiwgMCwgMjU1XSwgWzI1NSwgNjQsIDAsIDI1NV0sIFsyNTUsIDY2LCAwLCAyNTVdLCBbMjU1LCA2OCwgMCwgMjU1XSwgWzI1NSwgNzAsIDAsIDI1NV0sIFsyNTUsIDcyLCAwLCAyNTVdLCBbMjU1LCA3NCwgMCwgMjU1XSwgWzI1NSwgNzYsIDAsIDI1NV0sIFsyNTUsIDc4LCAwLCAyNTVdLCBbMjU1LCA4MCwgMCwgMjU1XSwgWzI1NSwgODIsIDAsIDI1NV0sIFsyNTUsIDg0LCAwLCAyNTVdLCBbMjU1LCA4NiwgMCwgMjU1XSwgWzI1NSwgODgsIDAsIDI1NV0sIFsyNTUsIDkwLCAwLCAyNTVdLCBbMjU1LCA5MiwgMCwgMjU1XSwgWzI1NSwgOTQsIDAsIDI1NV0sIFsyNTUsIDk2LCAwLCAyNTVdLCBbMjU1LCA5OCwgMCwgMjU1XSwgWzI1NSwgMTAwLCAwLCAyNTVdLCBbMjU1LCAxMDIsIDAsIDI1NV0sIFsyNTUsIDEwNCwgMCwgMjU1XSwgWzI1NSwgMTA2LCAwLCAyNTVdLCBbMjU1LCAxMDgsIDAsIDI1NV0sIFsyNTUsIDExMCwgMCwgMjU1XSwgWzI1NSwgMTEyLCAwLCAyNTVdLCBbMjU1LCAxMTQsIDAsIDI1NV0sIFsyNTUsIDExNiwgMCwgMjU1XSwgWzI1NSwgMTE4LCAwLCAyNTVdLCBbMjU1LCAxMjAsIDAsIDI1NV0sIFsyNTUsIDEyMiwgMCwgMjU1XSwgWzI1NSwgMTI0LCAwLCAyNTVdLCBbMjU1LCAxMjYsIDAsIDI1NV0sIFsyNTUsIDEyOCwgNCwgMjU1XSwgWzI1NSwgMTMwLCA4LCAyNTVdLCBbMjU1LCAxMzIsIDEyLCAyNTVdLCBbMjU1LCAxMzQsIDE2LCAyNTVdLCBbMjU1LCAxMzYsIDIwLCAyNTVdLCBbMjU1LCAxMzgsIDI0LCAyNTVdLCBbMjU1LCAxNDAsIDI4LCAyNTVdLCBbMjU1LCAxNDIsIDMyLCAyNTVdLCBbMjU1LCAxNDQsIDM2LCAyNTVdLCBbMjU1LCAxNDYsIDQwLCAyNTVdLCBbMjU1LCAxNDgsIDQ0LCAyNTVdLCBbMjU1LCAxNTAsIDQ4LCAyNTVdLCBbMjU1LCAxNTIsIDUyLCAyNTVdLCBbMjU1LCAxNTQsIDU2LCAyNTVdLCBbMjU1LCAxNTYsIDYwLCAyNTVdLCBbMjU1LCAxNTgsIDY0LCAyNTVdLCBbMjU1LCAxNjAsIDY4LCAyNTVdLCBbMjU1LCAxNjIsIDcyLCAyNTVdLCBbMjU1LCAxNjQsIDc2LCAyNTVdLCBbMjU1LCAxNjYsIDgwLCAyNTVdLCBbMjU1LCAxNjgsIDg0LCAyNTVdLCBbMjU1LCAxNzAsIDg4LCAyNTVdLCBbMjU1LCAxNzIsIDkyLCAyNTVdLCBbMjU1LCAxNzQsIDk2LCAyNTVdLCBbMjU1LCAxNzYsIDEwMCwgMjU1XSwgWzI1NSwgMTc4LCAxMDQsIDI1NV0sIFsyNTUsIDE4MCwgMTA4LCAyNTVdLCBbMjU1LCAxODIsIDExMiwgMjU1XSwgWzI1NSwgMTg0LCAxMTYsIDI1NV0sIFsyNTUsIDE4NiwgMTIwLCAyNTVdLCBbMjU1LCAxODgsIDEyNCwgMjU1XSwgWzI1NSwgMTkwLCAxMjgsIDI1NV0sIFsyNTUsIDE5MiwgMTMyLCAyNTVdLCBbMjU1LCAxOTQsIDEzNiwgMjU1XSwgWzI1NSwgMTk2LCAxNDAsIDI1NV0sIFsyNTUsIDE5OCwgMTQ0LCAyNTVdLCBbMjU1LCAyMDAsIDE0OCwgMjU1XSwgWzI1NSwgMjAyLCAxNTIsIDI1NV0sIFsyNTUsIDIwNCwgMTU2LCAyNTVdLCBbMjU1LCAyMDYsIDE2MCwgMjU1XSwgWzI1NSwgMjA4LCAxNjQsIDI1NV0sIFsyNTUsIDIxMCwgMTY4LCAyNTVdLCBbMjU1LCAyMTIsIDE3MiwgMjU1XSwgWzI1NSwgMjE0LCAxNzYsIDI1NV0sIFsyNTUsIDIxNiwgMTgwLCAyNTVdLCBbMjU1LCAyMTgsIDE4NCwgMjU1XSwgWzI1NSwgMjIwLCAxODgsIDI1NV0sIFsyNTUsIDIyMiwgMTkyLCAyNTVdLCBbMjU1LCAyMjQsIDE5NiwgMjU1XSwgWzI1NSwgMjI2LCAyMDAsIDI1NV0sIFsyNTUsIDIyOCwgMjA0LCAyNTVdLCBbMjU1LCAyMzAsIDIwOCwgMjU1XSwgWzI1NSwgMjMyLCAyMTIsIDI1NV0sIFsyNTUsIDIzNCwgMjE2LCAyNTVdLCBbMjU1LCAyMzYsIDIyMCwgMjU1XSwgWzI1NSwgMjM4LCAyMjQsIDI1NV0sIFsyNTUsIDI0MCwgMjI4LCAyNTVdLCBbMjU1LCAyNDIsIDIzMiwgMjU1XSwgWzI1NSwgMjQ0LCAyMzYsIDI1NV0sIFsyNTUsIDI0NiwgMjQwLCAyNTVdLCBbMjU1LCAyNDgsIDI0NCwgMjU1XSwgWzI1NSwgMjUwLCAyNDgsIDI1NV0sIFsyNTUsIDI1MiwgMjUyLCAyNTVdLCBbMjU1LCAyNTUsIDI1NSwgMjU1XV1cbiAgfSxcbiAgcGV0OiB7XG4gICAgbmFtZTogJ1BFVCcsXG4gICAgbnVtQ29sb3JzOiAyNTYsXG4gICAgY29sb3JzOiBbWzAsIDAsIDAsIDI1NV0sIFswLCAyLCAxLCAyNTVdLCBbMCwgNCwgMywgMjU1XSwgWzAsIDYsIDUsIDI1NV0sIFswLCA4LCA3LCAyNTVdLCBbMCwgMTAsIDksIDI1NV0sIFswLCAxMiwgMTEsIDI1NV0sIFswLCAxNCwgMTMsIDI1NV0sIFswLCAxNiwgMTUsIDI1NV0sIFswLCAxOCwgMTcsIDI1NV0sIFswLCAyMCwgMTksIDI1NV0sIFswLCAyMiwgMjEsIDI1NV0sIFswLCAyNCwgMjMsIDI1NV0sIFswLCAyNiwgMjUsIDI1NV0sIFswLCAyOCwgMjcsIDI1NV0sIFswLCAzMCwgMjksIDI1NV0sIFswLCAzMiwgMzEsIDI1NV0sIFswLCAzNCwgMzMsIDI1NV0sIFswLCAzNiwgMzUsIDI1NV0sIFswLCAzOCwgMzcsIDI1NV0sIFswLCA0MCwgMzksIDI1NV0sIFswLCA0MiwgNDEsIDI1NV0sIFswLCA0NCwgNDMsIDI1NV0sIFswLCA0NiwgNDUsIDI1NV0sIFswLCA0OCwgNDcsIDI1NV0sIFswLCA1MCwgNDksIDI1NV0sIFswLCA1MiwgNTEsIDI1NV0sIFswLCA1NCwgNTMsIDI1NV0sIFswLCA1NiwgNTUsIDI1NV0sIFswLCA1OCwgNTcsIDI1NV0sIFswLCA2MCwgNTksIDI1NV0sIFswLCA2MiwgNjEsIDI1NV0sIFswLCA2NSwgNjMsIDI1NV0sIFswLCA2NywgNjUsIDI1NV0sIFswLCA2OSwgNjcsIDI1NV0sIFswLCA3MSwgNjksIDI1NV0sIFswLCA3MywgNzEsIDI1NV0sIFswLCA3NSwgNzMsIDI1NV0sIFswLCA3NywgNzUsIDI1NV0sIFswLCA3OSwgNzcsIDI1NV0sIFswLCA4MSwgNzksIDI1NV0sIFswLCA4MywgODEsIDI1NV0sIFswLCA4NSwgODMsIDI1NV0sIFswLCA4NywgODUsIDI1NV0sIFswLCA4OSwgODcsIDI1NV0sIFswLCA5MSwgODksIDI1NV0sIFswLCA5MywgOTEsIDI1NV0sIFswLCA5NSwgOTMsIDI1NV0sIFswLCA5NywgOTUsIDI1NV0sIFswLCA5OSwgOTcsIDI1NV0sIFswLCAxMDEsIDk5LCAyNTVdLCBbMCwgMTAzLCAxMDEsIDI1NV0sIFswLCAxMDUsIDEwMywgMjU1XSwgWzAsIDEwNywgMTA1LCAyNTVdLCBbMCwgMTA5LCAxMDcsIDI1NV0sIFswLCAxMTEsIDEwOSwgMjU1XSwgWzAsIDExMywgMTExLCAyNTVdLCBbMCwgMTE1LCAxMTMsIDI1NV0sIFswLCAxMTcsIDExNSwgMjU1XSwgWzAsIDExOSwgMTE3LCAyNTVdLCBbMCwgMTIxLCAxMTksIDI1NV0sIFswLCAxMjMsIDEyMSwgMjU1XSwgWzAsIDEyNSwgMTIzLCAyNTVdLCBbMCwgMTI4LCAxMjUsIDI1NV0sIFsxLCAxMjYsIDEyNywgMjU1XSwgWzMsIDEyNCwgMTI5LCAyNTVdLCBbNSwgMTIyLCAxMzEsIDI1NV0sIFs3LCAxMjAsIDEzMywgMjU1XSwgWzksIDExOCwgMTM1LCAyNTVdLCBbMTEsIDExNiwgMTM3LCAyNTVdLCBbMTMsIDExNCwgMTM5LCAyNTVdLCBbMTUsIDExMiwgMTQxLCAyNTVdLCBbMTcsIDExMCwgMTQzLCAyNTVdLCBbMTksIDEwOCwgMTQ1LCAyNTVdLCBbMjEsIDEwNiwgMTQ3LCAyNTVdLCBbMjMsIDEwNCwgMTQ5LCAyNTVdLCBbMjUsIDEwMiwgMTUxLCAyNTVdLCBbMjcsIDEwMCwgMTUzLCAyNTVdLCBbMjksIDk4LCAxNTUsIDI1NV0sIFszMSwgOTYsIDE1NywgMjU1XSwgWzMzLCA5NCwgMTU5LCAyNTVdLCBbMzUsIDkyLCAxNjEsIDI1NV0sIFszNywgOTAsIDE2MywgMjU1XSwgWzM5LCA4OCwgMTY1LCAyNTVdLCBbNDEsIDg2LCAxNjcsIDI1NV0sIFs0MywgODQsIDE2OSwgMjU1XSwgWzQ1LCA4MiwgMTcxLCAyNTVdLCBbNDcsIDgwLCAxNzMsIDI1NV0sIFs0OSwgNzgsIDE3NSwgMjU1XSwgWzUxLCA3NiwgMTc3LCAyNTVdLCBbNTMsIDc0LCAxNzksIDI1NV0sIFs1NSwgNzIsIDE4MSwgMjU1XSwgWzU3LCA3MCwgMTgzLCAyNTVdLCBbNTksIDY4LCAxODUsIDI1NV0sIFs2MSwgNjYsIDE4NywgMjU1XSwgWzYzLCA2NCwgMTg5LCAyNTVdLCBbNjUsIDYzLCAxOTEsIDI1NV0sIFs2NywgNjEsIDE5MywgMjU1XSwgWzY5LCA1OSwgMTk1LCAyNTVdLCBbNzEsIDU3LCAxOTcsIDI1NV0sIFs3MywgNTUsIDE5OSwgMjU1XSwgWzc1LCA1MywgMjAxLCAyNTVdLCBbNzcsIDUxLCAyMDMsIDI1NV0sIFs3OSwgNDksIDIwNSwgMjU1XSwgWzgxLCA0NywgMjA3LCAyNTVdLCBbODMsIDQ1LCAyMDksIDI1NV0sIFs4NSwgNDMsIDIxMSwgMjU1XSwgWzg2LCA0MSwgMjEzLCAyNTVdLCBbODgsIDM5LCAyMTUsIDI1NV0sIFs5MCwgMzcsIDIxNywgMjU1XSwgWzkyLCAzNSwgMjE5LCAyNTVdLCBbOTQsIDMzLCAyMjEsIDI1NV0sIFs5NiwgMzEsIDIyMywgMjU1XSwgWzk4LCAyOSwgMjI1LCAyNTVdLCBbMTAwLCAyNywgMjI3LCAyNTVdLCBbMTAyLCAyNSwgMjI5LCAyNTVdLCBbMTA0LCAyMywgMjMxLCAyNTVdLCBbMTA2LCAyMSwgMjMzLCAyNTVdLCBbMTA4LCAxOSwgMjM1LCAyNTVdLCBbMTEwLCAxNywgMjM3LCAyNTVdLCBbMTEyLCAxNSwgMjM5LCAyNTVdLCBbMTE0LCAxMywgMjQxLCAyNTVdLCBbMTE2LCAxMSwgMjQzLCAyNTVdLCBbMTE4LCA5LCAyNDUsIDI1NV0sIFsxMjAsIDcsIDI0NywgMjU1XSwgWzEyMiwgNSwgMjQ5LCAyNTVdLCBbMTI0LCAzLCAyNTEsIDI1NV0sIFsxMjYsIDEsIDI1MywgMjU1XSwgWzEyOCwgMCwgMjU1LCAyNTVdLCBbMTMwLCAyLCAyNTIsIDI1NV0sIFsxMzIsIDQsIDI0OCwgMjU1XSwgWzEzNCwgNiwgMjQ0LCAyNTVdLCBbMTM2LCA4LCAyNDAsIDI1NV0sIFsxMzgsIDEwLCAyMzYsIDI1NV0sIFsxNDAsIDEyLCAyMzIsIDI1NV0sIFsxNDIsIDE0LCAyMjgsIDI1NV0sIFsxNDQsIDE2LCAyMjQsIDI1NV0sIFsxNDYsIDE4LCAyMjAsIDI1NV0sIFsxNDgsIDIwLCAyMTYsIDI1NV0sIFsxNTAsIDIyLCAyMTIsIDI1NV0sIFsxNTIsIDI0LCAyMDgsIDI1NV0sIFsxNTQsIDI2LCAyMDQsIDI1NV0sIFsxNTYsIDI4LCAyMDAsIDI1NV0sIFsxNTgsIDMwLCAxOTYsIDI1NV0sIFsxNjAsIDMyLCAxOTIsIDI1NV0sIFsxNjIsIDM0LCAxODgsIDI1NV0sIFsxNjQsIDM2LCAxODQsIDI1NV0sIFsxNjYsIDM4LCAxODAsIDI1NV0sIFsxNjgsIDQwLCAxNzYsIDI1NV0sIFsxNzAsIDQyLCAxNzIsIDI1NV0sIFsxNzEsIDQ0LCAxNjgsIDI1NV0sIFsxNzMsIDQ2LCAxNjQsIDI1NV0sIFsxNzUsIDQ4LCAxNjAsIDI1NV0sIFsxNzcsIDUwLCAxNTYsIDI1NV0sIFsxNzksIDUyLCAxNTIsIDI1NV0sIFsxODEsIDU0LCAxNDgsIDI1NV0sIFsxODMsIDU2LCAxNDQsIDI1NV0sIFsxODUsIDU4LCAxNDAsIDI1NV0sIFsxODcsIDYwLCAxMzYsIDI1NV0sIFsxODksIDYyLCAxMzIsIDI1NV0sIFsxOTEsIDY0LCAxMjgsIDI1NV0sIFsxOTMsIDY2LCAxMjQsIDI1NV0sIFsxOTUsIDY4LCAxMjAsIDI1NV0sIFsxOTcsIDcwLCAxMTYsIDI1NV0sIFsxOTksIDcyLCAxMTIsIDI1NV0sIFsyMDEsIDc0LCAxMDgsIDI1NV0sIFsyMDMsIDc2LCAxMDQsIDI1NV0sIFsyMDUsIDc4LCAxMDAsIDI1NV0sIFsyMDcsIDgwLCA5NiwgMjU1XSwgWzIwOSwgODIsIDkyLCAyNTVdLCBbMjExLCA4NCwgODgsIDI1NV0sIFsyMTMsIDg2LCA4NCwgMjU1XSwgWzIxNSwgODgsIDgwLCAyNTVdLCBbMjE3LCA5MCwgNzYsIDI1NV0sIFsyMTksIDkyLCA3MiwgMjU1XSwgWzIyMSwgOTQsIDY4LCAyNTVdLCBbMjIzLCA5NiwgNjQsIDI1NV0sIFsyMjUsIDk4LCA2MCwgMjU1XSwgWzIyNywgMTAwLCA1NiwgMjU1XSwgWzIyOSwgMTAyLCA1MiwgMjU1XSwgWzIzMSwgMTA0LCA0OCwgMjU1XSwgWzIzMywgMTA2LCA0NCwgMjU1XSwgWzIzNSwgMTA4LCA0MCwgMjU1XSwgWzIzNywgMTEwLCAzNiwgMjU1XSwgWzIzOSwgMTEyLCAzMiwgMjU1XSwgWzI0MSwgMTE0LCAyOCwgMjU1XSwgWzI0MywgMTE2LCAyNCwgMjU1XSwgWzI0NSwgMTE4LCAyMCwgMjU1XSwgWzI0NywgMTIwLCAxNiwgMjU1XSwgWzI0OSwgMTIyLCAxMiwgMjU1XSwgWzI1MSwgMTI0LCA4LCAyNTVdLCBbMjUzLCAxMjYsIDQsIDI1NV0sIFsyNTUsIDEyOCwgMCwgMjU1XSwgWzI1NSwgMTMwLCA0LCAyNTVdLCBbMjU1LCAxMzIsIDgsIDI1NV0sIFsyNTUsIDEzNCwgMTIsIDI1NV0sIFsyNTUsIDEzNiwgMTYsIDI1NV0sIFsyNTUsIDEzOCwgMjAsIDI1NV0sIFsyNTUsIDE0MCwgMjQsIDI1NV0sIFsyNTUsIDE0MiwgMjgsIDI1NV0sIFsyNTUsIDE0NCwgMzIsIDI1NV0sIFsyNTUsIDE0NiwgMzYsIDI1NV0sIFsyNTUsIDE0OCwgNDAsIDI1NV0sIFsyNTUsIDE1MCwgNDQsIDI1NV0sIFsyNTUsIDE1MiwgNDgsIDI1NV0sIFsyNTUsIDE1NCwgNTIsIDI1NV0sIFsyNTUsIDE1NiwgNTYsIDI1NV0sIFsyNTUsIDE1OCwgNjAsIDI1NV0sIFsyNTUsIDE2MCwgNjQsIDI1NV0sIFsyNTUsIDE2MiwgNjgsIDI1NV0sIFsyNTUsIDE2NCwgNzIsIDI1NV0sIFsyNTUsIDE2NiwgNzYsIDI1NV0sIFsyNTUsIDE2OCwgODAsIDI1NV0sIFsyNTUsIDE3MCwgODUsIDI1NV0sIFsyNTUsIDE3MiwgODksIDI1NV0sIFsyNTUsIDE3NCwgOTMsIDI1NV0sIFsyNTUsIDE3NiwgOTcsIDI1NV0sIFsyNTUsIDE3OCwgMTAxLCAyNTVdLCBbMjU1LCAxODAsIDEwNSwgMjU1XSwgWzI1NSwgMTgyLCAxMDksIDI1NV0sIFsyNTUsIDE4NCwgMTEzLCAyNTVdLCBbMjU1LCAxODYsIDExNywgMjU1XSwgWzI1NSwgMTg4LCAxMjEsIDI1NV0sIFsyNTUsIDE5MCwgMTI1LCAyNTVdLCBbMjU1LCAxOTIsIDEyOSwgMjU1XSwgWzI1NSwgMTk0LCAxMzMsIDI1NV0sIFsyNTUsIDE5NiwgMTM3LCAyNTVdLCBbMjU1LCAxOTgsIDE0MSwgMjU1XSwgWzI1NSwgMjAwLCAxNDUsIDI1NV0sIFsyNTUsIDIwMiwgMTQ5LCAyNTVdLCBbMjU1LCAyMDQsIDE1MywgMjU1XSwgWzI1NSwgMjA2LCAxNTcsIDI1NV0sIFsyNTUsIDIwOCwgMTYxLCAyNTVdLCBbMjU1LCAyMTAsIDE2NSwgMjU1XSwgWzI1NSwgMjEyLCAxNzAsIDI1NV0sIFsyNTUsIDIxNCwgMTc0LCAyNTVdLCBbMjU1LCAyMTYsIDE3OCwgMjU1XSwgWzI1NSwgMjE4LCAxODIsIDI1NV0sIFsyNTUsIDIyMCwgMTg2LCAyNTVdLCBbMjU1LCAyMjIsIDE5MCwgMjU1XSwgWzI1NSwgMjI0LCAxOTQsIDI1NV0sIFsyNTUsIDIyNiwgMTk4LCAyNTVdLCBbMjU1LCAyMjgsIDIwMiwgMjU1XSwgWzI1NSwgMjMwLCAyMDYsIDI1NV0sIFsyNTUsIDIzMiwgMjEwLCAyNTVdLCBbMjU1LCAyMzQsIDIxNCwgMjU1XSwgWzI1NSwgMjM2LCAyMTgsIDI1NV0sIFsyNTUsIDIzOCwgMjIyLCAyNTVdLCBbMjU1LCAyNDAsIDIyNiwgMjU1XSwgWzI1NSwgMjQyLCAyMzAsIDI1NV0sIFsyNTUsIDI0NCwgMjM0LCAyNTVdLCBbMjU1LCAyNDYsIDIzOCwgMjU1XSwgWzI1NSwgMjQ4LCAyNDIsIDI1NV0sIFsyNTUsIDI1MCwgMjQ2LCAyNTVdLCBbMjU1LCAyNTIsIDI1MCwgMjU1XSwgWzI1NSwgMjU1LCAyNTUsIDI1NV1dXG4gIH0sXG4gIGhvdE1ldGFsQmx1ZToge1xuICAgIG5hbWU6ICdIb3QgTWV0YWwgQmx1ZScsXG4gICAgbnVtQ29sb3JzOiAyNTYsXG4gICAgY29sb3JzOiBbWzAsIDAsIDAsIDI1NV0sIFswLCAwLCAyLCAyNTVdLCBbMCwgMCwgNCwgMjU1XSwgWzAsIDAsIDYsIDI1NV0sIFswLCAwLCA4LCAyNTVdLCBbMCwgMCwgMTAsIDI1NV0sIFswLCAwLCAxMiwgMjU1XSwgWzAsIDAsIDE0LCAyNTVdLCBbMCwgMCwgMTYsIDI1NV0sIFswLCAwLCAxNywgMjU1XSwgWzAsIDAsIDE5LCAyNTVdLCBbMCwgMCwgMjEsIDI1NV0sIFswLCAwLCAyMywgMjU1XSwgWzAsIDAsIDI1LCAyNTVdLCBbMCwgMCwgMjcsIDI1NV0sIFswLCAwLCAyOSwgMjU1XSwgWzAsIDAsIDMxLCAyNTVdLCBbMCwgMCwgMzMsIDI1NV0sIFswLCAwLCAzNSwgMjU1XSwgWzAsIDAsIDM3LCAyNTVdLCBbMCwgMCwgMzksIDI1NV0sIFswLCAwLCA0MSwgMjU1XSwgWzAsIDAsIDQzLCAyNTVdLCBbMCwgMCwgNDUsIDI1NV0sIFswLCAwLCA0NywgMjU1XSwgWzAsIDAsIDQ5LCAyNTVdLCBbMCwgMCwgNTEsIDI1NV0sIFswLCAwLCA1MywgMjU1XSwgWzAsIDAsIDU1LCAyNTVdLCBbMCwgMCwgNTcsIDI1NV0sIFswLCAwLCA1OSwgMjU1XSwgWzAsIDAsIDYxLCAyNTVdLCBbMCwgMCwgNjMsIDI1NV0sIFswLCAwLCA2NSwgMjU1XSwgWzAsIDAsIDY3LCAyNTVdLCBbMCwgMCwgNjksIDI1NV0sIFswLCAwLCA3MSwgMjU1XSwgWzAsIDAsIDczLCAyNTVdLCBbMCwgMCwgNzUsIDI1NV0sIFswLCAwLCA3NywgMjU1XSwgWzAsIDAsIDc5LCAyNTVdLCBbMCwgMCwgODEsIDI1NV0sIFswLCAwLCA4MywgMjU1XSwgWzAsIDAsIDg0LCAyNTVdLCBbMCwgMCwgODYsIDI1NV0sIFswLCAwLCA4OCwgMjU1XSwgWzAsIDAsIDkwLCAyNTVdLCBbMCwgMCwgOTIsIDI1NV0sIFswLCAwLCA5NCwgMjU1XSwgWzAsIDAsIDk2LCAyNTVdLCBbMCwgMCwgOTgsIDI1NV0sIFswLCAwLCAxMDAsIDI1NV0sIFswLCAwLCAxMDIsIDI1NV0sIFswLCAwLCAxMDQsIDI1NV0sIFswLCAwLCAxMDYsIDI1NV0sIFswLCAwLCAxMDgsIDI1NV0sIFswLCAwLCAxMTAsIDI1NV0sIFswLCAwLCAxMTIsIDI1NV0sIFswLCAwLCAxMTQsIDI1NV0sIFswLCAwLCAxMTYsIDI1NV0sIFswLCAwLCAxMTcsIDI1NV0sIFswLCAwLCAxMTksIDI1NV0sIFswLCAwLCAxMjEsIDI1NV0sIFswLCAwLCAxMjMsIDI1NV0sIFswLCAwLCAxMjUsIDI1NV0sIFswLCAwLCAxMjcsIDI1NV0sIFswLCAwLCAxMjksIDI1NV0sIFswLCAwLCAxMzEsIDI1NV0sIFswLCAwLCAxMzMsIDI1NV0sIFswLCAwLCAxMzUsIDI1NV0sIFswLCAwLCAxMzcsIDI1NV0sIFswLCAwLCAxMzksIDI1NV0sIFswLCAwLCAxNDEsIDI1NV0sIFswLCAwLCAxNDMsIDI1NV0sIFswLCAwLCAxNDUsIDI1NV0sIFswLCAwLCAxNDcsIDI1NV0sIFswLCAwLCAxNDksIDI1NV0sIFswLCAwLCAxNTEsIDI1NV0sIFswLCAwLCAxNTMsIDI1NV0sIFswLCAwLCAxNTUsIDI1NV0sIFswLCAwLCAxNTcsIDI1NV0sIFswLCAwLCAxNTksIDI1NV0sIFswLCAwLCAxNjEsIDI1NV0sIFswLCAwLCAxNjMsIDI1NV0sIFswLCAwLCAxNjUsIDI1NV0sIFswLCAwLCAxNjcsIDI1NV0sIFszLCAwLCAxNjksIDI1NV0sIFs2LCAwLCAxNzEsIDI1NV0sIFs5LCAwLCAxNzMsIDI1NV0sIFsxMiwgMCwgMTc1LCAyNTVdLCBbMTUsIDAsIDE3NywgMjU1XSwgWzE4LCAwLCAxNzksIDI1NV0sIFsyMSwgMCwgMTgxLCAyNTVdLCBbMjQsIDAsIDE4MywgMjU1XSwgWzI2LCAwLCAxODQsIDI1NV0sIFsyOSwgMCwgMTg2LCAyNTVdLCBbMzIsIDAsIDE4OCwgMjU1XSwgWzM1LCAwLCAxOTAsIDI1NV0sIFszOCwgMCwgMTkyLCAyNTVdLCBbNDEsIDAsIDE5NCwgMjU1XSwgWzQ0LCAwLCAxOTYsIDI1NV0sIFs0NywgMCwgMTk4LCAyNTVdLCBbNTAsIDAsIDIwMCwgMjU1XSwgWzUyLCAwLCAxOTcsIDI1NV0sIFs1NSwgMCwgMTk0LCAyNTVdLCBbNTcsIDAsIDE5MSwgMjU1XSwgWzU5LCAwLCAxODgsIDI1NV0sIFs2MiwgMCwgMTg1LCAyNTVdLCBbNjQsIDAsIDE4MiwgMjU1XSwgWzY2LCAwLCAxNzksIDI1NV0sIFs2OSwgMCwgMTc2LCAyNTVdLCBbNzEsIDAsIDE3NCwgMjU1XSwgWzc0LCAwLCAxNzEsIDI1NV0sIFs3NiwgMCwgMTY4LCAyNTVdLCBbNzgsIDAsIDE2NSwgMjU1XSwgWzgxLCAwLCAxNjIsIDI1NV0sIFs4MywgMCwgMTU5LCAyNTVdLCBbODUsIDAsIDE1NiwgMjU1XSwgWzg4LCAwLCAxNTMsIDI1NV0sIFs5MCwgMCwgMTUwLCAyNTVdLCBbOTMsIDIsIDE0NCwgMjU1XSwgWzk2LCA0LCAxMzgsIDI1NV0sIFs5OSwgNiwgMTMyLCAyNTVdLCBbMTAyLCA4LCAxMjYsIDI1NV0sIFsxMDUsIDksIDEyMSwgMjU1XSwgWzEwOCwgMTEsIDExNSwgMjU1XSwgWzExMSwgMTMsIDEwOSwgMjU1XSwgWzExNCwgMTUsIDEwMywgMjU1XSwgWzExNiwgMTcsIDk3LCAyNTVdLCBbMTE5LCAxOSwgOTEsIDI1NV0sIFsxMjIsIDIxLCA4NSwgMjU1XSwgWzEyNSwgMjMsIDc5LCAyNTVdLCBbMTI4LCAyNCwgNzQsIDI1NV0sIFsxMzEsIDI2LCA2OCwgMjU1XSwgWzEzNCwgMjgsIDYyLCAyNTVdLCBbMTM3LCAzMCwgNTYsIDI1NV0sIFsxNDAsIDMyLCA1MCwgMjU1XSwgWzE0MywgMzQsIDQ3LCAyNTVdLCBbMTQ2LCAzNiwgNDQsIDI1NV0sIFsxNDksIDM4LCA0MSwgMjU1XSwgWzE1MiwgNDAsIDM4LCAyNTVdLCBbMTU1LCA0MSwgMzUsIDI1NV0sIFsxNTgsIDQzLCAzMiwgMjU1XSwgWzE2MSwgNDUsIDI5LCAyNTVdLCBbMTY0LCA0NywgMjYsIDI1NV0sIFsxNjYsIDQ5LCAyNCwgMjU1XSwgWzE2OSwgNTEsIDIxLCAyNTVdLCBbMTcyLCA1MywgMTgsIDI1NV0sIFsxNzUsIDU1LCAxNSwgMjU1XSwgWzE3OCwgNTYsIDEyLCAyNTVdLCBbMTgxLCA1OCwgOSwgMjU1XSwgWzE4NCwgNjAsIDYsIDI1NV0sIFsxODcsIDYyLCAzLCAyNTVdLCBbMTkwLCA2NCwgMCwgMjU1XSwgWzE5NCwgNjYsIDAsIDI1NV0sIFsxOTgsIDY4LCAwLCAyNTVdLCBbMjAxLCA3MCwgMCwgMjU1XSwgWzIwNSwgNzIsIDAsIDI1NV0sIFsyMDksIDczLCAwLCAyNTVdLCBbMjEzLCA3NSwgMCwgMjU1XSwgWzIxNywgNzcsIDAsIDI1NV0sIFsyMjEsIDc5LCAwLCAyNTVdLCBbMjI0LCA4MSwgMCwgMjU1XSwgWzIyOCwgODMsIDAsIDI1NV0sIFsyMzIsIDg1LCAwLCAyNTVdLCBbMjM2LCA4NywgMCwgMjU1XSwgWzI0MCwgODgsIDAsIDI1NV0sIFsyNDQsIDkwLCAwLCAyNTVdLCBbMjQ3LCA5MiwgMCwgMjU1XSwgWzI1MSwgOTQsIDAsIDI1NV0sIFsyNTUsIDk2LCAwLCAyNTVdLCBbMjU1LCA5OCwgMywgMjU1XSwgWzI1NSwgMTAwLCA2LCAyNTVdLCBbMjU1LCAxMDIsIDksIDI1NV0sIFsyNTUsIDEwNCwgMTIsIDI1NV0sIFsyNTUsIDEwNSwgMTUsIDI1NV0sIFsyNTUsIDEwNywgMTgsIDI1NV0sIFsyNTUsIDEwOSwgMjEsIDI1NV0sIFsyNTUsIDExMSwgMjQsIDI1NV0sIFsyNTUsIDExMywgMjYsIDI1NV0sIFsyNTUsIDExNSwgMjksIDI1NV0sIFsyNTUsIDExNywgMzIsIDI1NV0sIFsyNTUsIDExOSwgMzUsIDI1NV0sIFsyNTUsIDEyMCwgMzgsIDI1NV0sIFsyNTUsIDEyMiwgNDEsIDI1NV0sIFsyNTUsIDEyNCwgNDQsIDI1NV0sIFsyNTUsIDEyNiwgNDcsIDI1NV0sIFsyNTUsIDEyOCwgNTAsIDI1NV0sIFsyNTUsIDEzMCwgNTMsIDI1NV0sIFsyNTUsIDEzMiwgNTYsIDI1NV0sIFsyNTUsIDEzNCwgNTksIDI1NV0sIFsyNTUsIDEzNiwgNjIsIDI1NV0sIFsyNTUsIDEzNywgNjUsIDI1NV0sIFsyNTUsIDEzOSwgNjgsIDI1NV0sIFsyNTUsIDE0MSwgNzEsIDI1NV0sIFsyNTUsIDE0MywgNzQsIDI1NV0sIFsyNTUsIDE0NSwgNzYsIDI1NV0sIFsyNTUsIDE0NywgNzksIDI1NV0sIFsyNTUsIDE0OSwgODIsIDI1NV0sIFsyNTUsIDE1MSwgODUsIDI1NV0sIFsyNTUsIDE1MiwgODgsIDI1NV0sIFsyNTUsIDE1NCwgOTEsIDI1NV0sIFsyNTUsIDE1NiwgOTQsIDI1NV0sIFsyNTUsIDE1OCwgOTcsIDI1NV0sIFsyNTUsIDE2MCwgMTAwLCAyNTVdLCBbMjU1LCAxNjIsIDEwMywgMjU1XSwgWzI1NSwgMTY0LCAxMDYsIDI1NV0sIFsyNTUsIDE2NiwgMTA5LCAyNTVdLCBbMjU1LCAxNjgsIDExMiwgMjU1XSwgWzI1NSwgMTY5LCAxMTUsIDI1NV0sIFsyNTUsIDE3MSwgMTE4LCAyNTVdLCBbMjU1LCAxNzMsIDEyMSwgMjU1XSwgWzI1NSwgMTc1LCAxMjQsIDI1NV0sIFsyNTUsIDE3NywgMTI2LCAyNTVdLCBbMjU1LCAxNzksIDEyOSwgMjU1XSwgWzI1NSwgMTgxLCAxMzIsIDI1NV0sIFsyNTUsIDE4MywgMTM1LCAyNTVdLCBbMjU1LCAxODQsIDEzOCwgMjU1XSwgWzI1NSwgMTg2LCAxNDEsIDI1NV0sIFsyNTUsIDE4OCwgMTQ0LCAyNTVdLCBbMjU1LCAxOTAsIDE0NywgMjU1XSwgWzI1NSwgMTkyLCAxNTAsIDI1NV0sIFsyNTUsIDE5NCwgMTUzLCAyNTVdLCBbMjU1LCAxOTYsIDE1NiwgMjU1XSwgWzI1NSwgMTk4LCAxNTksIDI1NV0sIFsyNTUsIDIwMCwgMTYyLCAyNTVdLCBbMjU1LCAyMDEsIDE2NSwgMjU1XSwgWzI1NSwgMjAzLCAxNjgsIDI1NV0sIFsyNTUsIDIwNSwgMTcxLCAyNTVdLCBbMjU1LCAyMDcsIDE3NCwgMjU1XSwgWzI1NSwgMjA5LCAxNzYsIDI1NV0sIFsyNTUsIDIxMSwgMTc5LCAyNTVdLCBbMjU1LCAyMTMsIDE4MiwgMjU1XSwgWzI1NSwgMjE1LCAxODUsIDI1NV0sIFsyNTUsIDIxNiwgMTg4LCAyNTVdLCBbMjU1LCAyMTgsIDE5MSwgMjU1XSwgWzI1NSwgMjIwLCAxOTQsIDI1NV0sIFsyNTUsIDIyMiwgMTk3LCAyNTVdLCBbMjU1LCAyMjQsIDIwMCwgMjU1XSwgWzI1NSwgMjI2LCAyMDMsIDI1NV0sIFsyNTUsIDIyOCwgMjA2LCAyNTVdLCBbMjU1LCAyMjksIDIxMCwgMjU1XSwgWzI1NSwgMjMxLCAyMTMsIDI1NV0sIFsyNTUsIDIzMywgMjE2LCAyNTVdLCBbMjU1LCAyMzUsIDIxOSwgMjU1XSwgWzI1NSwgMjM3LCAyMjMsIDI1NV0sIFsyNTUsIDIzOSwgMjI2LCAyNTVdLCBbMjU1LCAyNDAsIDIyOSwgMjU1XSwgWzI1NSwgMjQyLCAyMzIsIDI1NV0sIFsyNTUsIDI0NCwgMjM2LCAyNTVdLCBbMjU1LCAyNDYsIDIzOSwgMjU1XSwgWzI1NSwgMjQ4LCAyNDIsIDI1NV0sIFsyNTUsIDI1MCwgMjQ1LCAyNTVdLCBbMjU1LCAyNTEsIDI0OSwgMjU1XSwgWzI1NSwgMjUzLCAyNTIsIDI1NV0sIFsyNTUsIDI1NSwgMjU1LCAyNTVdXVxuICB9LFxuICBwZXQyMFN0ZXA6IHtcbiAgICBuYW1lOiAnUEVUIDIwIFN0ZXAnLFxuICAgIG51bUNvbG9yczogMjU2LFxuICAgIGNvbG9yczogW1swLCAwLCAwLCAyNTVdLCBbMCwgMCwgMCwgMjU1XSwgWzAsIDAsIDAsIDI1NV0sIFswLCAwLCAwLCAyNTVdLCBbMCwgMCwgMCwgMjU1XSwgWzAsIDAsIDAsIDI1NV0sIFswLCAwLCAwLCAyNTVdLCBbMCwgMCwgMCwgMjU1XSwgWzAsIDAsIDAsIDI1NV0sIFswLCAwLCAwLCAyNTVdLCBbMCwgMCwgMCwgMjU1XSwgWzAsIDAsIDAsIDI1NV0sIFswLCAwLCAwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbOTYsIDAsIDgwLCAyNTVdLCBbNDgsIDQ4LCA4MCwgMjU1XSwgWzQ4LCA0OCwgODAsIDI1NV0sIFs0OCwgNDgsIDgwLCAyNTVdLCBbNDgsIDQ4LCA4MCwgMjU1XSwgWzQ4LCA0OCwgODAsIDI1NV0sIFs0OCwgNDgsIDgwLCAyNTVdLCBbNDgsIDQ4LCA4MCwgMjU1XSwgWzQ4LCA0OCwgODAsIDI1NV0sIFs0OCwgNDgsIDgwLCAyNTVdLCBbNDgsIDQ4LCA4MCwgMjU1XSwgWzQ4LCA0OCwgODAsIDI1NV0sIFs0OCwgNDgsIDgwLCAyNTVdLCBbNDgsIDQ4LCA4MCwgMjU1XSwgWzQ4LCA0OCwgMTEyLCAyNTVdLCBbNDgsIDQ4LCAxMTIsIDI1NV0sIFs0OCwgNDgsIDExMiwgMjU1XSwgWzQ4LCA0OCwgMTEyLCAyNTVdLCBbNDgsIDQ4LCAxMTIsIDI1NV0sIFs0OCwgNDgsIDExMiwgMjU1XSwgWzQ4LCA0OCwgMTEyLCAyNTVdLCBbNDgsIDQ4LCAxMTIsIDI1NV0sIFs0OCwgNDgsIDExMiwgMjU1XSwgWzQ4LCA0OCwgMTEyLCAyNTVdLCBbNDgsIDQ4LCAxMTIsIDI1NV0sIFs0OCwgNDgsIDExMiwgMjU1XSwgWzgwLCA4MCwgMTI4LCAyNTVdLCBbODAsIDgwLCAxMjgsIDI1NV0sIFs4MCwgODAsIDEyOCwgMjU1XSwgWzgwLCA4MCwgMTI4LCAyNTVdLCBbODAsIDgwLCAxMjgsIDI1NV0sIFs4MCwgODAsIDEyOCwgMjU1XSwgWzgwLCA4MCwgMTI4LCAyNTVdLCBbODAsIDgwLCAxMjgsIDI1NV0sIFs4MCwgODAsIDEyOCwgMjU1XSwgWzgwLCA4MCwgMTI4LCAyNTVdLCBbODAsIDgwLCAxMjgsIDI1NV0sIFs4MCwgODAsIDEyOCwgMjU1XSwgWzgwLCA4MCwgMTI4LCAyNTVdLCBbOTYsIDk2LCAxNzYsIDI1NV0sIFs5NiwgOTYsIDE3NiwgMjU1XSwgWzk2LCA5NiwgMTc2LCAyNTVdLCBbOTYsIDk2LCAxNzYsIDI1NV0sIFs5NiwgOTYsIDE3NiwgMjU1XSwgWzk2LCA5NiwgMTc2LCAyNTVdLCBbOTYsIDk2LCAxNzYsIDI1NV0sIFs5NiwgOTYsIDE3NiwgMjU1XSwgWzk2LCA5NiwgMTc2LCAyNTVdLCBbOTYsIDk2LCAxNzYsIDI1NV0sIFs5NiwgOTYsIDE3NiwgMjU1XSwgWzk2LCA5NiwgMTc2LCAyNTVdLCBbOTYsIDk2LCAxNzYsIDI1NV0sIFsxMTIsIDExMiwgMTkyLCAyNTVdLCBbMTEyLCAxMTIsIDE5MiwgMjU1XSwgWzExMiwgMTEyLCAxOTIsIDI1NV0sIFsxMTIsIDExMiwgMTkyLCAyNTVdLCBbMTEyLCAxMTIsIDE5MiwgMjU1XSwgWzExMiwgMTEyLCAxOTIsIDI1NV0sIFsxMTIsIDExMiwgMTkyLCAyNTVdLCBbMTEyLCAxMTIsIDE5MiwgMjU1XSwgWzExMiwgMTEyLCAxOTIsIDI1NV0sIFsxMTIsIDExMiwgMTkyLCAyNTVdLCBbMTEyLCAxMTIsIDE5MiwgMjU1XSwgWzExMiwgMTEyLCAxOTIsIDI1NV0sIFsxMTIsIDExMiwgMTkyLCAyNTVdLCBbMTI4LCAxMjgsIDIyNCwgMjU1XSwgWzEyOCwgMTI4LCAyMjQsIDI1NV0sIFsxMjgsIDEyOCwgMjI0LCAyNTVdLCBbMTI4LCAxMjgsIDIyNCwgMjU1XSwgWzEyOCwgMTI4LCAyMjQsIDI1NV0sIFsxMjgsIDEyOCwgMjI0LCAyNTVdLCBbMTI4LCAxMjgsIDIyNCwgMjU1XSwgWzEyOCwgMTI4LCAyMjQsIDI1NV0sIFsxMjgsIDEyOCwgMjI0LCAyNTVdLCBbMTI4LCAxMjgsIDIyNCwgMjU1XSwgWzEyOCwgMTI4LCAyMjQsIDI1NV0sIFsxMjgsIDEyOCwgMjI0LCAyNTVdLCBbNDgsIDk2LCA0OCwgMjU1XSwgWzQ4LCA5NiwgNDgsIDI1NV0sIFs0OCwgOTYsIDQ4LCAyNTVdLCBbNDgsIDk2LCA0OCwgMjU1XSwgWzQ4LCA5NiwgNDgsIDI1NV0sIFs0OCwgOTYsIDQ4LCAyNTVdLCBbNDgsIDk2LCA0OCwgMjU1XSwgWzQ4LCA5NiwgNDgsIDI1NV0sIFs0OCwgOTYsIDQ4LCAyNTVdLCBbNDgsIDk2LCA0OCwgMjU1XSwgWzQ4LCA5NiwgNDgsIDI1NV0sIFs0OCwgOTYsIDQ4LCAyNTVdLCBbNDgsIDk2LCA0OCwgMjU1XSwgWzQ4LCAxNDQsIDQ4LCAyNTVdLCBbNDgsIDE0NCwgNDgsIDI1NV0sIFs0OCwgMTQ0LCA0OCwgMjU1XSwgWzQ4LCAxNDQsIDQ4LCAyNTVdLCBbNDgsIDE0NCwgNDgsIDI1NV0sIFs0OCwgMTQ0LCA0OCwgMjU1XSwgWzQ4LCAxNDQsIDQ4LCAyNTVdLCBbNDgsIDE0NCwgNDgsIDI1NV0sIFs0OCwgMTQ0LCA0OCwgMjU1XSwgWzQ4LCAxNDQsIDQ4LCAyNTVdLCBbNDgsIDE0NCwgNDgsIDI1NV0sIFs0OCwgMTQ0LCA0OCwgMjU1XSwgWzQ4LCAxNDQsIDQ4LCAyNTVdLCBbODAsIDE5MiwgODAsIDI1NV0sIFs4MCwgMTkyLCA4MCwgMjU1XSwgWzgwLCAxOTIsIDgwLCAyNTVdLCBbODAsIDE5MiwgODAsIDI1NV0sIFs4MCwgMTkyLCA4MCwgMjU1XSwgWzgwLCAxOTIsIDgwLCAyNTVdLCBbODAsIDE5MiwgODAsIDI1NV0sIFs4MCwgMTkyLCA4MCwgMjU1XSwgWzgwLCAxOTIsIDgwLCAyNTVdLCBbODAsIDE5MiwgODAsIDI1NV0sIFs4MCwgMTkyLCA4MCwgMjU1XSwgWzgwLCAxOTIsIDgwLCAyNTVdLCBbODAsIDE5MiwgODAsIDI1NV0sIFs2NCwgMjI0LCA2NCwgMjU1XSwgWzY0LCAyMjQsIDY0LCAyNTVdLCBbNjQsIDIyNCwgNjQsIDI1NV0sIFs2NCwgMjI0LCA2NCwgMjU1XSwgWzY0LCAyMjQsIDY0LCAyNTVdLCBbNjQsIDIyNCwgNjQsIDI1NV0sIFs2NCwgMjI0LCA2NCwgMjU1XSwgWzY0LCAyMjQsIDY0LCAyNTVdLCBbNjQsIDIyNCwgNjQsIDI1NV0sIFs2NCwgMjI0LCA2NCwgMjU1XSwgWzY0LCAyMjQsIDY0LCAyNTVdLCBbNjQsIDIyNCwgNjQsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMjQsIDIyNCwgODAsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDIwOCwgOTYsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE3NiwgNjQsIDI1NV0sIFsyMDgsIDE0NCwgMCwgMjU1XSwgWzIwOCwgMTQ0LCAwLCAyNTVdLCBbMjA4LCAxNDQsIDAsIDI1NV0sIFsyMDgsIDE0NCwgMCwgMjU1XSwgWzIwOCwgMTQ0LCAwLCAyNTVdLCBbMjA4LCAxNDQsIDAsIDI1NV0sIFsyMDgsIDE0NCwgMCwgMjU1XSwgWzIwOCwgMTQ0LCAwLCAyNTVdLCBbMjA4LCAxNDQsIDAsIDI1NV0sIFsyMDgsIDE0NCwgMCwgMjU1XSwgWzIwOCwgMTQ0LCAwLCAyNTVdLCBbMjA4LCAxNDQsIDAsIDI1NV0sIFsxOTIsIDk2LCAwLCAyNTVdLCBbMTkyLCA5NiwgMCwgMjU1XSwgWzE5MiwgOTYsIDAsIDI1NV0sIFsxOTIsIDk2LCAwLCAyNTVdLCBbMTkyLCA5NiwgMCwgMjU1XSwgWzE5MiwgOTYsIDAsIDI1NV0sIFsxOTIsIDk2LCAwLCAyNTVdLCBbMTkyLCA5NiwgMCwgMjU1XSwgWzE5MiwgOTYsIDAsIDI1NV0sIFsxOTIsIDk2LCAwLCAyNTVdLCBbMTkyLCA5NiwgMCwgMjU1XSwgWzE5MiwgOTYsIDAsIDI1NV0sIFsxOTIsIDk2LCAwLCAyNTVdLCBbMTc2LCA0OCwgMCwgMjU1XSwgWzE3NiwgNDgsIDAsIDI1NV0sIFsxNzYsIDQ4LCAwLCAyNTVdLCBbMTc2LCA0OCwgMCwgMjU1XSwgWzE3NiwgNDgsIDAsIDI1NV0sIFsxNzYsIDQ4LCAwLCAyNTVdLCBbMTc2LCA0OCwgMCwgMjU1XSwgWzE3NiwgNDgsIDAsIDI1NV0sIFsxNzYsIDQ4LCAwLCAyNTVdLCBbMTc2LCA0OCwgMCwgMjU1XSwgWzE3NiwgNDgsIDAsIDI1NV0sIFsxNzYsIDQ4LCAwLCAyNTVdLCBbMTc2LCA0OCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMCwgMCwgMjU1XSwgWzI1NSwgMjU1LCAyNTUsIDI1NV0sIFsyNTUsIDI1NSwgMjU1LCAyNTVdLCBbMjU1LCAyNTUsIDI1NSwgMjU1XSwgWzI1NSwgMjU1LCAyNTUsIDI1NV0sIFsyNTUsIDI1NSwgMjU1LCAyNTVdLCBbMjU1LCAyNTUsIDI1NSwgMjU1XSwgWzI1NSwgMjU1LCAyNTUsIDI1NV0sIFsyNTUsIDI1NSwgMjU1LCAyNTVdLCBbMjU1LCAyNTUsIDI1NSwgMjU1XSwgWzI1NSwgMjU1LCAyNTUsIDI1NV0sIFsyNTUsIDI1NSwgMjU1LCAyNTVdLCBbMjU1LCAyNTUsIDI1NSwgMjU1XSwgWzI1NSwgMjU1LCAyNTUsIDI1NV1dXG4gIH0sXG4gIGdyYXk6IHtcbiAgICBuYW1lOiAnR3JheScsXG4gICAgbnVtQ29sb3JzOiAyNTYsXG4gICAgZ2FtbWE6IDEsXG4gICAgc2VnbWVudGVkRGF0YToge1xuICAgICAgcmVkOiBbWzAsIDAsIDBdLCBbMSwgMSwgMV1dLFxuICAgICAgZ3JlZW46IFtbMCwgMCwgMF0sIFsxLCAxLCAxXV0sXG4gICAgICBibHVlOiBbWzAsIDAsIDBdLCBbMSwgMSwgMV1dXG4gICAgfVxuICB9LFxuICBqZXQ6IHtcbiAgICBuYW1lOiAnSmV0JyxcbiAgICBudW1Db2xvcnM6IDI1NixcbiAgICBnYW1tYTogMSxcbiAgICBzZWdtZW50ZWREYXRhOiB7XG4gICAgICByZWQ6IFtbMCwgMCwgMF0sIFswLjM1LCAwLCAwXSwgWzAuNjYsIDEsIDFdLCBbMC44OSwgMSwgMV0sIFsxLCAwLjUsIDAuNV1dLFxuICAgICAgZ3JlZW46IFtbMCwgMCwgMF0sIFswLjEyNSwgMCwgMF0sIFswLjM3NSwgMSwgMV0sIFswLjY0LCAxLCAxXSwgWzAuOTEsIDAsIDBdLCBbMSwgMCwgMF1dLFxuICAgICAgYmx1ZTogW1swLCAwLjUsIDAuNV0sIFswLjExLCAxLCAxXSwgWzAuMzQsIDEsIDFdLCBbMC42NSwgMCwgMF0sIFsxLCAwLCAwXV1cbiAgICB9XG4gIH0sXG4gIGhzdjoge1xuICAgIG5hbWU6ICdIU1YnLFxuICAgIG51bUNvbG9yczogMjU2LFxuICAgIGdhbW1hOiAxLFxuICAgIHNlZ21lbnRlZERhdGE6IHtcbiAgICAgIHJlZDogW1swLCAxLCAxXSwgWzAuMTU4NzMwLCAxLCAxXSwgWzAuMTc0NjAzLCAwLjk2ODc1MCwgMC45Njg3NTBdLCBbMC4zMzMzMzMsIDAuMDMxMjUwLCAwLjAzMTI1MF0sIFswLjM0OTIwNiwgMCwgMF0sIFswLjY2NjY2NywgMCwgMF0sIFswLjY4MjU0MCwgMC4wMzEyNTAsIDAuMDMxMjUwXSwgWzAuODQxMjcwLCAwLjk2ODc1MCwgMC45Njg3NTBdLCBbMC44NTcxNDMsIDEsIDFdLCBbMSwgMSwgMV1dLFxuICAgICAgZ3JlZW46IFtbMCwgMCwgMF0sIFswLjE1ODczMCwgMC45Mzc1MDAsIDAuOTM3NTAwXSwgWzAuMTc0NjAzLCAxLCAxXSwgWzAuNTA3OTM3LCAxLCAxXSwgWzAuNjY2NjY3LCAwLjA2MjUwMCwgMC4wNjI1MDBdLCBbMC42ODI1NDAsIDAsIDBdLCBbMSwgMCwgMF1dLFxuICAgICAgYmx1ZTogW1swLCAwLCAwXSwgWzAuMzMzMzMzLCAwLCAwXSwgWzAuMzQ5MjA2LCAwLjA2MjUwMCwgMC4wNjI1MDBdLCBbMC41MDc5MzcsIDEsIDFdLCBbMC44NDEyNzAsIDEsIDFdLCBbMC44NTcxNDMsIDAuOTM3NTAwLCAwLjkzNzUwMF0sIFsxLCAwLjA5Mzc1LCAwLjA5Mzc1XV1cbiAgICB9XG4gIH0sXG4gIGhvdDoge1xuICAgIG5hbWU6ICdIb3QnLFxuICAgIG51bUNvbG9yczogMjU2LFxuICAgIGdhbW1hOiAxLFxuICAgIHNlZ21lbnRlZERhdGE6IHtcbiAgICAgIHJlZDogW1swLCAwLjA0MTYsIDAuMDQxNl0sIFswLjM2NTA3OSwgMSwgMV0sIFsxLCAxLCAxXV0sXG4gICAgICBncmVlbjogW1swLCAwLCAwXSwgWzAuMzY1MDc5LCAwLCAwXSwgWzAuNzQ2MDMyLCAxLCAxXSwgWzEsIDEsIDFdXSxcbiAgICAgIGJsdWU6IFtbMCwgMCwgMF0sIFswLjc0NjAzMiwgMCwgMF0sIFsxLCAxLCAxXV1cbiAgICB9XG4gIH0sXG4gIGNvb2w6IHtcbiAgICBuYW1lOiAnQ29vbCcsXG4gICAgbnVtQ29sb3JzOiAyNTYsXG4gICAgZ2FtbWE6IDEsXG4gICAgc2VnbWVudGVkRGF0YToge1xuICAgICAgcmVkOiBbWzAsIDAsIDBdLCBbMSwgMSwgMV1dLFxuICAgICAgZ3JlZW46IFtbMCwgMSwgMV0sIFsxLCAwLCAwXV0sXG4gICAgICBibHVlOiBbWzAsIDEsIDFdLCBbMSwgMSwgMV1dXG4gICAgfVxuICB9LFxuICBzcHJpbmc6IHtcbiAgICBuYW1lOiAnU3ByaW5nJyxcbiAgICBudW1Db2xvcnM6IDI1NixcbiAgICBnYW1tYTogMSxcbiAgICBzZWdtZW50ZWREYXRhOiB7XG4gICAgICByZWQ6IFtbMCwgMSwgMV0sIFsxLCAxLCAxXV0sXG4gICAgICBncmVlbjogW1swLCAwLCAwXSwgWzEsIDEsIDFdXSxcbiAgICAgIGJsdWU6IFtbMCwgMSwgMV0sIFsxLCAwLCAwXV1cbiAgICB9XG4gIH0sXG4gIHN1bW1lcjoge1xuICAgIG5hbWU6ICdTdW1tZXInLFxuICAgIG51bUNvbG9yczogMjU2LFxuICAgIGdhbW1hOiAxLFxuICAgIHNlZ21lbnRlZERhdGE6IHtcbiAgICAgIHJlZDogW1swLCAwLCAwXSwgWzEsIDEsIDFdXSxcbiAgICAgIGdyZWVuOiBbWzAsIDAuNSwgMC41XSwgWzEsIDEsIDFdXSxcbiAgICAgIGJsdWU6IFtbMCwgMC40LCAwLjRdLCBbMSwgMC40LCAwLjRdXVxuICAgIH1cbiAgfSxcbiAgYXV0dW1uOiB7XG4gICAgbmFtZTogJ0F1dHVtbicsXG4gICAgbnVtQ29sb3JzOiAyNTYsXG4gICAgZ2FtbWE6IDEsXG4gICAgc2VnbWVudGVkRGF0YToge1xuICAgICAgcmVkOiBbWzAsIDEsIDFdLCBbMSwgMSwgMV1dLFxuICAgICAgZ3JlZW46IFtbMCwgMCwgMF0sIFsxLCAxLCAxXV0sXG4gICAgICBibHVlOiBbWzAsIDAsIDBdLCBbMSwgMCwgMF1dXG4gICAgfVxuICB9LFxuICB3aW50ZXI6IHtcbiAgICBuYW1lOiAnV2ludGVyJyxcbiAgICBudW1Db2xvcnM6IDI1NixcbiAgICBnYW1tYTogMSxcbiAgICBzZWdtZW50ZWREYXRhOiB7XG4gICAgICByZWQ6IFtbMCwgMCwgMF0sIFsxLCAwLCAwXV0sXG4gICAgICBncmVlbjogW1swLCAwLCAwXSwgWzEsIDEsIDFdXSxcbiAgICAgIGJsdWU6IFtbMCwgMSwgMV0sIFsxLCAwLjUsIDAuNV1dXG4gICAgfVxuICB9LFxuICBib25lOiB7XG4gICAgbmFtZTogJ0JvbmUnLFxuICAgIG51bUNvbG9yczogMjU2LFxuICAgIGdhbW1hOiAxLFxuICAgIHNlZ21lbnRlZERhdGE6IHtcbiAgICAgIHJlZDogW1swLCAwLCAwXSwgWzAuNzQ2MDMyLCAwLjY1Mjc3OCwgMC42NTI3NzhdLCBbMSwgMSwgMV1dLFxuICAgICAgZ3JlZW46IFtbMCwgMCwgMF0sIFswLjM2NTA3OSwgMC4zMTk0NDQsIDAuMzE5NDQ0XSwgWzAuNzQ2MDMyLCAwLjc3Nzc3OCwgMC43Nzc3NzhdLCBbMSwgMSwgMV1dLFxuICAgICAgYmx1ZTogW1swLCAwLCAwXSwgWzAuMzY1MDc5LCAwLjQ0NDQ0NCwgMC40NDQ0NDRdLCBbMSwgMSwgMV1dXG4gICAgfVxuICB9LFxuICBjb3BwZXI6IHtcbiAgICBuYW1lOiAnQ29wcGVyJyxcbiAgICBudW1Db2xvcnM6IDI1NixcbiAgICBnYW1tYTogMSxcbiAgICBzZWdtZW50ZWREYXRhOiB7XG4gICAgICByZWQ6IFtbMCwgMCwgMF0sIFswLjgwOTUyNCwgMSwgMV0sIFsxLCAxLCAxXV0sXG4gICAgICBncmVlbjogW1swLCAwLCAwXSwgWzEsIDAuNzgxMiwgMC43ODEyXV0sXG4gICAgICBibHVlOiBbWzAsIDAsIDBdLCBbMSwgMC40OTc1LCAwLjQ5NzVdXVxuICAgIH1cbiAgfSxcbiAgc3BlY3RyYWw6IHtcbiAgICBuYW1lOiAnU3BlY3RyYWwnLFxuICAgIG51bUNvbG9yczogMjU2LFxuICAgIGdhbW1hOiAxLFxuICAgIHNlZ21lbnRlZERhdGE6IHtcbiAgICAgIHJlZDogW1swLCAwLCAwXSwgWzAuMDUsIDAuNDY2NywgMC40NjY3XSwgWzAuMTAsIDAuNTMzMywgMC41MzMzXSwgWzAuMTUsIDAsIDBdLCBbMC4yMCwgMCwgMF0sIFswLjI1LCAwLCAwXSwgWzAuMzAsIDAsIDBdLCBbMC4zNSwgMCwgMF0sIFswLjQwLCAwLCAwXSwgWzAuNDUsIDAsIDBdLCBbMC41MCwgMCwgMF0sIFswLjU1LCAwLCAwXSwgWzAuNjAsIDAsIDBdLCBbMC42NSwgMC43MzMzLCAwLjczMzNdLCBbMC43MCwgMC45MzMzLCAwLjkzMzNdLCBbMC43NSwgMSwgMV0sIFswLjgwLCAxLCAxXSwgWzAuODUsIDEsIDFdLCBbMC45MCwgMC44NjY3LCAwLjg2NjddLCBbMC45NSwgMC44MCwgMC44MF0sIFsxLCAwLjgwLCAwLjgwXV0sXG4gICAgICBncmVlbjogW1swLCAwLCAwXSwgWzAuMDUsIDAsIDBdLCBbMC4xMCwgMCwgMF0sIFswLjE1LCAwLCAwXSwgWzAuMjAsIDAsIDBdLCBbMC4yNSwgMC40NjY3LCAwLjQ2NjddLCBbMC4zMCwgMC42MDAwLCAwLjYwMDBdLCBbMC4zNSwgMC42NjY3LCAwLjY2NjddLCBbMC40MCwgMC42NjY3LCAwLjY2NjddLCBbMC40NSwgMC42MDAwLCAwLjYwMDBdLCBbMC41MCwgMC43MzMzLCAwLjczMzNdLCBbMC41NSwgMC44NjY3LCAwLjg2NjddLCBbMC42MCwgMSwgMV0sIFswLjY1LCAxLCAxXSwgWzAuNzAsIDAuOTMzMywgMC45MzMzXSwgWzAuNzUsIDAuODAwMCwgMC44MDAwXSwgWzAuODAsIDAuNjAwMCwgMC42MDAwXSwgWzAuODUsIDAsIDBdLCBbMC45MCwgMCwgMF0sIFswLjk1LCAwLCAwXSwgWzEsIDAuODAsIDAuODBdXSxcbiAgICAgIGJsdWU6IFtbMCwgMCwgMF0sIFswLjA1LCAwLjUzMzMsIDAuNTMzM10sIFswLjEwLCAwLjYwMDAsIDAuNjAwMF0sIFswLjE1LCAwLjY2NjcsIDAuNjY2N10sIFswLjIwLCAwLjg2NjcsIDAuODY2N10sIFswLjI1LCAwLjg2NjcsIDAuODY2N10sIFswLjMwLCAwLjg2NjcsIDAuODY2N10sIFswLjM1LCAwLjY2NjcsIDAuNjY2N10sIFswLjQwLCAwLjUzMzMsIDAuNTMzM10sIFswLjQ1LCAwLCAwXSwgWzAuNSwgMCwgMF0sIFswLjU1LCAwLCAwXSwgWzAuNjAsIDAsIDBdLCBbMC42NSwgMCwgMF0sIFswLjcwLCAwLCAwXSwgWzAuNzUsIDAsIDBdLCBbMC44MCwgMCwgMF0sIFswLjg1LCAwLCAwXSwgWzAuOTAsIDAsIDBdLCBbMC45NSwgMCwgMF0sIFsxLCAwLjgwLCAwLjgwXV1cbiAgICB9XG4gIH0sXG4gIGNvb2x3YXJtOiB7XG4gICAgbmFtZTogJ0Nvb2xXYXJtJyxcbiAgICBudW1Db2xvcnM6IDI1NixcbiAgICBnYW1tYTogMSxcbiAgICBzZWdtZW50ZWREYXRhOiB7XG4gICAgICByZWQ6IFtbMCwgMC4yMjk4MDU3LCAwLjIyOTgwNTddLCBbMC4wMzEyNSwgMC4yNjYyMzM4OCwgMC4yNjYyMzM4OF0sIFswLjA2MjUsIDAuMzAzODY4OTEsIDAuMzAzODY4OTFdLCBbMC4wOTM3NSwgMC4zNDI4MDQ0NzgsIDAuMzQyODA0NDc4XSwgWzAuMTI1LCAwLjM4MzAxMzM0LCAwLjM4MzAxMzM0XSwgWzAuMTU2MjUsIDAuNDI0MzY5NjA4LCAwLjQyNDM2OTYwOF0sIFswLjE4NzUsIDAuNDY2NjY3MDgsIDAuNDY2NjY3MDhdLCBbMC4yMTg3NSwgMC41MDk2MzUyMDQsIDAuNTA5NjM1MjA0XSwgWzAuMjUsIDAuNTUyOTUzMTU2LCAwLjU1Mjk1MzE1Nl0sIFswLjI4MTI1LCAwLjU5NjI2MjE2MiwgMC41OTYyNjIxNjJdLCBbMC4zMTI1LCAwLjYzOTE3NjIxMSwgMC42MzkxNzYyMTFdLCBbMC4zNDM3NSwgMC42ODEyOTEyODEsIDAuNjgxMjkxMjgxXSwgWzAuMzc1LCAwLjcyMjE5MzI5NCwgMC43MjIxOTMyOTRdLCBbMC40MDYyNSwgMC43NjE0NjQ5NDksIDAuNzYxNDY0OTQ5XSwgWzAuNDM3NSwgMC43OTg2OTE2MzYsIDAuNzk4NjkxNjM2XSwgWzAuNDY4NzUsIDAuODMzNDY2NTU2LCAwLjgzMzQ2NjU1Nl0sIFswLjUsIDAuODY1Mzk1MTk3LCAwLjg2NTM5NTE5N10sIFswLjUzMTI1LCAwLjg5Nzc4NzE3OSwgMC44OTc3ODcxNzldLCBbMC41NjI1LCAwLjkyNDEyNzU5MywgMC45MjQxMjc1OTNdLCBbMC41OTM3NSwgMC45NDQ0Njg1MTgsIDAuOTQ0NDY4NTE4XSwgWzAuNjI1LCAwLjk1ODg1Mjk0NiwgMC45NTg4NTI5NDZdLCBbMC42NTYyNSwgMC45NjczMjgwMywgMC45NjczMjgwM10sIFswLjY4NzUsIDAuOTY5OTU0MTM3LCAwLjk2OTk1NDEzN10sIFswLjcxODc1LCAwLjk2NjgxMTE3NywgMC45NjY4MTExNzddLCBbMC43NSwgMC45NTgwMDMwNjUsIDAuOTU4MDAzMDY1XSwgWzAuNzgxMjUsIDAuOTQzNjYwODY2LCAwLjk0MzY2MDg2Nl0sIFswLjgxMjUsIDAuOTIzOTQ0OTE3LCAwLjkyMzk0NDkxN10sIFswLjg0Mzc1LCAwLjg5OTA0NjE3LCAwLjg5OTA0NjE3XSwgWzAuODc1LCAwLjg2OTE4Njg0OSwgMC44NjkxODY4NDldLCBbMC45MDYyNSwgMC44MzQ2MjA1NDIsIDAuODM0NjIwNTQyXSwgWzAuOTM3NSwgMC43OTU2MzE3NDUsIDAuNzk1NjMxNzQ1XSwgWzAuOTY4NzUsIDAuNzUyNTM0OTM0LCAwLjc1MjUzNDkzNF0sIFsxLCAwLjcwNTY3MzE1OCwgMC43MDU2NzMxNThdXSxcbiAgICAgIGdyZWVuOiBbWzAsIDAuMjk4NzE3OTY2LCAwLjI5ODcxNzk2Nl0sIFswLjAzMTI1LCAwLjM1MzA5NDgzOCwgMC4zNTMwOTQ4MzhdLCBbMC4wNjI1LCAwLjQwNjUzNTI5NiwgMC40MDY1MzUyOTZdLCBbMC4wOTM3NSwgMC40NTg3NTc2MTgsIDAuNDU4NzU3NjE4XSwgWzAuMTI1LCAwLjUwOTQxOTA0LCAwLjUwOTQxOTA0XSwgWzAuMTU2MjUsIDAuNTU4MTQ4MDkyLCAwLjU1ODE0ODA5Ml0sIFswLjE4NzUsIDAuNjA0NTYyNTY4LCAwLjYwNDU2MjU2OF0sIFswLjIxODc1LCAwLjY0ODI4MDc3MiwgMC42NDgyODA3NzJdLCBbMC4yNSwgMC42ODg5MjkzMzIsIDAuNjg4OTI5MzMyXSwgWzAuMjgxMjUsIDAuNzI2MTQ5MTA3LCAwLjcyNjE0OTEwN10sIFswLjMxMjUsIDAuNzU5NTk5OTQ3LCAwLjc1OTU5OTk0N10sIFswLjM0Mzc1LCAwLjc4ODk2NDcxMiwgMC43ODg5NjQ3MTJdLCBbMC4zNzUsIDAuODEzOTUyNzM5LCAwLjgxMzk1MjczOV0sIFswLjQwNjI1LCAwLjgzNDMwMjg3OSwgMC44MzQzMDI4NzldLCBbMC40Mzc1LCAwLjg0OTc4NjE0MiwgMC44NDk3ODYxNDJdLCBbMC40Njg3NSwgMC44NjAyMDc5ODQsIDAuODYwMjA3OTg0XSwgWzAuNSwgMC44NjU0MTAyMSwgMC44NjU0MTAyMV0sIFswLjUzMTI1LCAwLjg0ODkzNzA0NywgMC44NDg5MzcwNDddLCBbMC41NjI1LCAwLjgyNzM4NDg4MiwgMC44MjczODQ4ODJdLCBbMC41OTM3NSwgMC44MDA5Mjc0NDMsIDAuODAwOTI3NDQzXSwgWzAuNjI1LCAwLjc2OTc2Nzc1MiwgMC43Njk3Njc3NTJdLCBbMC42NTYyNSwgMC43MzQxMzI4MDksIDAuNzM0MTMyODA5XSwgWzAuNjg3NSwgMC42OTQyNjY2ODIsIDAuNjk0MjY2NjgyXSwgWzAuNzE4NzUsIDAuNjUwNDIxMTU2LCAwLjY1MDQyMTE1Nl0sIFswLjc1LCAwLjYwMjg0MjQzMSwgMC42MDI4NDI0MzFdLCBbMC43ODEyNSwgMC41NTE3NTA5NjgsIDAuNTUxNzUwOTY4XSwgWzAuODEyNSwgMC40OTczMDg1NiwgMC40OTczMDg1Nl0sIFswLjg0Mzc1LCAwLjQzOTU1OTQ2NywgMC40Mzk1NTk0NjddLCBbMC44NzUsIDAuMzc4MzEzMDkyLCAwLjM3ODMxMzA5Ml0sIFswLjkwNjI1LCAwLjMxMjg3NDQ0NiwgMC4zMTI4NzQ0NDZdLCBbMC45Mzc1LCAwLjI0MTI4Mzc5LCAwLjI0MTI4Mzc5XSwgWzAuOTY4NzUsIDAuMTU3MjQ2MDY3LCAwLjE1NzI0NjA2N10sIFsxLCAwLjAxNTU1NjE2LCAwLjAxNTU1NjE2XV0sXG4gICAgICBibHVlOiBbWzAsIDAuNzUzNjgzMTUzLCAwLjc1MzY4MzE1M10sIFswLjAzMTI1LCAwLjgwMTQ2Njc2MywgMC44MDE0NjY3NjNdLCBbMC4wNjI1LCAwLjg0NDk1ODY3LCAwLjg0NDk1ODY3XSwgWzAuMDkzNzUsIDAuODgzNzI1ODk5LCAwLjg4MzcyNTg5OV0sIFswLjEyNSwgMC45MTczODc4MjIsIDAuOTE3Mzg3ODIyXSwgWzAuMTU2MjUsIDAuOTQ1NjE5NTg4LCAwLjk0NTYxOTU4OF0sIFswLjE4NzUsIDAuOTY4MTU0OTExLCAwLjk2ODE1NDkxMV0sIFswLjIxODc1LCAwLjk4NDc4ODE0LCAwLjk4NDc4ODE0XSwgWzAuMjUsIDAuOTk1Mzc1NjA4LCAwLjk5NTM3NTYwOF0sIFswLjI4MTI1LCAwLjk5OTgzNjIwMywgMC45OTk4MzYyMDNdLCBbMC4zMTI1LCAwLjk5ODE1MTE4NSwgMC45OTgxNTExODVdLCBbMC4zNDM3NSwgMC45OTAzNjMyMjcsIDAuOTkwMzYzMjI3XSwgWzAuMzc1LCAwLjk3NjU3NDcwOSwgMC45NzY1NzQ3MDldLCBbMC40MDYyNSwgMC45NTY5NDUyNjksIDAuOTU2OTQ1MjY5XSwgWzAuNDM3NSwgMC45MzE2ODg2NDgsIDAuOTMxNjg4NjQ4XSwgWzAuNDY4NzUsIDAuOTAxMDY4ODM4LCAwLjkwMTA2ODgzOF0sIFswLjUsIDAuODY1Mzk1NTYxLCAwLjg2NTM5NTU2MV0sIFswLjUzMTI1LCAwLjgyMDg4MDU0NiwgMC44MjA4ODA1NDZdLCBbMC41NjI1LCAwLjc3NDUwODQ3MiwgMC43NzQ1MDg0NzJdLCBbMC41OTM3NSwgMC43MjY3MzYxNDYsIDAuNzI2NzM2MTQ2XSwgWzAuNjI1LCAwLjY3ODAwNzk0NSwgMC42NzgwMDc5NDVdLCBbMC42NTYyNSwgMC42Mjg3NTE3NjMsIDAuNjI4NzUxNzYzXSwgWzAuNjg3NSwgMC41NzkzNzU0NDgsIDAuNTc5Mzc1NDQ4XSwgWzAuNzE4NzUsIDAuNTMwMjYzNzYyLCAwLjUzMDI2Mzc2Ml0sIFswLjc1LCAwLjQ4MTc3NTkxNCwgMC40ODE3NzU5MTRdLCBbMC43ODEyNSwgMC40MzQyNDM2ODQsIDAuNDM0MjQzNjg0XSwgWzAuODEyNSwgMC4zODc5NzAyMjUsIDAuMzg3OTcwMjI1XSwgWzAuODQzNzUsIDAuMzQzMjI5NTk2LCAwLjM0MzIyOTU5Nl0sIFswLjg3NSwgMC4zMDAyNjcxODIsIDAuMzAwMjY3MTgyXSwgWzAuOTA2MjUsIDAuMjU5MzAxMTk5LCAwLjI1OTMwMTE5OV0sIFswLjkzNzUsIDAuMjIwNTI1NjI3LCAwLjIyMDUyNTYyN10sIFswLjk2ODc1LCAwLjE4NDExNTEyMywgMC4xODQxMTUxMjNdLCBbMSwgMC4xNTAyMzI4MTIsIDAuMTUwMjMyODEyXV1cbiAgICB9XG4gIH0sXG4gIGJsdWVzOiB7XG4gICAgbmFtZTogJ0JsdWVzJyxcbiAgICBudW1Db2xvcnM6IDI1NixcbiAgICBnYW1tYTogMSxcbiAgICBzZWdtZW50ZWREYXRhOiB7XG4gICAgICByZWQ6IFtbMCwgMC45Njg2Mjc0NTI4NTAzNDE4LCAwLjk2ODYyNzQ1Mjg1MDM0MThdLCBbMC4xMjUsIDAuODcwNTg4MjQzMDA3NjU5OTEsIDAuODcwNTg4MjQzMDA3NjU5OTFdLCBbMC4yNSwgMC43NzY0NzA2MDE1NTg2ODUzLCAwLjc3NjQ3MDYwMTU1ODY4NTNdLCBbMC4zNzUsIDAuNjE5NjA3ODY1ODEwMzk0MjksIDAuNjE5NjA3ODY1ODEwMzk0MjldLCBbMC41LCAwLjQxOTYwNzg0NzkyOTAwMDg1LCAwLjQxOTYwNzg0NzkyOTAwMDg1XSwgWzAuNjI1LCAwLjI1ODgyMzU0Mzc4NzAwMjU2LCAwLjI1ODgyMzU0Mzc4NzAwMjU2XSwgWzAuNzUsIDAuMTI5NDExNzcxODkzNTAxMjgsIDAuMTI5NDExNzcxODkzNTAxMjhdLCBbMC44NzUsIDAuMDMxMzcyNTUwODc0OTQ4NTAyLCAwLjAzMTM3MjU1MDg3NDk0ODUwMl0sIFsxLCAwLjAzMTM3MjU1MDg3NDk0ODUwMiwgMC4wMzEzNzI1NTA4NzQ5NDg1MDJdXSxcbiAgICAgIGdyZWVuOiBbWzAsIDAuOTg0MzEzNzI2NDI1MTcwOSwgMC45ODQzMTM3MjY0MjUxNzA5XSwgWzAuMTI1LCAwLjkyMTU2ODYzMjEyNTg1NDQ5LCAwLjkyMTU2ODYzMjEyNTg1NDQ5XSwgWzAuMjUsIDAuODU4ODIzNTM3ODI2NTM4MDksIDAuODU4ODIzNTM3ODI2NTM4MDldLCBbMC4zNzUsIDAuNzkyMTU2ODc1MTMzNTE0NCwgMC43OTIxNTY4NzUxMzM1MTQ0XSwgWzAuNSwgMC42ODIzNTI5NjAxMDk3MTA2OSwgMC42ODIzNTI5NjAxMDk3MTA2OV0sIFswLjYyNSwgMC41NzI1NDkwNDUwODU5MDY5OCwgMC41NzI1NDkwNDUwODU5MDY5OF0sIFswLjc1LCAwLjQ0MzEzNzI1ODI5MTI0NDUxLCAwLjQ0MzEzNzI1ODI5MTI0NDUxXSwgWzAuODc1LCAwLjMxNzY0NzA2OTY5MjYxMTY5LCAwLjMxNzY0NzA2OTY5MjYxMTY5XSwgWzEsIDAuMTg4MjM1Mjk3Nzk5MTEwNDEsIDAuMTg4MjM1Mjk3Nzk5MTEwNDFdXSxcbiAgICAgIGJsdWU6IFtbMCwgMSwgMV0sIFswLjEyNSwgMC45Njg2Mjc0NTI4NTAzNDE4LCAwLjk2ODYyNzQ1Mjg1MDM0MThdLCBbMC4yNSwgMC45MzcyNTQ5MDU3MDA2ODM1OSwgMC45MzcyNTQ5MDU3MDA2ODM1OV0sIFswLjM3NSwgMC44ODIzNTI5NDgxODg3ODE3NCwgMC44ODIzNTI5NDgxODg3ODE3NF0sIFswLjUsIDAuODM5MjE1Njk1ODU4MDAxNzEsIDAuODM5MjE1Njk1ODU4MDAxNzFdLCBbMC42MjUsIDAuNzc2NDcwNjAxNTU4Njg1MywgMC43NzY0NzA2MDE1NTg2ODUzXSwgWzAuNzUsIDAuNzA5ODAzOTM4ODY1NjYxNjIsIDAuNzA5ODAzOTM4ODY1NjYxNjJdLCBbMC44NzUsIDAuNjExNzY0NzI5MDIyOTc5NzQsIDAuNjExNzY0NzI5MDIyOTc5NzRdLCBbMSwgMC40MTk2MDc4NDc5MjkwMDA4NSwgMC40MTk2MDc4NDc5MjkwMDA4NV1dXG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiAgR2VuZXJhdGUgbGluZWFybHkgc3BhY2VkIHZlY3RvcnNcbiogIGh0dHA6Ly9jZW5zLmlvYy5lZS9sb2NhbC9tYW4vbWF0bGFiL3RlY2hkb2MvcmVmL2xpbnNwYWNlLmh0bWxcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEEgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgZmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gYiBBIG51bWJlciByZXByZXNlbnRpbmcgdGhlIHNlY29uZCB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgbGluZWFyIHNwYWNlZCB2ZWN0b3JzIHRvIGdlbmVyYXRlXG4gKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IG9mIHBvaW50cyByZXByZXNlbnRpbmcgbGluZWFyIHNwYWNlZCB2ZWN0b3JzLlxuICogQG1lbWJlcm9mIENvbG9yc1xuICovXG5cbmZ1bmN0aW9uIGxpbnNwYWNlKGEsIGIsIG4pIHtcbiAgbiA9IG4gPT09IG51bGwgPyAxMDAgOiBuO1xuICB2YXIgaW5jcmVtZW50ID0gKGIgLSBhKSAvIChuIC0gMSk7XG4gIHZhciB2ZWN0b3IgPSBbXTtcblxuICB3aGlsZSAobi0tID4gMCkge1xuICAgIHZlY3Rvci5wdXNoKGEpO1xuICAgIGEgKz0gaW5jcmVtZW50O1xuICB9IC8vIE1ha2Ugc3VyZSB0aGUgbGFzdCBpdGVtIHdpbGwgYWx3YXlzIGJlIFwiYlwiIGJlY2F1c2UgbW9zdCBvZiB0aGVcbiAgLy8gVGltZSB3ZSdsbCBnZXQgbnVtYmVycyBsaWtlIDEuMDAwMDAwMDAwMDAwMDAwMiBpbnN0ZWFkIG9mIDEuXG5cblxuICB2ZWN0b3JbdmVjdG9yLmxlbmd0aCAtIDFdID0gYjtcbiAgcmV0dXJuIHZlY3Rvcjtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgXCJyYW5rL2luZGV4XCIgb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgaWYgZm91bmQgb3IgdGhlIGhpZ2hlc3QgaW5kZXggaWYgbm90LiBVc2VzIChiaW5hcnkgc2VhcmNoKVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgQSBzb3J0ZWQgYXJyYXkgdG8gc2VhcmNoIGluXG4gKiBAcGFyYW0ge2FueX0gZWxlbSB0aGUgZWxlbWVudCBpbiB0aGUgYXJyYXkgdG8gc2VhcmNoIGZvclxuICogQHJldHVybnMge251bWJlcn0gVGhlIHJhbmsvaW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGdpdmVuIGFycmF5XG4gKiBAbWVtYmVyb2YgQ29sb3JzXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRSYW5rKGFycmF5LCBlbGVtKSB7XG4gIHZhciBsZWZ0ID0gMDtcbiAgdmFyIHJpZ2h0ID0gYXJyYXkubGVuZ3RoIC0gMTtcblxuICB3aGlsZSAobGVmdCA8PSByaWdodCkge1xuICAgIHZhciBtaWQgPSBsZWZ0ICsgTWF0aC5mbG9vcigocmlnaHQgLSBsZWZ0KSAvIDIpO1xuICAgIHZhciBtaWRFbGVtID0gYXJyYXlbbWlkXTtcblxuICAgIGlmIChtaWRFbGVtID09PSBlbGVtKSB7XG4gICAgICByZXR1cm4gbWlkO1xuICAgIH0gZWxzZSBpZiAoZWxlbSA8IG1pZEVsZW0pIHtcbiAgICAgIHJpZ2h0ID0gbWlkIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVmdCA9IG1pZCArIDE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxlZnQ7XG59XG4vKipcbiAqIEZpbmQgdGhlIGluZGljZXMgaW50byBhIHNvcnRlZCBhcnJheSBhIHN1Y2ggdGhhdCwgaWYgdGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudHNcbiAqIEluIHYgd2VyZSBpbnNlcnRlZCBiZWZvcmUgdGhlIGluZGljZXMsIHRoZSBvcmRlciBvZiBhIHdvdWxkIGJlIHByZXNlcnZlZC5cbiAqICBodHRwOi8vbGFncmFuZ2UudW5pdi1seW9uMS5mci9kb2NzL251bXB5LzEuMTEuMC9yZWZlcmVuY2UvZ2VuZXJhdGVkL251bXB5LnNlYXJjaHNvcnRlZC5odG1sXG4gKiBAcGFyYW0ge0FycmF5fSBpbnB1dEFycmF5IFRoZSBhcnJheSB3aGVyZSB0aGUgdmFsdWVzIHdpbGwgYmUgaW5zZXJ0ZWRcbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBBbiBhcnJheSBvZiB0aGUgdmFsdWVzIHRvIGJlIGluc2VydGVkIGludG8gdGhlIGlucHV0QXJyYXlcbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGluZGljZXMgd2hlcmUgZWxlbWVudHMgc2hvdWxkIGJlIGluc2VydGVkIHRvIG1haW50YWluIG9yZGVyLlxuICogQG1lbWJlcm9mIENvbG9yc1xuICovXG5cblxuZnVuY3Rpb24gc2VhcmNoU29ydGVkKGlucHV0QXJyYXksIHZhbHVlcykge1xuICB2YXIgaTtcbiAgdmFyIGluZGV4ZXMgPSBbXTtcbiAgdmFyIGxlbiA9IHZhbHVlcy5sZW5ndGg7XG4gIGlucHV0QXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhIC0gYjtcbiAgfSk7XG5cbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaW5kZXhlc1tpXSA9IGdldFJhbmsoaW5wdXRBcnJheSwgdmFsdWVzW2ldKTtcbiAgfVxuXG4gIHJldHVybiBpbmRleGVzO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuICpOKiAtZWxlbWVudCAxLWQgbG9va3VwIHRhYmxlXG4gKiBAcGFyYW0ge051bWJlcn0gTiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSByZXN1bHQgbG9va3VwIHRhYmxlXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIHJlcHJlc2VudGVkIGJ5IGEgbGlzdCBvZiB4LHkwLHkxIG1hcHBpbmcgY29ycmVzcG9uZGVuY2VzLiBFYWNoIGVsZW1lbnQgaW4gdGhpc1xuICogTGlzdCByZXByZXNlbnRzIGhvdyBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMSAoaW5jbHVzaXZlKSByZXByZXNlbnRlZCBieSB4IGlzIG1hcHBlZCB0b1xuICogQSBjb3JyZXNwb25kaW5nIHZhbHVlIGJldHdlZW4gMCBhbmQgMSAoaW5jbHVzaXZlKS4gVGhlIHR3byB2YWx1ZXMgb2YgeSBhcmUgdG8gYWxsb3cgZm9yXG4gKiBEaXNjb250aW51b3VzIG1hcHBpbmcgZnVuY3Rpb25zIChzYXkgYXMgbWlnaHQgYmUgZm91bmQgaW4gYSBzYXd0b290aCkgd2hlcmUgeTAgcmVwcmVzZW50c1xuICogVGhlIHZhbHVlIG9mIHkgZm9yIHZhbHVlcyBvZiB4IDw9IHRvIHRoYXQgZ2l2ZW4sIGFuZCB5MSBpcyB0aGUgdmFsdWUgdG8gYmUgdXNlZCBmb3IgeCA+XG4gKiBUaGFuIHRoYXQgZ2l2ZW4pLiBUaGUgbGlzdCBtdXN0IHN0YXJ0IHdpdGggeD0wLCBlbmQgd2l0aCB4PTEsIGFuZCBhbGwgdmFsdWVzIG9mIHggbXVzdCBiZVxuICogSW4gaW5jcmVhc2luZyBvcmRlci4gVmFsdWVzIGJldHdlZW4gdGhlIGdpdmVuIG1hcHBpbmcgcG9pbnRzIGFyZSBkZXRlcm1pbmVkIGJ5IHNpbXBsZSBsaW5lYXJcbiAqIEludGVycG9sYXRpb24uXG4gKiBAcGFyYW0ge2FueX0gZ2FtbWEgdmFsdWUgZGVub3RlcyBhIFwiZ2FtbWEgY3VydmVcIiB2YWx1ZSB3aGljaCBhZGp1c3RzIHRoZSBicmlnaHRuZXNzXG4gKiBhdCB0aGUgYm90dG9tIGFuZCB0b3Agb2YgdGhlIG1hcC5cbiAqIEByZXR1cm5zIHthbnlbXX0gYW4gYXJyYXkgXCJyZXN1bHRcIiB3aGVyZSByZXN1bHRbeCooTi0xKV0gZ2l2ZXMgdGhlIGNsb3Nlc3QgdmFsdWUgZm9yXG4gKiBWYWx1ZXMgb2YgeCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAbWVtYmVyb2YgQ29sb3JzXG4gKi9cblxuXG5mdW5jdGlvbiBtYWtlTWFwcGluZ0FycmF5KE4sIGRhdGEsIGdhbW1hKSB7XG4gIHZhciBpO1xuICB2YXIgeCA9IFtdO1xuICB2YXIgeTAgPSBbXTtcbiAgdmFyIHkxID0gW107XG4gIHZhciBsdXQgPSBbXTtcbiAgZ2FtbWEgPSBnYW1tYSA9PT0gbnVsbCA/IDEgOiBnYW1tYTtcblxuICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBlbGVtZW50ID0gZGF0YVtpXTtcbiAgICB4LnB1c2goKE4gLSAxKSAqIGVsZW1lbnRbMF0pO1xuICAgIHkwLnB1c2goZWxlbWVudFsxXSk7XG4gICAgeTEucHVzaChlbGVtZW50WzFdKTtcbiAgfVxuXG4gIHZhciB4TGluU3BhY2UgPSBsaW5zcGFjZSgwLCAxLCBOKTtcblxuICBmb3IgKGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgeExpblNwYWNlW2ldID0gKE4gLSAxKSAqIE1hdGgucG93KHhMaW5TcGFjZVtpXSwgZ2FtbWEpO1xuICB9XG5cbiAgdmFyIHhMaW5TcGFjZUluZGV4ZXMgPSBzZWFyY2hTb3J0ZWQoeCwgeExpblNwYWNlKTtcblxuICBmb3IgKGkgPSAxOyBpIDwgTiAtIDE7IGkrKykge1xuICAgIHZhciBpbmRleCA9IHhMaW5TcGFjZUluZGV4ZXNbaV07XG4gICAgdmFyIGNvbG9yUGVyY2VudCA9ICh4TGluU3BhY2VbaV0gLSB4W2luZGV4IC0gMV0pIC8gKHhbaW5kZXhdIC0geFtpbmRleCAtIDFdKTtcbiAgICB2YXIgY29sb3JEZWx0YSA9IHkwW2luZGV4XSAtIHkxW2luZGV4IC0gMV07XG4gICAgbHV0W2ldID0gY29sb3JQZXJjZW50ICogY29sb3JEZWx0YSArIHkxW2luZGV4IC0gMV07XG4gIH1cblxuICBsdXRbMF0gPSB5MVswXTtcbiAgbHV0W04gLSAxXSA9IHkwW2RhdGEubGVuZ3RoIC0gMV07XG4gIHJldHVybiBsdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBDb2xvcm1hcCBiYXNlZCBvbiBsb29rdXAgdGFibGVzIHVzaW5nIGxpbmVhciBzZWdtZW50cy5cbiAqIEBwYXJhbSB7e3JlZDpBcnJheSwgZ3JlZW46QXJyYXksIGJsdWU6QXJyYXl9fSBzZWdtZW50ZWREYXRhIEFuIG9iamVjdCB3aXRoIGEgcmVkLCBncmVlbiBhbmQgYmx1ZSBlbnRyaWVzLlxuICogRWFjaCBlbnRyeSBzaG91bGQgYmUgYSBsaXN0IG9mIHgsIHkwLCB5MSB0dXBsZXMsIGZvcm1pbmcgcm93cyBpbiBhIHRhYmxlLlxuICogQHBhcmFtIHtOdW1iZXJ9IE4gVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgcmVzdWx0IENvbG9ybWFwXG4gKiBAcGFyYW0ge2FueX0gZ2FtbWEgdmFsdWUgZGVub3RlcyBhIFwiZ2FtbWEgY3VydmVcIiB2YWx1ZSB3aGljaCBhZGp1c3RzIHRoZSBicmlnaHRuZXNzXG4gKiBhdCB0aGUgYm90dG9tIGFuZCB0b3Agb2YgdGhlIENvbG9ybWFwLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgY3JlYXRlZCBDb2xvcm1hcCBvYmplY3RcbiAqIEBkZXNjcmlwdGlvbiBUaGUgbG9va3VwIHRhYmxlIGlzIGdlbmVyYXRlZCB1c2luZyBsaW5lYXIgaW50ZXJwb2xhdGlvbiBmb3IgZWFjaFxuICogIFByaW1hcnkgY29sb3IsIHdpdGggdGhlIDAtMSBkb21haW4gZGl2aWRlZCBpbnRvIGFueSBudW1iZXIgb2ZcbiAqIFNlZ21lbnRzLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N0ZWZhbnYvbWF0cGxvdGxpYi9ibG9iLzNmMWEyMzc1NWU4NmZlZjk3ZDUxZTMwZTEwNjE5NWYzNDQyNWM5ZTMvbGliL21hdHBsb3RsaWIvY29sb3JzLnB5I0w2NjNcbiAqIEBtZW1iZXJvZiBDb2xvcnNcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmVhclNlZ21lbnRlZENvbG9ybWFwKHNlZ21lbnRlZERhdGEsIE4sIGdhbW1hKSB7XG4gIHZhciBpO1xuICB2YXIgbHV0ID0gW107XG4gIE4gPSBOID09PSBudWxsID8gMjU2IDogTjtcbiAgZ2FtbWEgPSBnYW1tYSA9PT0gbnVsbCA/IDEgOiBnYW1tYTtcbiAgdmFyIHJlZEx1dCA9IG1ha2VNYXBwaW5nQXJyYXkoTiwgc2VnbWVudGVkRGF0YS5yZWQsIGdhbW1hKTtcbiAgdmFyIGdyZWVuTHV0ID0gbWFrZU1hcHBpbmdBcnJheShOLCBzZWdtZW50ZWREYXRhLmdyZWVuLCBnYW1tYSk7XG4gIHZhciBibHVlTHV0ID0gbWFrZU1hcHBpbmdBcnJheShOLCBzZWdtZW50ZWREYXRhLmJsdWUsIGdhbW1hKTtcblxuICBmb3IgKGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgdmFyIHJlZCA9IE1hdGgucm91bmQocmVkTHV0W2ldICogMjU1KTtcbiAgICB2YXIgZ3JlZW4gPSBNYXRoLnJvdW5kKGdyZWVuTHV0W2ldICogMjU1KTtcbiAgICB2YXIgYmx1ZSA9IE1hdGgucm91bmQoYmx1ZUx1dFtpXSAqIDI1NSk7XG4gICAgdmFyIHJnYmEgPSBbcmVkLCBncmVlbiwgYmx1ZSwgMjU1XTtcbiAgICBsdXQucHVzaChyZ2JhKTtcbiAgfVxuXG4gIHJldHVybiBsdXQ7XG59XG4vKipcbiAqIFJldHVybiBhbGwgYXZhaWxhYmxlIGNvbG9ybWFwcyAoaWQgYW5kIG5hbWUpXG4gKiBAcmV0dXJucyB7QXJyYXk8e2lkLGtleX0+fSBBbiBhcnJheSBvZiBjb2xvcm1hcHMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgXCJpZFwiIGFuZCBkaXNwbGF5IFwibmFtZVwiXG4gKiBAbWVtYmVyb2YgQ29sb3JzXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRDb2xvcm1hcHNMaXN0KCkge1xuICB2YXIgY29sb3JtYXBzID0gW107XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoY29sb3JtYXBzRGF0YSk7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGNvbG9ybWFwc0RhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdmFyIGNvbG9ybWFwID0gY29sb3JtYXBzRGF0YVtrZXldO1xuICAgICAgY29sb3JtYXBzLnB1c2goe1xuICAgICAgICBpZDoga2V5LFxuICAgICAgICBuYW1lOiBjb2xvcm1hcC5uYW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBjb2xvcm1hcHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBhTmFtZSA9IGEubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBiTmFtZSA9IGIubmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKGFOYW1lID09PSBiTmFtZSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFOYW1lIDwgYk5hbWUgPyAtMSA6IDE7XG4gIH0pO1xuICByZXR1cm4gY29sb3JtYXBzO1xufVxuLyoqXG4gKiBSZXR1cm4gYSBjb2xvck1hcCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQgaWQgYW5kIGNvbG9ybWFwRGF0YVxuICogaWYgdGhlIElkIG1hdGNoZXMgZXhpc3RlbnQgY29sb3JNYXAgb2JqZWN0cyAoY2hlY2sgY29sb3JtYXBzRGF0YSkgdGhlIGNvbG9ybWFwRGF0YSBpcyBpZ25vcmVkLlxuICogaWYgdGhlIGNvbG9ybWFwRGF0YSBpcyBub3QgZW1wdHksIHRoZSBjb2xvck1hcCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb2xvcm1hcHNEYXRhIGxpc3QuIE90aGVyd2lzZSwgYW4gZW1wdHkgY29sb3JNYXAgb2JqZWN0IGlzIHJldHVybmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgY29sb3JtYXBcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb2xvcm1hcERhdGEgLSBBbiBvYmplY3QgdGhhdCBjYW4gY29udGFpbiBhIG5hbWUsIG51bUNvbG9ycywgZ2FtYSwgc2VnbWVudGVkRGF0YSBhbmQvb3IgY29sb3JzXG4gKiBAcmV0dXJucyB7Kn0gVGhlIENvbG9ybWFwIE9iamVjdFxuICogQG1lbWJlcm9mIENvbG9yc1xuKi9cblxuZnVuY3Rpb24gZ2V0Q29sb3JtYXAoaWQsIGNvbG9ybWFwRGF0YSkge1xuICB2YXIgY29sb3JtYXAgPSBjb2xvcm1hcHNEYXRhW2lkXTtcblxuICBpZiAoIWNvbG9ybWFwKSB7XG4gICAgY29sb3JtYXAgPSBjb2xvcm1hcHNEYXRhW2lkXSA9IGNvbG9ybWFwRGF0YSB8fCB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGNvbG9yczogW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKCFjb2xvcm1hcC5jb2xvcnMgJiYgY29sb3JtYXAuc2VnbWVudGVkRGF0YSkge1xuICAgIGNvbG9ybWFwLmNvbG9ycyA9IGNyZWF0ZUxpbmVhclNlZ21lbnRlZENvbG9ybWFwKGNvbG9ybWFwLnNlZ21lbnRlZERhdGEsIGNvbG9ybWFwLm51bUNvbG9ycywgY29sb3JtYXAuZ2FtbWEpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRJZDogZnVuY3Rpb24gZ2V0SWQoKSB7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfSxcbiAgICBnZXRDb2xvclNjaGVtZU5hbWU6IGZ1bmN0aW9uIGdldENvbG9yU2NoZW1lTmFtZSgpIHtcbiAgICAgIHJldHVybiBjb2xvcm1hcC5uYW1lO1xuICAgIH0sXG4gICAgc2V0Q29sb3JTY2hlbWVOYW1lOiBmdW5jdGlvbiBzZXRDb2xvclNjaGVtZU5hbWUobmFtZSkge1xuICAgICAgY29sb3JtYXAubmFtZSA9IG5hbWU7XG4gICAgfSxcbiAgICBnZXROdW1iZXJPZkNvbG9yczogZnVuY3Rpb24gZ2V0TnVtYmVyT2ZDb2xvcnMoKSB7XG4gICAgICByZXR1cm4gY29sb3JtYXAuY29sb3JzLmxlbmd0aDtcbiAgICB9LFxuICAgIHNldE51bWJlck9mQ29sb3JzOiBmdW5jdGlvbiBzZXROdW1iZXJPZkNvbG9ycyhudW1Db2xvcnMpIHtcbiAgICAgIHdoaWxlIChjb2xvcm1hcC5jb2xvcnMubGVuZ3RoIDwgbnVtQ29sb3JzKSB7XG4gICAgICAgIGNvbG9ybWFwLmNvbG9ycy5wdXNoKENPTE9SX1RSQU5TUEFSRU5UKTtcbiAgICAgIH1cblxuICAgICAgY29sb3JtYXAuY29sb3JzLmxlbmd0aCA9IG51bUNvbG9ycztcbiAgICB9LFxuICAgIGdldENvbG9yOiBmdW5jdGlvbiBnZXRDb2xvcihpbmRleCkge1xuICAgICAgaWYgKHRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xuICAgICAgICByZXR1cm4gY29sb3JtYXAuY29sb3JzW2luZGV4XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENPTE9SX1RSQU5TUEFSRU5UO1xuICAgIH0sXG4gICAgZ2V0Q29sb3JSZXBlYXRpbmc6IGZ1bmN0aW9uIGdldENvbG9yUmVwZWF0aW5nKGluZGV4KSB7XG4gICAgICB2YXIgbnVtQ29sb3JzID0gY29sb3JtYXAuY29sb3JzLmxlbmd0aDtcbiAgICAgIGluZGV4ID0gbnVtQ29sb3JzID8gaW5kZXggJSBudW1Db2xvcnMgOiAwO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29sb3IoaW5kZXgpO1xuICAgIH0sXG4gICAgc2V0Q29sb3I6IGZ1bmN0aW9uIHNldENvbG9yKGluZGV4LCByZ2JhKSB7XG4gICAgICBpZiAodGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgIGNvbG9ybWFwLmNvbG9yc1tpbmRleF0gPSByZ2JhO1xuICAgICAgfVxuICAgIH0sXG4gICAgYWRkQ29sb3I6IGZ1bmN0aW9uIGFkZENvbG9yKHJnYmEpIHtcbiAgICAgIGNvbG9ybWFwLmNvbG9ycy5wdXNoKHJnYmEpO1xuICAgIH0sXG4gICAgaW5zZXJ0Q29sb3I6IGZ1bmN0aW9uIGluc2VydENvbG9yKGluZGV4LCByZ2JhKSB7XG4gICAgICBpZiAodGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgIGNvbG9ybWFwLmNvbG9ycy5zcGxpY2UoaW5kZXgsIDEsIHJnYmEpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlQ29sb3I6IGZ1bmN0aW9uIHJlbW92ZUNvbG9yKGluZGV4KSB7XG4gICAgICBpZiAodGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgIGNvbG9ybWFwLmNvbG9ycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xlYXJDb2xvcnM6IGZ1bmN0aW9uIGNsZWFyQ29sb3JzKCkge1xuICAgICAgY29sb3JtYXAuY29sb3JzID0gW107XG4gICAgfSxcbiAgICBidWlsZExvb2t1cFRhYmxlOiBmdW5jdGlvbiBidWlsZExvb2t1cFRhYmxlKGx1dCkge1xuICAgICAgaWYgKCFsdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbnVtQ29sb3JzID0gY29sb3JtYXAuY29sb3JzLmxlbmd0aDtcbiAgICAgIGx1dC5zZXROdW1iZXJPZlRhYmxlVmFsdWVzKG51bUNvbG9ycyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQ29sb3JzOyBpKyspIHtcbiAgICAgICAgbHV0LnNldFRhYmxlVmFsdWUoaSwgY29sb3JtYXAuY29sb3JzW2ldKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZUxvb2t1cFRhYmxlOiBmdW5jdGlvbiBjcmVhdGVMb29rdXBUYWJsZSgpIHtcbiAgICAgIHZhciBsdXQgPSBuZXcgX2xvb2t1cFRhYmxlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKCk7XG4gICAgICB0aGlzLmJ1aWxkTG9va3VwVGFibGUobHV0KTtcbiAgICAgIHJldHVybiBsdXQ7XG4gICAgfSxcbiAgICBpc1ZhbGlkSW5kZXg6IGZ1bmN0aW9uIGlzVmFsaWRJbmRleChpbmRleCkge1xuICAgICAgcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCBjb2xvcm1hcC5jb2xvcnMubGVuZ3RoO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9jb2xvcnMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9jb2xvcnMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29sb3JtYXBfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29sb3JtYXAuanMgKi8gXCIuL2NvbG9ycy9jb2xvcm1hcC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbG9va3VwVGFibGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbG9va3VwVGFibGUuanMgKi8gXCIuL2NvbG9ycy9sb29rdXBUYWJsZS5qc1wiKTtcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgZ2V0Q29sb3JtYXA6IF9jb2xvcm1hcF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0Q29sb3JtYXBcIl0sXG4gIGdldENvbG9ybWFwc0xpc3Q6IF9jb2xvcm1hcF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0Q29sb3JtYXBzTGlzdFwiXSxcbiAgTG9va3VwVGFibGU6IF9sb29rdXBUYWJsZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vY29sb3JzL2xvb2t1cFRhYmxlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vY29sb3JzL2xvb2t1cFRhYmxlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbi8vIFRoaXMgY29kZSB3YXMgY3JlYXRlZCBiYXNlZCBvbiB2dGtMb29rdXBUYWJsZVxuLy8gaHR0cDovL3d3dy52dGsub3JnL2RvYy9yZWxlYXNlLzUuMC9odG1sL2EwMTY5Ny5odG1sXG4vLyBodHRwczovL2dpdGh1Yi5jb20vS2l0d2FyZS9WVEsvYmxvYi9tYXN0ZXIvQ29tbW9uL0NvcmUvdnRrTG9va3VwVGFibGUuY3h4XG52YXIgQkVMT1dfUkFOR0VfQ09MT1JfSU5ERVggPSAwO1xudmFyIEFCT1ZFX1JBTkdFX0NPTE9SX0lOREVYID0gMTtcbnZhciBOQU5fQ09MT1JfSU5ERVggPSAyO1xuLyoqXG4gKiBDb252ZXJ0cyBhbiBIU1YgIChIdWUsIFNhdHVyYXRpb24sIFZhbHVlKSBjb2xvciB0byBSR0IgKFJlZCwgR3JlZW4sIEJsdWUpIGNvbG9yIHZhbHVlXG4gKiBAcGFyYW0ge051bWJlcn0gaHVlIEEgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgaHVlIGNvbG9yIHZhbHVlXG4gKiBAcGFyYW0ge2FueX0gc2F0IEEgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgc2F0dXJhdGlvbiBjb2xvciB2YWx1ZVxuICogQHBhcmFtIHthbnl9IHZhbCBBIG51bWJlciByZXByZXNlbnRpbmcgdGhlIHZhbHVlIGNvbG9yIHZhbHVlXG4gKiBAcmV0dXJucyB7TnVtYmVycFtdfSBBbiBSR0IgY29sb3IgYXJyYXlcbiAqL1xuXG5mdW5jdGlvbiBIU1ZUb1JHQihodWUsIHNhdCwgdmFsKSB7XG4gIGlmIChodWUgPiAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdIU1ZUb1JHQiBleHBlY3RzIGh1ZSA8IDEnKTtcbiAgfVxuXG4gIHZhciByZ2IgPSBbXTtcblxuICBpZiAoc2F0ID09PSAwKSB7XG4gICAgcmdiWzBdID0gdmFsO1xuICAgIHJnYlsxXSA9IHZhbDtcbiAgICByZ2JbMl0gPSB2YWw7XG4gICAgcmV0dXJuIHJnYjtcbiAgfVxuXG4gIHZhciBodWVDYXNlID0gTWF0aC5mbG9vcihodWUgKiA2KTtcbiAgdmFyIGZyYWMgPSA2ICogaHVlIC0gaHVlQ2FzZTtcbiAgdmFyIGx4ID0gdmFsICogKDEgLSBzYXQpO1xuICB2YXIgbHkgPSB2YWwgKiAoMSAtIHNhdCAqIGZyYWMpO1xuICB2YXIgbHogPSB2YWwgKiAoMSAtIHNhdCAqICgxIC0gZnJhYykpO1xuXG4gIHN3aXRjaCAoaHVlQ2FzZSkge1xuICAgIC8qIDA8aHVlPDEvNiAqL1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIDY6XG4gICAgICByZ2JbMF0gPSB2YWw7XG4gICAgICByZ2JbMV0gPSBsejtcbiAgICAgIHJnYlsyXSA9IGx4O1xuICAgICAgYnJlYWs7XG5cbiAgICAvKiAxLzY8aHVlPDIvNiAqL1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmdiWzBdID0gbHk7XG4gICAgICByZ2JbMV0gPSB2YWw7XG4gICAgICByZ2JbMl0gPSBseDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLyogMi82PGh1ZTwzLzYgKi9cblxuICAgIGNhc2UgMjpcbiAgICAgIHJnYlswXSA9IGx4O1xuICAgICAgcmdiWzFdID0gdmFsO1xuICAgICAgcmdiWzJdID0gbHo7XG4gICAgICBicmVhaztcblxuICAgIC8qIDMvNjxodWUvNC82ICovXG5cbiAgICBjYXNlIDM6XG4gICAgICByZ2JbMF0gPSBseDtcbiAgICAgIHJnYlsxXSA9IGx5O1xuICAgICAgcmdiWzJdID0gdmFsO1xuICAgICAgYnJlYWs7XG5cbiAgICAvKiA0LzY8aHVlPDUvNiAqL1xuXG4gICAgY2FzZSA0OlxuICAgICAgcmdiWzBdID0gbHo7XG4gICAgICByZ2JbMV0gPSBseDtcbiAgICAgIHJnYlsyXSA9IHZhbDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLyogNS82PGh1ZTwxICovXG5cbiAgICBjYXNlIDU6XG4gICAgICByZ2JbMF0gPSB2YWw7XG4gICAgICByZ2JbMV0gPSBseDtcbiAgICAgIHJnYlsyXSA9IGx5O1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gcmdiO1xufVxuLyoqXG4gKiBNYXBzIGEgdmFsdWUgdG8gYW4gaW5kZXggaW4gdGhlIHRhYmxlXG4gKiBAcGFyYW0ge051bWJlcn0gdiBBIGRvdWJsZSB2YWx1ZSB3aGljaCB0YWJsZSBpbmRleCB3aWxsIGJlIHJldHVybmVkLlxuICogQHBhcmFtIHthbnl9IHAgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIFRhYmxlIFwiUmFuZ2VcIiwgdGhlIHRhYmxlIFwiTWF4SW5kZXhcIixcbiAqIEEgXCJTaGlmdFwiIGZyb20gZmlyc3QgdmFsdWUgaW4gdGhlIHRhYmxlIGFuZCB0aGUgdGFibGUgXCJTY2FsZVwiIHZhbHVlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbWFwcGVkIGluZGV4IGluIHRoZSB0YWJsZVxuICogQG1lbWJlcm9mIENvbG9yc1xuICovXG5cblxuZnVuY3Rpb24gbGluZWFySW5kZXhMb29rdXBNYWluKHYsIHApIHtcbiAgdmFyIGRJbmRleDsgLy8gTk9URTogQWRkZWQgTWF0aC5mbG9vciBzaW5jZSB2YWx1ZXMgd2VyZSBub3QgaW50ZWdlcnM/IENoZWNrIFZUSyBzb3VyY2VcblxuICBpZiAodiA8IHAuUmFuZ2VbMF0pIHtcbiAgICBkSW5kZXggPSBwLk1heEluZGV4ICsgQkVMT1dfUkFOR0VfQ09MT1JfSU5ERVggKyAxLjU7XG4gIH0gZWxzZSBpZiAodiA+IHAuUmFuZ2VbMV0pIHtcbiAgICBkSW5kZXggPSBwLk1heEluZGV4ICsgQUJPVkVfUkFOR0VfQ09MT1JfSU5ERVggKyAxLjU7XG4gIH0gZWxzZSB7XG4gICAgZEluZGV4ID0gKHYgKyBwLlNoaWZ0KSAqIHAuU2NhbGU7XG4gIH1cblxuICByZXR1cm4gTWF0aC5mbG9vcihkSW5kZXgpO1xufVxuLyoqXG4gKiBNYXBzIHNjYWxhciB2YWx1ZXMgaW50byBjb2xvcnMgdmlhIGEgbG9va3VwIHRhYmxlXG4gKiBMb29rdXBUYWJsZSBpcyBhbiBvYmplY3QgdGhhdCBpcyB1c2VkIGJ5IG1hcHBlciBvYmplY3RzIHRvIG1hcCBzY2FsYXIgdmFsdWVzIGludG8gcmdiYSAocmVkLWdyZWVuLWJsdWUtYWxwaGEgdHJhbnNwYXJlbmN5KSBjb2xvciBzcGVjaWZpY2F0aW9uLFxuICogb3IgcmdiYSBpbnRvIHNjYWxhciB2YWx1ZXMuIFRoZSBjb2xvciB0YWJsZSBjYW4gYmUgY3JlYXRlZCBieSBkaXJlY3QgaW5zZXJ0aW9uIG9mIGNvbG9yIHZhbHVlcywgb3IgYnkgc3BlY2lmeWluZyBodWUsIHNhdHVyYXRpb24sIHZhbHVlLCBhbmQgYWxwaGEgcmFuZ2UgYW5kIGdlbmVyYXRpbmcgYSB0YWJsZVxuICovXG5cblxudmFyIExvb2t1cFRhYmxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkZWZhdWx0IGxpbmVhciBMb29rdXBUYWJsZSBvYmplY3Qgd2l0aCAyNTYgY29sb3JzLlxuICAgKi9cbiAgZnVuY3Rpb24gTG9va3VwVGFibGUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvb2t1cFRhYmxlKTtcblxuICAgIHRoaXMuTnVtYmVyT2ZDb2xvcnMgPSAyNTY7XG4gICAgdGhpcy5SYW1wID0gJ2xpbmVhcic7XG4gICAgdGhpcy5UYWJsZVJhbmdlID0gWzAsIDI1NV07XG4gICAgdGhpcy5IdWVSYW5nZSA9IFswLCAwLjY2NjY3XTtcbiAgICB0aGlzLlNhdHVyYXRpb25SYW5nZSA9IFsxLCAxXTtcbiAgICB0aGlzLlZhbHVlUmFuZ2UgPSBbMSwgMV07XG4gICAgdGhpcy5BbHBoYVJhbmdlID0gWzEsIDFdO1xuICAgIHRoaXMuTmFOQ29sb3IgPSBbMTI4LCAwLCAwLCAyNTVdO1xuICAgIHRoaXMuQmVsb3dSYW5nZUNvbG9yID0gWzAsIDAsIDAsIDI1NV07XG4gICAgdGhpcy5Vc2VCZWxvd1JhbmdlQ29sb3IgPSB0cnVlO1xuICAgIHRoaXMuQWJvdmVSYW5nZUNvbG9yID0gWzI1NSwgMjU1LCAyNTUsIDI1NV07XG4gICAgdGhpcy5Vc2VBYm92ZVJhbmdlQ29sb3IgPSB0cnVlO1xuICAgIHRoaXMuSW5wdXRSYW5nZSA9IFswLCAyNTVdO1xuICAgIHRoaXMuVGFibGUgPSBbXTtcbiAgfVxuICAvKipcbiAgICogU3BlY2lmeSB0aGUgbnVtYmVyIG9mIHZhbHVlcyAoaS5lLiwgY29sb3JzKSBpbiB0aGUgbG9va3VwIHRhYmxlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgb2YgY29sb3JzIGluIGhlIExvb2t1cFRhYmxlXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKiBAbWVtYmVyb2YgQ29sb3JzXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKExvb2t1cFRhYmxlLCBbe1xuICAgIGtleTogXCJzZXROdW1iZXJPZlRhYmxlVmFsdWVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE51bWJlck9mVGFibGVWYWx1ZXMobnVtYmVyKSB7XG4gICAgICB0aGlzLk51bWJlck9mQ29sb3JzID0gbnVtYmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNoYXBlIG9mIHRoZSB0YWJsZSByYW1wIHRvIGVpdGhlciAnbGluZWFyJywgJ3NjdXJ2ZScgb3IgJ3NxcnQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHJhbXAgQSBzdHJpbmcgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBzaGFwZSBvZiB0aGUgdGFibGUuIEFsbG93ZWQgdmFsdWVzIGFyZSAnbGluZWFyJywgJ3NjdXJ2ZScgb3IgJ3NxcnQnXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICogQG1lbWJlcm9mIENvbG9yc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UmFtcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSYW1wKHJhbXApIHtcbiAgICAgIHRoaXMuUmFtcCA9IHJhbXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1pbmltdW0vbWF4aW11bSBzY2FsYXIgdmFsdWVzIGZvciBzY2FsYXIgbWFwcGluZy5cbiAgICAgKiBTY2FsYXIgdmFsdWVzIGxlc3MgdGhhbiBtaW5pbXVtIHJhbmdlIHZhbHVlIGFyZSBjbGFtcGVkIHRvIG1pbmltdW0gcmFuZ2UgdmFsdWUuXG4gICAgICogU2NhbGFyIHZhbHVlcyBncmVhdGVyIHRoYW4gbWF4aW11bSByYW5nZSB2YWx1ZSBhcmUgY2xhbXBlZCB0byBtYXhpbXVtIHJhbmdlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCBBIGRvdWJsZSByZXByZXNlbnRpbmcgdGhlIG1pbmltdW0gc2NhbGVyIHZhbHVlIG9mIHRoZSBMb29rdXBUYWJsZVxuICAgICAqIEBwYXJhbSB7YW55fSBlbmQgQSBkb3VibGUgcmVwcmVzZW50aW5nIHRoZSBtYXhpbXVtIHNjYWxlciB2YWx1ZSBvZiB0aGUgTG9va3VwVGFibGVcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKiBAbWVtYmVyb2YgQ29sb3JzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRUYWJsZVJhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRhYmxlUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgdGhpcy5UYWJsZVJhbmdlWzBdID0gc3RhcnQ7XG4gICAgICB0aGlzLlRhYmxlUmFuZ2VbMV0gPSBlbmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmFuZ2UgaW4gaHVlICh1c2luZyBhdXRvbWF0aWMgZ2VuZXJhdGlvbikuIEh1ZSByYW5nZXMgYmV0d2VlbiBbMCwxXS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgQSBkb3VibGUgcmVwcmVzZW50aW5nIHRoZSBtaW5pbXVtIGh1ZSB2YWx1ZSBpbiBhIHJhbmdlLiBNaW4uIGlzIDBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIEEgZG91YmxlIHJlcHJlc2VudGluZyB0aGUgbWF4aW11bSBodWUgdmFsdWUgaW4gYSByYW5nZS4gTWF4LiBpcyAxXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICogQG1lbWJlcm9mIENvbG9yc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0SHVlUmFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SHVlUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgdGhpcy5IdWVSYW5nZVswXSA9IHN0YXJ0O1xuICAgICAgdGhpcy5IdWVSYW5nZVsxXSA9IGVuZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByYW5nZSBpbiBzYXR1cmF0aW9uICh1c2luZyBhdXRvbWF0aWMgZ2VuZXJhdGlvbikuIFNhdHVyYXRpb24gcmFuZ2VzIGJldHdlZW4gWzAsMV0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IEEgZG91YmxlIHJlcHJlc2VudGluZyB0aGUgbWluaW11bSBTYXR1cmF0aW9uIHZhbHVlIGluIGEgcmFuZ2UuIE1pbi4gaXMgMFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgQSBkb3VibGUgcmVwcmVzZW50aW5nIHRoZSBtYXhpbXVtIFNhdHVyYXRpb24gdmFsdWUgaW4gYSByYW5nZS4gTWF4LiBpcyAxXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICogQG1lbWJlcm9mIENvbG9yc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U2F0dXJhdGlvblJhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNhdHVyYXRpb25SYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICB0aGlzLlNhdHVyYXRpb25SYW5nZVswXSA9IHN0YXJ0O1xuICAgICAgdGhpcy5TYXR1cmF0aW9uUmFuZ2VbMV0gPSBlbmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmFuZ2UgaW4gdmFsdWUgKHVzaW5nIGF1dG9tYXRpYyBnZW5lcmF0aW9uKS4gVmFsdWUgcmFuZ2VzIGJldHdlZW4gWzAsMV0uXG4gICAgICogQHBhcmFtIHtOdW1lYmVyIH0gc3RhcnQgQSBkb3VibGUgcmVwcmVzZW50aW5nIHRoZSBtaW5pbXVtIHZhbHVlIGluIGEgcmFuZ2UuIE1pbi4gaXMgMFxuICAgICAqIEBwYXJhbSB7TnVtZWJlcn0gZW5kIEEgZG91YmxlIHJlcHJlc2VudGluZyB0aGUgbWF4aW11bSB2YWx1ZSBpbiBhIHJhbmdlLiBNYXguIGlzIDFcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKiBAbWVtYmVyb2YgQ29sb3JzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRWYWx1ZVJhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgLy8gU2V0IHRoZSByYW5nZSBpbiB2YWx1ZSAodXNpbmcgYXV0b21hdGljIGdlbmVyYXRpb24pLiBWYWx1ZSByYW5nZXMgYmV0d2VlbiBbMCwxXS5cbiAgICAgIHRoaXMuVmFsdWVSYW5nZVswXSA9IHN0YXJ0O1xuICAgICAgdGhpcy5WYWx1ZVJhbmdlWzFdID0gZW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAoTm90IFVzZWQpIFNldHMgdGhlIHJhbmdlIG9mIHNjYWxhcnMgd2hpY2ggd2lsbCBiZSBtYXBwZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IHRoZSBtaW5pbXVtIHNjYWxhciB2YWx1ZSBpbiB0aGUgcmFuZ2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIHRoZSBtYXhpbXVtIHNjYWxhciB2YWx1ZSBpbiB0aGUgcmFuZ2VcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKiBAbWVtYmVyb2YgQ29sb3JzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRSYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICB0aGlzLklucHV0UmFuZ2VbMF0gPSBzdGFydDtcbiAgICAgIHRoaXMuSW5wdXRSYW5nZVsxXSA9IGVuZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByYW5nZSBpbiBhbHBoYSAodXNpbmcgYXV0b21hdGljIGdlbmVyYXRpb24pLiBBbHBoYSByYW5nZXMgZnJvbSBbMCwxXS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgQSBkb3VibGUgcmVwcmVzZW50aW5nIHRoZSBtaW5pbXVtIGFscGhhIHZhbHVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZCBBIGRvdWJsZSByZXByZXNlbnRpbmcgdGhlIG1heGltdW0gYWxwaGEgdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKiBAbWVtYmVyb2YgQ29sb3JzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRBbHBoYVJhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFscGhhUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgLy8gU2V0IHRoZSByYW5nZSBpbiBhbHBoYSAodXNpbmcgYXV0b21hdGljIGdlbmVyYXRpb24pLiBBbHBoYSByYW5nZXMgZnJvbSBbMCwxXS5cbiAgICAgIHRoaXMuQWxwaGFSYW5nZVswXSA9IHN0YXJ0O1xuICAgICAgdGhpcy5BbHBoYVJhbmdlWzFdID0gZW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXAgb25lIHZhbHVlIHRocm91Z2ggdGhlIGxvb2t1cCB0YWJsZSBhbmQgcmV0dXJuIHRoZSBjb2xvciBhcyBhblxuICAgICAqIFJHQkEgYXJyYXkgb2YgZG91YmxlcyBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhciBBIGRvdWJsZSBzY2FsYXIgdmFsdWUgd2hpY2ggd2lsbCBiZSBtYXBwZWQgdG8gYSBjb2xvciBpbiB0aGUgTG9va3VwVGFibGVcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyW119IEFuIFJHQkEgYXJyYXkgb2YgZG91YmxlcyBiZXR3ZWVuIDAgYW5kIDFcbiAgICAgKiBAbWVtYmVyb2YgQ29sb3JzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb2xvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb2xvcihzY2FsYXIpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcFZhbHVlKHNjYWxhcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGxvb2t1cCB0YWJsZSBmcm9tIGh1ZSwgc2F0dXJhdGlvbiwgdmFsdWUsIGFscGhhIG1pbi9tYXggdmFsdWVzLiBUYWJsZSBpcyBidWlsdCBmcm9tIGxpbmVhciByYW1wIG9mIGVhY2ggdmFsdWUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmb3JjZSB0cnVlIHRvIGZvcmNlIHRoZSBidWlsZCBvZiB0aGUgTG9va3VwVGFibGUuIE90aGVyd2llLCBmYWxzZS4gVGhpcyBpcyB1c2VmdWwgaWYgYSBsb29rdXAgdGFibGUgaGFzIGJlZW4gZGVmaW5lZCBtYW51YWxseVxuICAgICAqICh1c2luZyBTZXRUYWJsZVZhbHVlKSBhbmQgdGhlbiBhbiBhcHBsaWNhdGlvbiBkZWNpZGVzIHRvIHJlYnVpbGQgdGhlIGxvb2t1cCB0YWJsZSB1c2luZyB0aGUgaW1wbGljaXQgcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKiBAbWVtYmVyb2YgQ29sb3JzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJidWlsZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZChmb3JjZSkge1xuICAgICAgaWYgKHRoaXMuVGFibGUubGVuZ3RoID4gMSAmJiAhZm9yY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBDbGVhciB0aGUgdGFibGVcblxuXG4gICAgICB0aGlzLlRhYmxlID0gW107XG4gICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLk51bWJlck9mQ29sb3JzIC0gMTtcbiAgICAgIHZhciBoaW5jLCBzaW5jLCB2aW5jLCBhaW5jO1xuXG4gICAgICBpZiAobWF4SW5kZXgpIHtcbiAgICAgICAgaGluYyA9ICh0aGlzLkh1ZVJhbmdlWzFdIC0gdGhpcy5IdWVSYW5nZVswXSkgLyBtYXhJbmRleDtcbiAgICAgICAgc2luYyA9ICh0aGlzLlNhdHVyYXRpb25SYW5nZVsxXSAtIHRoaXMuU2F0dXJhdGlvblJhbmdlWzBdKSAvIG1heEluZGV4O1xuICAgICAgICB2aW5jID0gKHRoaXMuVmFsdWVSYW5nZVsxXSAtIHRoaXMuVmFsdWVSYW5nZVswXSkgLyBtYXhJbmRleDtcbiAgICAgICAgYWluYyA9ICh0aGlzLkFscGhhUmFuZ2VbMV0gLSB0aGlzLkFscGhhUmFuZ2VbMF0pIC8gbWF4SW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaW5jID0gc2luYyA9IHZpbmMgPSBhaW5jID0gMC4wO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBtYXhJbmRleDsgaSsrKSB7XG4gICAgICAgIHZhciBodWUgPSB0aGlzLkh1ZVJhbmdlWzBdICsgaSAqIGhpbmM7XG4gICAgICAgIHZhciBzYXQgPSB0aGlzLlNhdHVyYXRpb25SYW5nZVswXSArIGkgKiBzaW5jO1xuICAgICAgICB2YXIgdmFsID0gdGhpcy5WYWx1ZVJhbmdlWzBdICsgaSAqIHZpbmM7XG4gICAgICAgIHZhciBhbHBoYSA9IHRoaXMuQWxwaGFSYW5nZVswXSArIGkgKiBhaW5jO1xuICAgICAgICB2YXIgcmdiID0gSFNWVG9SR0IoaHVlLCBzYXQsIHZhbCk7XG4gICAgICAgIHZhciBjX3JnYmEgPSBbXTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMuUmFtcCkge1xuICAgICAgICAgIGNhc2UgJ3NjdXJ2ZSc6XG4gICAgICAgICAgICBjX3JnYmFbMF0gPSBNYXRoLmZsb29yKDEyNy41ICogKDEuMCArIE1hdGguY29zKCgxLjAgLSByZ2JbMF0pICogTWF0aC5QSSkpKTtcbiAgICAgICAgICAgIGNfcmdiYVsxXSA9IE1hdGguZmxvb3IoMTI3LjUgKiAoMS4wICsgTWF0aC5jb3MoKDEuMCAtIHJnYlsxXSkgKiBNYXRoLlBJKSkpO1xuICAgICAgICAgICAgY19yZ2JhWzJdID0gTWF0aC5mbG9vcigxMjcuNSAqICgxLjAgKyBNYXRoLmNvcygoMS4wIC0gcmdiWzJdKSAqIE1hdGguUEkpKSk7XG4gICAgICAgICAgICBjX3JnYmFbM10gPSBNYXRoLmZsb29yKGFscGhhICogMjU1KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnbGluZWFyJzpcbiAgICAgICAgICAgIGNfcmdiYVswXSA9IE1hdGguZmxvb3IocmdiWzBdICogMjU1ICsgMC41KTtcbiAgICAgICAgICAgIGNfcmdiYVsxXSA9IE1hdGguZmxvb3IocmdiWzFdICogMjU1ICsgMC41KTtcbiAgICAgICAgICAgIGNfcmdiYVsyXSA9IE1hdGguZmxvb3IocmdiWzJdICogMjU1ICsgMC41KTtcbiAgICAgICAgICAgIGNfcmdiYVszXSA9IE1hdGguZmxvb3IoYWxwaGEgKiAyNTUgKyAwLjUpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdzcXJ0JzpcbiAgICAgICAgICAgIGNfcmdiYVswXSA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KHJnYlswXSkgKiAyNTUgKyAwLjUpO1xuICAgICAgICAgICAgY19yZ2JhWzFdID0gTWF0aC5mbG9vcihNYXRoLnNxcnQocmdiWzFdKSAqIDI1NSArIDAuNSk7XG4gICAgICAgICAgICBjX3JnYmFbMl0gPSBNYXRoLmZsb29yKE1hdGguc3FydChyZ2JbMl0pICogMjU1ICsgMC41KTtcbiAgICAgICAgICAgIGNfcmdiYVszXSA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KGFscGhhKSAqIDI1NSArIDAuNSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFJhbXAgdmFsdWUgKFwiLmNvbmNhdCh0aGlzLlJhbXAsIFwiKVwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLlRhYmxlLnB1c2goY19yZ2JhKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5idWlsZFNwZWNpYWxDb2xvcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGUgb3V0LW9mLXJhbmdlIGNvbG9ycyAoQmVsb3cgcmFuZ2UgYW5kIEFib3ZlIHJhbmdlKSBhcmUgc2V0IGNvcnJlY3RseS5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKiBAbWVtYmVyb2YgQ29sb3JzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJidWlsZFNwZWNpYWxDb2xvcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRTcGVjaWFsQ29sb3JzKCkge1xuICAgICAgdmFyIG51bWJlck9mQ29sb3JzID0gdGhpcy5OdW1iZXJPZkNvbG9ycztcbiAgICAgIHZhciBiZWxvd1JhbmdlQ29sb3JJbmRleCA9IG51bWJlck9mQ29sb3JzICsgQkVMT1dfUkFOR0VfQ09MT1JfSU5ERVg7XG4gICAgICB2YXIgYWJvdmVSYW5nZUNvbG9ySW5kZXggPSBudW1iZXJPZkNvbG9ycyArIEFCT1ZFX1JBTkdFX0NPTE9SX0lOREVYO1xuICAgICAgdmFyIG5hbkNvbG9ySW5kZXggPSBudW1iZXJPZkNvbG9ycyArIE5BTl9DT0xPUl9JTkRFWDsgLy8gQmVsb3cgcmFuZ2UgY29sb3JcblxuICAgICAgaWYgKHRoaXMuVXNlQmVsb3dSYW5nZUNvbG9yIHx8IG51bWJlck9mQ29sb3JzID09PSAwKSB7XG4gICAgICAgIHRoaXMuVGFibGVbYmVsb3dSYW5nZUNvbG9ySW5kZXhdID0gdGhpcy5CZWxvd1JhbmdlQ29sb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEdXBsaWNhdGUgdGhlIGZpcnN0IGNvbG9yIGluIHRoZSB0YWJsZS5cbiAgICAgICAgdGhpcy5UYWJsZVtiZWxvd1JhbmdlQ29sb3JJbmRleF0gPSB0aGlzLlRhYmxlWzBdO1xuICAgICAgfSAvLyBBYm92ZSByYW5nZSBjb2xvclxuXG5cbiAgICAgIGlmICh0aGlzLlVzZUFib3ZlUmFuZ2VDb2xvciB8fCBudW1iZXJPZkNvbG9ycyA9PT0gMCkge1xuICAgICAgICB0aGlzLlRhYmxlW2Fib3ZlUmFuZ2VDb2xvckluZGV4XSA9IHRoaXMuQWJvdmVSYW5nZUNvbG9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRHVwbGljYXRlIHRoZSBsYXN0IGNvbG9yIGluIHRoZSB0YWJsZS5cbiAgICAgICAgdGhpcy5UYWJsZVthYm92ZVJhbmdlQ29sb3JJbmRleF0gPSB0aGlzLlRhYmxlW251bWJlck9mQ29sb3JzIC0gMV07XG4gICAgICB9IC8vIEFsd2F5cyB1c2UgTmFuQ29sb3JcblxuXG4gICAgICB0aGlzLlRhYmxlW25hbkNvbG9ySW5kZXhdID0gdGhpcy5OYU5Db2xvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2ltaWxhciB0byBHZXRDb2xvciAtIE1hcCBvbmUgdmFsdWUgdGhyb3VnaCB0aGUgbG9va3VwIHRhYmxlIGFuZCByZXR1cm4gdGhlIGNvbG9yIGFzIGFuXG4gICAgICogUkdCQSBhcnJheSBvZiBkb3VibGVzIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAcGFyYW0ge051bWViZXJ9IHYgQSBkb3VibGUgc2NhbGFyIHZhbHVlIHdoaWNoIHdpbGwgYmUgbWFwcGVkIHRvIGEgY29sb3IgaW4gdGhlIExvb2t1cFRhYmxlXG4gICAgICogQHJldHVybnMge051bWJlcltdfSBBbiBSR0JBIGFycmF5IG9mIGRvdWJsZXMgYmV0d2VlbiAwIGFuZCAxXG4gICAgICogQG1lbWJlcm9mIENvbG9yc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFwVmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwVmFsdWUodikge1xuICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRJbmRleCh2KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5OYU5Db2xvcjtcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgaWYgKHRoaXMuVXNlQmVsb3dSYW5nZUNvbG9yICYmIHYgPCB0aGlzLlRhYmxlUmFuZ2VbMF0pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5CZWxvd1JhbmdlQ29sb3I7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHRoaXMuTnVtYmVyT2ZDb2xvcnMgLSAxKSB7XG4gICAgICAgIGlmICh0aGlzLlVzZUFib3ZlUmFuZ2VDb2xvciAmJiB2ID4gdGhpcy5UYWJsZVJhbmdlWzFdKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuQWJvdmVSYW5nZUNvbG9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLlRhYmxlW2luZGV4XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0YWJsZSBpbmRleCBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0aWN1bGFyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2IEEgZG91YmxlIHZhbHVlIHdoaWNoIHRhYmxlIGluZGV4IHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGluZGV4IGluIHRoZSBMb29rdXBUYWJsZVxuICAgICAqIEBtZW1iZXJvZiBDb2xvcnNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldEluZGV4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluZGV4KHYpIHtcbiAgICAgIHZhciBwID0ge307XG4gICAgICBwLlJhbmdlID0gW107XG4gICAgICBwLk1heEluZGV4ID0gdGhpcy5OdW1iZXJPZkNvbG9ycyAtIDE7IC8vIFRoaXMgd2FzIExvb2t1cFNoaWZ0QW5kU2NhbGVcblxuICAgICAgcC5TaGlmdCA9IC10aGlzLlRhYmxlUmFuZ2VbMF07XG5cbiAgICAgIGlmICh0aGlzLlRhYmxlUmFuZ2VbMV0gPD0gdGhpcy5UYWJsZVJhbmdlWzBdKSB7XG4gICAgICAgIHAuU2NhbGUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcC5TY2FsZSA9IHAuTWF4SW5kZXggLyAodGhpcy5UYWJsZVJhbmdlWzFdIC0gdGhpcy5UYWJsZVJhbmdlWzBdKTtcbiAgICAgIH1cblxuICAgICAgcC5SYW5nZVswXSA9IHRoaXMuVGFibGVSYW5nZVswXTtcbiAgICAgIHAuUmFuZ2VbMV0gPSB0aGlzLlRhYmxlUmFuZ2VbMV07IC8vIEZpcnN0LCBjaGVjayB3aGV0aGVyIHdlIGhhdmUgYSBudW1iZXIuLi5cblxuICAgICAgaWYgKGlzTmFOKHYpKSB7XG4gICAgICAgIC8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9IC8vIE1hcCB0byBhbiBpbmRleDpcblxuXG4gICAgICB2YXIgaW5kZXggPSBsaW5lYXJJbmRleExvb2t1cE1haW4odiwgcCk7IC8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgaWYgdGhlIGluZGV4IGluZGljYXRlcyBhblxuICAgICAgLy8gT3V0LW9mLXJhbmdlIHZhbHVlLCB0cnVuY2F0ZSB0byBpbmRleCByYW5nZSBmb3IgaW4tcmFuZ2UgY29sb3JzLlxuXG4gICAgICBpZiAoaW5kZXggPT09IHRoaXMuTnVtYmVyT2ZDb2xvcnMgKyBCRUxPV19SQU5HRV9DT0xPUl9JTkRFWCkge1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSB0aGlzLk51bWJlck9mQ29sb3JzICsgQUJPVkVfUkFOR0VfQ09MT1JfSU5ERVgpIHtcbiAgICAgICAgaW5kZXggPSB0aGlzLk51bWJlck9mQ29sb3JzIC0gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXJlY3RseSBsb2FkIGNvbG9yIGludG8gbG9va3VwIHRhYmxlLiBVc2UgWzAsMV0gZG91YmxlIHZhbHVlcyBmb3IgY29sb3IgY29tcG9uZW50IHNwZWNpZmljYXRpb24uXG4gICAgICogTWFrZSBzdXJlIHRoYXQgeW91J3ZlIGVpdGhlciB1c2VkIHRoZSBCdWlsZCgpIG1ldGhvZCBvciB1c2VkIFNldE51bWJlck9mVGFibGVWYWx1ZXMoKSBwcmlvciB0byB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIGluZGV4IGluIHRoZSBMb29rdXBUYWJsZSBvZiB3aGVyZSB0byBpbnNlcnQgdGhlIGNvbG9yIHZhbHVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJbXX0gcmdiYSBBbiBhcnJheSBvZiBbMCwxXSBkb3VibGUgdmFsdWVzIGZvciBhbiBSR0JBIGNvbG9yIGNvbXBvbmVudFxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqIEBtZW1iZXJvZiBDb2xvcnNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFRhYmxlVmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGFibGVWYWx1ZShpbmRleCwgcmdiYSkge1xuICAgICAgLy8gQ2hlY2sgaWYgaXQgaW5kZXgsIHJlZCwgZ3JlZW4sIGJsdWUgYW5kIGFscGhhIHdlcmUgcGFzc2VkIGFzIHBhcmFtZXRlclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDUpIHtcbiAgICAgICAgcmdiYSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICB9IC8vIENoZWNrIHRoZSBpbmRleCB0byBtYWtlIHN1cmUgaXQgaXMgdmFsaWRcblxuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHNldCB0aGUgdGFibGUgdmFsdWUgZm9yIG5lZ2F0aXZlIGluZGV4IChcIi5jb25jYXQoaW5kZXgsIFwiKVwiKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbmRleCA+PSB0aGlzLk51bWJlck9mQ29sb3JzKSB7XG4gICAgICAgIG5ldyBFcnJvcihcIkluZGV4IFwiLmNvbmNhdChpbmRleCwgXCIgaXMgZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgY29sb3JzIFwiKS5jb25jYXQodGhpcy5OdW1iZXJPZkNvbG9ycykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLlRhYmxlW2luZGV4XSA9IHJnYmE7XG5cbiAgICAgIGlmIChpbmRleCA9PT0gMCB8fCBpbmRleCA9PT0gdGhpcy5OdW1iZXJPZkNvbG9ycyAtIDEpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZHVlIHRvIHRoZSB3YXkgdGhlIHNwZWNpYWwgY29sb3JzIGFyZSBzdG9yZWQgaW5cbiAgICAgICAgLy8gVGhlIGludGVybmFsIHRhYmxlLiBJZiBBYm92ZS9CZWxvd1JhbmdlQ29sb3JzIGFyZSBub3QgdXNlZCBhbmRcbiAgICAgICAgLy8gVGhlIG1pbi9tYXggY29sb3JzIGFyZSBjaGFuZ2VkIGluIHRoZSB0YWJsZSB3aXRoIHRoaXMgbWVtYmVyXG4gICAgICAgIC8vIEZ1bmN0aW9uLCB0aGVuIHRoZSBjb2xvcnMgdXNlZCBmb3IgdmFsdWVzIG91dHNpZGUgdGhlIHJhbmdlIG1heVxuICAgICAgICAvLyBCZSBpbmNvcnJlY3QuIENhbGxpbmcgdGhpcyBoZXJlIGVuc3VyZXMgdGhlIG91dC1vZi1yYW5nZSBjb2xvcnNcbiAgICAgICAgLy8gQXJlIHNldCBjb3JyZWN0bHkuXG4gICAgICAgIHRoaXMuYnVpbGRTcGVjaWFsQ29sb3JzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvb2t1cFRhYmxlO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKExvb2t1cFRhYmxlKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9kaXNhYmxlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2Rpc2FibGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9lbmFibGVkRWxlbWVudHMuanMgKi8gXCIuL2VuYWJsZWRFbGVtZW50cy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RyaWdnZXJFdmVudC5qcyAqLyBcIi4vdHJpZ2dlckV2ZW50LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzLmpzICovIFwiLi9ldmVudHMuanNcIik7XG5cblxuXG4vKipcclxuICogIERpc2FibGUgYW4gSFRNTCBlbGVtZW50IGZvciBmdXJ0aGVyIHVzZSBpbiBDb3JuZXJzdG9uZVxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEFuIEhUTUwgRWxlbWVudCBlbmFibGVkIGZvciBDb3JuZXJzdG9uZVxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQG1lbWJlcm9mIEVuYWJsZVxyXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkaXNhYmxlOiBlbGVtZW50IG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9IC8vIFNlYXJjaCBmb3IgdGhpcyBlbGVtZW50IGluIHRoaXMgbGlzdCBvZiBlbmFibGVkIGVsZW1lbnRzXG5cblxuICB2YXIgZW5hYmxlZEVsZW1lbnRzID0gT2JqZWN0KF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldEVuYWJsZWRFbGVtZW50c1wiXSkoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGVuYWJsZWRFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlbmFibGVkRWxlbWVudHNbaV0uZWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgICAgLy8gV2UgZm91bmQgaXQhXG4gICAgICAvLyBGaXJlIGFuIGV2ZW50IHNvIGRlcGVuZGVuY2llcyBjYW4gY2xlYW51cFxuICAgICAgdmFyIGV2ZW50RGF0YSA9IHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudFxuICAgICAgfTtcbiAgICAgIE9iamVjdChfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShlbGVtZW50LCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLkVMRU1FTlRfRElTQUJMRUQsIGV2ZW50RGF0YSk7XG4gICAgICBPYmplY3QoX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZXZlbnRzXCJdLCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLkVMRU1FTlRfRElTQUJMRUQsIGV2ZW50RGF0YSk7IC8vIFJlbW92ZSB0aGUgY2hpbGQgRE9NIGVsZW1lbnRzIHRoYXQgd2UgY3JlYXRlZCAoZS5nLmNhbnZhcylcblxuICAgICAgZW5hYmxlZEVsZW1lbnRzW2ldLmVsZW1lbnQucmVtb3ZlQ2hpbGQoZW5hYmxlZEVsZW1lbnRzW2ldLmNhbnZhcyk7XG4gICAgICBlbmFibGVkRWxlbWVudHNbaV0uY2FudmFzID0gdW5kZWZpbmVkOyAvLyBSZW1vdmUgdGhpcyBlbGVtZW50IGZyb20gdGhlIGxpc3Qgb2YgZW5hYmxlZCBlbGVtZW50c1xuXG4gICAgICBlbmFibGVkRWxlbWVudHMuc3BsaWNlKGksIDEpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9kaXNwbGF5SW1hZ2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9kaXNwbGF5SW1hZ2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9nZXREZWZhdWx0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ2V0RGVmYXVsdFZpZXdwb3J0LmpzICovIFwiLi9pbnRlcm5hbC9nZXREZWZhdWx0Vmlld3BvcnQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3VwZGF0ZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3VwZGF0ZUltYWdlLmpzICovIFwiLi91cGRhdGVJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludGVybmFsL25vdy5qcyAqLyBcIi4vaW50ZXJuYWwvbm93LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9sYXllcnNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbGF5ZXJzLmpzICovIFwiLi9sYXllcnMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90cmlnZ2VyRXZlbnQuanMgKi8gXCIuL3RyaWdnZXJFdmVudC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2V2ZW50cy5qcyAqLyBcIi4vZXZlbnRzLmpzXCIpO1xuXG5cblxuXG5cblxuXG4vKipcbiAqIFNldHMgYSBuZXcgaW1hZ2Ugb2JqZWN0IGZvciBhIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogV2lsbCBhbHNvIGFwcGx5IGFuIG9wdGlvbmFsIHZpZXdwb3J0IHNldHRpbmcuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBBbiBIVE1MIEVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbWFnZSBBbiBJbWFnZSBsb2FkZWQgYnkgYSBDb3JuZXJzdG9uZSBJbWFnZSBMb2FkZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbdmlld3BvcnRdIEEgc2V0IG9mIENvcm5lcnN0b25lIHZpZXdwb3J0IHBhcmFtZXRlcnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIERyYXdpbmdcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChlbGVtZW50LCBpbWFnZSwgdmlld3BvcnQpIHtcbiAgaWYgKGVsZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZGlzcGxheUltYWdlOiBwYXJhbWV0ZXIgZWxlbWVudCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGlmIChpbWFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkaXNwbGF5SW1hZ2U6IHBhcmFtZXRlciBpbWFnZSBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciBlbmFibGVkRWxlbWVudCA9IE9iamVjdChfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXSkoZWxlbWVudCk7XG4gIHZhciBvbGRJbWFnZSA9IGVuYWJsZWRFbGVtZW50LmltYWdlO1xuICBlbmFibGVkRWxlbWVudC5pbWFnZSA9IGltYWdlO1xuXG4gIGlmIChlbmFibGVkRWxlbWVudC5sYXllcnMgJiYgZW5hYmxlZEVsZW1lbnQubGF5ZXJzLmxlbmd0aCkge1xuICAgIE9iamVjdChfbGF5ZXJzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJzZXRMYXllckltYWdlXCJdKShlbGVtZW50LCBpbWFnZSk7XG4gIH1cblxuICBpZiAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0ID0gT2JqZWN0KF9pbnRlcm5hbF9nZXREZWZhdWx0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LmNhbnZhcywgaW1hZ2UpO1xuICB9IC8vIE1lcmdlIHZpZXdwb3J0XG5cblxuICBpZiAodmlld3BvcnQpIHtcbiAgICBmb3IgKHZhciBhdHRybmFtZSBpbiB2aWV3cG9ydCkge1xuICAgICAgaWYgKHZpZXdwb3J0W2F0dHJuYW1lXSAhPT0gbnVsbCkge1xuICAgICAgICBlbmFibGVkRWxlbWVudC52aWV3cG9ydFthdHRybmFtZV0gPSB2aWV3cG9ydFthdHRybmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGZyYW1lUmF0ZTtcblxuICBpZiAoZW5hYmxlZEVsZW1lbnQubGFzdEltYWdlVGltZVN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdEltYWdlID0gT2JqZWN0KF9pbnRlcm5hbF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKCkgLSBlbmFibGVkRWxlbWVudC5sYXN0SW1hZ2VUaW1lU3RhbXA7XG4gICAgZnJhbWVSYXRlID0gKDEwMDAgLyB0aW1lU2luY2VMYXN0SW1hZ2UpLnRvRml4ZWQoKTtcbiAgfVxuXG4gIGVuYWJsZWRFbGVtZW50Lmxhc3RJbWFnZVRpbWVTdGFtcCA9IE9iamVjdChfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKSgpO1xuICB2YXIgbmV3SW1hZ2VFdmVudERhdGEgPSB7XG4gICAgdmlld3BvcnQ6IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LFxuICAgIGVsZW1lbnQ6IGVuYWJsZWRFbGVtZW50LmVsZW1lbnQsXG4gICAgaW1hZ2U6IGVuYWJsZWRFbGVtZW50LmltYWdlLFxuICAgIG9sZEltYWdlOiBvbGRJbWFnZSxcbiAgICBlbmFibGVkRWxlbWVudDogZW5hYmxlZEVsZW1lbnQsXG4gICAgZnJhbWVSYXRlOiBmcmFtZVJhdGVcbiAgfTtcbiAgT2JqZWN0KF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LmVsZW1lbnQsIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0uTkVXX0lNQUdFLCBuZXdJbWFnZUV2ZW50RGF0YSk7XG4gIE9iamVjdChfdXBkYXRlSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKGVsZW1lbnQpO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vZHJhdy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9kcmF3LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2RyYXdJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9kcmF3SW1hZ2UuanMgKi8gXCIuL2ludGVybmFsL2RyYXdJbWFnZS5qc1wiKTtcblxuXG4vKipcbiAqIEltbWVkaWF0ZWx5IGRyYXdzIHRoZSBlbmFibGVkIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEFuIEhUTUwgRWxlbWVudCBlbmFibGVkIGZvciBDb3JuZXJzdG9uZVxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgRHJhd2luZ1xuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgdmFyIGVuYWJsZWRFbGVtZW50ID0gT2JqZWN0KF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldEVuYWJsZWRFbGVtZW50XCJdKShlbGVtZW50KTtcblxuICBpZiAoZW5hYmxlZEVsZW1lbnQuaW1hZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZHJhdzogaW1hZ2UgaGFzIG5vdCBiZWVuIGxvYWRlZCB5ZXQnKTtcbiAgfVxuXG4gIE9iamVjdChfaW50ZXJuYWxfZHJhd0ltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9kcmF3SW52YWxpZGF0ZWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9kcmF3SW52YWxpZGF0ZWQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9kcmF3SW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZHJhd0ltYWdlLmpzICovIFwiLi9pbnRlcm5hbC9kcmF3SW1hZ2UuanNcIik7XG4vKipcbiAqIFRoaXMgbW9kdWxlIGlzIHJlc3BvbnNpYmxlIGZvciBkcmF3aW5nIGludmFsaWRhdGVkIGVuYWJsZWQgZWxlbWVudHNcbiAqL1xuXG5cbi8qKlxuICogRHJhd3MgYWxsIGludmFsaWRhdGVkIGVuYWJsZWQgZWxlbWVudHMgYW5kIGNsZWFycyB0aGUgaW52YWxpZCBmbGFnIGFmdGVyIGRyYXdpbmcgaXRcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBtZW1iZXJvZiBEcmF3aW5nXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBlbmFibGVkRWxlbWVudHMgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRzXCJdKSgpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZW5hYmxlZEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVlID0gZW5hYmxlZEVsZW1lbnRzW2ldO1xuXG4gICAgaWYgKGVlLmludmFsaWQgPT09IHRydWUpIHtcbiAgICAgIE9iamVjdChfaW50ZXJuYWxfZHJhd0ltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShlZSwgdHJ1ZSk7XG4gICAgfVxuICB9XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9lbmFibGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9lbmFibGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZXNpemVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVzaXplLmpzICovIFwiLi9yZXNpemUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2RyYXdJbWFnZVN5bmNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZHJhd0ltYWdlU3luYy5qcyAqLyBcIi4vaW50ZXJuYWwvZHJhd0ltYWdlU3luYy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfcmVxdWVzdEFuaW1hdGlvbkZyYW1lX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludGVybmFsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyAqLyBcIi4vaW50ZXJuYWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF90cnlFbmFibGVXZWJnbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC90cnlFbmFibGVXZWJnbC5qcyAqLyBcIi4vaW50ZXJuYWwvdHJ5RW5hYmxlV2ViZ2wuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90cmlnZ2VyRXZlbnQuanMgKi8gXCIuL3RyaWdnZXJFdmVudC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ2VuZXJhdGVVVUlEX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dlbmVyYXRlVVVJRC5qcyAqLyBcIi4vZ2VuZXJhdGVVVUlELmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzLmpzICovIFwiLi9ldmVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2dldENhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9nZXRDYW52YXMuanMgKi8gXCIuL2ludGVybmFsL2dldENhbnZhcy5qc1wiKTtcblxuXG5cblxuXG5cblxuXG5cbi8qKlxyXG4gKiBAbW9kdWxlIEVuYWJsZVxyXG4gKiBUaGlzIG1vZHVsZSBpcyByZXNwb25zaWJsZSBmb3IgZW5hYmxpbmcgYW4gZWxlbWVudCB0byBkaXNwbGF5IGltYWdlcyB3aXRoIGNvcm5lcnN0b25lXHJcbiAqL1xuXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCBhbiBFbmFibGVkIEVsZW1lbnQgaGFzIGVpdGhlciBhIGN1cnJlbnRseSBhY3RpdmUgaW1hZ2Ugb3JcclxuICogYSBub24tZW1wdHkgQXJyYXkgb2YgRW5hYmxlZCBFbGVtZW50IExheWVycy5cclxuICpcclxuICogQHBhcmFtIHtFbmFibGVkRWxlbWVudH0gZW5hYmxlZEVsZW1lbnQgQW4gRW5hYmxlZCBFbGVtZW50XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBFbmFibGVkIEVsZW1lbnQgaGFzIGFuIGFjdGl2ZSBpbWFnZSBvciB2YWxpZCBzZXQgb2YgbGF5ZXJzXHJcbiAqIEBtZW1iZXJvZiBFbmFibGVcclxuICovXG5cbmZ1bmN0aW9uIGhhc0ltYWdlT3JMYXllcnMoZW5hYmxlZEVsZW1lbnQpIHtcbiAgcmV0dXJuIGVuYWJsZWRFbGVtZW50LmltYWdlICE9PSB1bmRlZmluZWQgfHwgZW5hYmxlZEVsZW1lbnQubGF5ZXJzLmxlbmd0aCA+IDA7XG59XG4vKipcclxuICogRW5hYmxlIGFuIEhUTUwgRWxlbWVudCBmb3IgdXNlIGluIENvcm5lcnN0b25lXHJcbiAqXHJcbiAqIC0gSWYgdGhlcmUgaXMgYSBDYW52YXMgYWxyZWFkeSBwcmVzZW50IHdpdGhpbiB0aGUgSFRNTEVsZW1lbnQsIGFuZCBpdCBoYXMgdGhlIGNsYXNzXHJcbiAqICdjb3JuZXJzdG9uZS1jYW52YXMnLCB0aGlzIGZ1bmN0aW9uIHdpbGwgdXNlIHRoaXMgZXhpc3RpbmcgQ2FudmFzIGluc3RlYWQgb2YgY3JlYXRpbmdcclxuICogYSBuZXcgb25lLiBUaGlzIG1heSBiZSBoZWxwZnVsIHdoZW4gdXNpbmcgbGlicmFyaWVzIChlLmcuIFJlYWN0LCBWdWUpIHdoaWNoIGRvbid0XHJcbiAqIHdhbnQgdGhpcmQgcGFydGllcyB0byBjaGFuZ2UgdGhlIERPTS5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBBbiBIVE1MIEVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIGVuYWJsZWRFbGVtZW50XHJcbiAqXHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqIEBtZW1iZXJvZiBFbmFibGVcclxuICovXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICBpZiAoZWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlbmFibGU6IHBhcmFtZXRlciBlbGVtZW50IGNhbm5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfSAvLyBJZiB0aGlzIGVuYWJsZWQgZWxlbWVudCBoYXMgdGhlIG9wdGlvbiBzZXQgZm9yIFdlYkdMLCB3ZSBzaG91bGRcbiAgLy8gQ2hlY2sgaWYgdGhpcyBkZXZpY2UgYWN0dWFsbHkgc3VwcG9ydHMgaXRcblxuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVuZGVyZXIgJiYgb3B0aW9ucy5yZW5kZXJlci50b0xvd2VyQ2FzZSgpID09PSAnd2ViZ2wnKSB7XG4gICAgT2JqZWN0KF9pbnRlcm5hbF90cnlFbmFibGVXZWJnbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkob3B0aW9ucyk7XG4gIH1cblxuICB2YXIgY2FudmFzID0gT2JqZWN0KF9pbnRlcm5hbF9nZXRDYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX1tcImRlZmF1bHRcIl0pKGVsZW1lbnQpO1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSB7XG4gICAgZWxlbWVudDogZWxlbWVudCxcbiAgICBjYW52YXM6IGNhbnZhcyxcbiAgICBpbWFnZTogdW5kZWZpbmVkLFxuICAgIC8vIFdpbGwgYmUgc2V0IG9uY2UgaW1hZ2UgaXMgbG9hZGVkXG4gICAgaW52YWxpZDogZmFsc2UsXG4gICAgLy8gVHJ1ZSBpZiBpbWFnZSBuZWVkcyB0byBiZSBkcmF3biwgZmFsc2UgaWYgbm90XG4gICAgbmVlZHNSZWRyYXc6IHRydWUsXG4gICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICBsYXllcnM6IFtdLFxuICAgIGRhdGE6IHt9LFxuICAgIHJlbmRlcmluZ1Rvb2xzOiB7fSxcbiAgICB1dWlkOiBPYmplY3QoX2dlbmVyYXRlVVVJRF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSkoKVxuICB9O1xuICBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiYWRkRW5hYmxlZEVsZW1lbnRcIl0pKGVuYWJsZWRFbGVtZW50KTtcbiAgT2JqZWN0KF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pKF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImV2ZW50c1wiXSwgX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fW1wiZGVmYXVsdFwiXS5FTEVNRU5UX0VOQUJMRUQsIGVuYWJsZWRFbGVtZW50KTtcbiAgT2JqZWN0KF9yZXNpemVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGVsZW1lbnQsIHRydWUpO1xuICAvKipcclxuICAgKiBEcmF3IHRoZSBpbWFnZSBpbW1lZGlhdGVseVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSB0aW1lc3RhbXAgVGhlIGN1cnJlbnQgdGltZSBmb3Igd2hlbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgc3RhcnRzIHRvIGZpcmUgY2FsbGJhY2tzXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICogQG1lbWJlcm9mIERyYXdpbmdcclxuICAgKi9cblxuICBmdW5jdGlvbiBkcmF3KHRpbWVzdGFtcCkge1xuICAgIGlmIChlbmFibGVkRWxlbWVudC5jYW52YXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBldmVudERldGFpbHMgPSB7XG4gICAgICBlbmFibGVkRWxlbWVudDogZW5hYmxlZEVsZW1lbnQsXG4gICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcFxuICAgIH07XG4gICAgT2JqZWN0KF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LmVsZW1lbnQsIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0uUFJFX1JFTkRFUiwgZXZlbnREZXRhaWxzKTtcblxuICAgIGlmIChlbmFibGVkRWxlbWVudC5uZWVkc1JlZHJhdyAmJiBoYXNJbWFnZU9yTGF5ZXJzKGVuYWJsZWRFbGVtZW50KSkge1xuICAgICAgT2JqZWN0KF9pbnRlcm5hbF9kcmF3SW1hZ2VTeW5jX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCwgZW5hYmxlZEVsZW1lbnQuaW52YWxpZCk7XG4gICAgfVxuXG4gICAgT2JqZWN0KF9pbnRlcm5hbF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKGRyYXcpO1xuICB9XG5cbiAgZHJhdygpO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vZW5hYmxlZEVsZW1lbnREYXRhLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vZW5hYmxlZEVsZW1lbnREYXRhLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGdldEVsZW1lbnREYXRhLCByZW1vdmVFbGVtZW50RGF0YSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRFbGVtZW50RGF0YVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldEVsZW1lbnREYXRhOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZW1vdmVFbGVtZW50RGF0YVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlbW92ZUVsZW1lbnREYXRhOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuXG4vKipcbiAqIFJldHJpZXZlcyBhbnkgZGF0YSBmb3IgYSBDb3JuZXJzdG9uZSBlbmFibGVkRWxlbWVudCBmb3IgYSBzcGVjaWZpYyBzdHJpbmdcbiAqIGRhdGFUeXBlXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBBbiBIVE1MIEVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVHlwZSBBIHN0cmluZyBuYW1lIGZvciBhbiBhcmJpdHJhcnkgc2V0IG9mIGRhdGFcbiAqIEByZXR1cm5zIHsqfSBXaGF0ZXZlciBkYXRhIGlzIHN0b3JlZCBmb3IgdGhpcyBlbmFibGVkIGVsZW1lbnRcbiAqL1xuXG5mdW5jdGlvbiBnZXRFbGVtZW50RGF0YShlbGVtZW50LCBkYXRhVHlwZSkge1xuICB2YXIgZWUgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuXG4gIGlmIChlZS5kYXRhLmhhc093blByb3BlcnR5KGRhdGFUeXBlKSA9PT0gZmFsc2UpIHtcbiAgICBlZS5kYXRhW2RhdGFUeXBlXSA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIGVlLmRhdGFbZGF0YVR5cGVdO1xufVxuLyoqXG4gKiBDbGVhcnMgYW55IGRhdGEgZm9yIGEgQ29ybmVyc3RvbmUgZW5hYmxlZEVsZW1lbnQgZm9yIGEgc3BlY2lmaWMgc3RyaW5nXG4gKiBkYXRhVHlwZVxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgQW4gSFRNTCBFbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVR5cGUgQSBzdHJpbmcgbmFtZSBmb3IgYW4gYXJiaXRyYXJ5IHNldCBvZiBkYXRhXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gcmVtb3ZlRWxlbWVudERhdGEoZWxlbWVudCwgZGF0YVR5cGUpIHtcbiAgdmFyIGVlID0gT2JqZWN0KF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldEVuYWJsZWRFbGVtZW50XCJdKShlbGVtZW50KTtcbiAgZGVsZXRlIGVlLmRhdGFbZGF0YVR5cGVdO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2VuYWJsZWRFbGVtZW50cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2VuYWJsZWRFbGVtZW50cy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBnZXRFbmFibGVkRWxlbWVudCwgYWRkRW5hYmxlZEVsZW1lbnQsIGdldEVuYWJsZWRFbGVtZW50c0J5SW1hZ2VJZCwgZ2V0RW5hYmxlZEVsZW1lbnRzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldEVuYWJsZWRFbGVtZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0RW5hYmxlZEVsZW1lbnQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFkZEVuYWJsZWRFbGVtZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYWRkRW5hYmxlZEVsZW1lbnQ7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldEVuYWJsZWRFbGVtZW50c0J5SW1hZ2VJZFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldEVuYWJsZWRFbGVtZW50c0J5SW1hZ2VJZDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0RW5hYmxlZEVsZW1lbnRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0RW5hYmxlZEVsZW1lbnRzOyB9KTtcbnZhciBlbmFibGVkRWxlbWVudHMgPSBbXTtcbi8qKlxuICogQG1vZHVsZSBFbmFibGVkRWxlbWVudHNcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgT2JqZWN0c1xuICovXG5cbi8qKlxuICogQSB0d28tZGltZW5zaW9uYWwgdmVjdG9yXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gdmVjMlxuICogQG1lbWJlcm9mIE9iamVjdHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gVGhlIHggZGlzdGFuY2VcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gVGhlIHkgZGlzdGFuY2VcbiAqL1xuXG4vKipcbiAqIFZPSVxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFZPSVxuICogQG1lbWJlcm9mIE9iamVjdHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB3aW5kb3dXaWR0aCAtIFdpbmRvdyBXaWR0aCBmb3IgZGlzcGxheVxuICogQHBhcmFtIHtOdW1iZXJ9IHdpbmRvd0NlbnRlciAtIFdpbmRvdyBDZW50ZXIgZm9yIGRpc3BsYXlcbiAqL1xuXG4vKipcbiAqIExvb2t1cCBUYWJsZSBBcnJheVxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExVVFxuICogQG1lbWJlcm9mIE9iamVjdHNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBmaXJzdFZhbHVlTWFwcGVkXG4gKiBAcHJvcGVydHkge051bWJlcn0gbnVtQml0c1BlckVudHJ5XG4gKiBAcHJvcGVydHkge0FycmF5fSBsdXRcbiAqL1xuXG4vKipcbiAqIEltYWdlIFN0YXRpc3RpY3MgT2JqZWN0XG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gSW1hZ2VTdGF0c1xuICogQG1lbWJlcm9mIE9iamVjdHNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbGFzdEdldFBpeGVsRGF0YVRpbWVdIFRoZSB0aW1lIGluIG1zIHRha2VuIHRvIHJldHJpZXZlIHN0b3JlZCBwaXhlbHMgcmVxdWlyZWQgdG8gZHJhdyB0aGUgaW1hZ2VcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbGFzdFN0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhVGltZV0gVGhlIHRpbWUgaW4gbXMgdGFrZW4gdG8gbWFwIGZyb20gc3RvcmVkIHBpeGVsIGFycmF5IHRvIGNhbnZhcyBwaXhlbCBhcnJheVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFtsYXN0UHV0SW1hZ2VEYXRhVGltZV0gVGhlIHRpbWUgaW4gbXMgdGFrZW4gZm9yIHB1dEltYWdlRGF0YSB0byBwdXQgdGhlIGNhbnZhcyBwaXhlbCBkYXRhIGludG8gdGhlIGNhbnZhcyBjb250ZXh0XG4gKiBAcHJvcGVydHkge051bWJlcn0gW2xhc3RSZW5kZXJUaW1lXSBUaGUgdG90YWwgdGltZSBpbiBtcyB0YWtlbiBmb3IgdGhlIGVudGlyZSByZW5kZXJpbmcgZnVuY3Rpb24gdG8gcnVuXG4gKiBAcHJvcGVydHkge051bWJlcn0gW2xhc3RMdXRHZW5lcmF0ZVRpbWVdIFRoZSB0aW1lIGluIG1zIHRha2VuIHRvIGdlbmVyYXRlIHRoZSBsb29rdXAgdGFibGUgZm9yIHRoZSBpbWFnZVxuICovXG5cbi8qKlxuICogQW4gSW1hZ2UgT2JqZWN0IGluIENvcm5lcnN0b25lXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gSW1hZ2VcbiAqIEBtZW1iZXJvZiBPYmplY3RzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZUlkIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGltYWdlIG9iamVjdFxuICogQHByb3BlcnR5IHtOdW1iZXJ9IG1pblBpeGVsVmFsdWUgLSB0aGUgbWluaW11bSBzdG9yZWQgcGl4ZWwgdmFsdWUgaW4gdGhlIGltYWdlXG4gKiBAcHJvcGVydHkge051bWJlcn0gbWF4UGl4ZWxWYWx1ZSAtIHRoZSBtYXhpbXVtIHN0b3JlZCBwaXhlbCB2YWx1ZSBpbiB0aGUgaW1hZ2VcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzbG9wZSAtIHRoZSByZXNjYWxlIHNsb3BlIHRvIGNvbnZlcnQgc3RvcmVkIHBpeGVsIHZhbHVlcyB0byBtb2RhbGl0eSBwaXhlbCB2YWx1ZXMgb3IgMSBpZiBub3Qgc3BlY2lmaWVkXG4gKiBAcHJvcGVydHkge051bWJlcn0gaW50ZXJjZXB0IC0gdGhlIHJlc2NhbGUgaW50ZXJjZXB0IHVzZWQgdG8gY29udmVydCBzdG9yZWQgcGl4ZWwgdmFsdWVzIHRvIG1vZGFsaXR5IHZhbHVlcyBvciAwIGlmIG5vdCBzcGVjaWZpZWRcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB3aW5kb3dDZW50ZXIgLSB0aGUgZGVmYXVsdCB3aW5kb3dDZW50ZXIgdG8gYXBwbHkgdG8gdGhlIGltYWdlXG4gKiBAcHJvcGVydHkge051bWJlcn0gd2luZG93V2lkdGggLSB0aGUgZGVmYXVsdCB3aW5kb3dXaWR0aCB0byBhcHBseSB0byB0aGUgaW1hZ2VcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGdldFBpeGVsRGF0YSAtIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB1bmRlcmx5aW5nIHBpeGVsIGRhdGEuIEFuIGFycmF5IG9mIGludGVnZXJzIGZvciBncmF5c2NhbGUgYW5kIGFuIGFycmF5IG9mIFJHQkEgZm9yIGNvbG9yXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBnZXRJbWFnZURhdGEgLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGNhbnZhcyBpbWFnZURhdGEgb2JqZWN0IGZvciB0aGUgaW1hZ2UuIFRoaXMgaXMgb25seSBuZWVkZWQgZm9yIGNvbG9yIGltYWdlc1xuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gZ2V0Q2FudmFzIC0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBjYW52YXMgZWxlbWVudCB3aXRoIHRoZSBpbWFnZSBsb2FkZWQgaW50byBpdC4gVGhpcyBpcyBvbmx5IG5lZWRlZCBmb3IgY29sb3IgaW1hZ2VzLlxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gZ2V0SW1hZ2UgLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIEphdmFTY3JpcHQgSW1hZ2Ugb2JqZWN0IHdpdGggdGhlIGltYWdlIGRhdGEuIFRoaXMgaXMgb3B0aW9uYWwgYW5kIHR5cGljYWxseSB1c2VkIGZvciBpbWFnZXMgZW5jb2RlZCBpbiBzdGFuZGFyZCB3ZWIgSlBFRyBhbmQgUE5HIGZvcm1hdHNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByb3dzIC0gbnVtYmVyIG9mIHJvd3MgaW4gdGhlIGltYWdlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIGhlaWdodCBidXQgZHVwbGljYXRlZCBmb3IgY29udmVuaWVuY2VcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBjb2x1bW5zIC0gbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIGltYWdlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIHdpZHRoIGJ1dCBkdXBsaWNhdGVkIGZvciBjb252ZW5pZW5jZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIGltYWdlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIHJvd3MgYnV0IGR1cGxpY2F0ZWQgZm9yIGNvbnZlbmllbmNlXG4gKiBAcHJvcGVydHkge051bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIGltYWdlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIGNvbHVtbnMgYnV0IGR1cGxpY2F0ZWQgZm9yIGNvbnZlbmllbmNlXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGNvbG9yIC0gdHJ1ZSBpZiBwaXhlbCBkYXRhIGlzIFJHQiwgZmFsc2UgaWYgZ3JheXNjYWxlXG4gKiBAcHJvcGVydHkge09iamVjdH0gbHV0IC0gVGhlIExvb2t1cCBUYWJsZVxuICogQHByb3BlcnR5IHtCb29sZWFufSByZ2JhIC0gSXMgdGhlIGNvbG9yIHBpeGVsIGRhdGEgc3RvcmVkIGluIFJHQkE/XG4gKiBAcHJvcGVydHkge051bWJlcn0gY29sdW1uUGl4ZWxTcGFjaW5nIC0gaG9yaXpvbnRhbCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBtaWRkbGUgb2YgZWFjaCBwaXhlbCAob3Igd2lkdGggb2YgZWFjaCBwaXhlbCkgaW4gbW0gb3IgdW5kZWZpbmVkIGlmIG5vdCBrbm93blxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHJvd1BpeGVsU3BhY2luZyAtIHZlcnRpY2FsIGRpc3RhbmNlIGJldHdlZW4gdGhlIG1pZGRsZSBvZiBlYWNoIHBpeGVsIChvciBoZWlnaHQgb2YgZWFjaCBwaXhlbCkgaW4gbW0gb3IgdW5kZWZpbmVkIGlmIG5vdCBrbm93blxuICogQHByb3BlcnR5IHtCb29sZWFufSBpbnZlcnQgLSB0cnVlIGlmIHRoZSB0aGUgaW1hZ2Ugc2hvdWxkIGluaXRpYWxseSBiZSBkaXNwbGF5ZWQgYmUgaW52ZXJ0ZWQsIGZhbHNlIGlmIG5vdC4gVGhpcyBpcyBoZXJlIG1haW5seSB0byBzdXBwb3J0IERJQ09NIGltYWdlcyB3aXRoIGEgcGhvdG9tZXRyaWMgaW50ZXJwcmV0YXRpb24gb2YgTU9OT0NIUk9NRTFcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzaXplSW5CeXRlcyAtIHRoZSBudW1iZXIgb2YgYnl0ZXMgdXNlZCB0byBzdG9yZSB0aGUgcGl4ZWxzIGZvciB0aGlzIGltYWdlLlxuICogQHByb3BlcnR5IHtCb29sZWFufSBbZmFsc2VDb2xvcj1mYWxzZV0gLSBXaGV0aGVyIG9yIG5vdCB0aGUgaW1hZ2UgaGFzIHVuZGVyZ29uZSBmYWxzZSBjb2xvciBtYXBwaW5nXG4gKiBAcHJvcGVydHkge0FycmF5fSBbb3JpZ1BpeGVsRGF0YV0gLSBPcmlnaW5hbCBwaXhlbCBkYXRhIGZvciBhbiBpbWFnZSBhZnRlciBpdCBoYXMgdW5kZXJnb25lIGZhbHNlIGNvbG9yIG1hcHBpbmdcbiAqIEBwcm9wZXJ0eSB7SW1hZ2VTdGF0c30gW3N0YXRzXSAtIFN0YXRpc3RpY3MgZm9yIHRoZSBsYXN0IHJlZHJhdyBvZiB0aGUgaW1hZ2VcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBjYWNoZWRMdXQgLSBDYWNoZWQgTG9va3VwIFRhYmxlIGZvciB0aGlzIGltYWdlLlxuICogQHByb3BlcnR5IHtTdHJpbmd8Q29sb3JtYXB9IFtjb2xvcm1hcF0gLSBEZXByZWFjdGVkLiBVc2Ugdmlld3BvcnQuY29sb3JtYXAgaW5zdGVhZC4gYW4gb3B0aW9uYWwgY29sb3JtYXAgSUQgb3IgY29sb3JtYXAgb2JqZWN0IChmcm9tIGNvbG9ycy9jb2xvcm1hcC5qcykuIFRoaXMgd2lsbCBiZSBhcHBsaWVkIGR1cmluZyByZW5kZXJpbmcgdG8gY29udmVydCB0aGUgaW1hZ2UgdG8gcHNldWRvY29sb3JcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2xhYmVsbWFwPWZhbHNlXSAtIHdoZXRoZXIgb3Igbm90IHRvIHJlbmRlciB0aGlzIGltYWdlIGFzIGEgbGFiZWwgbWFwIChpLmUuIHNraXAgbW9kYWxpdHkgYW5kIFZPSSBMVVQgcGlwZWxpbmVzIGFuZCB1c2Ugb25seSBhIGNvbG9yIGxvb2t1cCB0YWJsZSlcbiAqL1xuXG4vKipcbiAqIEEgVmlld3BvcnQgU2V0dGluZ3MgT2JqZWN0IENvcm5lcnN0b25lXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gVmlld3BvcnRcbiAqIEBtZW1iZXJvZiBPYmplY3RzXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3NjYWxlPTEuMF0gLSBUaGUgc2NhbGUgYXBwbGllZCB0byB0aGUgaW1hZ2UuIEEgc2NhbGUgb2YgMS4wIHdpbGwgZGlzcGxheSBubyB6b29tIChvbmUgaW1hZ2UgcGl4ZWwgdGFrZXMgdXAgb25lIHNjcmVlbiBwaXhlbCkuIEEgc2NhbGUgb2YgMi4wIHdpbGwgYmUgZG91YmxlIHpvb20gYW5kIGEgc2NhbGUgb2YgLjUgd2lsbCBiZSB6b29tZWQgb3V0IGJ5IDJ4XG4gKiBAcHJvcGVydHkge3ZlYzJ9IFt0cmFuc2xhdGlvbl0gLSBBbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHggYW5kIHkgd2hpY2ggZGVzY3JpYmUgdGhlIHRyYW5zbGF0aW9uIHRvIGFwcGx5IGluIHRoZSBwaXhlbCBjb29yZGluYXRlIHN5c3RlbS4gTm90ZSB0aGF0IHRoZSBpbWFnZSBpcyBpbml0aWFsbHkgZGlzcGxheWVkIGNlbnRlcmVkIGluIHRoZSBlbmFibGVkIGVsZW1lbnQgd2l0aCBhIHggYW5kIHkgdHJhbnNsYXRpb24gb2YgMCBhbmQgMCByZXNwZWN0aXZlbHkuXG4gKiBAcHJvcGVydHkge1ZPSX0gW3ZvaV0gLSBhbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHdpbmRvd1dpZHRoIGFuZCB3aW5kb3dDZW50ZXIuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnZlcnQ9ZmFsc2VdIC0gV2hldGhlciBvciBub3QgdGhlIGltYWdlIGlzIGludmVydGVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGl4ZWxSZXBsaWNhdGlvbj1mYWxzZV0gLSB0cnVlIGlmIHRoZSBpbWFnZSBzbW9vdGggLyBpbnRlcnBvbGF0aW9uIHNob3VsZCBiZSB1c2VkIHdoZW4gem9vbWVkIGluIG9uIHRoZSBpbWFnZSBvciBmYWxzZSBpZiBwaXhlbCByZXBsaWNhdGlvbiBzaG91bGQgYmUgdXNlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2hmbGlwPWZhbHNlXSAtIHRydWUgaWYgdGhlIGltYWdlIGlzIGZsaXBwZWQgaG9yaXpvbnRhbGx5LiBEZWZhdWx0IGlzIGZhbHNlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt2ZmxpcD1mYWxzZV0gLSB0cnVlIGlmIHRoZSBpbWFnZSBpcyBmbGlwcGVkIHZlcnRpY2FsbHkuIERlZmF1bHQgaXMgZmFsc2VcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbcm90YXRpb249MF0gLSB0aGUgcm90YXRpb24gb2YgdGhlIGltYWdlICg5MCBkZWdyZWUgaW5jcmVtZW50cykuIERlZmF1bHQgaXMgMFxuICogQHByb3BlcnR5IHtMVVR9IFttb2RhbGl0eUxVVF0gLSB0aGUgbW9kYWxpdHkgTFVUIHRvIGFwcGx5IG9yIHVuZGVmaW5lZCBpZiBub25lXG4gKiBAcHJvcGVydHkge0xVVH0gW3ZvaUxVVF0gLSB0aGUgbW9kYWxpdHkgTFVUIHRvIGFwcGx5IG9yIHVuZGVmaW5lZCBpZiBub25lXG4gKiBAcHJvcGVydHkge1N0cmluZ3xDb2xvcm1hcH0gW2NvbG9ybWFwXSAtIGFuIG9wdGlvbmFsIGNvbG9ybWFwIElEIG9yIGNvbG9ybWFwIG9iamVjdCAoZnJvbSBjb2xvcnMvY29sb3JtYXAuanMpLiBUaGlzIHdpbGwgYmUgYXBwbGllZCBkdXJpbmcgcmVuZGVyaW5nIHRvIGNvbnZlcnQgdGhlIGltYWdlIHRvIHBzZXVkb2NvbG9yXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtsYWJlbG1hcD1mYWxzZV0gLSB3aGV0aGVyIG9yIG5vdCB0byByZW5kZXIgdGhpcyBpbWFnZSBhcyBhIGxhYmVsIG1hcCAoaS5lLiBza2lwIG1vZGFsaXR5IGFuZCBWT0kgTFVUIHBpcGVsaW5lcyBhbmQgdXNlIG9ubHkgYSBjb2xvciBsb29rdXAgdGFibGUpXG4gKi9cblxuLyoqXG4gKiBBbiBFbmFibGVkIEVsZW1lbnQgaW4gQ29ybmVyc3RvbmVcbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFbmFibGVkRWxlbWVudFxuICogQG1lbWJlcm9mIE9iamVjdHNcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgRE9NIGVsZW1lbnQgd2hpY2ggaGFzIGJlZW4gZW5hYmxlZCBmb3IgdXNlIGJ5IENvcm5lcnN0b25lXG4gKiBAcHJvcGVydHkge0ltYWdlfSBbaW1hZ2VdIC0gVGhlIGltYWdlIGN1cnJlbnRseSBkaXNwbGF5ZWQgaW4gdGhlIGVuYWJsZWRFbGVtZW50XG4gKiBAcHJvcGVydHkge1ZpZXdwb3J0fSBbdmlld3BvcnRdIC0gVGhlIGN1cnJlbnQgdmlld3BvcnQgc2V0dGluZ3Mgb2YgdGhlIGVuYWJsZWRFbGVtZW50XG4gKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIFRoZSBjdXJyZW50IGNhbnZhcyBmb3IgdGhpcyBlbmFibGVkRWxlbWVudFxuICogQHByb3BlcnR5IHtCb29sZWFufSBpbnZhbGlkIC0gV2hldGhlciBvciBub3QgdGhlIGltYWdlIHBpeGVsIGRhdGEgdW5kZXJseWluZyB0aGUgZW5hYmxlZEVsZW1lbnQgaGFzIGJlZW4gY2hhbmdlZCwgbmVjZXNzaXRhdGluZyBhIHJlZHJhd1xuICogQHByb3BlcnR5IHtCb29sZWFufSBuZWVkc1JlZHJhdyAtIEEgZmxhZyBmb3IgdHJpZ2dlcmluZyBhIHJlZHJhdyBvZiB0aGUgY2FudmFzIHdpdGhvdXQgcmUtcmV0cmlldmluZyB0aGUgcGl4ZWwgZGF0YSwgc2luY2UgaXQgcmVtYWlucyB2YWxpZFxuICogQHByb3BlcnR5IHtFbmFibGVkRWxlbWVudExheWVyW119IFtsYXllcnNdIC0gVGhlIGxheWVycyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB0byB0aGUgZW5hYmxlZEVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3N5bmNWaWV3cG9ydHNdIC0gV2hldGhlciBvciBub3QgdG8gc3luY2hyb25pemUgdGhlIHZpZXdwb3J0IHBhcmFtZXRlcnNcbiAqIGZvciBlYWNoIG9mIHRoZSBlbmFibGVkIGVsZW1lbnQncyBsYXllcnNcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2xhc3RTeW5jVmlld3BvcnRzU3RhdGVdIC0gVGhlIHByZXZpb3VzIHN0YXRlIGZvciB0aGUgc3luYyB2aWV3cG9ydCBib29sZWFuXG4gKi9cblxuLyoqXG4gKiBBbiBFbmFibGVkIEVsZW1lbnQgTGF5ZXIgaW4gQ29ybmVyc3RvbmVcbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBFbmFibGVkRWxlbWVudExheWVyXG4gKiBAbWVtYmVyb2YgT2JqZWN0c1xuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBET00gZWxlbWVudCB3aGljaCBoYXMgYmVlbiBlbmFibGVkIGZvciB1c2UgYnkgQ29ybmVyc3RvbmVcbiAqIEBwcm9wZXJ0eSB7SW1hZ2V9IFtpbWFnZV0gLSBUaGUgaW1hZ2UgY3VycmVudGx5IGRpc3BsYXllZCBpbiB0aGUgZW5hYmxlZEVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7Vmlld3BvcnR9IFt2aWV3cG9ydF0gLSBUaGUgY3VycmVudCB2aWV3cG9ydCBzZXR0aW5ncyBvZiB0aGUgZW5hYmxlZEVsZW1lbnRcbiAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGN1cnJlbnQgY2FudmFzIGZvciB0aGlzIGVuYWJsZWRFbGVtZW50XG4gKiBAcHJvcGVydHkge09iamVjdH0gW29wdGlvbnNdIC0gTGF5ZXIgZHJhd2luZyBvcHRpb25zXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGludmFsaWQgLSBXaGV0aGVyIG9yIG5vdCB0aGUgaW1hZ2UgcGl4ZWwgZGF0YSB1bmRlcmx5aW5nIHRoZSBlbmFibGVkRWxlbWVudCBoYXMgYmVlbiBjaGFuZ2VkLCBuZWNlc3NpdGF0aW5nIGEgcmVkcmF3XG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IG5lZWRzUmVkcmF3IC0gQSBmbGFnIGZvciB0cmlnZ2VyaW5nIGEgcmVkcmF3IG9mIHRoZSBjYW52YXMgd2l0aG91dCByZS1yZXRyaWV2aW5nIHRoZSBwaXhlbCBkYXRhLCBzaW5jZSBpdCByZW1haW5zIHZhbGlkXG4gKi9cblxuLyoqXG4gKiBBbiBJbWFnZSBMb2FkIE9iamVjdFxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEltYWdlTG9hZE9iamVjdFxuICogQG1lbWJlcm9mIE9iamVjdHNcbiAqIEBwcm9wZXJ0eSB7UHJvbWlzZX0gcHJvbWlzZSAtIFRoZSBQcm9taXNlIHRyYWNraW5nIHRoZSBsb2FkaW5nIG9mIHRoaXMgaW1hZ2VcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb258dW5kZWZpbmVkfSBjYW5jZWxGbiAtIEEgZnVuY3Rpb24gdG8gY2FuY2VsIHRoZSBpbWFnZSBsb2FkIHJlcXVlc3RcbiAqL1xuXG4vKipcbiAqIFJldHJpZXZlcyBhIENvcm5lcnN0b25lIEVuYWJsZWQgRWxlbWVudCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEFuIEhUTUwgRWxlbWVudCBlbmFibGVkIGZvciBDb3JuZXJzdG9uZVxuICpcbiAqIEByZXR1cm5zIHtFbmFibGVkRWxlbWVudH0gQSBDb3JuZXJzdG9uZSBFbmFibGVkIEVsZW1lbnRcbiAqIEBtZW1iZXJvZiBFbmFibGVkRWxlbWVudHNcbiAqL1xuXG5mdW5jdGlvbiBnZXRFbmFibGVkRWxlbWVudChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEVuYWJsZWRFbGVtZW50OiBwYXJhbWV0ZXIgZWxlbWVudCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZW5hYmxlZEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGVuYWJsZWRFbGVtZW50c1tpXS5lbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZW5hYmxlZEVsZW1lbnRzW2ldO1xuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignZWxlbWVudCBub3QgZW5hYmxlZCcpO1xufVxuLyoqXG4gKiBBZGRzIGEgQ29ybmVyc3RvbmUgRW5hYmxlZCBFbGVtZW50IG9iamVjdCB0byB0aGUgY2VudHJhbCBzdG9yZSBvZiBlbmFibGVkRWxlbWVudHNcbiAqXG4gKiBAcGFyYW0ge0VuYWJsZWRFbGVtZW50fSBlbmFibGVkRWxlbWVudCBBIENvcm5lcnN0b25lIGVuYWJsZWRFbGVtZW50IE9iamVjdFxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgRW5hYmxlZEVsZW1lbnRzXG4gKi9cblxuZnVuY3Rpb24gYWRkRW5hYmxlZEVsZW1lbnQoZW5hYmxlZEVsZW1lbnQpIHtcbiAgaWYgKGVuYWJsZWRFbGVtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEVuYWJsZWRFbGVtZW50OiBlbmFibGVkRWxlbWVudCBlbGVtZW50IG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgZW5hYmxlZEVsZW1lbnRzLnB1c2goZW5hYmxlZEVsZW1lbnQpO1xufVxuLyoqXG4gKiBBZGRzIGEgQ29ybmVyc3RvbmUgRW5hYmxlZCBFbGVtZW50IG9iamVjdCB0byB0aGUgY2VudHJhbCBzdG9yZSBvZiBlbmFibGVkRWxlbWVudHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCBBIENvcm5lcnN0b25lIEltYWdlIElEXG4gKiBAcmV0dXJucyB7RW5hYmxlZEVsZW1lbnRbXX0gQW4gQXJyYXkgb2YgQ29ybmVyc3RvbmUgZW5hYmxlZEVsZW1lbnQgT2JqZWN0c1xuICogQG1lbWJlcm9mIEVuYWJsZWRFbGVtZW50c1xuICovXG5cbmZ1bmN0aW9uIGdldEVuYWJsZWRFbGVtZW50c0J5SW1hZ2VJZChpbWFnZUlkKSB7XG4gIHZhciBlZXMgPSBbXTtcbiAgZW5hYmxlZEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVuYWJsZWRFbGVtZW50KSB7XG4gICAgaWYgKGVuYWJsZWRFbGVtZW50LmltYWdlICYmIGVuYWJsZWRFbGVtZW50LmltYWdlLmltYWdlSWQgPT09IGltYWdlSWQpIHtcbiAgICAgIGVlcy5wdXNoKGVuYWJsZWRFbGVtZW50KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZWVzO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhbGwgb2YgdGhlIGN1cnJlbnRseSBlbmFibGVkIENvcm5lcnN0b25lIGVsZW1lbnRzXG4gKlxuICogQHJldHVybiB7RW5hYmxlZEVsZW1lbnRbXX0gQW4gQXJyYXkgb2YgQ29ybmVyc3RvbmUgZW5hYmxlZEVsZW1lbnQgT2JqZWN0c1xuICogQG1lbWJlcm9mIEVuYWJsZWRFbGVtZW50c1xuICovXG5cbmZ1bmN0aW9uIGdldEVuYWJsZWRFbGVtZW50cygpIHtcbiAgcmV0dXJuIGVuYWJsZWRFbGVtZW50cztcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ldmVudHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ldmVudHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCwgZXZlbnRzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImV2ZW50c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGV2ZW50czsgfSk7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBFVkVOVFMgPSB7XG4gIE5FV19JTUFHRTogJ2Nvcm5lcnN0b25lbmV3aW1hZ2UnLFxuICBJTlZBTElEQVRFRDogJ2Nvcm5lcnN0b25laW52YWxpZGF0ZWQnLFxuICBQUkVfUkVOREVSOiAnY29ybmVyc3RvbmVwcmVyZW5kZXInLFxuICBJTUFHRV9DQUNIRV9NQVhJTVVNX1NJWkVfQ0hBTkdFRDogJ2Nvcm5lcnN0b25laW1hZ2VjYWNoZW1heGltdW1zaXplY2hhbmdlZCcsXG4gIElNQUdFX0NBQ0hFX1BST01JU0VfUkVNT1ZFRDogJ2Nvcm5lcnN0b25laW1hZ2VjYWNoZXByb21pc2VyZW1vdmVkJyxcbiAgSU1BR0VfQ0FDSEVfRlVMTDogJ2Nvcm5lcnN0b25laW1hZ2VjYWNoZWZ1bGwnLFxuICBJTUFHRV9DQUNIRV9DSEFOR0VEOiAnY29ybmVyc3RvbmVpbWFnZWNhY2hlY2hhbmdlZCcsXG4gIFdFQkdMX1RFWFRVUkVfUkVNT1ZFRDogJ2Nvcm5lcnN0b25ld2ViZ2x0ZXh0dXJlcmVtb3ZlZCcsXG4gIFdFQkdMX1RFWFRVUkVfQ0FDSEVfRlVMTDogJ2Nvcm5lcnN0b25ld2ViZ2x0ZXh0dXJlY2FjaGVmdWxsJyxcbiAgSU1BR0VfTE9BREVEOiAnY29ybmVyc3RvbmVpbWFnZWxvYWRlZCcsXG4gIElNQUdFX0xPQURfRkFJTEVEOiAnY29ybmVyc3RvbmVpbWFnZWxvYWRmYWlsZWQnLFxuICBFTEVNRU5UX1JFU0laRUQ6ICdjb3JuZXJzdG9uZWVsZW1lbnRyZXNpemVkJyxcbiAgSU1BR0VfUkVOREVSRUQ6ICdjb3JuZXJzdG9uZWltYWdlcmVuZGVyZWQnLFxuICBMQVlFUl9BRERFRDogJ2Nvcm5lcnN0b25lbGF5ZXJhZGRlZCcsXG4gIExBWUVSX1JFTU9WRUQ6ICdjb3JuZXJzdG9uZWxheWVycmVtb3ZlZCcsXG4gIEFDVElWRV9MQVlFUl9DSEFOR0VEOiAnY29ybmVyc3RvbmVhY3RpdmVsYXllcmNoYW5nZWQnLFxuICBFTEVNRU5UX0RJU0FCTEVEOiAnY29ybmVyc3RvbmVlbGVtZW50ZGlzYWJsZWQnLFxuICBFTEVNRU5UX0VOQUJMRUQ6ICdjb3JuZXJzdG9uZWVsZW1lbnRlbmFibGVkJ1xufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoRVZFTlRTKTtcbi8qKlxuICogRXZlbnRUYXJnZXQgLSBQcm92aWRlcyB0aGUgW0V2ZW50VGFyZ2V0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXZlbnRUYXJnZXQpIGludGVyZmFjZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBvbHlmaWxsc1xuICovXG5cbnZhciBFdmVudFRhcmdldCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEV2ZW50VGFyZ2V0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudFRhcmdldCk7XG5cbiAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMubmFtZXNwYWNlcyA9IHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEV2ZW50VGFyZ2V0LCBbe1xuICAgIGtleTogXCJhZGRFdmVudE5hbWVzcGFjZUxpc3RlbmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TmFtZXNwYWNlTGlzdGVuZXIodHlwZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICh0eXBlLmluZGV4T2YoJy4nKSA8PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5uYW1lc3BhY2VzW3R5cGVdID0gY2FsbGJhY2s7XG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHlwZS5zcGxpdCgnLicpWzBdLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUV2ZW50TmFtZXNwYWNlTGlzdGVuZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnROYW1lc3BhY2VMaXN0ZW5lcih0eXBlKSB7XG4gICAgICBpZiAodHlwZS5pbmRleE9mKCcuJykgPD0gMCB8fCAhdGhpcy5uYW1lc3BhY2VzW3R5cGVdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUuc3BsaXQoJy4nKVswXSwgdGhpcy5uYW1lc3BhY2VzW3R5cGVdKTtcbiAgICAgIGRlbGV0ZSB0aGlzLm5hbWVzcGFjZXNbdHlwZV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZEV2ZW50TGlzdGVuZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgYW4gZXZlbnQgbmFtZXNwYWNlXG4gICAgICBpZiAodHlwZS5pbmRleE9mKCcuJykgPiAwKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnROYW1lc3BhY2VMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCEodHlwZSBpbiB0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0ucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUV2ZW50TGlzdGVuZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgYW4gZXZlbnQgbmFtZXNwYWNlXG4gICAgICBpZiAodHlwZS5pbmRleE9mKCcuJykgPiAwKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnROYW1lc3BhY2VMaXN0ZW5lcih0eXBlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoISh0eXBlIGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFjayA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHN0YWNrLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoc3RhY2tbaV0gPT09IGNhbGxiYWNrKSB7XG4gICAgICAgICAgc3RhY2suc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkaXNwYXRjaEV2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICAgIGlmICghKGV2ZW50LnR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhY2sgPSB0aGlzLmxpc3RlbmVyc1tldmVudC50eXBlXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdGFjay5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgc3RhY2tbaV0uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRXZlbnRUYXJnZXQ7XG59KCk7XG5cbnZhciBldmVudHMgPSBuZXcgRXZlbnRUYXJnZXQoKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9mYWxzZUNvbG9yTWFwcGluZy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vZmFsc2VDb2xvck1hcHBpbmcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBjb252ZXJ0SW1hZ2VUb0ZhbHNlQ29sb3JJbWFnZSwgY29udmVydFRvRmFsc2VDb2xvckltYWdlLCByZXN0b3JlSW1hZ2UgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY29udmVydEltYWdlVG9GYWxzZUNvbG9ySW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjb252ZXJ0SW1hZ2VUb0ZhbHNlQ29sb3JJbWFnZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY29udmVydFRvRmFsc2VDb2xvckltYWdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udmVydFRvRmFsc2VDb2xvckltYWdlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZXN0b3JlSW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiByZXN0b3JlSW1hZ2U7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3BpeGVsRGF0YVRvRmFsc2VDb2xvckRhdGFfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGl4ZWxEYXRhVG9GYWxzZUNvbG9yRGF0YS5qcyAqLyBcIi4vcGl4ZWxEYXRhVG9GYWxzZUNvbG9yRGF0YS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29sb3JzX2NvbG9ybWFwX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbG9ycy9jb2xvcm1hcC5qcyAqLyBcIi4vY29sb3JzL2NvbG9ybWFwLmpzXCIpO1xuXG5cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIG1pbmltdW0gYW5kIG1heGltdW0gcGl4ZWwgdmFsdWVzIGZyb20gYW4gQXJyYXkgb2YgcGl4ZWwgZGF0YVxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBpeGVsRGF0YSBUaGUgaW5wdXQgcGl4ZWwgZGF0YSBhcnJheVxuICpcbiAqIEByZXR1cm5zIHt7bWluUGl4ZWxWYWx1ZTogTnVtYmVyLCBtYXhQaXhlbFZhbHVlOiBOdW1iZXJ9fSBUaGUgbWluaW11bSBhbmQgbWF4aW11bSBwaXhlbCB2YWx1ZXMgaW4gdGhlIGlucHV0IEFycmF5XG4gKi9cblxuZnVuY3Rpb24gZ2V0UGl4ZWxWYWx1ZXMocGl4ZWxEYXRhKSB7XG4gIHZhciBtaW5QaXhlbFZhbHVlID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgdmFyIG1heFBpeGVsVmFsdWUgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICB2YXIgbGVuID0gcGl4ZWxEYXRhLmxlbmd0aDtcbiAgdmFyIHBpeGVsO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBwaXhlbCA9IHBpeGVsRGF0YVtpXTtcbiAgICBtaW5QaXhlbFZhbHVlID0gbWluUGl4ZWxWYWx1ZSA8IHBpeGVsID8gbWluUGl4ZWxWYWx1ZSA6IHBpeGVsO1xuICAgIG1heFBpeGVsVmFsdWUgPSBtYXhQaXhlbFZhbHVlID4gcGl4ZWwgPyBtYXhQaXhlbFZhbHVlIDogcGl4ZWw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1pblBpeGVsVmFsdWU6IG1pblBpeGVsVmFsdWUsXG4gICAgbWF4UGl4ZWxWYWx1ZTogbWF4UGl4ZWxWYWx1ZVxuICB9O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBhbGxvdyBhbiBpbWFnZSBvYmplY3QgdG8gYmUgcmVzZXQgdG8gaXRzIG9yaWdpbmFsIGZvcm1cbiAqIGFmdGVyIGEgZmFsc2UgY29sb3IgbWFwcGluZyB0cmFuc2Zvcm1hdGlvblxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IEEgZnVuY3Rpb24gZm9yIHJlc2V0dGluZyBhbiBJbWFnZSBPYmplY3QgdG8gaXRzIG9yaWdpbmFsIGZvcm1cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFJlc3RvcmVJbWFnZU1ldGhvZChpbWFnZSkge1xuICBpZiAoaW1hZ2UucmVzdG9yZSkge1xuICAgIHJldHVybiBpbWFnZS5yZXN0b3JlO1xuICB9XG5cbiAgdmFyIGNvbG9yID0gaW1hZ2UuY29sb3I7XG4gIHZhciByZ2JhID0gaW1hZ2UucmdiYTtcbiAgdmFyIGNhY2hlZEx1dCA9IGltYWdlLmNhY2hlZEx1dDtcbiAgdmFyIHNsb3BlID0gaW1hZ2Uuc2xvcGU7XG4gIHZhciB3aW5kb3dXaWR0aCA9IGltYWdlLndpbmRvd1dpZHRoO1xuICB2YXIgd2luZG93Q2VudGVyID0gaW1hZ2Uud2luZG93Q2VudGVyO1xuICB2YXIgbWluUGl4ZWxWYWx1ZSA9IGltYWdlLm1pblBpeGVsVmFsdWU7XG4gIHZhciBtYXhQaXhlbFZhbHVlID0gaW1hZ2UubWF4UGl4ZWxWYWx1ZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpbWFnZS5jb2xvciA9IGNvbG9yO1xuICAgIGltYWdlLnJnYmEgPSByZ2JhO1xuICAgIGltYWdlLmNhY2hlZEx1dCA9IGNhY2hlZEx1dDtcbiAgICBpbWFnZS5zbG9wZSA9IHNsb3BlO1xuICAgIGltYWdlLndpbmRvd1dpZHRoID0gd2luZG93V2lkdGg7XG4gICAgaW1hZ2Uud2luZG93Q2VudGVyID0gd2luZG93Q2VudGVyO1xuICAgIGltYWdlLm1pblBpeGVsVmFsdWUgPSBtaW5QaXhlbFZhbHVlO1xuICAgIGltYWdlLm1heFBpeGVsVmFsdWUgPSBtYXhQaXhlbFZhbHVlO1xuXG4gICAgaWYgKGltYWdlLm9yaWdQaXhlbERhdGEpIHtcbiAgICAgIHZhciBwaXhlbERhdGEgPSBpbWFnZS5vcmlnUGl4ZWxEYXRhO1xuXG4gICAgICBpbWFnZS5nZXRQaXhlbERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwaXhlbERhdGE7XG4gICAgICB9O1xuICAgIH0gLy8gUmVtb3ZlIHNvbWUgYXR0cmlidXRlcyBhZGRlZCBieSBmYWxzZSBjb2xvciBtYXBwaW5nXG5cblxuICAgIGltYWdlLm9yaWdQaXhlbERhdGEgPSB1bmRlZmluZWQ7XG4gICAgaW1hZ2UuY29sb3JtYXBJZCA9IHVuZGVmaW5lZDtcbiAgICBpbWFnZS5mYWxzZUNvbG9yID0gdW5kZWZpbmVkO1xuICB9O1xufSAvL1xuLy8gVGhlbiB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBpdCB3aWxsIGJlIGNvbnZlcnRlZCBpbnRvIGEgY29sb3JtYXAgb2JqZWN0IGlmIGl0J3MgYXMgc3RyaW5nLlxuXG4vKipcbiAqIFVzZXIgY2FuIHBhc3MgYSBjb2xvcm1hcCBvciBpdHMgaWQgYXMgc3RyaW5nIHRvIHNvbWUgb2YgdGhlc2UgcHVibGljIGZ1bmN0aW9ucy5cbiAqIFRoZW4gd2UgbmVlZCB0byBtYWtlIHN1cmUgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgaW50byBhIGNvbG9ybWFwIG9iamVjdCBpZiBpdCdzIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7Kn0gY29sb3JtYXAgQSBjb2xvcm1hcCBJRCBvciBPYmplY3RcbiAqIEByZXR1cm4geyp9IFRoZSBjb2xvcm1hcFxuICovXG5cblxuZnVuY3Rpb24gZW5zdXJlc0NvbG9ybWFwKGNvbG9ybWFwKSB7XG4gIGlmIChjb2xvcm1hcCAmJiB0eXBlb2YgY29sb3JtYXAgPT09ICdzdHJpbmcnKSB7XG4gICAgY29sb3JtYXAgPSBPYmplY3QoX2NvbG9yc19jb2xvcm1hcF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZ2V0Q29sb3JtYXBcIl0pKGNvbG9ybWFwKTtcbiAgfVxuXG4gIHJldHVybiBjb2xvcm1hcDtcbn1cbi8qKlxuICogUmVzdG9yZXMgYSBmYWxzZSBjb2xvciBpbWFnZSB0byBpdHMgb3JpZ2luYWwgdmVyc2lvblxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgaW1hZ2Ugb2JqZWN0IGhhZCBhIHZhbGlkIHJlc3RvcmUgZnVuY3Rpb24sIHdoaWNoIHdhcyBydW4uIE90aGVyd2lzZSwgZmFsc2UuXG4gKi9cblxuXG5mdW5jdGlvbiByZXN0b3JlSW1hZ2UoaW1hZ2UpIHtcbiAgaWYgKGltYWdlLnJlc3RvcmUgJiYgdHlwZW9mIGltYWdlLnJlc3RvcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpbWFnZS5yZXN0b3JlKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENvbnZlcnQgYW4gaW1hZ2UgdG8gYSBmYWxzZSBjb2xvciBpbWFnZVxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGNvbG9ybWFwIC0gaXQgY2FuIGJlIGEgY29sb3JtYXAgb2JqZWN0IG9yIGEgY29sb3JtYXAgaWQgKHN0cmluZylcbiAqXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBXaGV0aGVyIG9yIG5vdCB0aGUgaW1hZ2UgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgZmFsc2UgY29sb3IgaW1hZ2VcbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbnZlcnRJbWFnZVRvRmFsc2VDb2xvckltYWdlKGltYWdlLCBjb2xvcm1hcCkge1xuICBpZiAoaW1hZ2UuY29sb3IgJiYgIWltYWdlLmZhbHNlQ29sb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbG9yIHRyYW5zZm9ybXMgYXJlIG5vdCBpbXBsZW1lbnRlZCB5ZXQnKTtcbiAgfSAvLyBVc2VyIGNhbiBwYXNzIGEgY29sb3JtYXAgaWQgb3IgYSBjb2xvcm1hcCBvYmplY3RcblxuXG4gIGNvbG9ybWFwID0gZW5zdXJlc0NvbG9ybWFwKGNvbG9ybWFwKTtcbiAgdmFyIGNvbG9ybWFwSWQgPSBjb2xvcm1hcC5nZXRJZCgpOyAvLyBEb2Vzbid0IGRvIGFueXRoaW5nIGlmIGNvbG9ybWFwSWQgaGFzbid0IGNoYW5nZWRcblxuICBpZiAoaW1hZ2UuY29sb3JtYXBJZCA9PT0gY29sb3JtYXBJZCkge1xuICAgIC8vIEl0IGhhcyBhbHJlYWR5IGJlaW5nIGNvbnZlcnRlZCBpbnRvIGEgZmFsc2UgY29sb3IgaW1hZ2VcbiAgICAvLyBVc2luZyB0aGUgY29sb3JtYXBJZCBwYXNzZWQgYXMgcGFyYW1ldGVyXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIFJlc3RvcmUgdGhlIGltYWdlIGF0dHJpYnV0ZXMgdXBkYXRlZCB3aGVuIGNvbnZlcnRpbmcgdG8gYSBmYWxzZSBjb2xvciBpbWFnZVxuXG5cbiAgcmVzdG9yZUltYWdlKGltYWdlKTsgLy8gQ29udmVydCB0aGUgaW1hZ2UgdG8gYSBmYWxzZSBjb2xvciBpbWFnZVxuXG4gIGlmIChjb2xvcm1hcElkKSB7XG4gICAgdmFyIG1pblBpeGVsVmFsdWUgPSBpbWFnZS5taW5QaXhlbFZhbHVlIHx8IDA7XG4gICAgdmFyIG1heFBpeGVsVmFsdWUgPSBpbWFnZS5tYXhQaXhlbFZhbHVlIHx8IDI1NTtcbiAgICBpbWFnZS5yZXN0b3JlID0gZ2V0UmVzdG9yZUltYWdlTWV0aG9kKGltYWdlKTtcbiAgICB2YXIgbG9va3VwVGFibGUgPSBjb2xvcm1hcC5jcmVhdGVMb29rdXBUYWJsZSgpO1xuICAgIGxvb2t1cFRhYmxlLnNldFRhYmxlUmFuZ2UobWluUGl4ZWxWYWx1ZSwgbWF4UGl4ZWxWYWx1ZSk7IC8vIFVwZGF0ZSB0aGUgcGl4ZWwgZGF0YSBhbmQgcmVuZGVyIHRoZSBuZXcgaW1hZ2VcblxuICAgIE9iamVjdChfcGl4ZWxEYXRhVG9GYWxzZUNvbG9yRGF0YV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoaW1hZ2UsIGxvb2t1cFRhYmxlKTsgLy8gVXBkYXRlIG1pbiBhbmQgbWF4IHBpeGVsIHZhbHVlc1xuXG4gICAgdmFyIHBpeGVsVmFsdWVzID0gZ2V0UGl4ZWxWYWx1ZXMoaW1hZ2UuZ2V0UGl4ZWxEYXRhKCkpO1xuICAgIGltYWdlLm1pblBpeGVsVmFsdWUgPSBwaXhlbFZhbHVlcy5taW5QaXhlbFZhbHVlO1xuICAgIGltYWdlLm1heFBpeGVsVmFsdWUgPSBwaXhlbFZhbHVlcy5tYXhQaXhlbFZhbHVlO1xuICAgIGltYWdlLndpbmRvd1dpZHRoID0gMjU1O1xuICAgIGltYWdlLndpbmRvd0NlbnRlciA9IDEyODsgLy8gQ2FjaGUgdGhlIGxhc3QgY29sb3JtYXBJZCB1c2VkIGZvciBwZXJmb3JtYW5jZVxuICAgIC8vIFRoZW4gaXQgZG9lc24ndCBuZWVkIHRvIGJlIHJlLXJlbmRlcmVkIG9uIG5leHRcbiAgICAvLyBUaW1lIGlmIHRoZSB1c2VyIGhhc24ndCB1cGRhdGVkIGl0XG5cbiAgICBpbWFnZS5jb2xvcm1hcElkID0gY29sb3JtYXBJZDtcbiAgfSAvLyBSZXR1cm4gYHRydWVgIHRvIHRlbGwgdGhlIGNhbGxlciB0aGF0IHRoZSBpbWFnZSBoYXMgZ290IHVwZGF0ZWRcblxuXG4gIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBDb252ZXJ0IHRoZSBpbWFnZSBvZiBhIGVsZW1lbnQgdG8gYSBmYWxzZSBjb2xvciBpbWFnZVxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIENvcm5lcnN0b25lIGVsZW1lbnRcbiAqIEBwYXJhbSB7Kn0gY29sb3JtYXAgLSBpdCBjYW4gYmUgYSBjb2xvcm1hcCBvYmplY3Qgb3IgYSBjb2xvcm1hcCBpZCAoc3RyaW5nKVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cblxuZnVuY3Rpb24gY29udmVydFRvRmFsc2VDb2xvckltYWdlKGVsZW1lbnQsIGNvbG9ybWFwKSB7XG4gIHZhciBlbmFibGVkRWxlbWVudCA9IE9iamVjdChfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXSkoZWxlbWVudCk7XG4gIHJldHVybiBjb252ZXJ0SW1hZ2VUb0ZhbHNlQ29sb3JJbWFnZShlbmFibGVkRWxlbWVudC5pbWFnZSwgY29sb3JtYXApO1xufVxuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9maXRUb1dpbmRvdy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vZml0VG9XaW5kb3cuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3VwZGF0ZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3VwZGF0ZUltYWdlLmpzICovIFwiLi91cGRhdGVJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfZ2V0SW1hZ2VGaXRTY2FsZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9nZXRJbWFnZUZpdFNjYWxlLmpzICovIFwiLi9pbnRlcm5hbC9nZXRJbWFnZUZpdFNjYWxlLmpzXCIpO1xuXG5cblxuLyoqXG4gKiBBZGp1c3RzIGFuIGltYWdlJ3Mgc2NhbGUgYW5kIHRyYW5zbGF0aW9uIHNvIHRoZSBpbWFnZSBpcyBjZW50ZXJlZCBhbmQgYWxsIHBpeGVsc1xuICogaW4gdGhlIGltYWdlIGFyZSB2aWV3YWJsZS5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBlbGVtZW50IHRvIHVwZGF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZWxlbWVudCkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICB2YXIgaW1hZ2UgPSBlbmFibGVkRWxlbWVudC5pbWFnZTsgLy8gVGhlIG5ldyBzY2FsZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgc2NhbGUgdmFsdWVzXG5cbiAgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuc2NhbGUgPSBPYmplY3QoX2ludGVybmFsX2dldEltYWdlRml0U2NhbGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LmNhbnZhcywgaW1hZ2UsIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnJvdGF0aW9uKS5zY2FsZUZhY3RvcjtcbiAgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQudHJhbnNsYXRpb24ueCA9IDA7XG4gIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnRyYW5zbGF0aW9uLnkgPSAwO1xuICBPYmplY3QoX3VwZGF0ZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShlbGVtZW50KTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2dlbmVyYXRlVVVJRC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2dlbmVyYXRlVVVJRC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyoqXG4qIEdlbmVyYXRlcyBhIFVVSUQgZm9yIHRoZSBlbmFibGVkRWxlbWVudC5cbipcbiogQHJldHVybiB7U3RyaW5nfSB0aGUgVVVJRC5cbiovXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uICgpIHtcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg4MDk0NzIvOTIwODMyMCBQdWJsaWMgRG9tYWluL01JVFxuXG4gIC8qIGVzbGludCBuby1iaXR3aXNlOiBbXCJlcnJvclwiLCB7IFwiYWxsb3dcIjogW1wiJlwiLFwifFwiXSB9XSAqL1xuICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gIGlmICh0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICBkICs9IHBlcmZvcm1hbmNlLm5vdygpOyAvLyBVc2UgaGlnaC1wcmVjaXNpb24gdGltZXIgaWYgYXZhaWxhYmxlXG4gIH1cblxuICByZXR1cm4gJ3gueC54LngueC54Lnh4eHgueHh4LngueC54eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICB2YXIgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcbiAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpO1xuICAgIHJldHVybiAoYyA9PT0gJ3gnID8gciA6IHIgJiAweDMgfCAweDgpLnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9nZXREZWZhdWx0Vmlld3BvcnRGb3JJbWFnZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vZ2V0RGVmYXVsdFZpZXdwb3J0Rm9ySW1hZ2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2dldERlZmF1bHRWaWV3cG9ydF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9nZXREZWZhdWx0Vmlld3BvcnQuanMgKi8gXCIuL2ludGVybmFsL2dldERlZmF1bHRWaWV3cG9ydC5qc1wiKTtcblxuXG4vKipcbiAqIFJldHVybnMgYSBkZWZhdWx0IHZpZXdwb3J0IGZvciBkaXNwbGF5IHRoZSBzcGVjaWZpZWQgaW1hZ2Ugb24gdGhlIHNwZWNpZmllZFxuICogZW5hYmxlZCBlbGVtZW50LiAgVGhlIGRlZmF1bHQgdmlld3BvcnQgaXMgZml0IHRvIHdpbmRvd1xuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIERPTSBlbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBBIENvcm5lcnN0b25lIEltYWdlIE9iamVjdFxuICpcbiAqIEByZXR1cm5zIHtWaWV3cG9ydH0gVGhlIGRlZmF1bHQgdmlld3BvcnQgZm9yIHRoZSBpbWFnZVxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVsZW1lbnQsIGltYWdlKSB7XG4gIHZhciBlbmFibGVkRWxlbWVudCA9IE9iamVjdChfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXSkoZWxlbWVudCk7XG4gIHJldHVybiBPYmplY3QoX2ludGVybmFsX2dldERlZmF1bHRWaWV3cG9ydF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQuY2FudmFzLCBpbWFnZSk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9nZXRJbWFnZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vZ2V0SW1hZ2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBpbWFnZSBmb3IgYW4gZWxlbWVudCBvciB1bmRlZmluZWQgaWYgbm8gaW1hZ2UgaGFzXG4gKiBiZWVuIGRpc3BsYXllZCB5ZXRcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBET00gZWxlbWVudCBlbmFibGVkIGZvciBDb3JuZXJzdG9uZVxuICogQHJldHVybnMge0ltYWdlfSBUaGUgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0IGRpc3BsYXllZCBpbiB0aGlzIGVsZW1lbnRcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHZhciBlbmFibGVkRWxlbWVudCA9IE9iamVjdChfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXSkoZWxlbWVudCk7XG4gIHJldHVybiBlbmFibGVkRWxlbWVudC5pbWFnZTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2dldFBpeGVscy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2dldFBpeGVscy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dldFN0b3JlZFBpeGVsc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9nZXRTdG9yZWRQaXhlbHMuanMgKi8gXCIuL2dldFN0b3JlZFBpeGVscy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfZ2V0TW9kYWxpdHlMVVRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ2V0TW9kYWxpdHlMVVQuanMgKi8gXCIuL2ludGVybmFsL2dldE1vZGFsaXR5TFVULmpzXCIpO1xuXG5cblxuLyoqXG4gKiBSZXRyaWV2ZXMgYW4gYXJyYXkgb2YgcGl4ZWxzIGZyb20gYSByZWN0YW5ndWxhciByZWdpb24gd2l0aCBtb2RhbGl0eSBMVVQgdHJhbnNmb3JtYXRpb24gYXBwbGllZFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIERPTSBlbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIHNhbXBsaW5nIHJlY3RhbmdsZSBpbiBpbWFnZSBjb29yZGluYXRlc1xuICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBzYW1wbGluZyByZWN0YW5nbGUgaW4gaW1hZ2UgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIG9mIHRoZSBzYW1wbGluZyByZWN0YW5nbGUgaW4gaW1hZ2UgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgb2YgdGhlIHNhbXBsaW5nIHJlY3RhbmdsZSBpbiBpbWFnZSBjb29yZGluYXRlc1xuICogQHJldHVybnMge0FycmF5fSBUaGUgbW9kYWxpdHkgcGl4ZWwgdmFsdWUgb2YgdGhlIHBpeGVscyBpbiB0aGUgc2FtcGxpbmcgcmVjdGFuZ2xlXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZWxlbWVudCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICB2YXIgc3RvcmVkUGl4ZWxzID0gT2JqZWN0KF9nZXRTdG9yZWRQaXhlbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGVsZW1lbnQsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICB2YXIgZWUgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICB2YXIgbWx1dGZuID0gT2JqZWN0KF9pbnRlcm5hbF9nZXRNb2RhbGl0eUxVVF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoZWUuaW1hZ2Uuc2xvcGUsIGVlLmltYWdlLmludGVyY2VwdCwgZWUudmlld3BvcnQubW9kYWxpdHlMVVQpO1xuICByZXR1cm4gc3RvcmVkUGl4ZWxzLm1hcChtbHV0Zm4pO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vZ2V0U3RvcmVkUGl4ZWxzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vZ2V0U3RvcmVkUGl4ZWxzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9lbmFibGVkRWxlbWVudHMuanMgKi8gXCIuL2VuYWJsZWRFbGVtZW50cy5qc1wiKTtcblxuLyoqXG4gKiBSZXRyaWV2ZXMgYW4gYXJyYXkgb2Ygc3RvcmVkIHBpeGVsIHZhbHVlcyBmcm9tIGEgcmVjdGFuZ3VsYXIgcmVnaW9uIG9mIGFuIGltYWdlXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgRE9NIGVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgc2FtcGxpbmcgcmVjdGFuZ2xlIGluIGltYWdlIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBjb29yZGluYXRlIG9mIHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIHNhbXBsaW5nIHJlY3RhbmdsZSBpbiBpbWFnZSBjb29yZGluYXRlc1xuICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgb2YgdGhlIHNhbXBsaW5nIHJlY3RhbmdsZSBpbiBpbWFnZSBjb29yZGluYXRlc1xuICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSBvZiB0aGUgc2FtcGxpbmcgcmVjdGFuZ2xlIGluIGltYWdlIGNvb3JkaW5hdGVzXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBzdG9yZWQgcGl4ZWwgdmFsdWUgb2YgdGhlIHBpeGVscyBpbiB0aGUgc2FtcGxpbmcgcmVjdGFuZ2xlXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZWxlbWVudCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICBpZiAoZWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnZXRTdG9yZWRQaXhlbHM6IHBhcmFtZXRlciBlbGVtZW50IG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgeCA9IE1hdGgucm91bmQoeCk7XG4gIHkgPSBNYXRoLnJvdW5kKHkpO1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICB2YXIgc3RvcmVkUGl4ZWxzID0gW107XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBwaXhlbERhdGEgPSBlbmFibGVkRWxlbWVudC5pbWFnZS5nZXRQaXhlbERhdGEoKTtcblxuICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBoZWlnaHQ7IHJvdysrKSB7XG4gICAgZm9yICh2YXIgY29sdW1uID0gMDsgY29sdW1uIDwgd2lkdGg7IGNvbHVtbisrKSB7XG4gICAgICB2YXIgc3BJbmRleCA9IChyb3cgKyB5KSAqIGVuYWJsZWRFbGVtZW50LmltYWdlLmNvbHVtbnMgKyAoY29sdW1uICsgeCk7XG4gICAgICBzdG9yZWRQaXhlbHNbaW5kZXgrK10gPSBwaXhlbERhdGFbc3BJbmRleF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0b3JlZFBpeGVscztcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2dldFZpZXdwb3J0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9nZXRWaWV3cG9ydC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9lbmFibGVkRWxlbWVudHMuanMgKi8gXCIuL2VuYWJsZWRFbGVtZW50cy5qc1wiKTtcblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHZpZXdwb3J0IGZvciB0aGUgc3BlY2lmaWVkIGVuYWJsZWQgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIERPTSBlbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXG4gKiBAcmV0dXJucyB7Vmlld3BvcnR8dW5kZWZpbmVkfSBUaGUgQ29ybmVyc3RvbmUgVmlld3BvcnQgc2V0dGluZ3MgZm9yIHRoaXMgZWxlbWVudCwgaWYgdGhleSBleGlzdC4gT3RoZXJ3aXNlLCB1bmRlZmluZWRcbiAqIEBtZW1iZXJvZiBWaWV3cG9ydFNldHRpbmdzXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZWxlbWVudCkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICB2YXIgdmlld3BvcnQgPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydDtcblxuICBpZiAodmlld3BvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfSAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSB2aWV3cG9ydFxuXG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHZpZXdwb3J0KTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ltYWdlQ2FjaGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW1hZ2VDYWNoZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogY2FjaGVkSW1hZ2VzLCBzZXRNYXhpbXVtU2l6ZUJ5dGVzLCBwdXRJbWFnZUxvYWRPYmplY3QsIGdldEltYWdlTG9hZE9iamVjdCwgcmVtb3ZlSW1hZ2VMb2FkT2JqZWN0LCBnZXRDYWNoZUluZm8sIHB1cmdlQ2FjaGUsIGNoYW5nZUltYWdlSWRDYWNoZVNpemUsIGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY2FjaGVkSW1hZ2VzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FjaGVkSW1hZ2VzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzZXRNYXhpbXVtU2l6ZUJ5dGVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2V0TWF4aW11bVNpemVCeXRlczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicHV0SW1hZ2VMb2FkT2JqZWN0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcHV0SW1hZ2VMb2FkT2JqZWN0OyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRJbWFnZUxvYWRPYmplY3RcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRJbWFnZUxvYWRPYmplY3Q7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbW92ZUltYWdlTG9hZE9iamVjdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlbW92ZUltYWdlTG9hZE9iamVjdDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0Q2FjaGVJbmZvXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0Q2FjaGVJbmZvOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJwdXJnZUNhY2hlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcHVyZ2VDYWNoZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY2hhbmdlSW1hZ2VJZENhY2hlU2l6ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGNoYW5nZUltYWdlSWRDYWNoZVNpemU7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzLmpzICovIFwiLi9ldmVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90cmlnZ2VyRXZlbnQuanMgKi8gXCIuL3RyaWdnZXJFdmVudC5qc1wiKTtcblxuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGRlYWxzIHdpdGggY2FjaGluZyBpbWFnZXNcbiAqIEBtb2R1bGUgSW1hZ2VDYWNoZVxuICovXG5cbnZhciBtYXhpbXVtU2l6ZUluQnl0ZXMgPSAxMDI0ICogMTAyNCAqIDEwMjQ7IC8vIDEgR0JcblxudmFyIGNhY2hlU2l6ZUluQnl0ZXMgPSAwOyAvLyBEaWN0aW9uYXJ5IG9mIGltYWdlSWQgdG8gY2FjaGVkSW1hZ2Ugb2JqZWN0c1xuXG52YXIgaW1hZ2VDYWNoZURpY3QgPSB7fTsgLy8gQXJyYXkgb2YgY2FjaGVkSW1hZ2Ugb2JqZWN0c1xuXG52YXIgY2FjaGVkSW1hZ2VzID0gW107XG4vKiogU2V0cyB0aGUgbWF4aW11bSBzaXplIG9mIGNhY2hlIGFuZCBwdXJnZXMgY2FjaGUgY29udGVudHMgaWYgbmVjZXNzYXJ5LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1CeXRlcyBUaGUgbWF4aW11biBzaXplIHRoYXQgdGhlIGNhY2hlIHNob3VsZCBvY2N1cHkuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiBzZXRNYXhpbXVtU2l6ZUJ5dGVzKG51bUJ5dGVzKSB7XG4gIGlmIChudW1CeXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRNYXhpbXVtU2l6ZUJ5dGVzOiBwYXJhbWV0ZXIgbnVtQnl0ZXMgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyk7XG4gIH1cblxuICBpZiAobnVtQnl0ZXMudG9GaXhlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRNYXhpbXVtU2l6ZUJ5dGVzOiBwYXJhbWV0ZXIgbnVtQnl0ZXMgbXVzdCBiZSBhIG51bWJlcicpO1xuICB9XG5cbiAgbWF4aW11bVNpemVJbkJ5dGVzID0gbnVtQnl0ZXM7XG4gIE9iamVjdChfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJldmVudHNcIl0sIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0uSU1BR0VfQ0FDSEVfTUFYSU1VTV9TSVpFX0NIQU5HRUQpO1xuICBwdXJnZUNhY2hlSWZOZWNlc3NhcnkoKTtcbn1cbi8qKlxuICogUHVyZ2VzIHRoZSBjYWNoZSBpZiBzaXplIGV4Y2VlZHMgbWF4aW11bVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gcHVyZ2VDYWNoZUlmTmVjZXNzYXJ5KCkge1xuICAvLyBJZiBtYXggY2FjaGUgc2l6ZSBoYXMgbm90IGJlZW4gZXhjZWVkZWQsIGRvIG5vdGhpbmdcbiAgaWYgKGNhY2hlU2l6ZUluQnl0ZXMgPD0gbWF4aW11bVNpemVJbkJ5dGVzKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIENhY2hlIHNpemUgaGFzIGJlZW4gZXhjZWVkZWQsIGNyZWF0ZSBsaXN0IG9mIGltYWdlcyBzb3J0ZWQgYnkgdGltZVN0YW1wXG4gIC8vIFNvIHdlIGNhbiBwdXJnZSB0aGUgbGVhc3QgcmVjZW50bHkgdXNlZCBpbWFnZVxuXG5cbiAgZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gICAgaWYgKGEudGltZVN0YW1wID4gYi50aW1lU3RhbXApIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBpZiAoYS50aW1lU3RhbXAgPCBiLnRpbWVTdGFtcCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBjYWNoZWRJbWFnZXMuc29ydChjb21wYXJlKTsgLy8gUmVtb3ZlIGltYWdlcyBhcyBuZWNlc3NhcnkpXG5cbiAgd2hpbGUgKGNhY2hlU2l6ZUluQnl0ZXMgPiBtYXhpbXVtU2l6ZUluQnl0ZXMpIHtcbiAgICB2YXIgbGFzdENhY2hlZEltYWdlID0gY2FjaGVkSW1hZ2VzW2NhY2hlZEltYWdlcy5sZW5ndGggLSAxXTtcbiAgICB2YXIgaW1hZ2VJZCA9IGxhc3RDYWNoZWRJbWFnZS5pbWFnZUlkO1xuICAgIHJlbW92ZUltYWdlTG9hZE9iamVjdChpbWFnZUlkKTtcbiAgICBPYmplY3QoX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZXZlbnRzXCJdLCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLklNQUdFX0NBQ0hFX1BST01JU0VfUkVNT1ZFRCwge1xuICAgICAgaW1hZ2VJZDogaW1hZ2VJZFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGNhY2hlSW5mbyA9IGdldENhY2hlSW5mbygpO1xuICBPYmplY3QoX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZXZlbnRzXCJdLCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLklNQUdFX0NBQ0hFX0ZVTEwsIGNhY2hlSW5mbyk7XG59XG4vKipcbiAqIFB1dHMgYSBuZXcgaW1hZ2UgbG9hZGVyIGludG8gdGhlIGNhY2hlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGltYWdlSWQgSW1hZ2VJZCBvZiB0aGUgaW1hZ2UgbG9hZGVyXG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VMb2FkT2JqZWN0IFRoZSBvYmplY3QgdGhhdCBpcyBsb2FkaW5nIG9yIGxvYWRlZCB0aGUgaW1hZ2VcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cblxuZnVuY3Rpb24gcHV0SW1hZ2VMb2FkT2JqZWN0KGltYWdlSWQsIGltYWdlTG9hZE9iamVjdCkge1xuICBpZiAoaW1hZ2VJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwdXRJbWFnZUxvYWRPYmplY3Q6IGltYWdlSWQgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyk7XG4gIH1cblxuICBpZiAoaW1hZ2VMb2FkT2JqZWN0LnByb21pc2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHV0SW1hZ2VMb2FkT2JqZWN0OiBpbWFnZUxvYWRPYmplY3QucHJvbWlzZSBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGlmIChpbWFnZUNhY2hlRGljdC5oYXNPd25Qcm9wZXJ0eShpbWFnZUlkKSA9PT0gdHJ1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHV0SW1hZ2VMb2FkT2JqZWN0OiBpbWFnZUlkIGFscmVhZHkgaW4gY2FjaGUnKTtcbiAgfVxuXG4gIGlmIChpbWFnZUxvYWRPYmplY3QuY2FuY2VsRm4gJiYgdHlwZW9mIGltYWdlTG9hZE9iamVjdC5jYW5jZWxGbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcigncHV0SW1hZ2VMb2FkT2JqZWN0OiBpbWFnZUxvYWRPYmplY3QuY2FuY2VsRm4gbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgY2FjaGVkSW1hZ2UgPSB7XG4gICAgbG9hZGVkOiBmYWxzZSxcbiAgICBpbWFnZUlkOiBpbWFnZUlkLFxuICAgIHNoYXJlZENhY2hlS2V5OiB1bmRlZmluZWQsXG4gICAgLy8gVGhlIHNoYXJlZENhY2hlS2V5IGZvciB0aGlzIGltYWdlSWQuICB1bmRlZmluZWQgYnkgZGVmYXVsdFxuICAgIGltYWdlTG9hZE9iamVjdDogaW1hZ2VMb2FkT2JqZWN0LFxuICAgIHRpbWVTdGFtcDogRGF0ZS5ub3coKSxcbiAgICBzaXplSW5CeXRlczogMFxuICB9O1xuICBpbWFnZUNhY2hlRGljdFtpbWFnZUlkXSA9IGNhY2hlZEltYWdlO1xuICBjYWNoZWRJbWFnZXMucHVzaChjYWNoZWRJbWFnZSk7XG4gIGltYWdlTG9hZE9iamVjdC5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgaWYgKGNhY2hlZEltYWdlcy5pbmRleE9mKGNhY2hlZEltYWdlKSA9PT0gLTEpIHtcbiAgICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgYmVlbiBwdXJnZWQgYmVmb3JlIGJlaW5nIGxvYWRlZCwgd2Ugc3RvcCBoZXJlLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhY2hlZEltYWdlLmxvYWRlZCA9IHRydWU7XG4gICAgY2FjaGVkSW1hZ2UuaW1hZ2UgPSBpbWFnZTtcblxuICAgIGlmIChpbWFnZS5zaXplSW5CeXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3B1dEltYWdlTG9hZE9iamVjdDogaW1hZ2Uuc2l6ZUluQnl0ZXMgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGltYWdlLnNpemVJbkJ5dGVzLnRvRml4ZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwdXRJbWFnZUxvYWRPYmplY3Q6IGltYWdlLnNpemVJbkJ5dGVzIGlzIG5vdCBhIG51bWJlcicpO1xuICAgIH1cblxuICAgIGNhY2hlZEltYWdlLnNpemVJbkJ5dGVzID0gaW1hZ2Uuc2l6ZUluQnl0ZXM7XG4gICAgY2FjaGVTaXplSW5CeXRlcyArPSBjYWNoZWRJbWFnZS5zaXplSW5CeXRlcztcbiAgICB2YXIgZXZlbnREZXRhaWxzID0ge1xuICAgICAgYWN0aW9uOiAnYWRkSW1hZ2UnLFxuICAgICAgaW1hZ2U6IGNhY2hlZEltYWdlXG4gICAgfTtcbiAgICBPYmplY3QoX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZXZlbnRzXCJdLCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLklNQUdFX0NBQ0hFX0NIQU5HRUQsIGV2ZW50RGV0YWlscyk7XG4gICAgY2FjaGVkSW1hZ2Uuc2hhcmVkQ2FjaGVLZXkgPSBpbWFnZS5zaGFyZWRDYWNoZUtleTtcbiAgICBwdXJnZUNhY2hlSWZOZWNlc3NhcnkoKTtcbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYWNoZWRJbWFnZSA9IGltYWdlQ2FjaGVEaWN0W2ltYWdlSWRdO1xuICAgIGNhY2hlZEltYWdlcy5zcGxpY2UoY2FjaGVkSW1hZ2VzLmluZGV4T2YoY2FjaGVkSW1hZ2UpLCAxKTtcbiAgICBkZWxldGUgaW1hZ2VDYWNoZURpY3RbaW1hZ2VJZF07XG4gIH0pO1xufVxuLyoqXG4gKiBSZXR1bnMgdGhlIG9iamVjdCB0aGF0IGlzIGxvYWRpbmcgYSBnaXZlbiBpbWFnZUlkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGltYWdlSWQgSW1hZ2UgSURcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIGdldEltYWdlTG9hZE9iamVjdChpbWFnZUlkKSB7XG4gIGlmIChpbWFnZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEltYWdlTG9hZE9iamVjdDogaW1hZ2VJZCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciBjYWNoZWRJbWFnZSA9IGltYWdlQ2FjaGVEaWN0W2ltYWdlSWRdO1xuXG4gIGlmIChjYWNoZWRJbWFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIEJ1bXAgdGltZSBzdGFtcCBmb3IgY2FjaGVkIGltYWdlXG5cblxuICBjYWNoZWRJbWFnZS50aW1lU3RhbXAgPSBEYXRlLm5vdygpO1xuICByZXR1cm4gY2FjaGVkSW1hZ2UuaW1hZ2VMb2FkT2JqZWN0O1xufVxuLyoqXG4gKiBSZW1vdmVzIHRoZSBpbWFnZSBsb2FkZXIgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gSWQgZnJvbSB0aGUgY2FjaGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCBJbWFnZSBJRFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gcmVtb3ZlSW1hZ2VMb2FkT2JqZWN0KGltYWdlSWQpIHtcbiAgaWYgKGltYWdlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVtb3ZlSW1hZ2VMb2FkT2JqZWN0OiBpbWFnZUlkIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgdmFyIGNhY2hlZEltYWdlID0gaW1hZ2VDYWNoZURpY3RbaW1hZ2VJZF07XG5cbiAgaWYgKGNhY2hlZEltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZUltYWdlTG9hZE9iamVjdDogaW1hZ2VJZCB3YXMgbm90IHByZXNlbnQgaW4gaW1hZ2VDYWNoZScpO1xuICB9XG5cbiAgY2FjaGVkSW1hZ2VzLnNwbGljZShjYWNoZWRJbWFnZXMuaW5kZXhPZihjYWNoZWRJbWFnZSksIDEpO1xuICBjYWNoZVNpemVJbkJ5dGVzIC09IGNhY2hlZEltYWdlLnNpemVJbkJ5dGVzO1xuICB2YXIgZXZlbnREZXRhaWxzID0ge1xuICAgIGFjdGlvbjogJ2RlbGV0ZUltYWdlJyxcbiAgICBpbWFnZTogY2FjaGVkSW1hZ2VcbiAgfTtcbiAgT2JqZWN0KF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImV2ZW50c1wiXSwgX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXS5JTUFHRV9DQUNIRV9DSEFOR0VELCBldmVudERldGFpbHMpO1xuICBkZWNhY2hlKGNhY2hlZEltYWdlLmltYWdlTG9hZE9iamVjdCk7XG4gIGRlbGV0ZSBpbWFnZUNhY2hlRGljdFtpbWFnZUlkXTtcbn1cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ2FjaGVJbmZvcm1hdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heGltdW1TaXplSW5CeXRlcyAgVGhlIG1heGltdW0gc2l6ZSBvZiB0aGUgY2FjaGUgaW4gYnl0ZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjYWNoZVNpemVJbkJ5dGVzIEN1cnJlbnRseSBvY2N1cGllZCBzcGFjZSBpbiB0aGUgY2FjaGUgaW4gYnl0ZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBudW1iZXJPZkltYWdlc0NhY2hlZCBOdW1iZXIgb2YgSW1hZ2VMb2FkZXJzIGluIHRoZSBjYWNoZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjYWNoZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gZ2V0Q2FjaGVJbmZvKCkge1xuICByZXR1cm4ge1xuICAgIG1heGltdW1TaXplSW5CeXRlczogbWF4aW11bVNpemVJbkJ5dGVzLFxuICAgIGNhY2hlU2l6ZUluQnl0ZXM6IGNhY2hlU2l6ZUluQnl0ZXMsXG4gICAgbnVtYmVyT2ZJbWFnZXNDYWNoZWQ6IGNhY2hlZEltYWdlcy5sZW5ndGhcbiAgfTtcbn0gLy8gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGJ5IGByZW1vdmVJbWFnZUxvYWRPYmplY3RgIGJlY2F1c2UgaXQnc1xuLy8gVGhlIG9uZSB0aGF0IGtub3dzIGhvdyB0byBkZWFsIHdpdGggc2hhcmVkIGNhY2hlIGtleXMgYW5kIGNhY2hlIHNpemUuXG5cbi8qKlxuICogSU5URVJOQUw6IFJlbW92ZXMgYW5kIEltYWdlTG9hZGVyIGZyb20gdGhlIGNhY2hlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGltYWdlTG9hZE9iamVjdCBJbWFnZSBMb2FkZXIgT2JqZWN0IHRvIHJlbW92ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gZGVjYWNoZShpbWFnZUxvYWRPYmplY3QpIHtcbiAgaW1hZ2VMb2FkT2JqZWN0LnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGltYWdlTG9hZE9iamVjdC5kZWNhY2hlKSB7XG4gICAgICBpbWFnZUxvYWRPYmplY3QuZGVjYWNoZSgpO1xuICAgIH1cbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIGlmIChpbWFnZUxvYWRPYmplY3QuZGVjYWNoZSkge1xuICAgICAgaW1hZ2VMb2FkT2JqZWN0LmRlY2FjaGUoKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBSZW1vdmVzIGFsbCBpbWFnZXMgZnJvbSBjYWNoZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuXG5mdW5jdGlvbiBwdXJnZUNhY2hlKCkge1xuICB3aGlsZSAoY2FjaGVkSW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgcmVtb3ZlZENhY2hlZEltYWdlID0gY2FjaGVkSW1hZ2VzWzBdO1xuICAgIHJlbW92ZUltYWdlTG9hZE9iamVjdChyZW1vdmVkQ2FjaGVkSW1hZ2UuaW1hZ2VJZCk7XG4gIH1cbn1cbi8qKlxuICogVXBkYXRlcyB0aGUgc3BhY2UgdGhhbiBhbiBpbWFnZSBpcyB1c2luZyBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCBJbWFnZSBJRFxuICogQHBhcmFtIHtudW1iZXJ9IG5ld0NhY2hlU2l6ZSBOZXcgaW1hZ2Ugc2l6ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gY2hhbmdlSW1hZ2VJZENhY2hlU2l6ZShpbWFnZUlkLCBuZXdDYWNoZVNpemUpIHtcbiAgdmFyIGNhY2hlRW50cnkgPSBpbWFnZUNhY2hlRGljdFtpbWFnZUlkXTtcblxuICBpZiAoY2FjaGVFbnRyeSkge1xuICAgIGNhY2hlRW50cnkuaW1hZ2VMb2FkT2JqZWN0LnByb21pc2UudGhlbihmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIHZhciBjYWNoZVNpemVEaWZmZXJlbmNlID0gbmV3Q2FjaGVTaXplIC0gaW1hZ2Uuc2l6ZUluQnl0ZXM7XG4gICAgICBpbWFnZS5zaXplSW5CeXRlcyA9IG5ld0NhY2hlU2l6ZTtcbiAgICAgIGNhY2hlRW50cnkuc2l6ZUluQnl0ZXMgPSBuZXdDYWNoZVNpemU7XG4gICAgICBjYWNoZVNpemVJbkJ5dGVzICs9IGNhY2hlU2l6ZURpZmZlcmVuY2U7XG4gICAgICB2YXIgZXZlbnREZXRhaWxzID0ge1xuICAgICAgICBhY3Rpb246ICdjaGFuZ2VJbWFnZVNpemUnLFxuICAgICAgICBpbWFnZTogaW1hZ2VcbiAgICAgIH07XG4gICAgICBPYmplY3QoX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZXZlbnRzXCJdLCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLklNQUdFX0NBQ0hFX0NIQU5HRUQsIGV2ZW50RGV0YWlscyk7XG4gICAgfSk7XG4gIH1cbn1cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICBpbWFnZUNhY2hlOiBpbWFnZUNhY2hlRGljdCxcbiAgY2FjaGVkSW1hZ2VzOiBjYWNoZWRJbWFnZXMsXG4gIHNldE1heGltdW1TaXplQnl0ZXM6IHNldE1heGltdW1TaXplQnl0ZXMsXG4gIHB1dEltYWdlTG9hZE9iamVjdDogcHV0SW1hZ2VMb2FkT2JqZWN0LFxuICBnZXRJbWFnZUxvYWRPYmplY3Q6IGdldEltYWdlTG9hZE9iamVjdCxcbiAgcmVtb3ZlSW1hZ2VMb2FkT2JqZWN0OiByZW1vdmVJbWFnZUxvYWRPYmplY3QsXG4gIGdldENhY2hlSW5mbzogZ2V0Q2FjaGVJbmZvLFxuICBwdXJnZUNhY2hlOiBwdXJnZUNhY2hlLFxuICBjaGFuZ2VJbWFnZUlkQ2FjaGVTaXplOiBjaGFuZ2VJbWFnZUlkQ2FjaGVTaXplXG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbWFnZUxvYWRlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW1hZ2VMb2FkZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBsb2FkSW1hZ2UsIGxvYWRBbmRDYWNoZUltYWdlLCByZWdpc3RlckltYWdlTG9hZGVyLCByZWdpc3RlclVua25vd25JbWFnZUxvYWRlciAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJsb2FkSW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBsb2FkSW1hZ2U7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImxvYWRBbmRDYWNoZUltYWdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbG9hZEFuZENhY2hlSW1hZ2U7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlZ2lzdGVySW1hZ2VMb2FkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiByZWdpc3RlckltYWdlTG9hZGVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZWdpc3RlclVua25vd25JbWFnZUxvYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlZ2lzdGVyVW5rbm93bkltYWdlTG9hZGVyOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW1hZ2VDYWNoZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbWFnZUNhY2hlLmpzICovIFwiLi9pbWFnZUNhY2hlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzLmpzICovIFwiLi9ldmVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90cmlnZ2VyRXZlbnQuanMgKi8gXCIuL3RyaWdnZXJFdmVudC5qc1wiKTtcblxuXG5cbi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWFscyB3aXRoIEltYWdlTG9hZGVycywgbG9hZGluZyBpbWFnZXMgYW5kIGNhY2hpbmcgaW1hZ2VzXHJcbiAqIEBtb2R1bGUgSW1hZ2VMb2FkZXJcclxuICovXG5cbnZhciBpbWFnZUxvYWRlcnMgPSB7fTtcbnZhciB1bmtub3duSW1hZ2VMb2FkZXI7XG4vKipcclxuICogTG9hZCBhbiBpbWFnZSB1c2luZyBhIHJlZ2lzdGVyZWQgQ29ybmVyc3RvbmUgSW1hZ2UgTG9hZGVyLlxyXG4gKlxyXG4gKiBUaGUgaW1hZ2UgbG9hZGVyIHRoYXQgaXMgdXNlZCB3aWxsIGJlXHJcbiAqIGRldGVybWluZWQgYnkgdGhlIGltYWdlIGxvYWRlciBzY2hlbWUgbWF0Y2hpbmcgYWdhaW5zdCB0aGUgaW1hZ2VJZC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGltYWdlSWQgQSBDb3JuZXJzdG9uZSBJbWFnZSBPYmplY3QncyBpbWFnZUlkXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gdGhlIEltYWdlIExvYWRlclxyXG4gKlxyXG4gKiBAcmV0dXJucyB7SW1hZ2VMb2FkT2JqZWN0fSBBbiBPYmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgdG8gYWN0IGFmdGVyIGFuIGltYWdlIGlzIGxvYWRlZCBvciBsb2FkaW5nIGZhaWxzXHJcbiAqIEBtZW1iZXJvZiBJbWFnZUxvYWRlclxyXG4gKi9cblxuZnVuY3Rpb24gbG9hZEltYWdlRnJvbUltYWdlTG9hZGVyKGltYWdlSWQsIG9wdGlvbnMpIHtcbiAgdmFyIGNvbG9uSW5kZXggPSBpbWFnZUlkLmluZGV4T2YoJzonKTtcbiAgdmFyIHNjaGVtZSA9IGltYWdlSWQuc3Vic3RyaW5nKDAsIGNvbG9uSW5kZXgpO1xuICB2YXIgbG9hZGVyID0gaW1hZ2VMb2FkZXJzW3NjaGVtZV07XG5cbiAgaWYgKGxvYWRlciA9PT0gdW5kZWZpbmVkIHx8IGxvYWRlciA9PT0gbnVsbCkge1xuICAgIGlmICh1bmtub3duSW1hZ2VMb2FkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHVua25vd25JbWFnZUxvYWRlcihpbWFnZUlkKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2xvYWRJbWFnZUZyb21JbWFnZUxvYWRlcjogbm8gaW1hZ2UgbG9hZGVyIGZvciBpbWFnZUlkJyk7XG4gIH1cblxuICB2YXIgaW1hZ2VMb2FkT2JqZWN0ID0gbG9hZGVyKGltYWdlSWQsIG9wdGlvbnMpOyAvLyBCcm9hZGNhc3QgYW4gaW1hZ2UgbG9hZGVkIGV2ZW50IG9uY2UgdGhlIGltYWdlIGlzIGxvYWRlZFxuXG4gIGltYWdlTG9hZE9iamVjdC5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgT2JqZWN0KF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImV2ZW50c1wiXSwgX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXS5JTUFHRV9MT0FERUQsIHtcbiAgICAgIGltYWdlOiBpbWFnZVxuICAgIH0pO1xuICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICB2YXIgZXJyb3JPYmplY3QgPSB7XG4gICAgICBpbWFnZUlkOiBpbWFnZUlkLFxuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgICBPYmplY3QoX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZXZlbnRzXCJdLCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLklNQUdFX0xPQURfRkFJTEVELCBlcnJvck9iamVjdCk7XG4gIH0pO1xuICByZXR1cm4gaW1hZ2VMb2FkT2JqZWN0O1xufVxuLyoqXHJcbiAqIExvYWRzIGFuIGltYWdlIGdpdmVuIGFuIGltYWdlSWQgYW5kIG9wdGlvbmFsIHByaW9yaXR5IGFuZCByZXR1cm5zIGEgcHJvbWlzZSB3aGljaCB3aWxsIHJlc29sdmUgdG9cclxuICogdGhlIGxvYWRlZCBpbWFnZSBvYmplY3Qgb3IgZmFpbCBpZiBhbiBlcnJvciBvY2N1cnJlZC4gIFRoZSBsb2FkZWQgaW1hZ2UgaXMgbm90IHN0b3JlZCBpbiB0aGUgY2FjaGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZUlkIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0J3MgaW1hZ2VJZFxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gYmUgcGFzc2VkIHRvIHRoZSBJbWFnZSBMb2FkZXJcclxuICpcclxuICogQHJldHVybnMge0ltYWdlTG9hZE9iamVjdH0gQW4gT2JqZWN0IHdoaWNoIGNhbiBiZSB1c2VkIHRvIGFjdCBhZnRlciBhbiBpbWFnZSBpcyBsb2FkZWQgb3IgbG9hZGluZyBmYWlsc1xyXG4gKiBAbWVtYmVyb2YgSW1hZ2VMb2FkZXJcclxuICovXG5cblxuZnVuY3Rpb24gbG9hZEltYWdlKGltYWdlSWQsIG9wdGlvbnMpIHtcbiAgaWYgKGltYWdlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbG9hZEltYWdlOiBwYXJhbWV0ZXIgaW1hZ2VJZCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciBpbWFnZUxvYWRPYmplY3QgPSBPYmplY3QoX2ltYWdlQ2FjaGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldEltYWdlTG9hZE9iamVjdFwiXSkoaW1hZ2VJZCk7XG5cbiAgaWYgKGltYWdlTG9hZE9iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGltYWdlTG9hZE9iamVjdC5wcm9taXNlO1xuICB9XG5cbiAgcmV0dXJuIGxvYWRJbWFnZUZyb21JbWFnZUxvYWRlcihpbWFnZUlkLCBvcHRpb25zKS5wcm9taXNlO1xufSAvL1xuXG4vKipcclxuICogTG9hZHMgYW4gaW1hZ2UgZ2l2ZW4gYW4gaW1hZ2VJZCBhbmQgb3B0aW9uYWwgcHJpb3JpdHkgYW5kIHJldHVybnMgYSBwcm9taXNlIHdoaWNoIHdpbGwgcmVzb2x2ZSB0b1xyXG4gKiB0aGUgbG9hZGVkIGltYWdlIG9iamVjdCBvciBmYWlsIGlmIGFuIGVycm9yIG9jY3VycmVkLiBUaGUgaW1hZ2UgaXMgc3RvcmVkIGluIHRoZSBjYWNoZS5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGltYWdlSWQgQSBDb3JuZXJzdG9uZSBJbWFnZSBPYmplY3QncyBpbWFnZUlkXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gdGhlIEltYWdlIExvYWRlclxyXG4gKlxyXG4gKiBAcmV0dXJucyB7SW1hZ2VMb2FkT2JqZWN0fSBJbWFnZSBMb2FkZXIgT2JqZWN0XHJcbiAqIEBtZW1iZXJvZiBJbWFnZUxvYWRlclxyXG4gKi9cblxuZnVuY3Rpb24gbG9hZEFuZENhY2hlSW1hZ2UoaW1hZ2VJZCwgb3B0aW9ucykge1xuICBpZiAoaW1hZ2VJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdsb2FkQW5kQ2FjaGVJbWFnZTogcGFyYW1ldGVyIGltYWdlSWQgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyk7XG4gIH1cblxuICB2YXIgaW1hZ2VMb2FkT2JqZWN0ID0gT2JqZWN0KF9pbWFnZUNhY2hlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRJbWFnZUxvYWRPYmplY3RcIl0pKGltYWdlSWQpO1xuXG4gIGlmIChpbWFnZUxvYWRPYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBpbWFnZUxvYWRPYmplY3QucHJvbWlzZTtcbiAgfVxuXG4gIGltYWdlTG9hZE9iamVjdCA9IGxvYWRJbWFnZUZyb21JbWFnZUxvYWRlcihpbWFnZUlkLCBvcHRpb25zKTtcbiAgT2JqZWN0KF9pbWFnZUNhY2hlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJwdXRJbWFnZUxvYWRPYmplY3RcIl0pKGltYWdlSWQsIGltYWdlTG9hZE9iamVjdCk7XG4gIHJldHVybiBpbWFnZUxvYWRPYmplY3QucHJvbWlzZTtcbn1cbi8qKlxyXG4gKiBSZWdpc3RlcnMgYW4gaW1hZ2VMb2FkZXIgcGx1Z2luIHdpdGggY29ybmVyc3RvbmUgZm9yIHRoZSBzcGVjaWZpZWQgc2NoZW1lXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzY2hlbWUgVGhlIHNjaGVtZSB0byB1c2UgZm9yIHRoaXMgaW1hZ2UgbG9hZGVyIChlLmcuICdkaWNvbXdlYicsICd3YWRvdXJpJywgJ2h0dHAnKVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbWFnZUxvYWRlciBBIENvcm5lcnN0b25lIEltYWdlIExvYWRlciBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQG1lbWJlcm9mIEltYWdlTG9hZGVyXHJcbiAqL1xuXG5mdW5jdGlvbiByZWdpc3RlckltYWdlTG9hZGVyKHNjaGVtZSwgaW1hZ2VMb2FkZXIpIHtcbiAgaW1hZ2VMb2FkZXJzW3NjaGVtZV0gPSBpbWFnZUxvYWRlcjtcbn1cbi8qKlxyXG4gKiBSZWdpc3RlcnMgYSBuZXcgdW5rbm93bkltYWdlTG9hZGVyIGFuZCByZXR1cm5zIHRoZSBwcmV2aW91cyBvbmVcclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gaW1hZ2VMb2FkZXIgQSBDb3JuZXJzdG9uZSBJbWFnZSBMb2FkZXJcclxuICpcclxuICogQHJldHVybnMge0Z1bmN0aW9ufFVuZGVmaW5lZH0gVGhlIHByZXZpb3VzIFVua25vd24gSW1hZ2UgTG9hZGVyXHJcbiAqIEBtZW1iZXJvZiBJbWFnZUxvYWRlclxyXG4gKi9cblxuZnVuY3Rpb24gcmVnaXN0ZXJVbmtub3duSW1hZ2VMb2FkZXIoaW1hZ2VMb2FkZXIpIHtcbiAgdmFyIG9sZEltYWdlTG9hZGVyID0gdW5rbm93bkltYWdlTG9hZGVyO1xuICB1bmtub3duSW1hZ2VMb2FkZXIgPSBpbWFnZUxvYWRlcjtcbiAgcmV0dXJuIG9sZEltYWdlTG9hZGVyO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRyYXdJbWFnZSwgZ2VuZXJhdGVMdXQsIGdldERlZmF1bHRWaWV3cG9ydCwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBzdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YSwgc3RvcmVkQ29sb3JQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YSwgc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVCwgc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFQc2V1ZG9jb2xvckxVVCwgaW50ZXJuYWwsIHJlbmRlckxhYmVsTWFwSW1hZ2UsIHJlbmRlclBzZXVkb0NvbG9ySW1hZ2UsIHJlbmRlckNvbG9ySW1hZ2UsIHJlbmRlckdyYXlzY2FsZUltYWdlLCByZW5kZXJXZWJJbWFnZSwgcmVuZGVyVG9DYW52YXMsIGNhbnZhc1RvUGl4ZWwsIGRpc2FibGUsIGRpc3BsYXlJbWFnZSwgZHJhdywgZHJhd0ludmFsaWRhdGVkLCBlbmFibGUsIGdldEVsZW1lbnREYXRhLCByZW1vdmVFbGVtZW50RGF0YSwgZ2V0RW5hYmxlZEVsZW1lbnQsIGFkZEVuYWJsZWRFbGVtZW50LCBnZXRFbmFibGVkRWxlbWVudHNCeUltYWdlSWQsIGdldEVuYWJsZWRFbGVtZW50cywgYWRkTGF5ZXIsIHJlbW92ZUxheWVyLCBnZXRMYXllciwgZ2V0TGF5ZXJzLCBnZXRWaXNpYmxlTGF5ZXJzLCBzZXRBY3RpdmVMYXllciwgZ2V0QWN0aXZlTGF5ZXIsIHB1cmdlTGF5ZXJzLCBzZXRMYXllckltYWdlLCBmaXRUb1dpbmRvdywgZ2V0RGVmYXVsdFZpZXdwb3J0Rm9ySW1hZ2UsIGdldEltYWdlLCBnZXRQaXhlbHMsIGdldFN0b3JlZFBpeGVscywgZ2V0Vmlld3BvcnQsIGxvYWRJbWFnZSwgbG9hZEFuZENhY2hlSW1hZ2UsIHJlZ2lzdGVySW1hZ2VMb2FkZXIsIHJlZ2lzdGVyVW5rbm93bkltYWdlTG9hZGVyLCBpbnZhbGlkYXRlLCBpbnZhbGlkYXRlSW1hZ2VJZCwgcGFnZVRvUGl4ZWwsIHBpeGVsVG9DYW52YXMsIHJlc2V0LCByZXNpemUsIHNldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtLCBzZXRWaWV3cG9ydCwgdXBkYXRlSW1hZ2UsIHBpeGVsRGF0YVRvRmFsc2VDb2xvckRhdGEsIHJlbmRlcmluZywgaW1hZ2VDYWNoZSwgbWV0YURhdGEsIHdlYkdMLCBjb2xvcnMsIGNvbnZlcnRJbWFnZVRvRmFsc2VDb2xvckltYWdlLCBjb252ZXJ0VG9GYWxzZUNvbG9ySW1hZ2UsIHJlc3RvcmVJbWFnZSwgRVZFTlRTLCBldmVudHMsIHRyaWdnZXJFdmVudCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfZHJhd0ltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludGVybmFsL2RyYXdJbWFnZS5qcyAqLyBcIi4vaW50ZXJuYWwvZHJhd0ltYWdlLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZHJhd0ltYWdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2ludGVybmFsX2RyYXdJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfZ2VuZXJhdGVMdXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ2VuZXJhdGVMdXQuanMgKi8gXCIuL2ludGVybmFsL2dlbmVyYXRlTHV0LmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2VuZXJhdGVMdXRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfaW50ZXJuYWxfZ2VuZXJhdGVMdXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2dldERlZmF1bHRWaWV3cG9ydF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9nZXREZWZhdWx0Vmlld3BvcnQuanMgKi8gXCIuL2ludGVybmFsL2dldERlZmF1bHRWaWV3cG9ydC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldERlZmF1bHRWaWV3cG9ydFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pbnRlcm5hbF9nZXREZWZhdWx0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX3JlcXVlc3RBbmltYXRpb25GcmFtZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanMgKi8gXCIuL2ludGVybmFsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pbnRlcm5hbF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzICovIFwiLi9pbnRlcm5hbC9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInN0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2ludGVybmFsX3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9zdG9yZWRDb2xvclBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludGVybmFsL3N0b3JlZENvbG9yUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGEuanMgKi8gXCIuL2ludGVybmFsL3N0b3JlZENvbG9yUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGEuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzdG9yZWRDb2xvclBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2ludGVybmFsX3N0b3JlZENvbG9yUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhQ29sb3JMVVRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVC5qcyAqLyBcIi4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInN0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhQ29sb3JMVVRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfaW50ZXJuYWxfc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFQc2V1ZG9jb2xvckxVVF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVBzZXVkb2NvbG9yTFVULmpzICovIFwiLi9pbnRlcm5hbC9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVBzZXVkb2NvbG9yTFVULmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFQc2V1ZG9jb2xvckxVVFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pbnRlcm5hbF9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVBzZXVkb2NvbG9yTFVUX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9pbmRleF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9pbmRleC5qcyAqLyBcIi4vaW50ZXJuYWwvaW5kZXguanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbnRlcm5hbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pbnRlcm5hbF9pbmRleF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyaW5nX3JlbmRlckxhYmVsTWFwSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyaW5nL3JlbmRlckxhYmVsTWFwSW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJMYWJlbE1hcEltYWdlLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVuZGVyTGFiZWxNYXBJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9yZW5kZXJpbmdfcmVuZGVyTGFiZWxNYXBJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wicmVuZGVyTGFiZWxNYXBJbWFnZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyaW5nX3JlbmRlclBzZXVkb0NvbG9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3JlbmRlcmluZy9yZW5kZXJQc2V1ZG9Db2xvckltYWdlLmpzICovIFwiLi9yZW5kZXJpbmcvcmVuZGVyUHNldWRvQ29sb3JJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbmRlclBzZXVkb0NvbG9ySW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfcmVuZGVyaW5nX3JlbmRlclBzZXVkb0NvbG9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX19bXCJyZW5kZXJQc2V1ZG9Db2xvckltYWdlXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZW5kZXJpbmdfcmVuZGVyQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyaW5nL3JlbmRlckNvbG9ySW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJDb2xvckltYWdlLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVuZGVyQ29sb3JJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9yZW5kZXJpbmdfcmVuZGVyQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTFfX1tcInJlbmRlckNvbG9ySW1hZ2VcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3JlbmRlcmluZ19yZW5kZXJHcmF5c2NhbGVJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyaW5nL3JlbmRlckdyYXlzY2FsZUltYWdlLmpzICovIFwiLi9yZW5kZXJpbmcvcmVuZGVyR3JheXNjYWxlSW1hZ2UuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZW5kZXJHcmF5c2NhbGVJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9yZW5kZXJpbmdfcmVuZGVyR3JheXNjYWxlSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEyX19bXCJyZW5kZXJHcmF5c2NhbGVJbWFnZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyaW5nX3JlbmRlcldlYkltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZW5kZXJpbmcvcmVuZGVyV2ViSW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJXZWJJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbmRlcldlYkltYWdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3JlbmRlcmluZ19yZW5kZXJXZWJJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTNfX1tcInJlbmRlcldlYkltYWdlXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZW5kZXJpbmdfcmVuZGVyVG9DYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3JlbmRlcmluZy9yZW5kZXJUb0NhbnZhcy5qcyAqLyBcIi4vcmVuZGVyaW5nL3JlbmRlclRvQ2FudmFzLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVuZGVyVG9DYW52YXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfcmVuZGVyaW5nX3JlbmRlclRvQ2FudmFzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xNF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY2FudmFzVG9QaXhlbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY2FudmFzVG9QaXhlbC5qcyAqLyBcIi4vY2FudmFzVG9QaXhlbC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNhbnZhc1RvUGl4ZWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfY2FudmFzVG9QaXhlbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTVfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2Rpc2FibGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc2FibGUuanMgKi8gXCIuL2Rpc2FibGUuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkaXNhYmxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2Rpc2FibGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE2X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kaXNwbGF5SW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3BsYXlJbWFnZS5qcyAqLyBcIi4vZGlzcGxheUltYWdlLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGlzcGxheUltYWdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2Rpc3BsYXlJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTdfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RyYXdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RyYXcuanMgKi8gXCIuL2RyYXcuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkcmF3XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2RyYXdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE4X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9kcmF3SW52YWxpZGF0ZWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzE5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RyYXdJbnZhbGlkYXRlZC5qcyAqLyBcIi4vZHJhd0ludmFsaWRhdGVkLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZHJhd0ludmFsaWRhdGVkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2RyYXdJbnZhbGlkYXRlZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTlfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2VuYWJsZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlLmpzICovIFwiLi9lbmFibGUuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlbmFibGVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfZW5hYmxlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnREYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9lbmFibGVkRWxlbWVudERhdGEuanMgKi8gXCIuL2VuYWJsZWRFbGVtZW50RGF0YS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldEVsZW1lbnREYXRhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2VuYWJsZWRFbGVtZW50RGF0YV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjFfX1tcImdldEVsZW1lbnREYXRhXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVtb3ZlRWxlbWVudERhdGFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfZW5hYmxlZEVsZW1lbnREYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yMV9fW1wicmVtb3ZlRWxlbWVudERhdGFcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRFbmFibGVkRWxlbWVudFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFkZEVuYWJsZWRFbGVtZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX1tcImFkZEVuYWJsZWRFbGVtZW50XCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0RW5hYmxlZEVsZW1lbnRzQnlJbWFnZUlkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjJfX1tcImdldEVuYWJsZWRFbGVtZW50c0J5SW1hZ2VJZFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldEVuYWJsZWRFbGVtZW50c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIyX19bXCJnZXRFbmFibGVkRWxlbWVudHNcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2xheWVyc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbGF5ZXJzLmpzICovIFwiLi9sYXllcnMuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZGRMYXllclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9sYXllcnNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19bXCJhZGRMYXllclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbW92ZUxheWVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2xheWVyc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX1tcInJlbW92ZUxheWVyXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0TGF5ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfbGF5ZXJzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fW1wiZ2V0TGF5ZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRMYXllcnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfbGF5ZXJzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fW1wiZ2V0TGF5ZXJzXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0VmlzaWJsZUxheWVyc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9sYXllcnNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19bXCJnZXRWaXNpYmxlTGF5ZXJzXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2V0QWN0aXZlTGF5ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfbGF5ZXJzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yM19fW1wic2V0QWN0aXZlTGF5ZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRBY3RpdmVMYXllclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9sYXllcnNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19bXCJnZXRBY3RpdmVMYXllclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInB1cmdlTGF5ZXJzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2xheWVyc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjNfX1tcInB1cmdlTGF5ZXJzXCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2V0TGF5ZXJJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9sYXllcnNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzIzX19bXCJzZXRMYXllckltYWdlXCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9maXRUb1dpbmRvd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZml0VG9XaW5kb3cuanMgKi8gXCIuL2ZpdFRvV2luZG93LmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZml0VG9XaW5kb3dcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfZml0VG9XaW5kb3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI0X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9nZXREZWZhdWx0Vmlld3BvcnRGb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ2V0RGVmYXVsdFZpZXdwb3J0Rm9ySW1hZ2UuanMgKi8gXCIuL2dldERlZmF1bHRWaWV3cG9ydEZvckltYWdlLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0RGVmYXVsdFZpZXdwb3J0Rm9ySW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfZ2V0RGVmYXVsdFZpZXdwb3J0Rm9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI1X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9nZXRJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ2V0SW1hZ2UuanMgKi8gXCIuL2dldEltYWdlLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0SW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfZ2V0SW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI2X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9nZXRQaXhlbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI3X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldFBpeGVscy5qcyAqLyBcIi4vZ2V0UGl4ZWxzLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0UGl4ZWxzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2dldFBpeGVsc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjdfX1tcImRlZmF1bHRcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dldFN0b3JlZFBpeGVsc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMjhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ2V0U3RvcmVkUGl4ZWxzLmpzICovIFwiLi9nZXRTdG9yZWRQaXhlbHMuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRTdG9yZWRQaXhlbHNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfZ2V0U3RvcmVkUGl4ZWxzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ2V0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzI5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldFZpZXdwb3J0LmpzICovIFwiLi9nZXRWaWV3cG9ydC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFZpZXdwb3J0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2dldFZpZXdwb3J0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yOV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW1hZ2VMb2FkZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ltYWdlTG9hZGVyLmpzICovIFwiLi9pbWFnZUxvYWRlci5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImxvYWRJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pbWFnZUxvYWRlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzBfX1tcImxvYWRJbWFnZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImxvYWRBbmRDYWNoZUltYWdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2ltYWdlTG9hZGVyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMF9fW1wibG9hZEFuZENhY2hlSW1hZ2VcIl07IH0pO1xuXG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZWdpc3RlckltYWdlTG9hZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2ltYWdlTG9hZGVyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMF9fW1wicmVnaXN0ZXJJbWFnZUxvYWRlclwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlZ2lzdGVyVW5rbm93bkltYWdlTG9hZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2ltYWdlTG9hZGVyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zMF9fW1wicmVnaXN0ZXJVbmtub3duSW1hZ2VMb2FkZXJcIl07IH0pO1xuXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludmFsaWRhdGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMxX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludmFsaWRhdGUuanMgKi8gXCIuL2ludmFsaWRhdGUuanNcIik7XG4vKiBoYXJtb255IHJlZXhwb3J0IChzYWZlKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbnZhbGlkYXRlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2ludmFsaWRhdGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMxX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnZhbGlkYXRlSW1hZ2VJZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW52YWxpZGF0ZUltYWdlSWQuanMgKi8gXCIuL2ludmFsaWRhdGVJbWFnZUlkLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW52YWxpZGF0ZUltYWdlSWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfaW52YWxpZGF0ZUltYWdlSWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMyX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9wYWdlVG9QaXhlbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGFnZVRvUGl4ZWwuanMgKi8gXCIuL3BhZ2VUb1BpeGVsLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGFnZVRvUGl4ZWxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfcGFnZVRvUGl4ZWxfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzMzX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9waXhlbFRvQ2FudmFzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9waXhlbFRvQ2FudmFzLmpzICovIFwiLi9waXhlbFRvQ2FudmFzLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGl4ZWxUb0NhbnZhc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9waXhlbFRvQ2FudmFzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVzZXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM1X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Jlc2V0LmpzICovIFwiLi9yZXNldC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlc2V0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3Jlc2V0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNV9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVzaXplX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZXNpemUuanMgKi8gXCIuL3Jlc2l6ZS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9yZXNpemVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM2X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW0uanMgKi8gXCIuL3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM3X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zZXRWaWV3cG9ydF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2V0Vmlld3BvcnQuanMgKi8gXCIuL3NldFZpZXdwb3J0LmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2V0Vmlld3BvcnRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfc2V0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM4X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91cGRhdGVJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMzlfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXBkYXRlSW1hZ2UuanMgKi8gXCIuL3VwZGF0ZUltYWdlLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidXBkYXRlSW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfdXBkYXRlSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzM5X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9waXhlbERhdGFUb0ZhbHNlQ29sb3JEYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9waXhlbERhdGFUb0ZhbHNlQ29sb3JEYXRhLmpzICovIFwiLi9waXhlbERhdGFUb0ZhbHNlQ29sb3JEYXRhLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicGl4ZWxEYXRhVG9GYWxzZUNvbG9yRGF0YVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9waXhlbERhdGFUb0ZhbHNlQ29sb3JEYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyaW5nX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80MV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZW5kZXJpbmcvaW5kZXguanMgKi8gXCIuL3JlbmRlcmluZy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbmRlcmluZ1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9yZW5kZXJpbmdfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQxX19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbWFnZUNhY2hlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80Ml9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbWFnZUNhY2hlLmpzICovIFwiLi9pbWFnZUNhY2hlLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW1hZ2VDYWNoZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9pbWFnZUNhY2hlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80Ml9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbWV0YURhdGFfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21ldGFEYXRhLmpzICovIFwiLi9tZXRhRGF0YS5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIm1ldGFEYXRhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX21ldGFEYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80M19fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfd2ViZ2xfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ0X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3dlYmdsL2luZGV4LmpzICovIFwiLi93ZWJnbC9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIndlYkdMXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX3dlYmdsX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NF9fW1wiZGVmYXVsdFwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29sb3JzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80NV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb2xvcnMvaW5kZXguanMgKi8gXCIuL2NvbG9ycy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbG9yc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9jb2xvcnNfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ1X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9mYWxzZUNvbG9yTWFwcGluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmFsc2VDb2xvck1hcHBpbmcuanMgKi8gXCIuL2ZhbHNlQ29sb3JNYXBwaW5nLmpzXCIpO1xuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY29udmVydEltYWdlVG9GYWxzZUNvbG9ySW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfZmFsc2VDb2xvck1hcHBpbmdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ2X19bXCJjb252ZXJ0SW1hZ2VUb0ZhbHNlQ29sb3JJbWFnZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNvbnZlcnRUb0ZhbHNlQ29sb3JJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9mYWxzZUNvbG9yTWFwcGluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDZfX1tcImNvbnZlcnRUb0ZhbHNlQ29sb3JJbWFnZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlc3RvcmVJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9mYWxzZUNvbG9yTWFwcGluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDZfX1tcInJlc3RvcmVJbWFnZVwiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80N19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ldmVudHMuanMgKi8gXCIuL2V2ZW50cy5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIkVWRU5UU1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ3X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLyogaGFybW9ueSByZWV4cG9ydCAoc2FmZSkgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZXZlbnRzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNDdfX1tcImV2ZW50c1wiXTsgfSk7XG5cbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80OF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90cmlnZ2VyRXZlbnQuanMgKi8gXCIuL3RyaWdnZXJFdmVudC5qc1wiKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKHNhZmUpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInRyaWdnZXJFdmVudFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzQ4X19bXCJkZWZhdWx0XCJdOyB9KTtcblxuLy8gSW50ZXJuYWwgKHNvbWUgb2YgdGhlc2UgYXJlIGZyb20gb2xkIGludGVybmFsL2xlZ2FjeSBleHBvc2UpXG5cblxuXG5cblxuXG5cblxuIC8vIFJlbmRlcmluZ1xuXG5cblxuXG5cblxuXG4vKipcbiAqIEBtb2R1bGUgUGl4ZWxDb29yZGluYXRlU3lzdGVtXG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIFZpZXdwb3J0U2V0dGluZ3NcbiAqL1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbnRlcm5hbC9jYWxjdWxhdGVUcmFuc2Zvcm0uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbnRlcm5hbC9jYWxjdWxhdGVUcmFuc2Zvcm0uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJhbnNmb3JtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RyYW5zZm9ybS5qcyAqLyBcIi4vaW50ZXJuYWwvdHJhbnNmb3JtLmpzXCIpO1xuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgdHJhbnNmb3JtIGZvciBhIENvcm5lcnN0b25lIGVuYWJsZWQgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBFbmFibGVkIEVsZW1lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIFRoZSB2aWV3cG9ydCBzY2FsZVxuICogQHJldHVybiB7VHJhbnNmb3JtfSBUaGUgY3VycmVudCB0cmFuc2Zvcm1cbiAqIEBtZW1iZXJvZiBJbnRlcm5hbFxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVuYWJsZWRFbGVtZW50LCBzY2FsZSkge1xuICB2YXIgdHJhbnNmb3JtID0gbmV3IF90cmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcIlRyYW5zZm9ybVwiXSgpOyAvLyBNb3ZlIHRvIGNlbnRlciBvZiBjYW52YXNcblxuICB0cmFuc2Zvcm0udHJhbnNsYXRlKGVuYWJsZWRFbGVtZW50LmNhbnZhcy53aWR0aCAvIDIsIGVuYWJsZWRFbGVtZW50LmNhbnZhcy5oZWlnaHQgLyAyKTsgLy8gQXBwbHkgdGhlIHJvdGF0aW9uIGJlZm9yZSBzY2FsaW5nIGZvciBub24gc3F1YXJlIHBpeGVsc1xuXG4gIHZhciBhbmdsZSA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnJvdGF0aW9uO1xuXG4gIGlmIChhbmdsZSAhPT0gMCkge1xuICAgIHRyYW5zZm9ybS5yb3RhdGUoYW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgfSAvLyBBcHBseSB0aGUgc2NhbGVcblxuXG4gIHZhciB3aWR0aFNjYWxlID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuc2NhbGU7XG4gIHZhciBoZWlnaHRTY2FsZSA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnNjYWxlO1xuICB2YXIgd2lkdGggPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLmJyaGMueCAtIChlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnRsaGMueCAtIDEpO1xuICB2YXIgaGVpZ2h0ID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS5icmhjLnkgLSAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS50bGhjLnkgLSAxKTtcblxuICBpZiAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS5wcmVzZW50YXRpb25TaXplTW9kZSA9PT0gJ05PTkUnKSB7XG4gICAgaWYgKGVuYWJsZWRFbGVtZW50LmltYWdlLnJvd1BpeGVsU3BhY2luZyA8IGVuYWJsZWRFbGVtZW50LmltYWdlLmNvbHVtblBpeGVsU3BhY2luZykge1xuICAgICAgd2lkdGhTY2FsZSAqPSBlbmFibGVkRWxlbWVudC5pbWFnZS5jb2x1bW5QaXhlbFNwYWNpbmcgLyBlbmFibGVkRWxlbWVudC5pbWFnZS5yb3dQaXhlbFNwYWNpbmc7XG4gICAgfSBlbHNlIGlmIChlbmFibGVkRWxlbWVudC5pbWFnZS5jb2x1bW5QaXhlbFNwYWNpbmcgPCBlbmFibGVkRWxlbWVudC5pbWFnZS5yb3dQaXhlbFNwYWNpbmcpIHtcbiAgICAgIGhlaWdodFNjYWxlICo9IGVuYWJsZWRFbGVtZW50LmltYWdlLnJvd1BpeGVsU3BhY2luZyAvIGVuYWJsZWRFbGVtZW50LmltYWdlLmNvbHVtblBpeGVsU3BhY2luZztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhlc2Ugc2hvdWxkIGJlIGdvb2QgZm9yIFwiVFJVRSBTSVpFXCIgYW5kIFwiTUFHTklGWVwiXG4gICAgd2lkdGhTY2FsZSA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEuY29sdW1uUGl4ZWxTcGFjaW5nO1xuICAgIGhlaWdodFNjYWxlID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS5yb3dQaXhlbFNwYWNpbmc7XG5cbiAgICBpZiAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS5wcmVzZW50YXRpb25TaXplTW9kZSA9PT0gJ1NDQUxFIFRPIEZJVCcpIHtcbiAgICAgIC8vIEZpdCBUUlVFIElNQUdFIGltYWdlICh3aWR0aC9oZWlnaHQpIHRvIHdpbmRvd1xuICAgICAgdmFyIHZlcnRpY2FsU2NhbGUgPSBlbmFibGVkRWxlbWVudC5jYW52YXMuaGVpZ2h0IC8gKGhlaWdodCAqIGhlaWdodFNjYWxlKTtcbiAgICAgIHZhciBob3Jpem9udGFsU2NhbGUgPSBlbmFibGVkRWxlbWVudC5jYW52YXMud2lkdGggLyAod2lkdGggKiB3aWR0aFNjYWxlKTsgLy8gQXBwbHkgbmV3IHNjYWxlXG5cbiAgICAgIHdpZHRoU2NhbGUgPSBoZWlnaHRTY2FsZSA9IE1hdGgubWluKGhvcml6b250YWxTY2FsZSwgdmVydGljYWxTY2FsZSk7XG5cbiAgICAgIGlmIChlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnJvd1BpeGVsU3BhY2luZyA8IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEuY29sdW1uUGl4ZWxTcGFjaW5nKSB7XG4gICAgICAgIHdpZHRoU2NhbGUgKj0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS5jb2x1bW5QaXhlbFNwYWNpbmcgLyBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnJvd1BpeGVsU3BhY2luZztcbiAgICAgIH0gZWxzZSBpZiAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS5jb2x1bW5QaXhlbFNwYWNpbmcgPCBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnJvd1BpeGVsU3BhY2luZykge1xuICAgICAgICBoZWlnaHRTY2FsZSAqPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnJvd1BpeGVsU3BhY2luZyAvIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEuY29sdW1uUGl4ZWxTcGFjaW5nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybS5zY2FsZSh3aWR0aFNjYWxlLCBoZWlnaHRTY2FsZSk7IC8vIFVucm90YXRlIHRvIHNvIHdlIGNhbiB0cmFuc2xhdGUgdW5yb3RhdGVkXG5cbiAgaWYgKGFuZ2xlICE9PSAwKSB7XG4gICAgdHJhbnNmb3JtLnJvdGF0ZSgtYW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgfSAvLyBBcHBseSB0aGUgcGFuIG9mZnNldFxuXG5cbiAgdHJhbnNmb3JtLnRyYW5zbGF0ZShlbmFibGVkRWxlbWVudC52aWV3cG9ydC50cmFuc2xhdGlvbi54LCBlbmFibGVkRWxlbWVudC52aWV3cG9ydC50cmFuc2xhdGlvbi55KTsgLy8gUm90YXRlIGFnYWluIHNvIHdlIGNhbiBhcHBseSBnZW5lcmFsIHNjYWxlXG5cbiAgaWYgKGFuZ2xlICE9PSAwKSB7XG4gICAgdHJhbnNmb3JtLnJvdGF0ZShhbmdsZSAqIE1hdGguUEkgLyAxODApO1xuICB9XG5cbiAgaWYgKHNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBBcHBseSB0aGUgZm9udCBzY2FsZVxuICAgIHRyYW5zZm9ybS5zY2FsZShzY2FsZSwgc2NhbGUpO1xuICB9IC8vIEFwcGx5IEZsaXAgaWYgcmVxdWlyZWRcblxuXG4gIGlmIChlbmFibGVkRWxlbWVudC52aWV3cG9ydC5oZmxpcCkge1xuICAgIHRyYW5zZm9ybS5zY2FsZSgtMSwgMSk7XG4gIH1cblxuICBpZiAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQudmZsaXApIHtcbiAgICB0cmFuc2Zvcm0uc2NhbGUoMSwgLTEpO1xuICB9IC8vIE1vdmUgYmFjayBmcm9tIGNlbnRlciBvZiBpbWFnZVxuXG5cbiAgdHJhbnNmb3JtLnRyYW5zbGF0ZSgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMik7XG4gIHJldHVybiB0cmFuc2Zvcm07XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbnRlcm5hbC9jb21wdXRlQXV0b1ZvaS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW50ZXJuYWwvY29tcHV0ZUF1dG9Wb2kuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBjb21wdXRlQXV0b1ZvaTsgfSk7XG4vKipcbiAqIENvbXB1dGVzIHRoZSBWT0kgdG8gZGlzcGxheSBhbGwgdGhlIHBpeGVscyBpZiBubyBWT0kgTFVUIGRhdGEgKFdpbmRvdyBXaWR0aC9XaW5kb3cgQ2VudGVyIG9yIHZvaUxVVCkgZXhpc3RzIG9uIHRoZSB2aWV3cG9ydCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtWaWV3cG9ydH0gdmlld3BvcnQgLSBPYmplY3QgY29udGFpbmluZyB0aGUgdmlld3BvcnQgcHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IGltYWdlIEFuIEltYWdlIGxvYWRlZCBieSBhIENvcm5lcnN0b25lIEltYWdlIExvYWRlclxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUF1dG9Wb2kodmlld3BvcnQsIGltYWdlKSB7XG4gIGlmIChoYXNWb2kodmlld3BvcnQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1heFZvaSA9IGltYWdlLm1heFBpeGVsVmFsdWUgKiBpbWFnZS5zbG9wZSArIGltYWdlLmludGVyY2VwdDtcbiAgdmFyIG1pblZvaSA9IGltYWdlLm1pblBpeGVsVmFsdWUgKiBpbWFnZS5zbG9wZSArIGltYWdlLmludGVyY2VwdDtcbiAgdmFyIHd3ID0gbWF4Vm9pIC0gbWluVm9pO1xuICB2YXIgd2MgPSAobWF4Vm9pICsgbWluVm9pKSAvIDI7XG5cbiAgaWYgKHZpZXdwb3J0LnZvaSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmlld3BvcnQudm9pID0ge1xuICAgICAgd2luZG93V2lkdGg6IHd3LFxuICAgICAgd2luZG93Q2VudGVyOiB3Y1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmlld3BvcnQudm9pLndpbmRvd1dpZHRoID0gd3c7XG4gICAgdmlld3BvcnQudm9pLndpbmRvd0NlbnRlciA9IHdjO1xuICB9XG59XG4vKipcbiAqIENoZWNrIGlmIHZpZXdwb3J0IGhhcyB2b2kgTFVUIGRhdGFcbiAqIEBwYXJhbSB7YW55fSB2aWV3cG9ydCBUaGUgdmlld3BvcnQgdG8gY2hlY2sgZm9yIHZvaSBMVVQgZGF0YVxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgdmlld3BvcnQgaGFzIExVVCBkYXRhIChXaW5kb3cgV2lkdGgvV2luZG93IENlbnRlciBvciB2b2lMVVQpLiBPdGhlcndpc2UsIGZhbHNlLlxuICogQG1lbWJlcm9mIEludGVybmFsXG4gKi9cblxuZnVuY3Rpb24gaGFzVm9pKHZpZXdwb3J0KSB7XG4gIHZhciBoYXNMdXQgPSB2aWV3cG9ydC52b2lMVVQgJiYgdmlld3BvcnQudm9pTFVULmx1dCAmJiB2aWV3cG9ydC52b2lMVVQubHV0Lmxlbmd0aCA+IDA7XG4gIHJldHVybiBoYXNMdXQgfHwgdmlld3BvcnQudm9pLndpbmRvd1dpZHRoICE9PSB1bmRlZmluZWQgJiYgdmlld3BvcnQudm9pLndpbmRvd0NlbnRlciAhPT0gdW5kZWZpbmVkO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ludGVybmFsL2RyYXdDb21wb3NpdGVJbWFnZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2RyYXdDb21wb3NpdGVJbWFnZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9sYXllcnNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2xheWVycy5qcyAqLyBcIi4vbGF5ZXJzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZW5kZXJpbmdfcmVuZGVyR3JheXNjYWxlSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlcmluZy9yZW5kZXJHcmF5c2NhbGVJbWFnZS5qcyAqLyBcIi4vcmVuZGVyaW5nL3JlbmRlckdyYXlzY2FsZUltYWdlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZW5kZXJpbmdfcmVuZGVyQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyaW5nL3JlbmRlckNvbG9ySW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJDb2xvckltYWdlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZW5kZXJpbmdfcmVuZGVyUHNldWRvQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyaW5nL3JlbmRlclBzZXVkb0NvbG9ySW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJQc2V1ZG9Db2xvckltYWdlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZW5kZXJpbmdfcmVuZGVyTGFiZWxNYXBJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyaW5nL3JlbmRlckxhYmVsTWFwSW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJMYWJlbE1hcEltYWdlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW0uanMgKi8gXCIuL3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtLmpzXCIpO1xuXG5cblxuXG5cblxuXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFJhdGlvKGJhc2VMYXllciwgdGFyZ2V0TGF5ZXIpIHtcbiAgaWYgKCFiYXNlTGF5ZXIuc3luY1Byb3BzKSB7XG4gICAgdXBkYXRlTGF5ZXJTeW5jUHJvcHMoYmFzZUxheWVyKTtcbiAgfVxuXG4gIGlmICghdGFyZ2V0TGF5ZXIuc3luY1Byb3BzKSB7XG4gICAgdXBkYXRlTGF5ZXJTeW5jUHJvcHModGFyZ2V0TGF5ZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldExheWVyLnN5bmNQcm9wcy5vcmlnaW5hbFNjYWxlIC8gYmFzZUxheWVyLnN5bmNQcm9wcy5vcmlnaW5hbFNjYWxlO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVMYXllclN5bmNQcm9wcyhsYXllcikge1xuICB2YXIgc3luY1Byb3BzID0gbGF5ZXIuc3luY1Byb3BzIHx8IHt9OyAvLyBUaGlzIGlzIHVzZWQgdG8ga2VlcCBlYWNoIG9mIHRoZSBsYXllcnMnIHZpZXdwb3J0cyBpbiBzeW5jIHdpdGggdGhlIGFjdGl2ZSBsYXllclxuXG4gIHN5bmNQcm9wcy5vcmlnaW5hbFNjYWxlID0gbGF5ZXIudmlld3BvcnQuc2NhbGU7XG4gIGxheWVyLnN5bmNQcm9wcyA9IHN5bmNQcm9wcztcbn0gLy8gU3luYyBhbGwgdmlld3BvcnRzIGJhc2VkIG9uIGFjdGl2ZSBsYXllcidzIHZpZXdwb3J0XG5cblxuZnVuY3Rpb24gc3luY1ZpZXdwb3J0cyhsYXllcnMsIGFjdGl2ZUxheWVyKSB7XG4gIC8vIElmIHdlIGludGVuZCB0byBrZWVwIHRoZSB2aWV3cG9ydCdzIHNjYWxlLCB0cmFuc2xhdGlvbiBhbmQgcm90YXRpb24gaW4gc3luYyxcbiAgLy8gbG9vcCB0aHJvdWdoIHRoZSBsYXllcnNcbiAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgdG8gdGhlIGFjdGl2ZSBsYXllclxuICAgIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoaXMgbGF5ZXIgaGFzIG5vIHZpZXdwb3J0XG4gICAgaWYgKGxheWVyID09PSBhY3RpdmVMYXllciB8fCAhbGF5ZXIudmlld3BvcnQgfHwgIWFjdGl2ZUxheWVyLnZpZXdwb3J0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFsYXllci5zeW5jUHJvcHMpIHtcbiAgICAgIHVwZGF0ZUxheWVyU3luY1Byb3BzKGxheWVyKTtcbiAgICB9XG5cbiAgICB2YXIgdmlld3BvcnRSYXRpbyA9IGdldFZpZXdwb3J0UmF0aW8oYWN0aXZlTGF5ZXIsIGxheWVyKTsgLy8gVXBkYXRlIHRoZSBsYXllcidzIHRyYW5zbGF0aW9uIGFuZCBzY2FsZSB0byBrZWVwIHRoZW0gaW4gc3luYyB3aXRoIHRoZSBmaXJzdCBpbWFnZVxuICAgIC8vIGJhc2VkIG9uIHRoZSByYXRpb3MgYmV0d2VlbiB0aGUgaW1hZ2VzXG5cbiAgICBsYXllci52aWV3cG9ydC5zY2FsZSA9IGFjdGl2ZUxheWVyLnZpZXdwb3J0LnNjYWxlICogdmlld3BvcnRSYXRpbztcbiAgICBsYXllci52aWV3cG9ydC5yb3RhdGlvbiA9IGFjdGl2ZUxheWVyLnZpZXdwb3J0LnJvdGF0aW9uO1xuICAgIGxheWVyLnZpZXdwb3J0LnRyYW5zbGF0aW9uID0ge1xuICAgICAgeDogYWN0aXZlTGF5ZXIudmlld3BvcnQudHJhbnNsYXRpb24ueCAvIHZpZXdwb3J0UmF0aW8sXG4gICAgICB5OiBhY3RpdmVMYXllci52aWV3cG9ydC50cmFuc2xhdGlvbi55IC8gdmlld3BvcnRSYXRpb1xuICAgIH07XG4gICAgbGF5ZXIudmlld3BvcnQuaGZsaXAgPSBhY3RpdmVMYXllci52aWV3cG9ydC5oZmxpcDtcbiAgICBsYXllci52aWV3cG9ydC52ZmxpcCA9IGFjdGl2ZUxheWVyLnZpZXdwb3J0LnZmbGlwO1xuICB9KTtcbn1cbi8qKlxuICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gcmVuZGVyIGFsbCBsYXllcnMgZm9yIGEgQ29ybmVyc3RvbmUgZW5hYmxlZCBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgQ2FudmFzIGNvbnRleHQgdG8gZHJhdyB1cG9uXG4gKiBAcGFyYW0ge0VuYWJsZWRFbGVtZW50TGF5ZXJbXX0gbGF5ZXJzIFRoZSBhcnJheSBvZiBhbGwgbGF5ZXJzIGZvciB0aGlzIGVuYWJsZWQgZWxlbWVudFxuICogQHBhcmFtIHtCb29sZWFufSBpbnZhbGlkYXRlZCBBIGJvb2xlYW4gd2hldGhlciBvciBub3QgdGhpcyBpbWFnZSBoYXMgYmVlbiBpbnZhbGlkYXRlZCBhbmQgbXVzdCBiZSByZWRyYXduXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBtZW1iZXJvZiBJbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gcmVuZGVyTGF5ZXJzKGNvbnRleHQsIGxheWVycywgaW52YWxpZGF0ZWQpIHtcbiAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggbGF5ZXIgYW5kIGRyYXcgaXQgdG8gdGhlIGNhbnZhc1xuICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIsIGluZGV4KSB7XG4gICAgaWYgKCFsYXllci5pbWFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnRleHQuc2F2ZSgpOyAvLyBTZXQgdGhlIGxheWVyJ3MgY2FudmFzIHRvIHRoZSBwaXhlbCBjb29yZGluYXRlIHN5c3RlbVxuXG4gICAgbGF5ZXIuY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgT2JqZWN0KF9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkobGF5ZXIsIGNvbnRleHQpOyAvLyBSZW5kZXIgaW50byB0aGUgbGF5ZXIncyBjYW52YXNcblxuICAgIHZhciBjb2xvcm1hcCA9IGxheWVyLnZpZXdwb3J0LmNvbG9ybWFwIHx8IGxheWVyLm9wdGlvbnMuY29sb3JtYXA7XG4gICAgdmFyIGxhYmVsbWFwID0gbGF5ZXIudmlld3BvcnQubGFiZWxtYXA7XG4gICAgdmFyIGlzSW52YWxpZCA9IGxheWVyLmludmFsaWQgfHwgaW52YWxpZGF0ZWQ7XG5cbiAgICBpZiAoY29sb3JtYXAgJiYgY29sb3JtYXAgIT09ICcnICYmIGxhYmVsbWFwID09PSB0cnVlKSB7XG4gICAgICBPYmplY3QoX3JlbmRlcmluZ19yZW5kZXJMYWJlbE1hcEltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJhZGRMYWJlbE1hcExheWVyXCJdKShsYXllciwgaXNJbnZhbGlkKTtcbiAgICB9IGVsc2UgaWYgKGNvbG9ybWFwICYmIGNvbG9ybWFwICE9PSAnJykge1xuICAgICAgT2JqZWN0KF9yZW5kZXJpbmdfcmVuZGVyUHNldWRvQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiYWRkUHNldWRvQ29sb3JMYXllclwiXSkobGF5ZXIsIGlzSW52YWxpZCk7XG4gICAgfSBlbHNlIGlmIChsYXllci5pbWFnZS5jb2xvciA9PT0gdHJ1ZSkge1xuICAgICAgT2JqZWN0KF9yZW5kZXJpbmdfcmVuZGVyQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiYWRkQ29sb3JMYXllclwiXSkobGF5ZXIsIGlzSW52YWxpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGJhc2UgbGF5ZXIsIHVzZSB0aGUgYWxwaGEgY2hhbm5lbCBmb3IgcmVuZGVyaW5nIG9mIHRoZSBncmF5c2NhbGUgaW1hZ2VcbiAgICAgIHZhciB1c2VBbHBoYUNoYW5uZWwgPSBpbmRleCA9PT0gMDtcbiAgICAgIE9iamVjdChfcmVuZGVyaW5nX3JlbmRlckdyYXlzY2FsZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJhZGRHcmF5c2NhbGVMYXllclwiXSkobGF5ZXIsIGlzSW52YWxpZCwgdXNlQWxwaGFDaGFubmVsKTtcbiAgICB9IC8vIEFwcGx5IGFueSBnbG9iYWwgb3BhY2l0eSBzZXR0aW5ncyB0aGF0IGhhdmUgYmVlbiBkZWZpbmVkIGZvciB0aGlzIGxheWVyXG5cblxuICAgIGlmIChsYXllci5vcHRpb25zICYmIGxheWVyLm9wdGlvbnMub3BhY2l0eSkge1xuICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGxheWVyLm9wdGlvbnMub3BhY2l0eTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgfVxuXG4gICAgaWYgKGxheWVyLm9wdGlvbnMgJiYgbGF5ZXIub3B0aW9ucy5maWxsU3R5bGUpIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gbGF5ZXIub3B0aW9ucy5maWxsU3R5bGU7XG4gICAgfSAvLyBTZXQgdGhlIHBpeGVsUmVwbGljYXRpb24gcHJvcGVydHkgYmVmb3JlIGRyYXdpbmcgZnJvbSB0aGUgbGF5ZXIgaW50byB0aGVcbiAgICAvLyBjb21wb3NpdGUgY2FudmFzXG5cblxuICAgIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gIWxheWVyLnZpZXdwb3J0LnBpeGVsUmVwbGljYXRpb247XG4gICAgY29udGV4dC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZDsgLy8gRHJhdyBmcm9tIHRoZSBjdXJyZW50IGxheWVyJ3MgY2FudmFzIG9udG8gdGhlIGVuYWJsZWQgZWxlbWVudCdzIGNhbnZhc1xuXG4gICAgdmFyIHN4ID0gbGF5ZXIudmlld3BvcnQuZGlzcGxheWVkQXJlYS50bGhjLnggLSAxO1xuICAgIHZhciBzeSA9IGxheWVyLnZpZXdwb3J0LmRpc3BsYXllZEFyZWEudGxoYy55IC0gMTtcbiAgICB2YXIgd2lkdGggPSBsYXllci52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLmJyaGMueCAtIHN4O1xuICAgIHZhciBoZWlnaHQgPSBsYXllci52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLmJyaGMueSAtIHN5O1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKGxheWVyLmNhbnZhcywgc3gsIHN5LCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICBsYXllci5pbnZhbGlkID0gZmFsc2U7XG4gIH0pO1xufVxuLyoqXG4gKiBJbnRlcm5hbCBBUEkgZnVuY3Rpb24gdG8gZHJhdyBhIGNvbXBvc2l0ZSBpbWFnZSB0byBhIGdpdmVuIGVuYWJsZWQgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IEFuIGVuYWJsZWQgZWxlbWVudCB0byBkcmF3IGludG9cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaW52YWxpZGF0ZWQgLSB0cnVlIGlmIHBpeGVsIGRhdGEgaGFzIGJlZW4gaW52YWxpZGF0ZWQgYW5kIGNhY2hlZCByZW5kZXJpbmcgc2hvdWxkIG5vdCBiZSB1c2VkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVuYWJsZWRFbGVtZW50LCBpbnZhbGlkYXRlZCkge1xuICB2YXIgZWxlbWVudCA9IGVuYWJsZWRFbGVtZW50LmVsZW1lbnQ7XG4gIHZhciBhbGxMYXllcnMgPSBPYmplY3QoX2xheWVyc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0TGF5ZXJzXCJdKShlbGVtZW50KTtcbiAgdmFyIGFjdGl2ZUxheWVyID0gT2JqZWN0KF9sYXllcnNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldEFjdGl2ZUxheWVyXCJdKShlbGVtZW50KTtcbiAgdmFyIHZpc2libGVMYXllcnMgPSBPYmplY3QoX2xheWVyc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0VmlzaWJsZUxheWVyc1wiXSkoZWxlbWVudCk7XG4gIHZhciByZXN5bmNlZCA9ICFlbmFibGVkRWxlbWVudC5sYXN0U3luY1ZpZXdwb3J0c1N0YXRlICYmIGVuYWJsZWRFbGVtZW50LnN5bmNWaWV3cG9ydHM7IC8vIFRoaXMgc3RhdGUgd2lsbCBoZWxwIHVzIHRvIGRldGVybWluZSBpZiB0aGUgdXNlciBoYXMgcmUtc3luY2VkIHRoZVxuICAvLyBsYXllcnMgYWxsb3dpbmcgdXMgdG8gbWFrZSBhIG5ldyBjb3B5IG9mIHRoZSB2aWV3cG9ydHNcblxuICBlbmFibGVkRWxlbWVudC5sYXN0U3luY1ZpZXdwb3J0c1N0YXRlID0gZW5hYmxlZEVsZW1lbnQuc3luY1ZpZXdwb3J0czsgLy8gU3RvcmVzIGEgY29weSBvZiBhbGwgdmlld3BvcnRzIGlmIHRoZSB1c2VyIGhhcyBqdXN0IHN5bmNlZCB0aGVtIHRoZW4gd2UgY2FuIHVzZSB0aGVcbiAgLy8gY29waWVzIHRvIGNhbGN1bGF0ZSBhbnl0aGluZyBsYXRlciAocmF0aW8sIHRyYW5zbGF0aW9uIG9mZnNldCwgcm90YXRpb24gb2Zmc2V0LCBldGMpXG5cbiAgaWYgKHJlc3luY2VkKSB7XG4gICAgYWxsTGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgICBpZiAobGF5ZXIudmlld3BvcnQpIHtcbiAgICAgICAgdXBkYXRlTGF5ZXJTeW5jUHJvcHMobGF5ZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IC8vIFN5bmMgYWxsIHZpZXdwb3J0cyBpbiBjYXNlIGl0J3MgYWN0aXZhdGVkXG5cblxuICBpZiAoZW5hYmxlZEVsZW1lbnQuc3luY1ZpZXdwb3J0cyA9PT0gdHJ1ZSkge1xuICAgIHN5bmNWaWV3cG9ydHModmlzaWJsZUxheWVycywgYWN0aXZlTGF5ZXIpO1xuICB9IC8vIEdldCB0aGUgZW5hYmxlZCBlbGVtZW50J3MgY2FudmFzIHNvIHdlIGNhbiBkcmF3IHRvIGl0XG5cblxuICB2YXIgY29udGV4dCA9IGVuYWJsZWRFbGVtZW50LmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuXG4gIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBlbmFibGVkRWxlbWVudC5jYW52YXMud2lkdGgsIGVuYWJsZWRFbGVtZW50LmNhbnZhcy5oZWlnaHQpOyAvLyBSZW5kZXIgYWxsIHZpc2libGUgbGF5ZXJzXG5cbiAgcmVuZGVyTGF5ZXJzKGNvbnRleHQsIHZpc2libGVMYXllcnMsIGludmFsaWRhdGVkKTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ludGVybmFsL2RyYXdJbWFnZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2RyYXdJbWFnZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyoqXG4gKiBJbnRlcm5hbCBBUEkgZnVuY3Rpb24gdG8gZHJhdyBhbiBpbWFnZSB0byBhIGdpdmVuIGVuYWJsZWQgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBFbmFibGVkIEVsZW1lbnQgdG8gcmVkcmF3XG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnZhbGlkYXRlZCA9IGZhbHNlXSAtIHRydWUgaWYgcGl4ZWwgZGF0YSBoYXMgYmVlbiBpbnZhbGlkYXRlZCBhbmQgY2FjaGVkIHJlbmRlcmluZyBzaG91bGQgbm90IGJlIHVzZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIEludGVybmFsXG4gKi9cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVuYWJsZWRFbGVtZW50KSB7XG4gIHZhciBpbnZhbGlkYXRlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gIGVuYWJsZWRFbGVtZW50Lm5lZWRzUmVkcmF3ID0gdHJ1ZTtcblxuICBpZiAoaW52YWxpZGF0ZWQpIHtcbiAgICBlbmFibGVkRWxlbWVudC5pbnZhbGlkID0gdHJ1ZTtcbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvZHJhd0ltYWdlU3luYy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbnRlcm5hbC9kcmF3SW1hZ2VTeW5jLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbm93LmpzICovIFwiLi9pbnRlcm5hbC9ub3cuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RyYXdDb21wb3NpdGVJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kcmF3Q29tcG9zaXRlSW1hZ2UuanMgKi8gXCIuL2ludGVybmFsL2RyYXdDb21wb3NpdGVJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyaW5nX3JlbmRlckNvbG9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlcmluZy9yZW5kZXJDb2xvckltYWdlLmpzICovIFwiLi9yZW5kZXJpbmcvcmVuZGVyQ29sb3JJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyaW5nX3JlbmRlckdyYXlzY2FsZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXJpbmcvcmVuZGVyR3JheXNjYWxlSW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJHcmF5c2NhbGVJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyaW5nX3JlbmRlclBzZXVkb0NvbG9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlcmluZy9yZW5kZXJQc2V1ZG9Db2xvckltYWdlLmpzICovIFwiLi9yZW5kZXJpbmcvcmVuZGVyUHNldWRvQ29sb3JJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyaW5nX3JlbmRlckxhYmVsTWFwSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlcmluZy9yZW5kZXJMYWJlbE1hcEltYWdlLmpzICovIFwiLi9yZW5kZXJpbmcvcmVuZGVyTGFiZWxNYXBJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90cmlnZ2VyRXZlbnQuanMgKi8gXCIuL3RyaWdnZXJFdmVudC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMuanMgKi8gXCIuL2V2ZW50cy5qc1wiKTtcblxuXG5cblxuXG5cblxuXG4vKipcclxuICogRHJhdyBhbiBpbWFnZSB0byBhIGdpdmVuIGVuYWJsZWQgZWxlbWVudCBzeW5jaHJvbm91c2x5XHJcbiAqXHJcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IEFuIGVuYWJsZWQgZWxlbWVudCB0byBkcmF3IGludG9cclxuICogQHBhcmFtIHtCb29sZWFufSBpbnZhbGlkYXRlZCAtIHRydWUgaWYgcGl4ZWwgZGF0YSBoYXMgYmVlbiBpbnZhbGlkYXRlZCBhbmQgY2FjaGVkIHJlbmRlcmluZyBzaG91bGQgbm90IGJlIHVzZWRcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBtZW1iZXJvZiBJbnRlcm5hbFxyXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZW5hYmxlZEVsZW1lbnQsIGludmFsaWRhdGVkKSB7XG4gIHZhciBpbWFnZSA9IGVuYWJsZWRFbGVtZW50LmltYWdlO1xuICB2YXIgZWxlbWVudCA9IGVuYWJsZWRFbGVtZW50LmVsZW1lbnQ7XG4gIHZhciBsYXllcnMgPSBlbmFibGVkRWxlbWVudC5sYXllcnMgfHwgW107IC8vIENoZWNrIGlmIGVuYWJsZWRFbGVtZW50IGNhbiBiZSByZWRyYXduXG5cbiAgaWYgKCFlbmFibGVkRWxlbWVudC5jYW52YXMgfHwgIShlbmFibGVkRWxlbWVudC5pbWFnZSB8fCBsYXllcnMubGVuZ3RoKSkge1xuICAgIHJldHVybjtcbiAgfSAvLyBTdGFydCBtZWFzdXJpbmcgdGhlIHRpbWUgbmVlZGVkIHRvIGRyYXcgdGhlIGltYWdlL2xheWVyc1xuXG5cbiAgdmFyIHN0YXJ0ID0gT2JqZWN0KF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKCk7XG4gIGltYWdlLnN0YXRzID0ge1xuICAgIGxhc3RHZXRQaXhlbERhdGFUaW1lOiAtMS4wLFxuICAgIGxhc3RTdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVRpbWU6IC0xLjAsXG4gICAgbGFzdFB1dEltYWdlRGF0YVRpbWU6IC0xLjAsXG4gICAgbGFzdFJlbmRlclRpbWU6IC0xLjAsXG4gICAgbGFzdEx1dEdlbmVyYXRlVGltZTogLTEuMFxuICB9O1xuXG4gIGlmIChsYXllcnMgJiYgbGF5ZXJzLmxlbmd0aCkge1xuICAgIE9iamVjdChfZHJhd0NvbXBvc2l0ZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCwgaW52YWxpZGF0ZWQpO1xuICB9IGVsc2UgaWYgKGltYWdlKSB7XG4gICAgdmFyIHJlbmRlciA9IGltYWdlLnJlbmRlcjtcblxuICAgIGlmICghcmVuZGVyKSB7XG4gICAgICBpZiAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuY29sb3JtYXAgJiYgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuY29sb3JtYXAgIT09ICcnICYmIGVuYWJsZWRFbGVtZW50LmltYWdlLmxhYmVsbWFwID09PSB0cnVlKSB7XG4gICAgICAgIHJlbmRlciA9IF9yZW5kZXJpbmdfcmVuZGVyTGFiZWxNYXBJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wicmVuZGVyTGFiZWxNYXBJbWFnZVwiXTtcbiAgICAgIH0gZWxzZSBpZiAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuY29sb3JtYXAgJiYgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuY29sb3JtYXAgIT09ICcnKSB7XG4gICAgICAgIHJlbmRlciA9IF9yZW5kZXJpbmdfcmVuZGVyUHNldWRvQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wicmVuZGVyUHNldWRvQ29sb3JJbWFnZVwiXTtcbiAgICAgIH0gZWxzZSBpZiAoaW1hZ2UuY29sb3IpIHtcbiAgICAgICAgcmVuZGVyID0gX3JlbmRlcmluZ19yZW5kZXJDb2xvckltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJyZW5kZXJDb2xvckltYWdlXCJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyID0gX3JlbmRlcmluZ19yZW5kZXJHcmF5c2NhbGVJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wicmVuZGVyR3JheXNjYWxlSW1hZ2VcIl07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKGVuYWJsZWRFbGVtZW50LCBpbnZhbGlkYXRlZCk7XG4gIH0gLy8gQ2FsY3VsYXRlIGhvdyBsb25nIGl0IHRvb2sgdG8gZHJhdyB0aGUgaW1hZ2UvbGF5ZXJzXG5cblxuICB2YXIgcmVuZGVyVGltZUluTXMgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xuICB2YXIgZXZlbnREYXRhID0ge1xuICAgIHZpZXdwb3J0OiBlbmFibGVkRWxlbWVudC52aWV3cG9ydCxcbiAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgIGltYWdlOiBpbWFnZSxcbiAgICBlbmFibGVkRWxlbWVudDogZW5hYmxlZEVsZW1lbnQsXG4gICAgY2FudmFzQ29udGV4dDogZW5hYmxlZEVsZW1lbnQuY2FudmFzLmdldENvbnRleHQoJzJkJyksXG4gICAgcmVuZGVyVGltZUluTXM6IHJlbmRlclRpbWVJbk1zXG4gIH07XG4gIGltYWdlLnN0YXRzLmxhc3RSZW5kZXJUaW1lID0gcmVuZGVyVGltZUluTXM7XG4gIGVuYWJsZWRFbGVtZW50LmludmFsaWQgPSBmYWxzZTtcbiAgZW5hYmxlZEVsZW1lbnQubmVlZHNSZWRyYXcgPSBmYWxzZTtcbiAgT2JqZWN0KF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0pKGVsZW1lbnQsIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0uSU1BR0VfUkVOREVSRUQsIGV2ZW50RGF0YSk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbnRlcm5hbC9nZW5lcmF0ZUNvbG9yTHV0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2dlbmVyYXRlQ29sb3JMdXQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dldFZPSUx1dF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9nZXRWT0lMdXQuanMgKi8gXCIuL2ludGVybmFsL2dldFZPSUx1dC5qc1wiKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgTFVUIHVzZWQgd2hpbGUgcmVuZGVyaW5nIHRvIGNvbnZlcnQgc3RvcmVkIHBpeGVsIHZhbHVlcyB0b1xuICogZGlzcGxheSBwaXhlbHNcbiAqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBBIENvcm5lcnN0b25lIEltYWdlIE9iamVjdFxuICogQHBhcmFtIHtOdW1iZXJ9IHdpbmRvd1dpZHRoIFRoZSBXaW5kb3cgV2lkdGhcbiAqIEBwYXJhbSB7TnVtYmVyfSB3aW5kb3dDZW50ZXIgVGhlIFdpbmRvdyBDZW50ZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaW52ZXJ0IEEgYm9vbGVhbiBkZXNjcmliaW5nIHdoZXRoZXIgb3Igbm90IHRoZSBpbWFnZSBoYXMgYmVlbiBpbnZlcnRlZFxuICogQHBhcmFtIHtBcnJheX0gW3ZvaUxVVF0gQSBWb2x1bWUgb2YgSW50ZXJlc3QgTG9va3VwIFRhYmxlXG4gKlxuICogQHJldHVybnMge1VpbnQ4Q2xhbXBlZEFycmF5fSBBIGxvb2t1cCB0YWJsZSB0byBhcHBseSB0byB0aGUgaW1hZ2VcbiAqIEBtZW1iZXJvZiBJbnRlcm5hbFxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGltYWdlLCB3aW5kb3dXaWR0aCwgd2luZG93Q2VudGVyLCBpbnZlcnQsIHZvaUxVVCkge1xuICB2YXIgbWF4UGl4ZWxWYWx1ZSA9IGltYWdlLm1heFBpeGVsVmFsdWU7XG4gIHZhciBtaW5QaXhlbFZhbHVlID0gaW1hZ2UubWluUGl4ZWxWYWx1ZTtcbiAgdmFyIG9mZnNldCA9IE1hdGgubWluKG1pblBpeGVsVmFsdWUsIDApO1xuXG4gIGlmIChpbWFnZS5jYWNoZWRMdXQgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBsZW5ndGggPSBtYXhQaXhlbFZhbHVlIC0gb2Zmc2V0ICsgMTtcbiAgICBpbWFnZS5jYWNoZWRMdXQgPSB7fTtcbiAgICBpbWFnZS5jYWNoZWRMdXQubHV0QXJyYXkgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTtcbiAgfVxuXG4gIHZhciBsdXQgPSBpbWFnZS5jYWNoZWRMdXQubHV0QXJyYXk7XG4gIHZhciB2bHV0Zm4gPSBPYmplY3QoX2dldFZPSUx1dF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkod2luZG93V2lkdGgsIHdpbmRvd0NlbnRlciwgdm9pTFVUKTtcblxuICBpZiAoaW52ZXJ0ID09PSB0cnVlKSB7XG4gICAgZm9yICh2YXIgc3RvcmVkVmFsdWUgPSBtaW5QaXhlbFZhbHVlOyBzdG9yZWRWYWx1ZSA8PSBtYXhQaXhlbFZhbHVlOyBzdG9yZWRWYWx1ZSsrKSB7XG4gICAgICBsdXRbc3RvcmVkVmFsdWUgKyAtb2Zmc2V0XSA9IDI1NSAtIHZsdXRmbihzdG9yZWRWYWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIF9zdG9yZWRWYWx1ZSA9IG1pblBpeGVsVmFsdWU7IF9zdG9yZWRWYWx1ZSA8PSBtYXhQaXhlbFZhbHVlOyBfc3RvcmVkVmFsdWUrKykge1xuICAgICAgbHV0W19zdG9yZWRWYWx1ZSArIC1vZmZzZXRdID0gdmx1dGZuKF9zdG9yZWRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGx1dDtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ludGVybmFsL2dlbmVyYXRlTHV0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbnRlcm5hbC9nZW5lcmF0ZUx1dC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dldE1vZGFsaXR5TFVUX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldE1vZGFsaXR5TFVULmpzICovIFwiLi9pbnRlcm5hbC9nZXRNb2RhbGl0eUxVVC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ2V0Vk9JTHV0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldFZPSUx1dC5qcyAqLyBcIi4vaW50ZXJuYWwvZ2V0Vk9JTHV0LmpzXCIpO1xuXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgTFVUIHVzZWQgd2hpbGUgcmVuZGVyaW5nIHRvIGNvbnZlcnQgc3RvcmVkIHBpeGVsIHZhbHVlcyB0b1xyXG4gKiBkaXNwbGF5IHBpeGVsc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBBIENvcm5lcnN0b25lIEltYWdlIE9iamVjdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gd2luZG93V2lkdGggVGhlIFdpbmRvdyBXaWR0aFxyXG4gKiBAcGFyYW0ge051bWJlcn0gd2luZG93Q2VudGVyIFRoZSBXaW5kb3cgQ2VudGVyXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaW52ZXJ0IEEgYm9vbGVhbiBkZXNjcmliaW5nIHdoZXRoZXIgb3Igbm90IHRoZSBpbWFnZSBoYXMgYmVlbiBpbnZlcnRlZFxyXG4gKiBAcGFyYW0ge0FycmF5fSBbbW9kYWxpdHlMVVRdIEEgbW9kYWxpdHkgTG9va3VwIFRhYmxlXHJcbiAqIEBwYXJhbSB7QXJyYXl9IFt2b2lMVVRdIEEgVm9sdW1lIG9mIEludGVyZXN0IExvb2t1cCBUYWJsZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7VWludDhDbGFtcGVkQXJyYXl9IEEgbG9va3VwIHRhYmxlIHRvIGFwcGx5IHRvIHRoZSBpbWFnZVxyXG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcclxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGltYWdlLCB3aW5kb3dXaWR0aCwgd2luZG93Q2VudGVyLCBpbnZlcnQsIG1vZGFsaXR5TFVULCB2b2lMVVQpIHtcbiAgdmFyIG1heFBpeGVsVmFsdWUgPSBpbWFnZS5tYXhQaXhlbFZhbHVlO1xuICB2YXIgbWluUGl4ZWxWYWx1ZSA9IGltYWdlLm1pblBpeGVsVmFsdWU7XG4gIHZhciBvZmZzZXQgPSBNYXRoLm1pbihtaW5QaXhlbFZhbHVlLCAwKTtcblxuICBpZiAoaW1hZ2UuY2FjaGVkTHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgbGVuZ3RoID0gbWF4UGl4ZWxWYWx1ZSAtIG9mZnNldCArIDE7XG4gICAgaW1hZ2UuY2FjaGVkTHV0ID0ge307XG4gICAgaW1hZ2UuY2FjaGVkTHV0Lmx1dEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGxlbmd0aCk7XG4gIH1cblxuICB2YXIgbHV0ID0gaW1hZ2UuY2FjaGVkTHV0Lmx1dEFycmF5O1xuICB2YXIgbWx1dGZuID0gT2JqZWN0KF9nZXRNb2RhbGl0eUxVVF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoaW1hZ2Uuc2xvcGUsIGltYWdlLmludGVyY2VwdCwgbW9kYWxpdHlMVVQpO1xuICB2YXIgdmx1dGZuID0gT2JqZWN0KF9nZXRWT0lMdXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKHdpbmRvd1dpZHRoLCB3aW5kb3dDZW50ZXIsIHZvaUxVVCk7XG5cbiAgaWYgKGludmVydCA9PT0gdHJ1ZSkge1xuICAgIGZvciAodmFyIHN0b3JlZFZhbHVlID0gbWluUGl4ZWxWYWx1ZTsgc3RvcmVkVmFsdWUgPD0gbWF4UGl4ZWxWYWx1ZTsgc3RvcmVkVmFsdWUrKykge1xuICAgICAgbHV0W3N0b3JlZFZhbHVlICsgLW9mZnNldF0gPSAyNTUgLSB2bHV0Zm4obWx1dGZuKHN0b3JlZFZhbHVlKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIF9zdG9yZWRWYWx1ZSA9IG1pblBpeGVsVmFsdWU7IF9zdG9yZWRWYWx1ZSA8PSBtYXhQaXhlbFZhbHVlOyBfc3RvcmVkVmFsdWUrKykge1xuICAgICAgbHV0W19zdG9yZWRWYWx1ZSArIC1vZmZzZXRdID0gdmx1dGZuKG1sdXRmbihfc3RvcmVkVmFsdWUpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbHV0O1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvZ2V0Q2FudmFzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW50ZXJuYWwvZ2V0Q2FudmFzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldENhbnZhczsgfSk7XG52YXIgQ0FOVkFTX0NTU19DTEFTUyA9ICdjb3JuZXJzdG9uZS1jYW52YXMnO1xuLyoqXG4gKiBDcmVhdGUgYSBjYW52YXMgYW5kIGFwcGVuZCBpdCB0byB0aGUgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgQW4gSFRNTCBFbGVtZW50XG4gKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gY2FudmFzIEEgQ2FudmFzIERPTSBlbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlQ2FudmFzKGVsZW1lbnQpIHtcbiAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGNhbnZhcy5jbGFzc0xpc3QuYWRkKENBTlZBU19DU1NfQ0xBU1MpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gIHJldHVybiBjYW52YXM7XG59XG4vKipcbiAqIENyZWF0ZSBhIGNhbnZhcyBvciByZXR1cm5zIHRoZSBvbmUgdGhhdCBhbHJlYWR5IGV4aXN0cyBmb3IgYSBnaXZlbiBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBBbiBIVE1MIEVsZW1lbnRcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBjYW52YXMgQSBDYW52YXMgRE9NIGVsZW1lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldENhbnZhcyhlbGVtZW50KSB7XG4gIHZhciBzZWxlY3RvciA9IFwiY2FudmFzLlwiLmNvbmNhdChDQU5WQVNfQ1NTX0NMQVNTKTtcbiAgcmV0dXJuIGVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgfHwgY3JlYXRlQ2FudmFzKGVsZW1lbnQpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ludGVybmFsL2dldERlZmF1bHRWaWV3cG9ydC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2dldERlZmF1bHRWaWV3cG9ydC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9nZXRJbWFnZUZpdFNjYWxlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldEltYWdlRml0U2NhbGUuanMgKi8gXCIuL2ludGVybmFsL2dldEltYWdlRml0U2NhbGUuanNcIik7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2aWV3cG9ydCBvYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlc1xuICpcbiAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdmlld3BvcnQgb2JqZWN0XG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVWaWV3cG9ydCgpIHtcbiAgdmFyIGRpc3BsYXllZEFyZWEgPSBjcmVhdGVEZWZhdWx0RGlzcGxheWVkQXJlYSgpO1xuICByZXR1cm4ge1xuICAgIHNjYWxlOiAxLFxuICAgIHRyYW5zbGF0aW9uOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAgdm9pOiB7XG4gICAgICB3aW5kb3dXaWR0aDogdW5kZWZpbmVkLFxuICAgICAgd2luZG93Q2VudGVyOiB1bmRlZmluZWRcbiAgICB9LFxuICAgIGludmVydDogZmFsc2UsXG4gICAgcGl4ZWxSZXBsaWNhdGlvbjogZmFsc2UsXG4gICAgcm90YXRpb246IDAsXG4gICAgaGZsaXA6IGZhbHNlLFxuICAgIHZmbGlwOiBmYWxzZSxcbiAgICBtb2RhbGl0eUxVVDogdW5kZWZpbmVkLFxuICAgIHZvaUxVVDogdW5kZWZpbmVkLFxuICAgIGNvbG9ybWFwOiB1bmRlZmluZWQsXG4gICAgbGFiZWxtYXA6IGZhbHNlLFxuICAgIGRpc3BsYXllZEFyZWE6IGRpc3BsYXllZEFyZWFcbiAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyB0aGUgZGVmYXVsdCBkaXNwbGF5ZWQgYXJlYS5cbiAqIEMuMTAuNCBEaXNwbGF5ZWQgQXJlYSBNb2R1bGU6IFRoaXMgTW9kdWxlIGRlc2NyaWJlcyBBdHRyaWJ1dGVzIHJlcXVpcmVkIHRvIGRlZmluZSBhIFNwZWNpZmllZCBEaXNwbGF5ZWQgQXJlYSBzcGFjZS5cbiAqXG4gKiBAcmV0dXJucyB7dGxoYzoge3gseX0sIGJyaGM6IHt4LCB5fSxyb3dQaXhlbFNwYWNpbmc6IE51bWJlciwgY29sdW1uUGl4ZWxTcGFjaW5nOiBOdW1iZXIsIHByZXNlbnRhdGlvblNpemVNb2RlOiBOdW1iZXJ9IGRpc3BsYXllZEFyZWEgb2JqZWN0XG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHREaXNwbGF5ZWRBcmVhKCkge1xuICByZXR1cm4ge1xuICAgIC8vIFRvcCBMZWZ0IEhhbmQgQ29ybmVyXG4gICAgdGxoYzoge1xuICAgICAgeDogMSxcbiAgICAgIHk6IDFcbiAgICB9LFxuICAgIC8vIEJvdHRvbSBSaWdodCBIYW5kIENvcm5lclxuICAgIGJyaGM6IHtcbiAgICAgIHg6IDEsXG4gICAgICB5OiAxXG4gICAgfSxcbiAgICByb3dQaXhlbFNwYWNpbmc6IDEsXG4gICAgY29sdW1uUGl4ZWxTcGFjaW5nOiAxLFxuICAgIHByZXNlbnRhdGlvblNpemVNb2RlOiAnTk9ORSdcbiAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2aWV3cG9ydCBvYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcyBmb3IgdGhlIGltYWdlIGFuZCBjYW52YXNcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjYW52YXMgQSBDYW52YXMgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcmV0dXJucyB7Vmlld3BvcnR9IHZpZXdwb3J0IG9iamVjdFxuICogQG1lbWJlcm9mIEludGVybmFsXG4gKi9cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChjYW52YXMsIGltYWdlKSB7XG4gIGlmIChjYW52YXMgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZ2V0RGVmYXVsdFZpZXdwb3J0OiBwYXJhbWV0ZXIgY2FudmFzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgaWYgKGltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gY3JlYXRlVmlld3BvcnQoKTtcbiAgfSAvLyBGaXQgaW1hZ2UgdG8gd2luZG93XG5cblxuICB2YXIgc2NhbGUgPSBPYmplY3QoX2dldEltYWdlRml0U2NhbGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKGNhbnZhcywgaW1hZ2UsIDApLnNjYWxlRmFjdG9yO1xuICByZXR1cm4ge1xuICAgIHNjYWxlOiBzY2FsZSxcbiAgICB0cmFuc2xhdGlvbjoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9LFxuICAgIHZvaToge1xuICAgICAgd2luZG93V2lkdGg6IGltYWdlLndpbmRvd1dpZHRoLFxuICAgICAgd2luZG93Q2VudGVyOiBpbWFnZS53aW5kb3dDZW50ZXJcbiAgICB9LFxuICAgIGludmVydDogaW1hZ2UuaW52ZXJ0LFxuICAgIHBpeGVsUmVwbGljYXRpb246IGZhbHNlLFxuICAgIHJvdGF0aW9uOiAwLFxuICAgIGhmbGlwOiBmYWxzZSxcbiAgICB2ZmxpcDogZmFsc2UsXG4gICAgbW9kYWxpdHlMVVQ6IGltYWdlLm1vZGFsaXR5TFVULFxuICAgIHZvaUxVVDogaW1hZ2Uudm9pTFVULFxuICAgIGNvbG9ybWFwOiBpbWFnZS5jb2xvcm1hcCxcbiAgICBsYWJlbG1hcDogQm9vbGVhbihpbWFnZS5sYWJlbG1hcCksXG4gICAgZGlzcGxheWVkQXJlYToge1xuICAgICAgdGxoYzoge1xuICAgICAgICB4OiAxLFxuICAgICAgICB5OiAxXG4gICAgICB9LFxuICAgICAgYnJoYzoge1xuICAgICAgICB4OiBpbWFnZS5jb2x1bW5zLFxuICAgICAgICB5OiBpbWFnZS5yb3dzXG4gICAgICB9LFxuICAgICAgcm93UGl4ZWxTcGFjaW5nOiBpbWFnZS5yb3dQaXhlbFNwYWNpbmcgPT09IHVuZGVmaW5lZCA/IDEgOiBpbWFnZS5yb3dQaXhlbFNwYWNpbmcsXG4gICAgICBjb2x1bW5QaXhlbFNwYWNpbmc6IGltYWdlLmNvbHVtblBpeGVsU3BhY2luZyA9PT0gdW5kZWZpbmVkID8gMSA6IGltYWdlLmNvbHVtblBpeGVsU3BhY2luZyxcbiAgICAgIHByZXNlbnRhdGlvblNpemVNb2RlOiAnTk9ORSdcbiAgICB9XG4gIH07XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbnRlcm5hbC9nZXRJbWFnZUZpdFNjYWxlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2dldEltYWdlRml0U2NhbGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3ZhbGlkYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi92YWxpZGF0b3IuanMgKi8gXCIuL2ludGVybmFsL3ZhbGlkYXRvci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ2V0SW1hZ2VTaXplX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldEltYWdlU2l6ZS5qcyAqLyBcIi4vaW50ZXJuYWwvZ2V0SW1hZ2VTaXplLmpzXCIpO1xuXG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgaG9yaXpvbnRhbCwgdmVydGljYWwgYW5kIG1pbmltdW0gc2NhbGUgZmFjdG9yIGZvciBhbiBpbWFnZVxuICAgQHBhcmFtIHt7d2lkdGgsIGhlaWdodH19IHdpbmRvd1NpemUgVGhlIHdpbmRvdyBzaXplIHdoZXJlIHRoZSBpbWFnZSBpcyBkaXNwbGF5ZWQuIFRoaXMgY2FuIGJlIGFueSBIVE1MIGVsZW1lbnQgb3Igc3RydWN0dXJlIHdpdGggYSB3aWR0aCwgaGVpZ2h0IGZpZWxkcyAoZS5nLiBjYW52YXMpLlxuICogQHBhcmFtIHthbnl9IGltYWdlIFRoZSBjb3JuZXJzdG9uZSBpbWFnZSBvYmplY3RcbiAqIEBwYXJhbSB7TnVtYmVyfSByb3RhdGlvbiBPcHRpb25hbC4gVGhlIHJvdGF0aW9uIGFuZ2xlIG9mIHRoZSBpbWFnZS5cbiAqIEByZXR1cm4ge3tob3Jpem9udGFsU2NhbGUsIHZlcnRpY2FsU2NhbGUsIHNjYWxlRmFjdG9yfX0gVGhlIGNhbGN1bGF0ZWQgaG9yaXpvbnRhbCwgdmVydGljYWwgYW5kIG1pbmltdW0gc2NhbGUgZmFjdG9yXG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uICh3aW5kb3dTaXplLCBpbWFnZSkge1xuICB2YXIgcm90YXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gIE9iamVjdChfdmFsaWRhdG9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ2YWxpZGF0ZVBhcmFtZXRlclVuZGVmaW5lZE9yTnVsbFwiXSkod2luZG93U2l6ZSwgJ2dldEltYWdlU2NhbGU6IHBhcmFtZXRlciB3aW5kb3dTaXplIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICBPYmplY3QoX3ZhbGlkYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1widmFsaWRhdGVQYXJhbWV0ZXJVbmRlZmluZWRPck51bGxcIl0pKGltYWdlLCAnZ2V0SW1hZ2VTY2FsZTogcGFyYW1ldGVyIGltYWdlIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB2YXIgaW1hZ2VTaXplID0gT2JqZWN0KF9nZXRJbWFnZVNpemVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGltYWdlLCByb3RhdGlvbik7XG4gIHZhciByb3dQaXhlbFNwYWNpbmcgPSBpbWFnZS5yb3dQaXhlbFNwYWNpbmcgfHwgMTtcbiAgdmFyIGNvbHVtblBpeGVsU3BhY2luZyA9IGltYWdlLmNvbHVtblBpeGVsU3BhY2luZyB8fCAxO1xuICB2YXIgdmVydGljYWxSYXRpbyA9IDE7XG4gIHZhciBob3Jpem9udGFsUmF0aW8gPSAxO1xuXG4gIGlmIChyb3dQaXhlbFNwYWNpbmcgPCBjb2x1bW5QaXhlbFNwYWNpbmcpIHtcbiAgICBob3Jpem9udGFsUmF0aW8gPSBjb2x1bW5QaXhlbFNwYWNpbmcgLyByb3dQaXhlbFNwYWNpbmc7XG4gIH0gZWxzZSB7XG4gICAgLy8gZXZlbiBpZiB0aGV5IGFyZSBlcXVhbCB3ZSB3YW50IHRvIGNhbGN1bGF0ZSB0aGlzIHJhdGlvICh0aGUgcmF0aW9uIG1pZ2h0IGJlIDAuNSlcbiAgICB2ZXJ0aWNhbFJhdGlvID0gcm93UGl4ZWxTcGFjaW5nIC8gY29sdW1uUGl4ZWxTcGFjaW5nO1xuICB9XG5cbiAgdmFyIHZlcnRpY2FsU2NhbGUgPSB3aW5kb3dTaXplLmhlaWdodCAvIGltYWdlU2l6ZS5oZWlnaHQgLyB2ZXJ0aWNhbFJhdGlvO1xuICB2YXIgaG9yaXpvbnRhbFNjYWxlID0gd2luZG93U2l6ZS53aWR0aCAvIGltYWdlU2l6ZS53aWR0aCAvIGhvcml6b250YWxSYXRpbzsgLy8gRml0IGltYWdlIHRvIHdpbmRvd1xuXG4gIHJldHVybiB7XG4gICAgdmVydGljYWxTY2FsZTogdmVydGljYWxTY2FsZSxcbiAgICBob3Jpem9udGFsU2NhbGU6IGhvcml6b250YWxTY2FsZSxcbiAgICBzY2FsZUZhY3RvcjogTWF0aC5taW4oaG9yaXpvbnRhbFNjYWxlLCB2ZXJ0aWNhbFNjYWxlKVxuICB9O1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvZ2V0SW1hZ2VTaXplLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW50ZXJuYWwvZ2V0SW1hZ2VTaXplLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3ZhbGlkYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi92YWxpZGF0b3IuanMgKi8gXCIuL2ludGVybmFsL3ZhbGlkYXRvci5qc1wiKTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgYW5nbGUgaXMgcm90YXRlZFxuICogQHBhcmFtIHtOdW1iZXJ9IHJvdGF0aW9uIHRoZSByb3RhdGlvbiBhbmdsZVxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGFuZ2xlIGlzIHJvdGF0ZWQ7IE90aGVyd2lzZSwgZmFsc2UuXG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcbiAqL1xuXG5mdW5jdGlvbiBpc1JvdGF0ZWQocm90YXRpb24pIHtcbiAgcmV0dXJuICEocm90YXRpb24gPT09IG51bGwgfHwgcm90YXRpb24gPT09IHVuZGVmaW5lZCB8fCByb3RhdGlvbiA9PT0gMCB8fCByb3RhdGlvbiA9PT0gMTgwKTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjdXJyZW50IGltYWdlIGRpbWVuc2lvbnMgZ2l2ZW4gYW4gZW5hYmxlZCBlbGVtZW50XG4gKlxuICogQHBhcmFtIHthbnl9IGltYWdlIFRoZSBDb3JuZXJzdG9uZSBpbWFnZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSByb3RhdGlvbiBPcHRpb25hbC4gVGhlIHJvdGF0aW9uIGFuZ2xlIG9mIHRoZSBpbWFnZS5cbiAqIEByZXR1cm4ge3t3aWR0aDpOdW1iZXIsIGhlaWdodDpOdW1iZXJ9fSBUaGUgSW1hZ2UgZGltZW5zaW9uc1xuICogQG1lbWJlcm9mIEludGVybmFsXG4gKi9cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChpbWFnZSkge1xuICB2YXIgcm90YXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gIE9iamVjdChfdmFsaWRhdG9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJ2YWxpZGF0ZVBhcmFtZXRlclVuZGVmaW5lZE9yTnVsbFwiXSkoaW1hZ2UsICdnZXRJbWFnZVNpemU6IHBhcmFtZXRlciBpbWFnZSBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgT2JqZWN0KF92YWxpZGF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInZhbGlkYXRlUGFyYW1ldGVyVW5kZWZpbmVkT3JOdWxsXCJdKShpbWFnZS53aWR0aCwgJ2dldEltYWdlU2l6ZTogcGFyYW1ldGVyIGltYWdlIG11c3QgaGF2ZSB3aWR0aCcpO1xuICBPYmplY3QoX3ZhbGlkYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1widmFsaWRhdGVQYXJhbWV0ZXJVbmRlZmluZWRPck51bGxcIl0pKGltYWdlLmhlaWdodCwgJ2dldEltYWdlU2l6ZTogcGFyYW1ldGVyIGltYWdlIG11c3QgaGF2ZSBoZWlnaHQnKTtcblxuICBpZiAoaXNSb3RhdGVkKHJvdGF0aW9uKSkge1xuICAgIHJldHVybiB7XG4gICAgICBoZWlnaHQ6IGltYWdlLndpZHRoLFxuICAgICAgd2lkdGg6IGltYWdlLmhlaWdodFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiBpbWFnZS53aWR0aCxcbiAgICBoZWlnaHQ6IGltYWdlLmhlaWdodFxuICB9O1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvZ2V0TW9kYWxpdHlMVVQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2dldE1vZGFsaXR5TFVULmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qKlxuICogR2VuZXJhdGVzIGEgbGluZWFyIG1vZGFsaXR5IHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uXG4gKlxuICogU2VlIERJQ09NIFBTMy4zIEMuMTEuMSBNb2RhbGl0eSBMVVQgTW9kdWxlXG4gKlxuICogaHR0cDovL2RpY29tLm5lbWEub3JnL21lZGljYWwvRGljb20vY3VycmVudC9vdXRwdXQvY2h0bWwvcGFydDAzL3NlY3RfQy4xMS5odG1sXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHNsb3BlIG0gaW4gdGhlIGVxdWF0aW9uIHNwZWNpZmllZCBieSBSZXNjYWxlIEludGVyY2VwdCAoMDAyOCwxMDUyKS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBpbnRlcmNlcHQgVGhlIHZhbHVlIGIgaW4gcmVsYXRpb25zaGlwIGJldHdlZW4gc3RvcmVkIHZhbHVlcyAoU1YpIGFuZCB0aGUgb3V0cHV0IHVuaXRzIHNwZWNpZmllZCBpbiBSZXNjYWxlIFR5cGUgKDAwMjgsMTA1NCkuXG5cbiBPdXRwdXQgdW5pdHMgPSBtKlNWICsgYi5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCopOiAqfSBBIGxpbmVhciBtb2RhbGl0eSBMVVQgZnVuY3Rpb24uIEdpdmVuIGEgc3RvcmVkIHBpeGVsIGl0IHJldHVybnMgdGhlIG1vZGFsaXR5IHBpeGVsIHZhbHVlXG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVMaW5lYXJNb2RhbGl0eUxVVChzbG9wZSwgaW50ZXJjZXB0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RvcmVkUGl4ZWxWYWx1ZSkge1xuICAgIHJldHVybiBzdG9yZWRQaXhlbFZhbHVlICogc2xvcGUgKyBpbnRlcmNlcHQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTm9uTGluZWFyTW9kYWxpdHlMVVQobW9kYWxpdHlMVVQpIHtcbiAgdmFyIG1pblZhbHVlID0gbW9kYWxpdHlMVVQubHV0WzBdO1xuICB2YXIgbWF4VmFsdWUgPSBtb2RhbGl0eUxVVC5sdXRbbW9kYWxpdHlMVVQubHV0Lmxlbmd0aCAtIDFdO1xuICB2YXIgbWF4VmFsdWVNYXBwZWQgPSBtb2RhbGl0eUxVVC5maXJzdFZhbHVlTWFwcGVkICsgbW9kYWxpdHlMVVQubHV0Lmxlbmd0aDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZWRQaXhlbFZhbHVlKSB7XG4gICAgaWYgKHN0b3JlZFBpeGVsVmFsdWUgPCBtb2RhbGl0eUxVVC5maXJzdFZhbHVlTWFwcGVkKSB7XG4gICAgICByZXR1cm4gbWluVmFsdWU7XG4gICAgfSBlbHNlIGlmIChzdG9yZWRQaXhlbFZhbHVlID49IG1heFZhbHVlTWFwcGVkKSB7XG4gICAgICByZXR1cm4gbWF4VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGFsaXR5TFVULmx1dFtzdG9yZWRQaXhlbFZhbHVlXTtcbiAgfTtcbn1cbi8qKlxuICogR2V0IHRoZSBhcHByb3ByaWF0ZSBNb2RhbGl0eSBMVVQgZm9yIHRoZSBjdXJyZW50IHNpdHVhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gW3Nsb3BlXSBtIGluIHRoZSBlcXVhdGlvbiBzcGVjaWZpZWQgYnkgUmVzY2FsZSBJbnRlcmNlcHQgKDAwMjgsMTA1MikuXG4gKiBAcGFyYW0ge051bWJlcn0gW2ludGVyY2VwdF0gVGhlIHZhbHVlIGIgaW4gcmVsYXRpb25zaGlwIGJldHdlZW4gc3RvcmVkIHZhbHVlcyAoU1YpIGFuZCB0aGUgb3V0cHV0IHVuaXRzIHNwZWNpZmllZCBpbiBSZXNjYWxlIFR5cGUgKDAwMjgsMTA1NCkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbW9kYWxpdHlMVVRdIEEgbW9kYWxpdHkgTFVUIGZ1bmN0aW9uLiBHaXZlbiBhIHN0b3JlZCBwaXhlbCBpdCByZXR1cm5zIHRoZSBtb2RhbGl0eSBwaXhlbCB2YWx1ZS5cbiAqXG4gKiBAcmV0dXJuIHtmdW5jdGlvbigqKTogKn0gQSBtb2RhbGl0eSBMVVQgZnVuY3Rpb24uIEdpdmVuIGEgc3RvcmVkIHBpeGVsIGl0IHJldHVybnMgdGhlIG1vZGFsaXR5IHBpeGVsIHZhbHVlLlxuICogQG1lbWJlcm9mIEludGVybmFsXG4gKi9cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChzbG9wZSwgaW50ZXJjZXB0LCBtb2RhbGl0eUxVVCkge1xuICBpZiAobW9kYWxpdHlMVVQpIHtcbiAgICByZXR1cm4gZ2VuZXJhdGVOb25MaW5lYXJNb2RhbGl0eUxVVChtb2RhbGl0eUxVVCk7XG4gIH1cblxuICByZXR1cm4gZ2VuZXJhdGVMaW5lYXJNb2RhbGl0eUxVVChzbG9wZSwgaW50ZXJjZXB0KTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ludGVybmFsL2dldFRyYW5zZm9ybS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2dldFRyYW5zZm9ybS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jYWxjdWxhdGVUcmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY2FsY3VsYXRlVHJhbnNmb3JtLmpzICovIFwiLi9pbnRlcm5hbC9jYWxjdWxhdGVUcmFuc2Zvcm0uanNcIik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVuYWJsZWRFbGVtZW50KSB7XG4gIC8vIEZvciBub3cgd2Ugd2lsbCBjYWxjdWxhdGUgaXQgZXZlcnkgdGltZSBpdCBpcyByZXF1ZXN0ZWQuXG4gIC8vIEluIHRoZSBmdXR1cmUsIHdlIG1heSB3YW50IHRvIGNhY2hlIGl0IGluIHRoZSBlbmFibGVkIGVsZW1lbnQgdG8gc3BlZWQgdGhpbmdzIHVwLlxuICByZXR1cm4gT2JqZWN0KF9jYWxjdWxhdGVUcmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50KTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ludGVybmFsL2dldFZPSUx1dC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2dldFZPSUx1dC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH1cblxuLyogZXNsaW50IG5vLWJpdHdpc2U6IDAgKi9cblxuLyoqXG4gKiBWb2x1bWUgb2YgSW50ZXJlc3QgTG9va3VwIFRhYmxlIEZ1bmN0aW9uXG4gKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBWT0lMVVRGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtb2RhbGl0eUx1dFZhbHVlXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0cmFuc2Zvcm1lZCB2YWx1ZVxuICogQG1lbWJlcm9mIE9iamVjdHNcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGU6IFZPSUxVVFxuICovXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB3aW5kb3dXaWR0aCBXaW5kb3cgV2lkdGhcbiAqIEBwYXJhbSB7TnVtYmVyfSB3aW5kb3dDZW50ZXIgV2luZG93IENlbnRlclxuICogQHJldHVybnMge1ZPSUxVVEZ1bmN0aW9ufSBWT0kgTFVUIG1hcHBpbmcgZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBWT0lMVVRcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVMaW5lYXJWT0lMVVQod2luZG93V2lkdGgsIHdpbmRvd0NlbnRlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKG1vZGFsaXR5THV0VmFsdWUpIHtcbiAgICByZXR1cm4gKChtb2RhbGl0eUx1dFZhbHVlIC0gd2luZG93Q2VudGVyKSAvIHdpbmRvd1dpZHRoICsgMC41KSAqIDI1NS4wO1xuICB9O1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIG5vbi1saW5lYXIgdm9sdW1lIG9mIGludGVyZXN0IGxvb2t1cCB0YWJsZVxuICpcbiAqIEBwYXJhbSB7TFVUfSB2b2lMVVQgVm9sdW1lIG9mIEludGVyZXN0IExvb2t1cCBUYWJsZSBPYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Vk9JTFVURnVuY3Rpb259IFZPSSBMVVQgbWFwcGluZyBmdW5jdGlvblxuICogQG1lbWJlcm9mIFZPSUxVVFxuICovXG5cblxuZnVuY3Rpb24gZ2VuZXJhdGVOb25MaW5lYXJWT0lMVVQodm9pTFVUKSB7XG4gIC8vIFdlIGRvbid0IHRydXN0IHRoZSB2b2lMVVQubnVtQml0c1BlckVudHJ5LCBtYWlubHkgdGhhbmtzIHRvIEFnZmEhXG4gIHZhciBiaXRzUGVyRW50cnkgPSBNYXRoLm1heC5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkodm9pTFVULmx1dCkpLnRvU3RyaW5nKDIpLmxlbmd0aDtcbiAgdmFyIHNoaWZ0ID0gYml0c1BlckVudHJ5IC0gODtcbiAgdmFyIG1pblZhbHVlID0gdm9pTFVULmx1dFswXSA+PiBzaGlmdDtcbiAgdmFyIG1heFZhbHVlID0gdm9pTFVULmx1dFt2b2lMVVQubHV0Lmxlbmd0aCAtIDFdID4+IHNoaWZ0O1xuICB2YXIgbWF4VmFsdWVNYXBwZWQgPSB2b2lMVVQuZmlyc3RWYWx1ZU1hcHBlZCArIHZvaUxVVC5sdXQubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChtb2RhbGl0eUx1dFZhbHVlKSB7XG4gICAgaWYgKG1vZGFsaXR5THV0VmFsdWUgPCB2b2lMVVQuZmlyc3RWYWx1ZU1hcHBlZCkge1xuICAgICAgcmV0dXJuIG1pblZhbHVlO1xuICAgIH0gZWxzZSBpZiAobW9kYWxpdHlMdXRWYWx1ZSA+PSBtYXhWYWx1ZU1hcHBlZCkge1xuICAgICAgcmV0dXJuIG1heFZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2b2lMVVQubHV0W21vZGFsaXR5THV0VmFsdWUgLSB2b2lMVVQuZmlyc3RWYWx1ZU1hcHBlZF0gPj4gc2hpZnQ7XG4gIH07XG59XG4vKipcbiAqIFJldHJpZXZlIGEgVk9JIExVVCBtYXBwaW5nIGZ1bmN0aW9uIGdpdmVuIHRoZSBjdXJyZW50IHdpbmRvd2luZyBzZXR0aW5nc1xuICogYW5kIHRoZSBWT0kgTFVUIGZvciB0aGUgaW1hZ2VcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gd2luZG93V2lkdGggV2luZG93IFdpZHRoXG4gKiBAcGFyYW0ge051bWJlcn0gd2luZG93Q2VudGVyIFdpbmRvdyBDZW50ZXJcbiAqIEBwYXJhbSB7TFVUfSBbdm9pTFVUXSBWb2x1bWUgb2YgSW50ZXJlc3QgTG9va3VwIFRhYmxlIE9iamVjdFxuICpcbiAqIEByZXR1cm4ge1ZPSUxVVEZ1bmN0aW9ufSBWT0kgTFVUIG1hcHBpbmcgZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBWT0lMVVRcbiAqL1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKHdpbmRvd1dpZHRoLCB3aW5kb3dDZW50ZXIsIHZvaUxVVCkge1xuICBpZiAodm9pTFVUKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRlTm9uTGluZWFyVk9JTFVUKHZvaUxVVCk7XG4gIH1cblxuICByZXR1cm4gZ2VuZXJhdGVMaW5lYXJWT0lMVVQod2luZG93V2lkdGgsIHdpbmRvd0NlbnRlcik7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbnRlcm5hbC9ndWlkLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2d1aWQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5mdW5jdGlvbiBzNCgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XG59XG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIGlkZW50aWZpZXJcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEEgdW5pcXVlIGlkZW50aWZpZXJcbiAqIEBtZW1iZXJvZiBJbnRlcm5hbFxuICovXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBcIlwiLmNvbmNhdChzNCgpICsgczQoKSwgXCItXCIpLmNvbmNhdChzNCgpLCBcIi1cIikuY29uY2F0KHM0KCksIFwiLVwiKS5jb25jYXQoczQoKSwgXCItXCIpLmNvbmNhdChzNCgpKS5jb25jYXQoczQoKSkuY29uY2F0KHM0KCkpO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZHJhd0ltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RyYXdJbWFnZS5qcyAqLyBcIi4vaW50ZXJuYWwvZHJhd0ltYWdlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9nZW5lcmF0ZUx1dF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9nZW5lcmF0ZUx1dC5qcyAqLyBcIi4vaW50ZXJuYWwvZ2VuZXJhdGVMdXQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dldERlZmF1bHRWaWV3cG9ydF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9nZXREZWZhdWx0Vmlld3BvcnQuanMgKi8gXCIuL2ludGVybmFsL2dldERlZmF1bHRWaWV3cG9ydC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyAqLyBcIi4vaW50ZXJuYWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YS5qcyAqLyBcIi4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGEuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhUkdCQV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVJHQkEuanMgKi8gXCIuL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhUkdCQS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc3RvcmVkQ29sb3JQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zdG9yZWRDb2xvclBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzICovIFwiLi9pbnRlcm5hbC9zdG9yZWRDb2xvclBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YUNvbG9yTFVUX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhQ29sb3JMVVQuanMgKi8gXCIuL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhQ29sb3JMVVQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhUHNldWRvY29sb3JMVVRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFQc2V1ZG9jb2xvckxVVC5qcyAqLyBcIi4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFQc2V1ZG9jb2xvckxVVC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ2V0VHJhbnNmb3JtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldFRyYW5zZm9ybS5qcyAqLyBcIi4vaW50ZXJuYWwvZ2V0VHJhbnNmb3JtLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jYWxjdWxhdGVUcmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NhbGN1bGF0ZVRyYW5zZm9ybS5qcyAqLyBcIi4vaW50ZXJuYWwvY2FsY3VsYXRlVHJhbnNmb3JtLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF90cmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzExX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RyYW5zZm9ybS5qcyAqLyBcIi4vaW50ZXJuYWwvdHJhbnNmb3JtLmpzXCIpO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLyoqXHJcbiAqIEBtb2R1bGUgSW50ZXJuYWxcclxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICBkcmF3SW1hZ2U6IF9kcmF3SW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0sXG4gIGdlbmVyYXRlTHV0OiBfZ2VuZXJhdGVMdXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0sXG4gIGdldERlZmF1bHRWaWV3cG9ydDogX2dldERlZmF1bHRWaWV3cG9ydF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSxcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lOiBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdLFxuICBzdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YTogX3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdLFxuICBzdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVJHQkE6IF9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVJHQkFfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0sXG4gIHN0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhQ29sb3JMVVQ6IF9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YUNvbG9yTFVUX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdLFxuICBzdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVBzZXVkb2NvbG9yTFVUOiBfc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFQc2V1ZG9jb2xvckxVVF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSxcbiAgc3RvcmVkQ29sb3JQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YTogX3N0b3JlZENvbG9yUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX1tcImRlZmF1bHRcIl0sXG4gIGdldFRyYW5zZm9ybTogX2dldFRyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9fW1wiZGVmYXVsdFwiXSxcbiAgY2FsY3VsYXRlVHJhbnNmb3JtOiBfY2FsY3VsYXRlVHJhbnNmb3JtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fW1wiZGVmYXVsdFwiXSxcbiAgVHJhbnNmb3JtOiBfdHJhbnNmb3JtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fW1wiVHJhbnNmb3JtXCJdXG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbnRlcm5hbC9ub3cuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbnRlcm5hbC9ub3cuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qKlxuICogQG1vZHVsZSBQb2x5ZmlsbHNcbiAqL1xuXG4vKipcbiAqIFVzZSB0aGUgcGVyZm9ybWFuY2Uubm93KCkgbWV0aG9kIGlmIHBvc3NpYmxlLCBhbmQgaWYgbm90LCB1c2UgRGF0ZS5ub3coKVxuICpcbiAqIEByZXR1cm4ge251bWJlcn0gVGltZSBlbGFwc2VkIHNpbmNlIHRoZSB0aW1lIG9yaWdpblxuICogQG1lbWJlcm9mIFBvbHlmaWxsc1xuICovXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuXG4gIHJldHVybiBEYXRlLm5vdygpO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW50ZXJuYWwvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5mdW5jdGlvbiByZXF1ZXN0RnJhbWUoY2FsbGJhY2spIHtcbiAgd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG59XG4vKipcbiAqIFBvbHlmaWxscyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZm9yIG9sZGVyIGJyb3dzZXJzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEEgcGFyYW1ldGVyIHNwZWNpZnlpbmcgYSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gaXQncyB0aW1lIHRvIHVwZGF0ZSB5b3VyIGFuaW1hdGlvbiBmb3IgdGhlIG5leHQgcmVwYWludC4gVGhlIGNhbGxiYWNrIGhhcyBvbmUgc2luZ2xlIGFyZ3VtZW50LCBhIERPTUhpZ2hSZXNUaW1lU3RhbXAsIHdoaWNoIGluZGljYXRlcyB0aGUgY3VycmVudCB0aW1lICh0aGUgdGltZSByZXR1cm5lZCBmcm9tIHBlcmZvcm1hbmNlLm5vdygpICkgZm9yIHdoZW4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHN0YXJ0cyB0byBmaXJlIGNhbGxiYWNrcy5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEEgbG9uZyBpbnRlZ2VyIHZhbHVlLCB0aGUgcmVxdWVzdCBpZCwgdGhhdCB1bmlxdWVseSBpZGVudGlmaWVzIHRoZSBlbnRyeSBpbiB0aGUgY2FsbGJhY2sgbGlzdC4gVGhpcyBpcyBhIG5vbi16ZXJvIHZhbHVlLCBidXQgeW91IG1heSBub3QgbWFrZSBhbnkgb3RoZXIgYXNzdW1wdGlvbnMgYWJvdXQgaXRzIHZhbHVlLiBZb3UgY2FuIHBhc3MgdGhpcyB2YWx1ZSB0byB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoKSB0byBjYW5jZWwgdGhlIHJlZnJlc2ggY2FsbGJhY2sgcmVxdWVzdC5cbiAqIEBtZW1iZXJvZiBQb2x5ZmlsbHNcbiAqL1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKSB8fCB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaykgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKSB8fCByZXF1ZXN0RnJhbWUoY2FsbGJhY2spO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvc3RvcmVkQ29sb3JQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbnRlcm5hbC9zdG9yZWRDb2xvclBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbm93LmpzICovIFwiLi9pbnRlcm5hbC9ub3cuanNcIik7XG5cbi8qKlxuICogQ29udmVydHMgc3RvcmVkIGNvbG9yIHBpeGVsIHZhbHVlcyB0byBkaXNwbGF5IHBpeGVsIHZhbHVlcyB1c2luZyBhIExVVC5cbiAqXG4gKiBOb3RlOiBTa2lwcyBhbHBoYSB2YWx1ZSBmb3IgYW55IGlucHV0IGltYWdlIHBpeGVsIGRhdGEuXG4gKlxuICogQHBhcmFtIHtJbWFnZX0gaW1hZ2UgQSBDb3JuZXJzdG9uZSBJbWFnZSBPYmplY3RcbiAqIEBwYXJhbSB7QXJyYXl9IGx1dCBMb29rdXAgdGFibGUgYXJyYXlcbiAqIEBwYXJhbSB7VWludDhDbGFtcGVkQXJyYXl9IGNhbnZhc0ltYWdlRGF0YURhdGEgY2FudmFzSW1hZ2VEYXRhLmRhdGEgYnVmZmVyIGZpbGxlZCB3aXRoIHdoaXRlIHBpeGVsc1xuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIEludGVybmFsXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoaW1hZ2UsIGx1dCwgY2FudmFzSW1hZ2VEYXRhRGF0YSkge1xuICB2YXIgc3RhcnQgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKTtcbiAgdmFyIHBpeGVsRGF0YSA9IGltYWdlLmdldFBpeGVsRGF0YSgpO1xuICBpbWFnZS5zdGF0cy5sYXN0R2V0UGl4ZWxEYXRhVGltZSA9IE9iamVjdChfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKSgpIC0gc3RhcnQ7XG4gIHZhciBtaW5QaXhlbFZhbHVlID0gaW1hZ2UubWluUGl4ZWxWYWx1ZTtcbiAgdmFyIGNhbnZhc0ltYWdlRGF0YUluZGV4ID0gMDtcbiAgdmFyIHN0b3JlZFBpeGVsRGF0YUluZGV4ID0gMDtcbiAgdmFyIG51bVBpeGVscyA9IHBpeGVsRGF0YS5sZW5ndGg7IC8vIE5PVEU6IEFzIG9mIE5vdiAyMDE0LCBtb3N0IGphdmFzY3JpcHQgZW5naW5lcyBoYXZlIGxvd2VyIHBlcmZvcm1hbmNlIHdoZW4gaW5kZXhpbmcgbmVnYXRpdmUgaW5kZXhlcy5cbiAgLy8gV2UgaGF2ZSBhIHNwZWNpYWwgY29kZSBwYXRoIGZvciB0aGlzIGNhc2UgdGhhdCBpbXByb3ZlcyBwZXJmb3JtYW5jZS4gIFRoYW5rcyB0byBAanBhbWJydW4gZm9yIHRoaXMgZW5oYW5jZW1lbnRcblxuICBzdGFydCA9IE9iamVjdChfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKSgpO1xuXG4gIGlmIChtaW5QaXhlbFZhbHVlIDwgMCkge1xuICAgIHdoaWxlIChzdG9yZWRQaXhlbERhdGFJbmRleCA8IG51bVBpeGVscykge1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IGx1dFtwaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK10gKyAtbWluUGl4ZWxWYWx1ZV07IC8vIFJlZFxuXG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXSArIC1taW5QaXhlbFZhbHVlXTsgLy8gR3JlZW5cblxuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleF0gPSBsdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4XSArIC1taW5QaXhlbFZhbHVlXTsgLy8gQmx1ZVxuXG4gICAgICBzdG9yZWRQaXhlbERhdGFJbmRleCArPSAyO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhSW5kZXggKz0gMjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0b3JlZFBpeGVsRGF0YUluZGV4IDwgbnVtUGl4ZWxzKSB7XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXV07IC8vIFJlZFxuXG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXV07IC8vIEdyZWVuXG5cbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXhdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleF1dOyAvLyBCbHVlXG5cbiAgICAgIHN0b3JlZFBpeGVsRGF0YUluZGV4ICs9IDI7XG4gICAgICBjYW52YXNJbWFnZURhdGFJbmRleCArPSAyO1xuICAgIH1cbiAgfVxuXG4gIGltYWdlLnN0YXRzLmxhc3RTdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVRpbWUgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGEuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vdy5qcyAqLyBcIi4vaW50ZXJuYWwvbm93LmpzXCIpO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gdHJhbnNmb3JtcyBzdG9yZWQgcGl4ZWwgdmFsdWVzIGludG8gYSBjYW52YXMgaW1hZ2UgZGF0YSBidWZmZXJcbiAqIGJ5IHVzaW5nIGEgTFVULiAgVGhpcyBpcyB0aGUgbW9zdCBwZXJmb3JtYW5jZSBzZW5zaXRpdmUgY29kZSBpbiBjb3JuZXJzdG9uZSBhbmRcbiAqIHdlIHVzZSBhIHNwZWNpYWwgdHJpY2sgdG8gbWFrZSB0aGlzIGdvIGFzIGZhc3QgYXMgcG9zc2libGUuICBTcGVjaWZpY2FsbHkgd2VcbiAqIHVzZSB0aGUgYWxwaGEgY2hhbm5lbCBvbmx5IHRvIGNvbnRyb2wgdGhlIGx1bWluYW5jZSByYXRoZXIgdGhhbiB0aGUgcmVkLCBncmVlbiBhbmRcbiAqIGJsdWUgY2hhbm5lbHMgd2hpY2ggbWFrZXMgaXQgb3ZlciAzeCBmYXN0ZXIuIFRoZSBjYW52YXNJbWFnZURhdGFEYXRhIGJ1ZmZlciBuZWVkc1xuICogdG8gYmUgcHJldmlvdXNseSBmaWxsZWQgd2l0aCB3aGl0ZSBwaXhlbHMuXG4gKlxuICogTk9URTogQXR0cmlidXRpb24gd291bGQgYmUgYXBwcmVjaWF0ZWQgaWYgeW91IHVzZSB0aGlzIHRlY2huaXF1ZSFcbiAqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBBIENvcm5lcnN0b25lIEltYWdlIE9iamVjdFxuICogQHBhcmFtIHtBcnJheX0gbHV0IExvb2t1cCB0YWJsZSBhcnJheVxuICogQHBhcmFtIHtVaW50OENsYW1wZWRBcnJheX0gY2FudmFzSW1hZ2VEYXRhRGF0YSBjYW52YXNJbWFnZURhdGEuZGF0YSBidWZmZXIgZmlsbGVkIHdpdGggd2hpdGUgcGl4ZWxzXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChpbWFnZSwgbHV0LCBjYW52YXNJbWFnZURhdGFEYXRhKSB7XG4gIHZhciBzdGFydCA9IE9iamVjdChfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKSgpO1xuICB2YXIgcGl4ZWxEYXRhID0gaW1hZ2UuZ2V0UGl4ZWxEYXRhKCk7XG4gIGltYWdlLnN0YXRzLmxhc3RHZXRQaXhlbERhdGFUaW1lID0gT2JqZWN0KF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKCkgLSBzdGFydDtcbiAgdmFyIG51bVBpeGVscyA9IHBpeGVsRGF0YS5sZW5ndGg7XG4gIHZhciBtaW5QaXhlbFZhbHVlID0gaW1hZ2UubWluUGl4ZWxWYWx1ZTtcbiAgdmFyIGNhbnZhc0ltYWdlRGF0YUluZGV4ID0gMztcbiAgdmFyIHN0b3JlZFBpeGVsRGF0YUluZGV4ID0gMDsgLy8gTk9URTogQXMgb2YgTm92IDIwMTQsIG1vc3QgamF2YXNjcmlwdCBlbmdpbmVzIGhhdmUgbG93ZXIgcGVyZm9ybWFuY2Ugd2hlbiBpbmRleGluZyBuZWdhdGl2ZSBpbmRleGVzLlxuICAvLyBXZSBoYXZlIGEgc3BlY2lhbCBjb2RlIHBhdGggZm9yIHRoaXMgY2FzZSB0aGF0IGltcHJvdmVzIHBlcmZvcm1hbmNlLiAgVGhhbmtzIHRvIEBqcGFtYnJ1biBmb3IgdGhpcyBlbmhhbmNlbWVudFxuICAvLyBBZGRlZCB0d28gcGF0aHMgKEludDE2QXJyYXksIFVpbnQxNkFycmF5KSB0byBhdm9pZCBwb2x5bW9ycGhpYyBkZW9wdGltaXphdGlvbiBpbiBjaHJvbWUuXG5cbiAgc3RhcnQgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKTtcblxuICBpZiAocGl4ZWxEYXRhIGluc3RhbmNlb2YgSW50MTZBcnJheSkge1xuICAgIGlmIChtaW5QaXhlbFZhbHVlIDwgMCkge1xuICAgICAgd2hpbGUgKHN0b3JlZFBpeGVsRGF0YUluZGV4IDwgbnVtUGl4ZWxzKSB7XG4gICAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXhdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXSArIC1taW5QaXhlbFZhbHVlXTsgLy8gQWxwaGFcblxuICAgICAgICBjYW52YXNJbWFnZURhdGFJbmRleCArPSA0O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoc3RvcmVkUGl4ZWxEYXRhSW5kZXggPCBudW1QaXhlbHMpIHtcbiAgICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleF0gPSBsdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdXTsgLy8gQWxwaGFcblxuICAgICAgICBjYW52YXNJbWFnZURhdGFJbmRleCArPSA0O1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChwaXhlbERhdGEgaW5zdGFuY2VvZiBVaW50MTZBcnJheSkge1xuICAgIHdoaWxlIChzdG9yZWRQaXhlbERhdGFJbmRleCA8IG51bVBpeGVscykge1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleF0gPSBsdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdXTsgLy8gQWxwaGFcblxuICAgICAgY2FudmFzSW1hZ2VEYXRhSW5kZXggKz0gNDtcbiAgICB9XG4gIH0gZWxzZSBpZiAobWluUGl4ZWxWYWx1ZSA8IDApIHtcbiAgICB3aGlsZSAoc3RvcmVkUGl4ZWxEYXRhSW5kZXggPCBudW1QaXhlbHMpIHtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXhdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXSArIC1taW5QaXhlbFZhbHVlXTsgLy8gQWxwaGFcblxuICAgICAgY2FudmFzSW1hZ2VEYXRhSW5kZXggKz0gNDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0b3JlZFBpeGVsRGF0YUluZGV4IDwgbnVtUGl4ZWxzKSB7XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4XSA9IGx1dFtwaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK11dOyAvLyBBbHBoYVxuXG4gICAgICBjYW52YXNJbWFnZURhdGFJbmRleCArPSA0O1xuICAgIH1cbiAgfVxuXG4gIGltYWdlLnN0YXRzLmxhc3RTdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVRpbWUgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbnRlcm5hbC9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YUNvbG9yTFVULmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb2xvcnNfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbG9ycy9pbmRleC5qcyAqLyBcIi4vY29sb3JzL2luZGV4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbm93LmpzICovIFwiLi9pbnRlcm5hbC9ub3cuanNcIik7XG5cblxuLyoqXG4gKlxuICogQHBhcmFtIHtJbWFnZX0gaW1hZ2UgQSBDb3JuZXJzdG9uZSBJbWFnZSBPYmplY3RcbiAqIEBwYXJhbSB7TG9va3VwVGFibGV8QXJyYXl9IGNvbG9yTHV0IExvb2t1cCB0YWJsZSBhcnJheVxuICogQHBhcmFtIHtVaW50OENsYW1wZWRBcnJheX0gY2FudmFzSW1hZ2VEYXRhRGF0YSBjYW52YXNJbWFnZURhdGEuZGF0YSBidWZmZXIgZmlsbGVkIHdpdGggd2hpdGUgcGl4ZWxzXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgSW50ZXJuYWxcbiAqL1xuXG5mdW5jdGlvbiBzdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YUNvbG9yTFVUKGltYWdlLCBjb2xvckx1dCwgY2FudmFzSW1hZ2VEYXRhRGF0YSkge1xuICB2YXIgc3RhcnQgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoKTtcbiAgdmFyIHBpeGVsRGF0YSA9IGltYWdlLmdldFBpeGVsRGF0YSgpO1xuICBpbWFnZS5zdGF0cy5sYXN0R2V0UGl4ZWxEYXRhVGltZSA9IE9iamVjdChfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKSgpIC0gc3RhcnQ7XG4gIHZhciBudW1QaXhlbHMgPSBwaXhlbERhdGEubGVuZ3RoO1xuICB2YXIgbWluUGl4ZWxWYWx1ZSA9IGltYWdlLm1pblBpeGVsVmFsdWU7XG4gIHZhciBjYW52YXNJbWFnZURhdGFJbmRleCA9IDA7XG4gIHZhciBzdG9yZWRQaXhlbERhdGFJbmRleCA9IDA7XG4gIHZhciByZ2JhO1xuICB2YXIgY2x1dDtcbiAgc3RhcnQgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoKTtcblxuICBpZiAoY29sb3JMdXQgaW5zdGFuY2VvZiBfY29sb3JzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLkxvb2t1cFRhYmxlKSB7XG4gICAgY2x1dCA9IGNvbG9yTHV0LlRhYmxlO1xuICB9IGVsc2Uge1xuICAgIGNsdXQgPSBjb2xvckx1dDtcbiAgfVxuXG4gIGlmIChtaW5QaXhlbFZhbHVlIDwgMCkge1xuICAgIHdoaWxlIChzdG9yZWRQaXhlbERhdGFJbmRleCA8IG51bVBpeGVscykge1xuICAgICAgcmdiYSA9IGNsdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdICsgLW1pblBpeGVsVmFsdWVdO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHJnYmFbMF07XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcmdiYVsxXTtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSByZ2JhWzJdO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHJnYmFbM107XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdG9yZWRQaXhlbERhdGFJbmRleCA8IG51bVBpeGVscykge1xuICAgICAgcmdiYSA9IGNsdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdXTtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSByZ2JhWzBdO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHJnYmFbMV07XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcmdiYVsyXTtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSByZ2JhWzNdO1xuICAgIH1cbiAgfVxuXG4gIGltYWdlLnN0YXRzLmxhc3RTdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVRpbWUgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xufVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHN0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhQ29sb3JMVVQpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhUHNldWRvY29sb3JMVVQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFQc2V1ZG9jb2xvckxVVC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29sb3JzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb2xvcnMvaW5kZXguanMgKi8gXCIuL2NvbG9ycy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vdy5qcyAqLyBcIi4vaW50ZXJuYWwvbm93LmpzXCIpO1xuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcGFyYW0ge0FycmF5fSBncmF5c2NhbGVMdXQgTG9va3VwIHRhYmxlIGFycmF5XG4gKiBAcGFyYW0ge0xvb2t1cFRhYmxlfEFycmF5fSBjb2xvckx1dCBMb29rdXAgdGFibGUgYXJyYXlcbiAqIEBwYXJhbSB7VWludDhDbGFtcGVkQXJyYXl9IGNhbnZhc0ltYWdlRGF0YURhdGEgY2FudmFzSW1hZ2VEYXRhLmRhdGEgYnVmZmVyIGZpbGxlZCB3aXRoIHdoaXRlIHBpeGVsc1xuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIEludGVybmFsXG4gKi9cblxuZnVuY3Rpb24gc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFQc2V1ZG9jb2xvckxVVChpbWFnZSwgZ3JheXNjYWxlTHV0LCBjb2xvckx1dCwgY2FudmFzSW1hZ2VEYXRhRGF0YSkge1xuICB2YXIgc3RhcnQgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoKTtcbiAgdmFyIHBpeGVsRGF0YSA9IGltYWdlLmdldFBpeGVsRGF0YSgpO1xuICBpbWFnZS5zdGF0cy5sYXN0R2V0UGl4ZWxEYXRhVGltZSA9IE9iamVjdChfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKSgpIC0gc3RhcnQ7XG4gIHZhciBudW1QaXhlbHMgPSBwaXhlbERhdGEubGVuZ3RoO1xuICB2YXIgbWluUGl4ZWxWYWx1ZSA9IGltYWdlLm1pblBpeGVsVmFsdWU7XG4gIHZhciBjYW52YXNJbWFnZURhdGFJbmRleCA9IDA7XG4gIHZhciBzdG9yZWRQaXhlbERhdGFJbmRleCA9IDA7XG4gIHZhciBncmF5c2NhbGU7XG4gIHZhciByZ2JhO1xuICB2YXIgY2x1dDtcbiAgc3RhcnQgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoKTtcblxuICBpZiAoY29sb3JMdXQgaW5zdGFuY2VvZiBfY29sb3JzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLkxvb2t1cFRhYmxlKSB7XG4gICAgY2x1dCA9IGNvbG9yTHV0LlRhYmxlO1xuICB9IGVsc2Uge1xuICAgIGNsdXQgPSBjb2xvckx1dDtcbiAgfVxuXG4gIGlmIChtaW5QaXhlbFZhbHVlIDwgMCkge1xuICAgIHdoaWxlIChzdG9yZWRQaXhlbERhdGFJbmRleCA8IG51bVBpeGVscykge1xuICAgICAgZ3JheXNjYWxlID0gZ3JheXNjYWxlTHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXSArIC1taW5QaXhlbFZhbHVlXTtcbiAgICAgIHJnYmEgPSBjbHV0W2dyYXlzY2FsZV07XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcmdiYVswXTtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSByZ2JhWzFdO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHJnYmFbMl07XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcmdiYVszXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0b3JlZFBpeGVsRGF0YUluZGV4IDwgbnVtUGl4ZWxzKSB7XG4gICAgICBncmF5c2NhbGUgPSBncmF5c2NhbGVMdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdXTtcbiAgICAgIHJnYmEgPSBjbHV0W2dyYXlzY2FsZV07XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcmdiYVswXTtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSByZ2JhWzFdO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHJnYmFbMl07XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcmdiYVszXTtcbiAgICB9XG4gIH1cblxuICBpbWFnZS5zdGF0cy5sYXN0U3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFUaW1lID0gT2JqZWN0KF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKCkgLSBzdGFydDtcbn1cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChzdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVBzZXVkb2NvbG9yTFVUKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbnRlcm5hbC9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVJHQkEuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbnRlcm5hbC9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVJHQkEuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vdy5qcyAqLyBcIi4vaW50ZXJuYWwvbm93LmpzXCIpO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gdHJhbnNmb3JtcyBzdG9yZWQgcGl4ZWwgdmFsdWVzIGludG8gYSBjYW52YXMgaW1hZ2UgZGF0YSBidWZmZXJcbiAqIGJ5IHVzaW5nIGEgTFVULlxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcGFyYW0ge0FycmF5fSBsdXQgTG9va3VwIHRhYmxlIGFycmF5XG4gKiBAcGFyYW0ge1VpbnQ4Q2xhbXBlZEFycmF5fSBjYW52YXNJbWFnZURhdGFEYXRhIGNhbnZhc0ltYWdlRGF0YS5kYXRhIGJ1ZmZlciBmaWxsZWQgd2l0aCB3aGl0ZSBwaXhlbHNcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBtZW1iZXJvZiBJbnRlcm5hbFxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGltYWdlLCBsdXQsIGNhbnZhc0ltYWdlRGF0YURhdGEpIHtcbiAgdmFyIHN0YXJ0ID0gT2JqZWN0KF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKCk7XG4gIHZhciBwaXhlbERhdGEgPSBpbWFnZS5nZXRQaXhlbERhdGEoKTtcbiAgaW1hZ2Uuc3RhdHMubGFzdEdldFBpeGVsRGF0YVRpbWUgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xuICB2YXIgbnVtUGl4ZWxzID0gcGl4ZWxEYXRhLmxlbmd0aDtcbiAgdmFyIG1pblBpeGVsVmFsdWUgPSBpbWFnZS5taW5QaXhlbFZhbHVlO1xuICB2YXIgY2FudmFzSW1hZ2VEYXRhSW5kZXggPSAwO1xuICB2YXIgc3RvcmVkUGl4ZWxEYXRhSW5kZXggPSAwO1xuICB2YXIgcGl4ZWxWYWx1ZTsgLy8gTk9URTogQXMgb2YgTm92IDIwMTQsIG1vc3QgamF2YXNjcmlwdCBlbmdpbmVzIGhhdmUgbG93ZXIgcGVyZm9ybWFuY2Ugd2hlbiBpbmRleGluZyBuZWdhdGl2ZSBpbmRleGVzLlxuICAvLyBXZSBoYXZlIGEgc3BlY2lhbCBjb2RlIHBhdGggZm9yIHRoaXMgY2FzZSB0aGF0IGltcHJvdmVzIHBlcmZvcm1hbmNlLiAgVGhhbmtzIHRvIEBqcGFtYnJ1biBmb3IgdGhpcyBlbmhhbmNlbWVudFxuICAvLyBBZGRlZCB0d28gcGF0aHMgKEludDE2QXJyYXksIFVpbnQxNkFycmF5KSB0byBhdm9pZCBwb2x5bW9ycGhpYyBkZW9wdGltaXphdGlvbiBpbiBjaHJvbWUuXG5cbiAgc3RhcnQgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKTtcblxuICBpZiAocGl4ZWxEYXRhIGluc3RhbmNlb2YgSW50MTZBcnJheSkge1xuICAgIGlmIChtaW5QaXhlbFZhbHVlIDwgMCkge1xuICAgICAgd2hpbGUgKHN0b3JlZFBpeGVsRGF0YUluZGV4IDwgbnVtUGl4ZWxzKSB7XG4gICAgICAgIHBpeGVsVmFsdWUgPSBsdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdICsgLW1pblBpeGVsVmFsdWVdO1xuICAgICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcGl4ZWxWYWx1ZTtcbiAgICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHBpeGVsVmFsdWU7XG4gICAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBwaXhlbFZhbHVlO1xuICAgICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gMjU1OyAvLyBBbHBoYVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoc3RvcmVkUGl4ZWxEYXRhSW5kZXggPCBudW1QaXhlbHMpIHtcbiAgICAgICAgcGl4ZWxWYWx1ZSA9IGx1dFtwaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK11dO1xuICAgICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcGl4ZWxWYWx1ZTtcbiAgICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHBpeGVsVmFsdWU7XG4gICAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBwaXhlbFZhbHVlO1xuICAgICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gMjU1OyAvLyBBbHBoYVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChwaXhlbERhdGEgaW5zdGFuY2VvZiBVaW50MTZBcnJheSkge1xuICAgIHdoaWxlIChzdG9yZWRQaXhlbERhdGFJbmRleCA8IG51bVBpeGVscykge1xuICAgICAgcGl4ZWxWYWx1ZSA9IGx1dFtwaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK11dO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHBpeGVsVmFsdWU7XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcGl4ZWxWYWx1ZTtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBwaXhlbFZhbHVlO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IDI1NTsgLy8gQWxwaGFcbiAgICB9XG4gIH0gZWxzZSBpZiAobWluUGl4ZWxWYWx1ZSA8IDApIHtcbiAgICB3aGlsZSAoc3RvcmVkUGl4ZWxEYXRhSW5kZXggPCBudW1QaXhlbHMpIHtcbiAgICAgIHBpeGVsVmFsdWUgPSBsdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdICsgLW1pblBpeGVsVmFsdWVdO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHBpeGVsVmFsdWU7XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcGl4ZWxWYWx1ZTtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBwaXhlbFZhbHVlO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IDI1NTsgLy8gQWxwaGFcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0b3JlZFBpeGVsRGF0YUluZGV4IDwgbnVtUGl4ZWxzKSB7XG4gICAgICBwaXhlbFZhbHVlID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXV07XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcGl4ZWxWYWx1ZTtcbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBwaXhlbFZhbHVlO1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHBpeGVsVmFsdWU7XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gMjU1OyAvLyBBbHBoYVxuICAgIH1cbiAgfVxuXG4gIGltYWdlLnN0YXRzLmxhc3RTdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVRpbWUgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvc3RvcmVkUkdCQVBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW50ZXJuYWwvc3RvcmVkUkdCQVBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ub3cuanMgKi8gXCIuL2ludGVybmFsL25vdy5qc1wiKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBzdG9yZWQgUkdCQSBjb2xvciBwaXhlbCB2YWx1ZXMgdG8gZGlzcGxheSBwaXhlbCB2YWx1ZXMgdXNpbmcgYSBMVVQuXG4gKlxuICogQHBhcmFtIHtJbWFnZX0gaW1hZ2UgQSBDb3JuZXJzdG9uZSBJbWFnZSBPYmplY3RcbiAqIEBwYXJhbSB7QXJyYXl9IGx1dCBMb29rdXAgdGFibGUgYXJyYXlcbiAqIEBwYXJhbSB7VWludDhDbGFtcGVkQXJyYXl9IGNhbnZhc0ltYWdlRGF0YURhdGEgY2FudmFzSW1hZ2VEYXRhLmRhdGEgYnVmZmVyIGZpbGxlZCB3aXRoIHdoaXRlIHBpeGVsc1xuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIEludGVybmFsXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoaW1hZ2UsIGx1dCwgY2FudmFzSW1hZ2VEYXRhRGF0YSkge1xuICB2YXIgc3RhcnQgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKTtcbiAgdmFyIHBpeGVsRGF0YSA9IGltYWdlLmdldFBpeGVsRGF0YSgpO1xuICBpbWFnZS5zdGF0cy5sYXN0R2V0UGl4ZWxEYXRhVGltZSA9IE9iamVjdChfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKSgpIC0gc3RhcnQ7XG4gIHZhciBtaW5QaXhlbFZhbHVlID0gaW1hZ2UubWluUGl4ZWxWYWx1ZTtcbiAgdmFyIGNhbnZhc0ltYWdlRGF0YUluZGV4ID0gMDtcbiAgdmFyIHN0b3JlZFBpeGVsRGF0YUluZGV4ID0gMDtcbiAgdmFyIG51bVBpeGVscyA9IHBpeGVsRGF0YS5sZW5ndGg7IC8vIE5PVEU6IEFzIG9mIE5vdiAyMDE0LCBtb3N0IGphdmFzY3JpcHQgZW5naW5lcyBoYXZlIGxvd2VyIHBlcmZvcm1hbmNlIHdoZW4gaW5kZXhpbmcgbmVnYXRpdmUgaW5kZXhlcy5cbiAgLy8gV2UgaGF2ZSBhIHNwZWNpYWwgY29kZSBwYXRoIGZvciB0aGlzIGNhc2UgdGhhdCBpbXByb3ZlcyBwZXJmb3JtYW5jZS4gIFRoYW5rcyB0byBAanBhbWJydW4gZm9yIHRoaXMgZW5oYW5jZW1lbnRcblxuICBzdGFydCA9IE9iamVjdChfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKSgpO1xuXG4gIGlmIChtaW5QaXhlbFZhbHVlIDwgMCkge1xuICAgIHdoaWxlIChzdG9yZWRQaXhlbERhdGFJbmRleCA8IG51bVBpeGVscykge1xuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IGx1dFtwaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK10gKyAtbWluUGl4ZWxWYWx1ZV07IC8vIFJlZFxuXG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXSArIC1taW5QaXhlbFZhbHVlXTsgLy8gR3JlZW5cblxuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IGx1dFtwaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK10gKyAtbWluUGl4ZWxWYWx1ZV07IC8vIEJsdWVcblxuICAgICAgY2FudmFzSW1hZ2VEYXRhRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHBpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0b3JlZFBpeGVsRGF0YUluZGV4IDwgbnVtUGl4ZWxzKSB7XG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXV07IC8vIFJlZFxuXG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbHV0W3BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXV07IC8vIEdyZWVuXG5cbiAgICAgIGNhbnZhc0ltYWdlRGF0YURhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBsdXRbcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdXTsgLy8gQmx1ZVxuXG4gICAgICBjYW52YXNJbWFnZURhdGFEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gcGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdO1xuICAgIH1cbiAgfVxuXG4gIGltYWdlLnN0YXRzLmxhc3RTdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVRpbWUgPSBPYmplY3QoX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvdHJhbnNmb3JtLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW50ZXJuYWwvdHJhbnNmb3JtLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IFRyYW5zZm9ybSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJUcmFuc2Zvcm1cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBUcmFuc2Zvcm07IH0pO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBCeSBTaW1vbiBTYXJyaXNcbi8vIFd3dy5zaW1vbnNhcnJpcy5jb21cbi8vIFNhcnJpc0BhY20ub3JnXG4vL1xuLy8gRnJlZSB0byB1c2UgYW5kIGRpc3RyaWJ1dGUgYXQgd2lsbFxuLy8gU28gbG9uZyBhcyB5b3UgYXJlIG5pY2UgdG8gcGVvcGxlLCBldGNcbi8vIFNpbXBsZSBjbGFzcyBmb3Iga2VlcGluZyB0cmFjayBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbi8vIEZvciBpbnN0YW5jZTpcbi8vICAgIFZhciB0ID0gbmV3IFRyYW5zZm9ybSgpO1xuLy8gICAgVC5yb3RhdGUoNSk7XG4vLyAgICBWYXIgbSA9IHQubTtcbi8vICAgIEN0eC5zZXRUcmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4vLyBJcyBlcXVpdmFsZW50IHRvOlxuLy8gICAgQ3R4LnJvdGF0ZSg1KTtcbi8vIEJ1dCBub3cgeW91IGNhbiByZXRyaWV2ZSBpdCA6KVxuLy8gUmVtZW1iZXIgdGhhdCB0aGlzIGRvZXMgbm90IGFjY291bnQgZm9yIGFueSBDU1MgdHJhbnNmb3JtcyBhcHBsaWVkIHRvIHRoZSBjYW52YXNcbnZhciBUcmFuc2Zvcm0gPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUcmFuc2Zvcm0oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zZm9ybSk7XG5cbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNmb3JtLCBbe1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMubSA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgICAgdHJhbnNmb3JtLm1bMF0gPSB0aGlzLm1bMF07XG4gICAgICB0cmFuc2Zvcm0ubVsxXSA9IHRoaXMubVsxXTtcbiAgICAgIHRyYW5zZm9ybS5tWzJdID0gdGhpcy5tWzJdO1xuICAgICAgdHJhbnNmb3JtLm1bM10gPSB0aGlzLm1bM107XG4gICAgICB0cmFuc2Zvcm0ubVs0XSA9IHRoaXMubVs0XTtcbiAgICAgIHRyYW5zZm9ybS5tWzVdID0gdGhpcy5tWzVdO1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibXVsdGlwbHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbXVsdGlwbHkobWF0cml4KSB7XG4gICAgICB2YXIgbTExID0gdGhpcy5tWzBdICogbWF0cml4Lm1bMF0gKyB0aGlzLm1bMl0gKiBtYXRyaXgubVsxXTtcbiAgICAgIHZhciBtMTIgPSB0aGlzLm1bMV0gKiBtYXRyaXgubVswXSArIHRoaXMubVszXSAqIG1hdHJpeC5tWzFdO1xuICAgICAgdmFyIG0yMSA9IHRoaXMubVswXSAqIG1hdHJpeC5tWzJdICsgdGhpcy5tWzJdICogbWF0cml4Lm1bM107XG4gICAgICB2YXIgbTIyID0gdGhpcy5tWzFdICogbWF0cml4Lm1bMl0gKyB0aGlzLm1bM10gKiBtYXRyaXgubVszXTtcbiAgICAgIHZhciBkeCA9IHRoaXMubVswXSAqIG1hdHJpeC5tWzRdICsgdGhpcy5tWzJdICogbWF0cml4Lm1bNV0gKyB0aGlzLm1bNF07XG4gICAgICB2YXIgZHkgPSB0aGlzLm1bMV0gKiBtYXRyaXgubVs0XSArIHRoaXMubVszXSAqIG1hdHJpeC5tWzVdICsgdGhpcy5tWzVdO1xuICAgICAgdGhpcy5tWzBdID0gbTExO1xuICAgICAgdGhpcy5tWzFdID0gbTEyO1xuICAgICAgdGhpcy5tWzJdID0gbTIxO1xuICAgICAgdGhpcy5tWzNdID0gbTIyO1xuICAgICAgdGhpcy5tWzRdID0gZHg7XG4gICAgICB0aGlzLm1bNV0gPSBkeTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW52ZXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICAgIHZhciBkID0gMSAvICh0aGlzLm1bMF0gKiB0aGlzLm1bM10gLSB0aGlzLm1bMV0gKiB0aGlzLm1bMl0pO1xuICAgICAgdmFyIG0wID0gdGhpcy5tWzNdICogZDtcbiAgICAgIHZhciBtMSA9IC10aGlzLm1bMV0gKiBkO1xuICAgICAgdmFyIG0yID0gLXRoaXMubVsyXSAqIGQ7XG4gICAgICB2YXIgbTMgPSB0aGlzLm1bMF0gKiBkO1xuICAgICAgdmFyIG00ID0gZCAqICh0aGlzLm1bMl0gKiB0aGlzLm1bNV0gLSB0aGlzLm1bM10gKiB0aGlzLm1bNF0pO1xuICAgICAgdmFyIG01ID0gZCAqICh0aGlzLm1bMV0gKiB0aGlzLm1bNF0gLSB0aGlzLm1bMF0gKiB0aGlzLm1bNV0pO1xuICAgICAgdGhpcy5tWzBdID0gbTA7XG4gICAgICB0aGlzLm1bMV0gPSBtMTtcbiAgICAgIHRoaXMubVsyXSA9IG0yO1xuICAgICAgdGhpcy5tWzNdID0gbTM7XG4gICAgICB0aGlzLm1bNF0gPSBtNDtcbiAgICAgIHRoaXMubVs1XSA9IG01O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyb3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcm90YXRlKHJhZCkge1xuICAgICAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICAgICAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICAgICAgdmFyIG0xMSA9IHRoaXMubVswXSAqIGMgKyB0aGlzLm1bMl0gKiBzO1xuICAgICAgdmFyIG0xMiA9IHRoaXMubVsxXSAqIGMgKyB0aGlzLm1bM10gKiBzO1xuICAgICAgdmFyIG0yMSA9IHRoaXMubVswXSAqIC1zICsgdGhpcy5tWzJdICogYztcbiAgICAgIHZhciBtMjIgPSB0aGlzLm1bMV0gKiAtcyArIHRoaXMubVszXSAqIGM7XG4gICAgICB0aGlzLm1bMF0gPSBtMTE7XG4gICAgICB0aGlzLm1bMV0gPSBtMTI7XG4gICAgICB0aGlzLm1bMl0gPSBtMjE7XG4gICAgICB0aGlzLm1bM10gPSBtMjI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRyYW5zbGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2xhdGUoeCwgeSkge1xuICAgICAgdGhpcy5tWzRdICs9IHRoaXMubVswXSAqIHggKyB0aGlzLm1bMl0gKiB5O1xuICAgICAgdGhpcy5tWzVdICs9IHRoaXMubVsxXSAqIHggKyB0aGlzLm1bM10gKiB5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzY2FsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY2FsZShzeCwgc3kpIHtcbiAgICAgIHRoaXMubVswXSAqPSBzeDtcbiAgICAgIHRoaXMubVsxXSAqPSBzeDtcbiAgICAgIHRoaXMubVsyXSAqPSBzeTtcbiAgICAgIHRoaXMubVszXSAqPSBzeTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidHJhbnNmb3JtUG9pbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnQocHgsIHB5KSB7XG4gICAgICB2YXIgeCA9IHB4O1xuICAgICAgdmFyIHkgPSBweTtcbiAgICAgIHB4ID0geCAqIHRoaXMubVswXSArIHkgKiB0aGlzLm1bMl0gKyB0aGlzLm1bNF07XG4gICAgICBweSA9IHggKiB0aGlzLm1bMV0gKyB5ICogdGhpcy5tWzNdICsgdGhpcy5tWzVdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcHgsXG4gICAgICAgIHk6IHB5XG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFuc2Zvcm07XG59KCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW50ZXJuYWwvdHJ5RW5hYmxlV2ViZ2wuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL3RyeUVuYWJsZVdlYmdsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfd2ViZ2xfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3dlYmdsL2luZGV4LmpzICovIFwiLi93ZWJnbC9pbmRleC5qc1wiKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgd2ViR0wgaXMgc3VwcG9ydGVkIGFuZCBpbml0aWFsaXplcyB0aGUgcmVuZGVyaW5nIGVuZ2luZS5cbiAqIEBwYXJhbSB7YW55fSBvcHRpb25zIE9wdGlvbnMgdG8gY2hlY2sgaWYgd2ViZ2wgcmVuZGVyaW5nIGlzIHJlcXVlc3RlZCAoZS5nLiBlbmFibGUgd2ViZ2wgYnkgcGFzc2luZyB7cmVuZGVyZXI6ICd3ZWJnbCd9KVxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgd2ViZ2wgcmVuZGVyaW5nIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBpbml0aWFsaXplZC4gT3RoZXJ3aXNlLCBmYWxzZS5cbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChfd2ViZ2xfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0ucmVuZGVyZXIuaXNXZWJHTEF2YWlsYWJsZSgpKSB7XG4gICAgLy8gSWYgV2ViR0wgaXMgYXZhaWxhYmxlIG9uIHRoZSBkZXZpY2UsIGluaXRpYWxpemUgdGhlIHJlbmRlcmVyXG4gICAgLy8gQW5kIHJldHVybiB0aGUgcmVuZGVyQ2FudmFzIGZyb20gdGhlIFdlYkdMIHJlbmRlcmluZyBwYXRoXG4gICAgX3dlYmdsX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLnJlbmRlcmVyLmluaXRSZW5kZXJlcigpO1xuICAgIG9wdGlvbnMucmVuZGVyZXIgPSAnd2ViZ2wnO1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIElmIFdlYkdMIGlzIG5vdCBhdmFpbGFibGUgb24gdGhpcyBkZXZpY2UsIHdlIHdpbGwgZmFsbCBiYWNrXG4gIC8vIFRvIHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcblxuXG4gIGNvbnNvbGUuZXJyb3IoJ1dlYkdMIG5vdCBhdmFpbGFibGUsIGZhbGxpbmcgYmFjayB0byBDYW52YXMgcmVuZGVyZXInKTtcbiAgZGVsZXRlIG9wdGlvbnMucmVuZGVyZXI7XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2ludGVybmFsL3ZhbGlkYXRvci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2ludGVybmFsL3ZhbGlkYXRvci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiB2YWxpZGF0ZVBhcmFtZXRlclVuZGVmaW5lZCwgdmFsaWRhdGVQYXJhbWV0ZXJVbmRlZmluZWRPck51bGwgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidmFsaWRhdGVQYXJhbWV0ZXJVbmRlZmluZWRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB2YWxpZGF0ZVBhcmFtZXRlclVuZGVmaW5lZDsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidmFsaWRhdGVQYXJhbWV0ZXJVbmRlZmluZWRPck51bGxcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB2YWxpZGF0ZVBhcmFtZXRlclVuZGVmaW5lZE9yTnVsbDsgfSk7XG4vKipcbiAqIENoZWNrIGlmIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIGFuZCB0aHJvd3MgYW5kIGVycm9yXG4gKiBAcGFyYW0ge2FueX0gY2hlY2tQYXJhbSB0aGUgcGFyYW1ldGVyIHRvIHZhbGlkYXRlIGZvciB1bmRlZmluZWRcbiAqIEBwYXJhbSB7YW55fSBlcnJvck1zZyB0aGUgZXJyb3IgbWVzc2FnZSB0byBiZSB0aHJvd25cbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUGFyYW1ldGVyVW5kZWZpbmVkKGNoZWNrUGFyYW0sIGVycm9yTXNnKSB7XG4gIGlmIChjaGVja1BhcmFtID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuICB9XG59XG4vKipcbiAqIENoZWNrIGlmIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwgYW5kIHRocm93cyBhbmQgZXJyb3JcbiAqIEBwYXJhbSB7YW55fSBjaGVja1BhcmFtIHRoZSBwYXJhbWV0ZXIgdG8gdmFsaWRhdGUgZm9yIHVuZGVmaW5lZFxuICogQHBhcmFtIHthbnl9IGVycm9yTXNnIHRoZSBlcnJvciBtZXNzYWdlIHRvIGJlIHRocm93blxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgaW50ZXJuYWxcbiAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVBhcmFtZXRlclVuZGVmaW5lZE9yTnVsbChjaGVja1BhcmFtLCBlcnJvck1zZykge1xuICBpZiAoY2hlY2tQYXJhbSA9PT0gdW5kZWZpbmVkIHx8IGNoZWNrUGFyYW0gPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuICB9XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vaW52YWxpZGF0ZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9pbnZhbGlkYXRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90cmlnZ2VyRXZlbnQuanMgKi8gXCIuL3RyaWdnZXJFdmVudC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2V2ZW50cy5qcyAqLyBcIi4vZXZlbnRzLmpzXCIpO1xuXG5cblxuLyoqXHJcbiAqIFNldHMgdGhlIGludmFsaWQgZmxhZyBvbiB0aGUgZW5hYmxlZCBlbGVtZW50IGFuZCBmaXJlIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIERPTSBlbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKiBAbWVtYmVyb2YgRHJhd2luZ1xyXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZWxlbWVudCkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICBlbmFibGVkRWxlbWVudC5pbnZhbGlkID0gdHJ1ZTtcbiAgZW5hYmxlZEVsZW1lbnQubmVlZHNSZWRyYXcgPSB0cnVlO1xuICB2YXIgZXZlbnREYXRhID0ge1xuICAgIGVsZW1lbnQ6IGVsZW1lbnRcbiAgfTtcbiAgT2JqZWN0KF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGVsZW1lbnQsIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0uSU5WQUxJREFURUQsIGV2ZW50RGF0YSk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9pbnZhbGlkYXRlSW1hZ2VJZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vaW52YWxpZGF0ZUltYWdlSWQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2RyYXdJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9kcmF3SW1hZ2UuanMgKi8gXCIuL2ludGVybmFsL2RyYXdJbWFnZS5qc1wiKTtcblxuXG4vKipcbiAqIEZvcmNlcyB0aGUgaW1hZ2UgdG8gYmUgdXBkYXRlZC9yZWRyYXduIGZvciB0aGUgYWxsIGVuYWJsZWQgZWxlbWVudHNcbiAqIGRpc3BsYXlpbmcgdGhlIHNwZWNpZmllZCBpbWFnZUlkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGltYWdlSWQgVGhlIGltYWdlSWQgb2YgdGhlIENvcm5lcnN0b25lIEltYWdlIE9iamVjdCB0byByZWRyYXdcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIERyYXdpbmdcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChpbWFnZUlkKSB7XG4gIHZhciBlbmFibGVkRWxlbWVudHMgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRzQnlJbWFnZUlkXCJdKShpbWFnZUlkKTtcbiAgZW5hYmxlZEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVuYWJsZWRFbGVtZW50KSB7XG4gICAgT2JqZWN0KF9pbnRlcm5hbF9kcmF3SW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LCB0cnVlKTtcbiAgfSk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9sYXllcnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9sYXllcnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogcmVzY2FsZUltYWdlLCBhZGRMYXllciwgcmVtb3ZlTGF5ZXIsIGdldExheWVyLCBnZXRMYXllcnMsIGdldFZpc2libGVMYXllcnMsIHNldEFjdGl2ZUxheWVyLCBzZXRMYXllckltYWdlLCBnZXRBY3RpdmVMYXllciwgcHVyZ2VMYXllcnMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVzY2FsZUltYWdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVzY2FsZUltYWdlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZGRMYXllclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFkZExheWVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZW1vdmVMYXllclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlbW92ZUxheWVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRMYXllclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldExheWVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRMYXllcnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRMYXllcnM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldFZpc2libGVMYXllcnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRWaXNpYmxlTGF5ZXJzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzZXRBY3RpdmVMYXllclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNldEFjdGl2ZUxheWVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJzZXRMYXllckltYWdlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2V0TGF5ZXJJbWFnZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0QWN0aXZlTGF5ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRBY3RpdmVMYXllcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicHVyZ2VMYXllcnNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwdXJnZUxheWVyczsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2d1aWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ3VpZC5qcyAqLyBcIi4vaW50ZXJuYWwvZ3VpZC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9nZXREZWZhdWx0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ2V0RGVmYXVsdFZpZXdwb3J0LmpzICovIFwiLi9pbnRlcm5hbC9nZXREZWZhdWx0Vmlld3BvcnQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3VwZGF0ZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3VwZGF0ZUltYWdlLmpzICovIFwiLi91cGRhdGVJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RyaWdnZXJFdmVudC5qcyAqLyBcIi4vdHJpZ2dlckV2ZW50LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzLmpzICovIFwiLi9ldmVudHMuanNcIik7XG5cblxuXG5cblxuXG4vKipcbiAqIEBtb2R1bGUgRW5hYmxlZEVsZW1lbnRMYXllcnNcbiAqL1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byB0cmlnZ2VyIGFuIGV2ZW50IG9uIGEgQ29ybmVyc3RvbmUgZWxlbWVudCB3aXRoXG4gKiBhIHNwZWNpZmljIGxheWVySWRcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIFRoZSBldmVudCBuYW1lIChlLmcuIENvcm5lcnN0b25lTGF5ZXJBZGRlZClcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBlbmFibGVkIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBsYXllcklkIFRoZSBsYXllcidzIHVuaXF1ZSBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBtZW1iZXJvZiBFbmFibGVkRWxlbWVudExheWVyc1xuICovXG5cbmZ1bmN0aW9uIHRyaWdnZXJFdmVudEZvckxheWVyKGV2ZW50TmFtZSwgZW5hYmxlZEVsZW1lbnQsIGxheWVySWQpIHtcbiAgdmFyIGVsZW1lbnQgPSBlbmFibGVkRWxlbWVudC5lbGVtZW50O1xuICB2YXIgZXZlbnREYXRhID0ge1xuICAgIHZpZXdwb3J0OiBlbmFibGVkRWxlbWVudC52aWV3cG9ydCxcbiAgICBlbGVtZW50OiBlbmFibGVkRWxlbWVudC5lbGVtZW50LFxuICAgIGltYWdlOiBlbmFibGVkRWxlbWVudC5pbWFnZSxcbiAgICBlbmFibGVkRWxlbWVudDogZW5hYmxlZEVsZW1lbnQsXG4gICAgbGF5ZXJJZDogbGF5ZXJJZFxuICB9O1xuICBPYmplY3QoX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoZWxlbWVudCwgZXZlbnROYW1lLCBldmVudERhdGEpO1xufVxuLyoqXG4gKiBSZXNjYWxlIHRoZSB0YXJnZXQgbGF5ZXIgdG8gdGhlIGJhc2UgbGF5ZXIgYmFzZWQgb24gdGhlXG4gKiByZWxhdGl2ZSBzaXplIG9mIGVhY2ggaW1hZ2UgYW5kIHRoZWlyIHBpeGVsIGRpbWVuc2lvbnMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIHVwZGF0ZSB0aGUgVmlld3BvcnQgcGFyYW1ldGVycyBvZiB0aGVcbiAqIHRhcmdldCBsYXllciB0byBhIG5ldyBzY2FsZS5cbiAqXG4gKiBAcGFyYW0ge0VuYWJsZWRFbGVtZW50TGF5ZXJ9IGJhc2VMYXllciBUaGUgYmFzZSBsYXllclxuICogQHBhcmFtIHtFbmFibGVkRWxlbWVudExheWVyfSB0YXJnZXRMYXllciBUaGUgdGFyZ2V0IGxheWVyIHRvIHJlc2NhbGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIEVuYWJsZWRFbGVtZW50TGF5ZXJzXG4gKi9cblxuXG5mdW5jdGlvbiByZXNjYWxlSW1hZ2UoYmFzZUxheWVyLCB0YXJnZXRMYXllcikge1xuICBpZiAoYmFzZUxheWVyLmxheWVySWQgPT09IHRhcmdldExheWVyLmxheWVySWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Jlc2NhbGVJbWFnZTogYm90aCBhcmd1bWVudHMgcmVwcmVzZW50IHRoZSBzYW1lIGxheWVyJyk7XG4gIH1cblxuICB2YXIgYmFzZUltYWdlID0gYmFzZUxheWVyLmltYWdlO1xuICB2YXIgdGFyZ2V0SW1hZ2UgPSB0YXJnZXRMYXllci5pbWFnZTsgLy8gUmV0dXJuIGlmIHRoZXNlIGltYWdlcyBkb24ndCBoYXZlIGFuIGltYWdlSWQgKGUuZy4gZm9yIGR5bmFtaWMgaW1hZ2VzKVxuXG4gIGlmICghYmFzZUltYWdlLmltYWdlSWQgfHwgIXRhcmdldEltYWdlLmltYWdlSWQpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gQ29sdW1uIHBpeGVsIHNwYWNpbmcgbmVlZCB0byBiZSBjb25zaWRlcmVkIHdoZW4gY2FsY3VsYXRpbmcgdGhlXG4gIC8vIHJhdGlvIGJldHdlZW4gdGhlIGxheWVyIGFkZGVkIGFuZCBiYXNlIGxheWVyIGltYWdlc1xuXG5cbiAgdmFyIGNvbFJlbGF0aXZlID0gdGFyZ2V0TGF5ZXIudmlld3BvcnQuZGlzcGxheWVkQXJlYS5jb2x1bW5QaXhlbFNwYWNpbmcgKiB0YXJnZXRJbWFnZS53aWR0aCAvIChiYXNlTGF5ZXIudmlld3BvcnQuZGlzcGxheWVkQXJlYS5jb2x1bW5QaXhlbFNwYWNpbmcgKiBiYXNlSW1hZ2Uud2lkdGgpO1xuICB2YXIgdmlld3BvcnRSYXRpbyA9IHRhcmdldExheWVyLnZpZXdwb3J0LnNjYWxlIC8gYmFzZUxheWVyLnZpZXdwb3J0LnNjYWxlICogY29sUmVsYXRpdmU7XG4gIHRhcmdldExheWVyLnZpZXdwb3J0LnNjYWxlID0gYmFzZUxheWVyLnZpZXdwb3J0LnNjYWxlICogdmlld3BvcnRSYXRpbztcbn1cbi8qKlxuICogQWRkIGEgbGF5ZXIgdG8gYSBDb3JuZXJzdG9uZSBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgRE9NIGVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2Ugb2JqZWN0IHRvIGFkZCBhcyBhIG5ldyBsYXllclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIGxheWVyXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gbGF5ZXJJZCBUaGUgbmV3IGxheWVyJ3MgdW5pcXVlIGlkZW50aWZpZXJcbiAqIEBtZW1iZXJvZiBFbmFibGVkRWxlbWVudExheWVyc1xuICovXG5cbmZ1bmN0aW9uIGFkZExheWVyKGVsZW1lbnQsIGltYWdlLCBvcHRpb25zKSB7XG4gIHZhciBsYXllcklkID0gT2JqZWN0KF9pbnRlcm5hbF9ndWlkX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKSgpO1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICB2YXIgbGF5ZXJzID0gZW5hYmxlZEVsZW1lbnQubGF5ZXJzO1xuICB2YXIgdmlld3BvcnQ7XG5cbiAgaWYgKGltYWdlKSB7XG4gICAgdmlld3BvcnQgPSBPYmplY3QoX2ludGVybmFsX2dldERlZmF1bHRWaWV3cG9ydF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQuY2FudmFzLCBpbWFnZSk7IC8vIE92ZXJyaWRlIHRoZSBkZWZhdWx0cyBpZiBhbnkgb3B0aW9uYWwgdmlld3BvcnQgc2V0dGluZ3NcbiAgICAvLyBoYXZlIGJlZW4gc3BlY2lmaWVkXG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnZpZXdwb3J0KSB7XG4gICAgICB2aWV3cG9ydCA9IE9iamVjdC5hc3NpZ24odmlld3BvcnQsIG9wdGlvbnMudmlld3BvcnQpO1xuICAgIH1cbiAgfSAvLyBTZXQgc3luY1ZpZXdwb3J0cyB0byB0cnVlIGJ5IGRlZmF1bHQgd2hlbiBhIG5ldyBsYXllciBpcyBhZGRlZFxuXG5cbiAgaWYgKGVuYWJsZWRFbGVtZW50LnN5bmNWaWV3cG9ydHMgIT09IGZhbHNlKSB7XG4gICAgZW5hYmxlZEVsZW1lbnQuc3luY1ZpZXdwb3J0cyA9IHRydWU7XG4gIH1cblxuICB2YXIgbmV3TGF5ZXIgPSB7XG4gICAgaW1hZ2U6IGltYWdlLFxuICAgIGxheWVySWQ6IGxheWVySWQsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgIG9wdGlvbnM6IG9wdGlvbnMgfHwge30sXG4gICAgcmVuZGVyaW5nVG9vbHM6IHt9XG4gIH07IC8vIFJlc2NhbGUgdGhlIG5ldyBsYXllciBiYXNlZCBvbiB0aGUgYmFzZSBsYXllciB0byBtYWtlIHN1cmVcbiAgLy8gdGhleSB3aWxsIGhhdmUgYSBwcm9wb3J0aW9uYWwgc2l6ZSAocGl4ZWwgc3BhY2luZylcblxuICBpZiAobGF5ZXJzLmxlbmd0aCAmJiBpbWFnZSkge1xuICAgIHJlc2NhbGVJbWFnZShsYXllcnNbMF0sIG5ld0xheWVyKTtcbiAgfVxuXG4gIGxheWVycy5wdXNoKG5ld0xheWVyKTtcbiAgdHJpZ2dlckV2ZW50Rm9yTGF5ZXIoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXS5MQVlFUl9BRERFRCwgZW5hYmxlZEVsZW1lbnQsIGxheWVySWQpOyAvLyBTZXQgdGhlIGxheWVyIGFzIGFjdGl2ZSBpZiBpdCdzIHRoZSBmaXJzdCBsYXllciBhZGRlZFxuXG4gIGlmIChsYXllcnMubGVuZ3RoID09PSAxICYmIGltYWdlKSB7XG4gICAgc2V0QWN0aXZlTGF5ZXIoZWxlbWVudCwgbGF5ZXJJZCk7XG4gIH1cblxuICByZXR1cm4gbGF5ZXJJZDtcbn1cbi8qKlxuICogUmVtb3ZlIGEgbGF5ZXIgZnJvbSBhIENvcm5lcnN0b25lIGVsZW1lbnQgZ2l2ZW4gYSBsYXllciBJRFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIERPTSBlbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXG4gKiBAcGFyYW0ge1N0cmluZ30gbGF5ZXJJZCBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBsYXllclxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgRW5hYmxlZEVsZW1lbnRMYXllcnNcbiAqL1xuXG5mdW5jdGlvbiByZW1vdmVMYXllcihlbGVtZW50LCBsYXllcklkKSB7XG4gIHZhciBlbmFibGVkRWxlbWVudCA9IE9iamVjdChfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXSkoZWxlbWVudCk7XG4gIHZhciBsYXllcnMgPSBlbmFibGVkRWxlbWVudC5sYXllcnM7XG4gIHZhciBpbmRleCA9IGVuYWJsZWRFbGVtZW50LmxheWVycy5maW5kSW5kZXgoZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgcmV0dXJuIGxheWVyLmxheWVySWQgPT09IGxheWVySWQ7XG4gIH0pO1xuXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBsYXllcnMuc3BsaWNlKGluZGV4LCAxKTsgLy8gSWYgdGhlIGN1cnJlbnQgbGF5ZXIgaXMgYWN0aXZlLCBhbmQgd2UgaGF2ZSBvdGhlciBsYXllcnMsXG4gICAgLy8gc3dpdGNoIHRvIHRoZSBmaXJzdCBsYXllciB0aGF0IHJlbWFpbnMgaW4gdGhlIGFycmF5XG5cbiAgICBpZiAobGF5ZXJJZCA9PT0gZW5hYmxlZEVsZW1lbnQuYWN0aXZlTGF5ZXJJZCAmJiBsYXllcnMubGVuZ3RoKSB7XG4gICAgICBzZXRBY3RpdmVMYXllcihlbGVtZW50LCBsYXllcnNbMF0ubGF5ZXJJZCk7XG4gICAgfVxuXG4gICAgdHJpZ2dlckV2ZW50Rm9yTGF5ZXIoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXS5MQVlFUl9SRU1PVkVELCBlbmFibGVkRWxlbWVudCwgbGF5ZXJJZCk7XG4gIH1cbn1cbi8qKlxuICogUmV0cmlldmUgYSBsYXllciBmcm9tIGEgQ29ybmVyc3RvbmUgZWxlbWVudCBnaXZlbiBhIGxheWVyIElEXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgRE9NIGVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqIEBwYXJhbSB7U3RyaW5nfSBsYXllcklkIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGxheWVyXG4gKiBAcmV0dXJuIHtFbmFibGVkRWxlbWVudExheWVyfSBUaGUgbGF5ZXJcbiAqIEBtZW1iZXJvZiBFbmFibGVkRWxlbWVudExheWVyc1xuICovXG5cbmZ1bmN0aW9uIGdldExheWVyKGVsZW1lbnQsIGxheWVySWQpIHtcbiAgdmFyIGVuYWJsZWRFbGVtZW50ID0gT2JqZWN0KF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldEVuYWJsZWRFbGVtZW50XCJdKShlbGVtZW50KTtcbiAgcmV0dXJuIGVuYWJsZWRFbGVtZW50LmxheWVycy5maW5kKGZ1bmN0aW9uIChsYXllcikge1xuICAgIHJldHVybiBsYXllci5sYXllcklkID09PSBsYXllcklkO1xuICB9KTtcbn1cbi8qKlxuICogUmV0cmlldmUgYWxsIGxheWVycyBmb3IgYSBDb3JuZXJzdG9uZSBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgRE9NIGVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqXG4gKiBAcmV0dXJuIHtFbmFibGVkRWxlbWVudExheWVyW119IEFuIGFycmF5IG9mIGxheWVyc1xuICogQG1lbWJlcm9mIEVuYWJsZWRFbGVtZW50TGF5ZXJzXG4gKi9cblxuZnVuY3Rpb24gZ2V0TGF5ZXJzKGVsZW1lbnQpIHtcbiAgdmFyIGVuYWJsZWRFbGVtZW50ID0gT2JqZWN0KF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldEVuYWJsZWRFbGVtZW50XCJdKShlbGVtZW50KTtcbiAgcmV0dXJuIGVuYWJsZWRFbGVtZW50LmxheWVycztcbn1cbi8qKlxuICogUmV0cmlldmUgYWxsIHZpc2libGUgbGF5ZXJzIGZvciBhIENvcm5lcnN0b25lIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBET00gZWxlbWVudCBlbmFibGVkIGZvciBDb3JuZXJzdG9uZVxuICpcbiAqIEByZXR1cm4ge0VuYWJsZWRFbGVtZW50TGF5ZXJbXX0gQW4gYXJyYXkgb2YgbGF5ZXJzXG4gKiBAbWVtYmVyb2YgRW5hYmxlZEVsZW1lbnRMYXllcnNcbiAqL1xuXG5mdW5jdGlvbiBnZXRWaXNpYmxlTGF5ZXJzKGVsZW1lbnQpIHtcbiAgdmFyIGVuYWJsZWRFbGVtZW50ID0gT2JqZWN0KF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldEVuYWJsZWRFbGVtZW50XCJdKShlbGVtZW50KTtcbiAgcmV0dXJuIGVuYWJsZWRFbGVtZW50LmxheWVycy5maWx0ZXIoZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgcmV0dXJuIGxheWVyLm9wdGlvbnMgJiYgbGF5ZXIub3B0aW9ucy52aXNpYmxlICE9PSBmYWxzZSAmJiBsYXllci5vcHRpb25zLm9wYWNpdHkgIT09IDA7XG4gIH0pO1xufVxuLyoqXG4gKiBTZXQgdGhlIGFjdGl2ZSBsYXllciBmb3IgYSBDb3JuZXJzdG9uZSBlbGVtZW50XG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgRE9NIGVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqIEBwYXJhbSB7U3RyaW5nfSBsYXllcklkIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGxheWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBtZW1iZXJvZiBFbmFibGVkRWxlbWVudExheWVyc1xuICovXG5cbmZ1bmN0aW9uIHNldEFjdGl2ZUxheWVyKGVsZW1lbnQsIGxheWVySWQpIHtcbiAgdmFyIGVuYWJsZWRFbGVtZW50ID0gT2JqZWN0KF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldEVuYWJsZWRFbGVtZW50XCJdKShlbGVtZW50KTsgLy8gU3RvcCBoZXJlIGlmIHRoaXMgbGF5ZXIgaXMgYWxyZWFkeSBhY3RpdmVcblxuICBpZiAoZW5hYmxlZEVsZW1lbnQuYWN0aXZlTGF5ZXJJZCA9PT0gbGF5ZXJJZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBpbmRleCA9IGVuYWJsZWRFbGVtZW50LmxheWVycy5maW5kSW5kZXgoZnVuY3Rpb24gKGxheWVyKSB7XG4gICAgcmV0dXJuIGxheWVyLmxheWVySWQgPT09IGxheWVySWQ7XG4gIH0pO1xuXG4gIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldEFjdGl2ZUxheWVyOiBsYXllciBub3QgZm91bmQgaW4gbGF5ZXJzIGFycmF5Jyk7XG4gIH1cblxuICB2YXIgbGF5ZXIgPSBlbmFibGVkRWxlbWVudC5sYXllcnNbaW5kZXhdO1xuXG4gIGlmICghbGF5ZXIuaW1hZ2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldEFjdGl2ZUxheWVyOiBsYXllciB3aXRoIHVuZGVmaW5lZCBpbWFnZSBjYW5ub3QgYmUgc2V0IGFzIGFjdGl2ZS4nKTtcbiAgfVxuXG4gIGVuYWJsZWRFbGVtZW50LmFjdGl2ZUxheWVySWQgPSBsYXllcklkO1xuICBlbmFibGVkRWxlbWVudC5pbWFnZSA9IGxheWVyLmltYWdlO1xuICBlbmFibGVkRWxlbWVudC52aWV3cG9ydCA9IGxheWVyLnZpZXdwb3J0O1xuICBPYmplY3QoX3VwZGF0ZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShlbGVtZW50KTtcbiAgdHJpZ2dlckV2ZW50Rm9yTGF5ZXIoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXS5BQ1RJVkVfTEFZRVJfQ0hBTkdFRCwgZW5hYmxlZEVsZW1lbnQsIGxheWVySWQpO1xufVxuLyoqXG4gKiBTZXQgYSBuZXcgaW1hZ2UgZm9yIGEgc3BlY2lmaWMgbGF5ZXJJZFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIERPTSBlbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBUaGUgaW1hZ2UgdG8gYmUgZGlzcGxheWVkIGluIHRoaXMgbGF5ZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbGF5ZXJJZF0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgbGF5ZXJcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIEVuYWJsZWRFbGVtZW50TGF5ZXJzXG4gKi9cblxuZnVuY3Rpb24gc2V0TGF5ZXJJbWFnZShlbGVtZW50LCBpbWFnZSwgbGF5ZXJJZCkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICB2YXIgYmFzZUxheWVyID0gZW5hYmxlZEVsZW1lbnQubGF5ZXJzWzBdO1xuICB2YXIgbGF5ZXI7XG5cbiAgaWYgKGxheWVySWQpIHtcbiAgICBsYXllciA9IGdldExheWVyKGVsZW1lbnQsIGxheWVySWQpO1xuICB9IGVsc2Uge1xuICAgIGxheWVyID0gZ2V0QWN0aXZlTGF5ZXIoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoIWxheWVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRMYXllckltYWdlOiBMYXllciBub3QgZm91bmQnKTtcbiAgfVxuXG4gIGxheWVyLmltYWdlID0gaW1hZ2U7XG5cbiAgaWYgKCFpbWFnZSkge1xuICAgIGxheWVyLnZpZXdwb3J0ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghbGF5ZXIudmlld3BvcnQpIHtcbiAgICB2YXIgZGVmYXVsdFZpZXdwb3J0ID0gT2JqZWN0KF9pbnRlcm5hbF9nZXREZWZhdWx0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LmNhbnZhcywgaW1hZ2UpOyAvLyBPdmVycmlkZSB0aGUgZGVmYXVsdHMgaWYgYW55IG9wdGlvbmFsIHZpZXdwb3J0IHNldHRpbmdzXG4gICAgLy8gaGF2ZSBiZWVuIHNwZWNpZmllZFxuXG4gICAgaWYgKGxheWVyLm9wdGlvbnMgJiYgbGF5ZXIub3B0aW9ucy52aWV3cG9ydCkge1xuICAgICAgbGF5ZXIudmlld3BvcnQgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRWaWV3cG9ydCwgbGF5ZXIub3B0aW9ucy52aWV3cG9ydCk7XG4gICAgfVxuXG4gICAgaWYgKGJhc2VMYXllci5sYXllcklkICE9PSBsYXllcklkKSB7XG4gICAgICByZXNjYWxlSW1hZ2UoYmFzZUxheWVyLCBsYXllcik7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSBjdXJyZW50bHkgYWN0aXZlIGxheWVyIGZvciBhIENvcm5lcnN0b25lIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBET00gZWxlbWVudCBlbmFibGVkIGZvciBDb3JuZXJzdG9uZVxuICogQHJldHVybiB7RW5hYmxlZEVsZW1lbnRMYXllcn0gVGhlIGN1cnJlbnRseSBhY3RpdmUgbGF5ZXJcbiAqIEBtZW1iZXJvZiBFbmFibGVkRWxlbWVudExheWVyc1xuICovXG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUxheWVyKGVsZW1lbnQpIHtcbiAgdmFyIGVuYWJsZWRFbGVtZW50ID0gT2JqZWN0KF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImdldEVuYWJsZWRFbGVtZW50XCJdKShlbGVtZW50KTtcbiAgcmV0dXJuIGVuYWJsZWRFbGVtZW50LmxheWVycy5maW5kKGZ1bmN0aW9uIChsYXllcikge1xuICAgIHJldHVybiBsYXllci5sYXllcklkID09PSBlbmFibGVkRWxlbWVudC5hY3RpdmVMYXllcklkO1xuICB9KTtcbn1cbi8qKlxuICogUHVyZ2UgdGhlIGxheWVyc1xyXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgRE9NIGVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblxuZnVuY3Rpb24gcHVyZ2VMYXllcnMoZWxlbWVudCkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICBlbmFibGVkRWxlbWVudC5sYXllcnMgPSBbXTtcbiAgZGVsZXRlIGVuYWJsZWRFbGVtZW50LmFjdGl2ZUxheWVySWQ7XG4gIGRlbGV0ZSBlbmFibGVkRWxlbWVudC5sYXN0U3luY1ZpZXdwb3J0c1N0YXRlO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL21ldGFEYXRhLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9tZXRhRGF0YS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGFkZFByb3ZpZGVyLCByZW1vdmVQcm92aWRlciwgZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZGRQcm92aWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFkZFByb3ZpZGVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZW1vdmVQcm92aWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlbW92ZVByb3ZpZGVyOyB9KTtcbi8vIFRoaXMgbW9kdWxlIGRlZmluZXMgYSB3YXkgdG8gYWNjZXNzIHZhcmlvdXMgbWV0YWRhdGEgYWJvdXQgYW4gaW1hZ2VJZC4gIFRoaXMgbGF5ZXIgb2YgYWJzdHJhY3Rpb24gZXhpc3RzXG4vLyBTbyBtZXRhZGF0YSBjYW4gYmUgcHJvdmlkZWQgaW4gZGlmZmVyZW50IHdheXMgKGUuZy4gYnkgcGFyc2luZyBESUNPTSBQMTAgb3IgYnkgYSBXQURPLVJTIGRvY3VtZW50KVxudmFyIHByb3ZpZGVycyA9IFtdO1xuLyoqXG4gKiBAbW9kdWxlIE1ldGFkYXRhXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEgbWV0YWRhdGEgcHJvdmlkZXIgd2l0aCB0aGUgc3BlY2lmaWVkIHByaW9yaXR5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlciBNZXRhZGF0YSBwcm92aWRlciBmdW5jdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IFtwcmlvcml0eT0wXSAtIDAgaXMgZGVmYXVsdC9ub3JtYWwsID4gMCBpcyBoaWdoLCA8IDAgaXMgbG93XG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgTWV0YWRhdGFcbiAqL1xuXG5mdW5jdGlvbiBhZGRQcm92aWRlcihwcm92aWRlcikge1xuICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIHZhciBpOyAvLyBGaW5kIHRoZSByaWdodCBzcG90IHRvIGluc2VydCB0aGlzIHByb3ZpZGVyIGJhc2VkIG9uIHByaW9yaXR5XG5cbiAgZm9yIChpID0gMDsgaSA8IHByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwcm92aWRlcnNbaV0ucHJpb3JpdHkgPD0gcHJpb3JpdHkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSAvLyBJbnNlcnQgdGhlIGRlY29kZSB0YXNrIGF0IHBvc2l0aW9uIGlcblxuXG4gIHByb3ZpZGVycy5zcGxpY2UoaSwgMCwge1xuICAgIHByaW9yaXR5OiBwcmlvcml0eSxcbiAgICBwcm92aWRlcjogcHJvdmlkZXJcbiAgfSk7XG59XG4vKipcbiAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBwcm92aWRlclxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3ZpZGVyIE1ldGFkYXRhIHByb3ZpZGVyIGZ1bmN0aW9uXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgTWV0YWRhdGFcbiAqL1xuXG5mdW5jdGlvbiByZW1vdmVQcm92aWRlcihwcm92aWRlcikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwcm92aWRlcnNbaV0ucHJvdmlkZXIgPT09IHByb3ZpZGVyKSB7XG4gICAgICBwcm92aWRlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEdldHMgbWV0YWRhdGEgZnJvbSB0aGUgcmVnaXN0ZXJlZCBtZXRhZGF0YSBwcm92aWRlcnMuICBXaWxsIGNhbGwgZWFjaCBvbmUgZnJvbSBoaWdoZXN0IHByaW9yaXR5IHRvIGxvd2VzdFxuICogdW50aWwgb25lIHJlc3BvbmRzXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgbWV0YWRhdGEgcmVxdWVzdGVkIGZyb20gdGhlIG1ldGFkYXRhIHN0b3JlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VJZCBUaGUgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0J3MgaW1hZ2VJZFxuICpcbiAqIEByZXR1cm5zIHsqfSBUaGUgbWV0YWRhdGEgcmV0cmlldmVkIGZyb20gdGhlIG1ldGFkYXRhIHN0b3JlXG4gKiBAbWVtYmVyb2YgTWV0YWRhdGFcbiAqL1xuXG5mdW5jdGlvbiBnZXRNZXRhRGF0YSh0eXBlLCBpbWFnZUlkKSB7XG4gIC8vIEludm9rZSBlYWNoIHByb3ZpZGVyIGluIHByaW9yaXR5IG9yZGVyIHVudGlsIG9uZSByZXR1cm5zIHNvbWV0aGluZ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgIHZhciByZXN1bHQgPSBwcm92aWRlcnNbaV0ucHJvdmlkZXIodHlwZSwgaW1hZ2VJZCk7XG5cbiAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICBhZGRQcm92aWRlcjogYWRkUHJvdmlkZXIsXG4gIHJlbW92ZVByb3ZpZGVyOiByZW1vdmVQcm92aWRlcixcbiAgZ2V0OiBnZXRNZXRhRGF0YVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vcGFnZVRvUGl4ZWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3BhZ2VUb1BpeGVsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9nZXRUcmFuc2Zvcm1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ2V0VHJhbnNmb3JtLmpzICovIFwiLi9pbnRlcm5hbC9nZXRUcmFuc2Zvcm0uanNcIik7XG5cblxuLyoqXG4gKiBDb252ZXJ0cyBhIHBvaW50IGluIHRoZSBwYWdlIGNvb3JkaW5hdGUgc3lzdGVtIHRvIHRoZSBwaXhlbCBjb29yZGluYXRlXG4gKiBzeXN0ZW1cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBlbGVtZW50IHdpdGhpbiB3aGljaCB0aGUgaW5wdXQgcG9pbnQgbGllc1xuICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2VYIFRoZSB4IHZhbHVlIGluIHRoZSBwYWdlIGNvb3JkaW5hdGUgc3lzdGVtXG4gKiBAcGFyYW0ge051bWJlcn0gcGFnZVkgVGhlIHkgdmFsdWUgaW4gdGhlIHBhZ2UgY29vcmRpbmF0ZSBzeXN0ZW1cbiAqXG4gKiBAcmV0dXJucyB7e3g6IE51bWJlciwgeTogTnVtYmVyfX0gVGhlIHRyYW5zZm9ybWVkIHBvaW50IGluIHRoZSBwaXhlbCBjb29yZGluYXRlIHN5c3RlbVxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVsZW1lbnQsIHBhZ2VYLCBwYWdlWSkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuXG4gIGlmIChlbmFibGVkRWxlbWVudC5pbWFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbWFnZSBoYXMgbm90IGJlZW4gbG9hZGVkIHlldCcpO1xuICB9IC8vIENvbnZlcnQgdGhlIHBhZ2VYIGFuZCBwYWdlWSB0byB0aGUgY2FudmFzIGNsaWVudCBjb29yZGluYXRlc1xuXG5cbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgY2xpZW50WCA9IHBhZ2VYIC0gcmVjdC5sZWZ0IC0gd2luZG93LnBhZ2VYT2Zmc2V0O1xuICB2YXIgY2xpZW50WSA9IHBhZ2VZIC0gcmVjdC50b3AgLSB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gIHZhciBwdCA9IHtcbiAgICB4OiBjbGllbnRYLFxuICAgIHk6IGNsaWVudFlcbiAgfTtcbiAgdmFyIHRyYW5zZm9ybSA9IE9iamVjdChfaW50ZXJuYWxfZ2V0VHJhbnNmb3JtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCk7XG4gIHRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgcmV0dXJuIHRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludChwdC54LCBwdC55KTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3BpeGVsRGF0YVRvRmFsc2VDb2xvckRhdGEuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vcGl4ZWxEYXRhVG9GYWxzZUNvbG9yRGF0YS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcGl4ZWxEYXRhVG9GYWxzZUNvbG9yRGF0YTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbG9yc19pbmRleF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb2xvcnMvaW5kZXguanMgKi8gXCIuL2NvbG9ycy9pbmRleC5qc1wiKTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgaW1hZ2UgcGl4ZWwgZGF0YSBpbnRvIGEgZmFsc2UgY29sb3IgZGF0YVxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gbG9va3VwVGFibGUgQSBsb29rdXAgdGFibGUgT2JqZWN0XG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIHN1cGVyc2VkZWQgYnkgdGhlIGFiaWxpdHkgdG8gc2V0IHRoZSBWaWV3cG9ydCBwYXJhbWV0ZXJzXG4gKiB0byBpbmNsdWRlIGNvbG9ybWFwcy5cbiAqL1xuXG5mdW5jdGlvbiBwaXhlbERhdGFUb0ZhbHNlQ29sb3JEYXRhKGltYWdlLCBsb29rdXBUYWJsZSkge1xuICBpZiAoaW1hZ2UuY29sb3IgJiYgIWltYWdlLmZhbHNlQ29sb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbG9yIHRyYW5zZm9ybXMgYXJlIG5vdCBpbXBsZW1lbnRlZCB5ZXQnKTtcbiAgfVxuXG4gIHZhciBtaW5QaXhlbFZhbHVlID0gaW1hZ2UubWluUGl4ZWxWYWx1ZTtcbiAgdmFyIGNhbnZhc0ltYWdlRGF0YUluZGV4ID0gMDtcbiAgdmFyIHN0b3JlZFBpeGVsRGF0YUluZGV4ID0gMDtcbiAgdmFyIG51bVBpeGVscyA9IGltYWdlLndpZHRoICogaW1hZ2UuaGVpZ2h0O1xuICB2YXIgb3JpZ1BpeGVsRGF0YSA9IGltYWdlLm9yaWdQaXhlbERhdGEgfHwgaW1hZ2UuZ2V0UGl4ZWxEYXRhKCk7XG4gIHZhciBzdG9yZWRDb2xvclBpeGVsRGF0YSA9IG5ldyBVaW50OEFycmF5KG51bVBpeGVscyAqIDQpO1xuICB2YXIgc3A7XG4gIHZhciBtYXBwZWQ7XG4gIGltYWdlLmNvbG9yID0gdHJ1ZTtcbiAgaW1hZ2UuZmFsc2VDb2xvciA9IHRydWU7XG4gIGltYWdlLm9yaWdQaXhlbERhdGEgPSBvcmlnUGl4ZWxEYXRhO1xuXG4gIGlmIChsb29rdXBUYWJsZSBpbnN0YW5jZW9mIF9jb2xvcnNfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0uTG9va3VwVGFibGUpIHtcbiAgICBsb29rdXBUYWJsZS5idWlsZCgpO1xuXG4gICAgd2hpbGUgKHN0b3JlZFBpeGVsRGF0YUluZGV4IDwgbnVtUGl4ZWxzKSB7XG4gICAgICBzcCA9IG9yaWdQaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK107XG4gICAgICBtYXBwZWQgPSBsb29rdXBUYWJsZS5tYXBWYWx1ZShzcCk7XG4gICAgICBzdG9yZWRDb2xvclBpeGVsRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IG1hcHBlZFswXTtcbiAgICAgIHN0b3JlZENvbG9yUGl4ZWxEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbWFwcGVkWzFdO1xuICAgICAgc3RvcmVkQ29sb3JQaXhlbERhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBtYXBwZWRbMl07XG4gICAgICBzdG9yZWRDb2xvclBpeGVsRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IG1hcHBlZFszXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobWluUGl4ZWxWYWx1ZSA8IDApIHtcbiAgICB3aGlsZSAoc3RvcmVkUGl4ZWxEYXRhSW5kZXggPCBudW1QaXhlbHMpIHtcbiAgICAgIHNwID0gb3JpZ1BpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXTtcbiAgICAgIHN0b3JlZENvbG9yUGl4ZWxEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbG9va3VwVGFibGVbc3AgKyAtbWluUGl4ZWxWYWx1ZV1bMF07IC8vIFJlZFxuXG4gICAgICBzdG9yZWRDb2xvclBpeGVsRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IGxvb2t1cFRhYmxlW3NwICsgLW1pblBpeGVsVmFsdWVdWzFdOyAvLyBHcmVlblxuXG4gICAgICBzdG9yZWRDb2xvclBpeGVsRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IGxvb2t1cFRhYmxlW3NwICsgLW1pblBpeGVsVmFsdWVdWzJdOyAvLyBCbHVlXG5cbiAgICAgIHN0b3JlZENvbG9yUGl4ZWxEYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gbG9va3VwVGFibGVbc3AgKyAtbWluUGl4ZWxWYWx1ZV1bM107IC8vIEFscGhhXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdG9yZWRQaXhlbERhdGFJbmRleCA8IG51bVBpeGVscykge1xuICAgICAgc3AgPSBvcmlnUGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdO1xuICAgICAgc3RvcmVkQ29sb3JQaXhlbERhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBsb29rdXBUYWJsZVtzcF1bMF07IC8vIFJlZFxuXG4gICAgICBzdG9yZWRDb2xvclBpeGVsRGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IGxvb2t1cFRhYmxlW3NwXVsxXTsgLy8gR3JlZW5cblxuICAgICAgc3RvcmVkQ29sb3JQaXhlbERhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBsb29rdXBUYWJsZVtzcF1bMl07IC8vIEJsdWVcblxuICAgICAgc3RvcmVkQ29sb3JQaXhlbERhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBsb29rdXBUYWJsZVtzcF1bM107IC8vIEFscGhhXG4gICAgfVxuICB9XG5cbiAgaW1hZ2UucmdiYSA9IHRydWU7XG4gIGltYWdlLmNhY2hlZEx1dCA9IHVuZGVmaW5lZDtcbiAgaW1hZ2UucmVuZGVyID0gdW5kZWZpbmVkO1xuICBpbWFnZS5zbG9wZSA9IDE7XG4gIGltYWdlLmludGVyY2VwdCA9IDA7XG4gIGltYWdlLm1pblBpeGVsVmFsdWUgPSAwO1xuICBpbWFnZS5tYXhQaXhlbFZhbHVlID0gMjU1O1xuICBpbWFnZS53aW5kb3dXaWR0aCA9IDI1NTtcbiAgaW1hZ2Uud2luZG93Q2VudGVyID0gMTI4O1xuXG4gIGltYWdlLmdldFBpeGVsRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc3RvcmVkQ29sb3JQaXhlbERhdGE7XG4gIH07XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vcGl4ZWxUb0NhbnZhcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9waXhlbFRvQ2FudmFzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9lbmFibGVkRWxlbWVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZW5hYmxlZEVsZW1lbnRzLmpzICovIFwiLi9lbmFibGVkRWxlbWVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2dldFRyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9nZXRUcmFuc2Zvcm0uanMgKi8gXCIuL2ludGVybmFsL2dldFRyYW5zZm9ybS5qc1wiKTtcblxuXG4vKipcbiAqIENvbnZlcnRzIGEgcG9pbnQgaW4gdGhlIHBpeGVsIGNvb3JkaW5hdGUgc3lzdGVtIHRvIHRoZSBjYW52YXMgY29vcmRpbmF0ZSBzeXN0ZW1cbiAqIHN5c3RlbS4gIFRoaXMgY2FuIGJlIHVzZWQgdG8gcmVuZGVyIHVzaW5nIGNhbnZhcyBjb250ZXh0IHdpdGhvdXQgaGF2aW5nIHRoZSB3ZWlyZFxuICogc2lkZSBlZmZlY3RzIHRoYXQgY29tZSBmcm9tIHNjYWxpbmcgYW5kIG5vbiBzcXVhcmUgcGl4ZWxzXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBBbiBIVE1MIEVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcbiAqIEBwYXJhbSB7e3g6IE51bWJlciwgeTogTnVtYmVyfX0gcHQgVGhlIHRyYW5zZm9ybWVkIHBvaW50IGluIHRoZSBwaXhlbCBjb29yZGluYXRlIHN5c3RlbVxuICpcbiAqIEByZXR1cm5zIHt7eDogTnVtYmVyLCB5OiBOdW1iZXJ9fSBUaGUgaW5wdXQgcG9pbnQgaW4gdGhlIGNhbnZhcyBjb29yZGluYXRlIHN5c3RlbVxuICogQG1lbWJlcm9mIFBpeGVsQ29vcmRpbmF0ZVN5c3RlbVxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVsZW1lbnQsIHB0KSB7XG4gIHZhciBlbmFibGVkRWxlbWVudCA9IE9iamVjdChfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXSkoZWxlbWVudCk7XG4gIHZhciB0cmFuc2Zvcm0gPSBPYmplY3QoX2ludGVybmFsX2dldFRyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQpO1xuICByZXR1cm4gdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50KHB0LngsIHB0LnkpO1xufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vcmVuZGVyaW5nL2RvZXNJbWFnZU5lZWRUb0JlUmVuZGVyZWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3JlbmRlcmluZy9kb2VzSW1hZ2VOZWVkVG9CZVJlbmRlcmVkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IGFuIEVuYWJsZWQgRWxlbWVudCBuZWVkcyB0byBiZSByZS1yZW5kZXJlZC5cbiAqXG4gKiBJZiB0aGUgaW1hZ2VJZCBoYXMgY2hhbmdlZCwgb3IgaWYgYW55IG9mIHRoZSBsYXN0IHJlbmRlcmVkIHZpZXdwb3J0XG4gKiBwYXJhbWV0ZXJzIGhhdmUgY2hhbmdlZCwgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiB0cnVlLlxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IEFuIEVuYWJsZWQgRWxlbWVudFxuICogQHBhcmFtIHtJbWFnZX0gaW1hZ2UgQW4gSW1hZ2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBFbmFibGVkIEVsZW1lbnQgbmVlZHMgdG8gcmUtcmVuZGVyIGl0cyBpbWFnZVxuICogQG1lbWJlcm9mIHJlbmRlcmluZ1xuICovXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChlbmFibGVkRWxlbWVudCwgaW1hZ2UpIHtcbiAgdmFyIGxhc3RSZW5kZXJlZEltYWdlSWQgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5sYXN0UmVuZGVyZWRJbWFnZUlkO1xuICB2YXIgbGFzdFJlbmRlcmVkVmlld3BvcnQgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5sYXN0UmVuZGVyZWRWaWV3cG9ydDtcbiAgcmV0dXJuIGltYWdlLmltYWdlSWQgIT09IGxhc3RSZW5kZXJlZEltYWdlSWQgfHwgIWxhc3RSZW5kZXJlZFZpZXdwb3J0IHx8IGxhc3RSZW5kZXJlZFZpZXdwb3J0LndpbmRvd0NlbnRlciAhPT0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQudm9pLndpbmRvd0NlbnRlciB8fCBsYXN0UmVuZGVyZWRWaWV3cG9ydC53aW5kb3dXaWR0aCAhPT0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQudm9pLndpbmRvd1dpZHRoIHx8IGxhc3RSZW5kZXJlZFZpZXdwb3J0LmludmVydCAhPT0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuaW52ZXJ0IHx8IGxhc3RSZW5kZXJlZFZpZXdwb3J0LnJvdGF0aW9uICE9PSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5yb3RhdGlvbiB8fCBsYXN0UmVuZGVyZWRWaWV3cG9ydC5oZmxpcCAhPT0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuaGZsaXAgfHwgbGFzdFJlbmRlcmVkVmlld3BvcnQudmZsaXAgIT09IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnZmbGlwIHx8IGxhc3RSZW5kZXJlZFZpZXdwb3J0Lm1vZGFsaXR5TFVUICE9PSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5tb2RhbGl0eUxVVCB8fCBsYXN0UmVuZGVyZWRWaWV3cG9ydC52b2lMVVQgIT09IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnZvaUxVVCB8fCBsYXN0UmVuZGVyZWRWaWV3cG9ydC5jb2xvcm1hcCAhPT0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuY29sb3JtYXA7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yZW5kZXJpbmcvZ2V0THV0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3JlbmRlcmluZy9nZXRMdXQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2NvbXB1dGVBdXRvVm9pX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbC9jb21wdXRlQXV0b1ZvaS5qcyAqLyBcIi4vaW50ZXJuYWwvY29tcHV0ZUF1dG9Wb2kuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2x1dE1hdGNoZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbHV0TWF0Y2hlcy5qcyAqLyBcIi4vcmVuZGVyaW5nL2x1dE1hdGNoZXMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2dlbmVyYXRlTHV0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbC9nZW5lcmF0ZUx1dC5qcyAqLyBcIi4vaW50ZXJuYWwvZ2VuZXJhdGVMdXQuanNcIik7XG5cblxuXG4vKipcbiAqIFJldHJpZXZlIG9yIGdlbmVyYXRlIGEgTFVUIEFycmF5IGZvciBhbiBJbWFnZSBhbmQgVmlld3BvcnRcbiAqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBBbiBJbWFnZSBPYmplY3RcbiAqIEBwYXJhbSB7Vmlld3BvcnR9IHZpZXdwb3J0IEFuIFZpZXdwb3J0IE9iamVjdFxuICogQHBhcmFtIHtCb29sZWFufSBpbnZhbGlkYXRlZCBXaGV0aGVyIG9yIG5vdCB0aGUgTFVUIGRhdGEgaGFzIGJlZW4gaW52YWxpZGF0ZWRcbiAqIChlLmcuIGJ5IGEgY2hhbmdlIHRvIHRoZSB3aW5kb3dXaWR0aCwgd2luZG93Q2VudGVyLCBvciBpbnZlcnQgdmlld3BvcnQgcGFyYW1ldGVycykuXG4gKiBAcmV0dXJuIHtVaW50OENsYW1wZWRBcnJheX0gTFVUIEFycmF5XG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoaW1hZ2UsIHZpZXdwb3J0LCBpbnZhbGlkYXRlZCkge1xuICAvLyBJZiB3ZSBoYXZlIGEgY2FjaGVkIGx1dCBhbmQgaXQgaGFzIHRoZSByaWdodCB2YWx1ZXMsIHJldHVybiBpdCBpbW1lZGlhdGVseVxuICBpZiAoaW1hZ2UuY2FjaGVkTHV0ICE9PSB1bmRlZmluZWQgJiYgaW1hZ2UuY2FjaGVkTHV0LndpbmRvd0NlbnRlciA9PT0gdmlld3BvcnQudm9pLndpbmRvd0NlbnRlciAmJiBpbWFnZS5jYWNoZWRMdXQud2luZG93V2lkdGggPT09IHZpZXdwb3J0LnZvaS53aW5kb3dXaWR0aCAmJiBPYmplY3QoX2x1dE1hdGNoZXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGltYWdlLmNhY2hlZEx1dC5tb2RhbGl0eUxVVCwgdmlld3BvcnQubW9kYWxpdHlMVVQpICYmIE9iamVjdChfbHV0TWF0Y2hlc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoaW1hZ2UuY2FjaGVkTHV0LnZvaUxVVCwgdmlld3BvcnQudm9pTFVUKSAmJiBpbWFnZS5jYWNoZWRMdXQuaW52ZXJ0ID09PSB2aWV3cG9ydC5pbnZlcnQgJiYgaW52YWxpZGF0ZWQgIT09IHRydWUpIHtcbiAgICByZXR1cm4gaW1hZ2UuY2FjaGVkTHV0Lmx1dEFycmF5O1xuICB9XG5cbiAgT2JqZWN0KF9pbnRlcm5hbF9jb21wdXRlQXV0b1ZvaV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkodmlld3BvcnQsIGltYWdlKTsgLy8gTHV0IGlzIGludmFsaWQgb3Igbm90IHByZXNlbnQsIHJlZ2VuZXJhdGUgaXQgYW5kIGNhY2hlIGl0XG5cbiAgT2JqZWN0KF9pbnRlcm5hbF9nZW5lcmF0ZUx1dF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoaW1hZ2UsIHZpZXdwb3J0LnZvaS53aW5kb3dXaWR0aCwgdmlld3BvcnQudm9pLndpbmRvd0NlbnRlciwgdmlld3BvcnQuaW52ZXJ0LCB2aWV3cG9ydC5tb2RhbGl0eUxVVCwgdmlld3BvcnQudm9pTFVUKTtcbiAgaW1hZ2UuY2FjaGVkTHV0LndpbmRvd1dpZHRoID0gdmlld3BvcnQudm9pLndpbmRvd1dpZHRoO1xuICBpbWFnZS5jYWNoZWRMdXQud2luZG93Q2VudGVyID0gdmlld3BvcnQudm9pLndpbmRvd0NlbnRlcjtcbiAgaW1hZ2UuY2FjaGVkTHV0LmludmVydCA9IHZpZXdwb3J0LmludmVydDtcbiAgaW1hZ2UuY2FjaGVkTHV0LnZvaUxVVCA9IHZpZXdwb3J0LnZvaUxVVDtcbiAgaW1hZ2UuY2FjaGVkTHV0Lm1vZGFsaXR5TFVUID0gdmlld3BvcnQubW9kYWxpdHlMVVQ7XG4gIHJldHVybiBpbWFnZS5jYWNoZWRMdXQubHV0QXJyYXk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yZW5kZXJpbmcvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9yZW5kZXJpbmcvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZW5kZXJDb2xvckltYWdlLmpzICovIFwiLi9yZW5kZXJpbmcvcmVuZGVyQ29sb3JJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyR3JheXNjYWxlSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyR3JheXNjYWxlSW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJHcmF5c2NhbGVJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyV2ViSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyV2ViSW1hZ2UuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJXZWJJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyUHNldWRvQ29sb3JJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZW5kZXJQc2V1ZG9Db2xvckltYWdlLmpzICovIFwiLi9yZW5kZXJpbmcvcmVuZGVyUHNldWRvQ29sb3JJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyTGFiZWxNYXBJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZW5kZXJMYWJlbE1hcEltYWdlLmpzICovIFwiLi9yZW5kZXJpbmcvcmVuZGVyTGFiZWxNYXBJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcmVuZGVyVG9DYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyVG9DYW52YXMuanMgKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJUb0NhbnZhcy5qc1wiKTtcblxuXG5cblxuXG5cbi8qKlxuICogQG1vZHVsZSByZW5kZXJpbmdcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKHtcbiAgY29sb3JJbWFnZTogX3JlbmRlckNvbG9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInJlbmRlckNvbG9ySW1hZ2VcIl0sXG4gIGdyYXlzY2FsZUltYWdlOiBfcmVuZGVyR3JheXNjYWxlSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInJlbmRlckdyYXlzY2FsZUltYWdlXCJdLFxuICB3ZWJJbWFnZTogX3JlbmRlcldlYkltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJyZW5kZXJXZWJJbWFnZVwiXSxcbiAgcHNldWRvQ29sb3JJbWFnZTogX3JlbmRlclBzZXVkb0NvbG9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcInJlbmRlclBzZXVkb0NvbG9ySW1hZ2VcIl0sXG4gIGxhYmVsTWFwSW1hZ2U6IF9yZW5kZXJMYWJlbE1hcEltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJyZW5kZXJMYWJlbE1hcEltYWdlXCJdLFxuICB0b0NhbnZhczogX3JlbmRlclRvQ2FudmFzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdXG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yZW5kZXJpbmcvaW5pdGlhbGl6ZVJlbmRlckNhbnZhcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vcmVuZGVyaW5nL2luaXRpYWxpemVSZW5kZXJDYW52YXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyoqXG4gKiBTZXRzIHNpemUgYW5kIGNsZWFycyBjYW52YXNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZW5hYmxlZEVsZW1lbnQgQ29ybmVyc3RvbmUgRW5hYmxlZCBFbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2UgSW1hZ2UgdG8gYmUgcmVuZGVyZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIHJlbmRlcmluZ1xuICovXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChlbmFibGVkRWxlbWVudCwgaW1hZ2UpIHtcbiAgdmFyIHJlbmRlckNhbnZhcyA9IGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLnJlbmRlckNhbnZhczsgLy8gUmVzaXplIHRoZSBjYW52YXNcblxuICByZW5kZXJDYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgcmVuZGVyQ2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgdmFyIGNhbnZhc0NvbnRleHQgPSByZW5kZXJDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gTk9URSAtIHdlIG5lZWQgdG8gZmlsbCB0aGUgcmVuZGVyIGNhbnZhcyB3aXRoIHdoaXRlIHBpeGVscyBzaW5jZSB3ZVxuICAvLyBjb250cm9sIHRoZSBsdW1pbmFuY2UgdXNpbmcgdGhlIGFscGhhIGNoYW5uZWwgdG8gaW1wcm92ZSByZW5kZXJpbmcgcGVyZm9ybWFuY2UuXG5cbiAgY2FudmFzQ29udGV4dC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICBjYW52YXNDb250ZXh0LmZpbGxSZWN0KDAsIDAsIHJlbmRlckNhbnZhcy53aWR0aCwgcmVuZGVyQ2FudmFzLmhlaWdodCk7XG4gIHZhciByZW5kZXJDYW52YXNEYXRhID0gY2FudmFzQ29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gIGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLnJlbmRlckNhbnZhc0NvbnRleHQgPSBjYW52YXNDb250ZXh0O1xuICBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXNEYXRhID0gcmVuZGVyQ2FudmFzRGF0YTtcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3JlbmRlcmluZy9sdXRNYXRjaGVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9yZW5kZXJpbmcvbHV0TWF0Y2hlcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKipcbiAqIENoZWNrIGlmIHR3byBsb29rdXAgdGFibGVzIG1hdGNoXG4gKlxuICogQHBhcmFtIHtMVVR9IGEgQSBsb29rdXAgdGFibGUgZnVuY3Rpb25cbiAqIEBwYXJhbSB7TFVUfSBiIEFub3RoZXIgbG9va3VwIHRhYmxlIGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGV5IG1hdGNoXG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXG4gKi9cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGEsIGIpIHtcbiAgLy8gSWYgdW5kZWZpbmVkLCB0aGV5IGFyZSBlcXVhbFxuICBpZiAoIWEgJiYgIWIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBJZiBvbmUgaXMgdW5kZWZpbmVkLCBub3QgZXF1YWxcblxuXG4gIGlmICghYSB8fCAhYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBDaGVjayB0aGUgdW5pcXVlIGlkc1xuXG5cbiAgcmV0dXJuIGEuaWQgPT09IGIuaWQ7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yZW5kZXJpbmcvcmVuZGVyQ29sb3JJbWFnZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vcmVuZGVyaW5nL3JlbmRlckNvbG9ySW1hZ2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiByZW5kZXJDb2xvckltYWdlLCBhZGRDb2xvckxheWVyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbmRlckNvbG9ySW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiByZW5kZXJDb2xvckltYWdlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZGRDb2xvckxheWVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYWRkQ29sb3JMYXllcjsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWwvbm93LmpzICovIFwiLi9pbnRlcm5hbC9ub3cuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2dlbmVyYXRlQ29sb3JMdXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFsL2dlbmVyYXRlQ29sb3JMdXQuanMgKi8gXCIuL2ludGVybmFsL2dlbmVyYXRlQ29sb3JMdXQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX3N0b3JlZENvbG9yUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFsL3N0b3JlZENvbG9yUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGEuanMgKi8gXCIuL2ludGVybmFsL3N0b3JlZENvbG9yUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGEuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX3N0b3JlZFJHQkFQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWwvc3RvcmVkUkdCQVBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzICovIFwiLi9pbnRlcm5hbC9zdG9yZWRSR0JBUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGEuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbS5qcyAqLyBcIi4vc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW0uanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3dlYmdsX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi93ZWJnbC9pbmRleC5qcyAqLyBcIi4vd2ViZ2wvaW5kZXguanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RvZXNJbWFnZU5lZWRUb0JlUmVuZGVyZWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZG9lc0ltYWdlTmVlZFRvQmVSZW5kZXJlZC5qcyAqLyBcIi4vcmVuZGVyaW5nL2RvZXNJbWFnZU5lZWRUb0JlUmVuZGVyZWQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2luaXRpYWxpemVSZW5kZXJDYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW5pdGlhbGl6ZVJlbmRlckNhbnZhcy5qcyAqLyBcIi4vcmVuZGVyaW5nL2luaXRpYWxpemVSZW5kZXJDYW52YXMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NhdmVMYXN0UmVuZGVyZWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2F2ZUxhc3RSZW5kZXJlZC5qcyAqLyBcIi4vcmVuZGVyaW5nL3NhdmVMYXN0UmVuZGVyZWQuanNcIik7XG5cblxuXG5cblxuXG5cblxuXG4vKipcbiAqIEdlbmVyYXRlcyBhbiBhcHByb3ByaWF0ZSBMb29rIFVwIFRhYmxlIHRvIHJlbmRlciB0aGUgZ2l2ZW4gaW1hZ2Ugd2l0aCB0aGUgZ2l2ZW4gd2luZG93IHdpZHRoIGFuZCBsZXZlbCAoc3BlY2lmaWVkIGluIHRoZSB2aWV3cG9ydClcbiAqIFVzZXMgYW4gaW50ZXJuYWwgY2FjaGUgZm9yIHBlcmZvcm1hbmNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGltYWdlICBUaGUgaW1hZ2UgdG8gYmUgcmVuZGVyZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSB2aWV3cG9ydCBUaGUgdmlld3BvcnQgdmFsdWVzIHVzZWQgZm9yIHJlbmRlcmluZ1xuICogQHJldHVybnMge1VpbnQ4Q2xhbXBlZEFycmF5fSBMb29rIFVwIFRhYmxlIGFycmF5LlxuICogQG1lbWJlcm9mIHJlbmRlcmluZ1xuICovXG5cbmZ1bmN0aW9uIGdldEx1dChpbWFnZSwgdmlld3BvcnQpIHtcbiAgLy8gSWYgd2UgaGF2ZSBhIGNhY2hlZCBsdXQgYW5kIGl0IGhhcyB0aGUgcmlnaHQgdmFsdWVzLCByZXR1cm4gaXQgaW1tZWRpYXRlbHlcbiAgaWYgKGltYWdlLmNhY2hlZEx1dCAhPT0gdW5kZWZpbmVkICYmIGltYWdlLmNhY2hlZEx1dC53aW5kb3dDZW50ZXIgPT09IHZpZXdwb3J0LnZvaS53aW5kb3dDZW50ZXIgJiYgaW1hZ2UuY2FjaGVkTHV0LndpbmRvd1dpZHRoID09PSB2aWV3cG9ydC52b2kud2luZG93V2lkdGggJiYgaW1hZ2UuY2FjaGVkTHV0LmludmVydCA9PT0gdmlld3BvcnQuaW52ZXJ0KSB7XG4gICAgcmV0dXJuIGltYWdlLmNhY2hlZEx1dC5sdXRBcnJheTtcbiAgfSAvLyBMdXQgaXMgaW52YWxpZCBvciBub3QgcHJlc2VudCwgcmVnZW5lcmF0ZSBpdCBhbmQgY2FjaGUgaXRcblxuXG4gIE9iamVjdChfaW50ZXJuYWxfZ2VuZXJhdGVDb2xvckx1dF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoaW1hZ2UsIHZpZXdwb3J0LnZvaS53aW5kb3dXaWR0aCwgdmlld3BvcnQudm9pLndpbmRvd0NlbnRlciwgdmlld3BvcnQuaW52ZXJ0KTtcbiAgaW1hZ2UuY2FjaGVkTHV0LndpbmRvd1dpZHRoID0gdmlld3BvcnQudm9pLndpbmRvd1dpZHRoO1xuICBpbWFnZS5jYWNoZWRMdXQud2luZG93Q2VudGVyID0gdmlld3BvcnQudm9pLndpbmRvd0NlbnRlcjtcbiAgaW1hZ2UuY2FjaGVkTHV0LmludmVydCA9IHZpZXdwb3J0LmludmVydDtcbiAgcmV0dXJuIGltYWdlLmNhY2hlZEx1dC5sdXRBcnJheTtcbn1cbi8qKlxuICogUmV0dXJucyBhbiBhcHByb3ByaWF0ZSBjYW52YXMgdG8gcmVuZGVyIHRoZSBJbWFnZS4gSWYgdGhlIGNhbnZhcyBhdmFpbGFibGUgaW4gdGhlIGNhY2hlIGlzIGFwcHJvcHJpYXRlXG4gKiBpdCBpcyByZXR1cm5lZCwgb3RoZXJ3aXNlIGFkanVzdG1lbnRzIGFyZSBtYWRlLiBJdCBhbHNvIHNldHMgdGhlIGNvbG9yIHRyYW5zZmVyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZW5hYmxlZEVsZW1lbnQgVGhlIGNvcm5lcnN0b25lIGVuYWJsZWQgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IGltYWdlIFRoZSBpbWFnZSB0byBiZSByZW5kZXJlZFxuICogQHBhcmFtIHtCb29sZWFufSBpbnZhbGlkYXRlZCBJcyBwaXhlbCBkYXRhIHZhbGlkXG4gKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IEFuIGFwcHJvcHJpYXRlIGNhbnZhcyBmb3IgcmVuZGVyaW5nIHRoZSBpbWFnZVxuICogQG1lbWJlcm9mIHJlbmRlcmluZ1xuICovXG5cblxuZnVuY3Rpb24gZ2V0UmVuZGVyQ2FudmFzKGVuYWJsZWRFbGVtZW50LCBpbWFnZSwgaW52YWxpZGF0ZWQpIHtcbiAgdmFyIGNhbnZhc1dhc0NvbG9yID0gZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMubGFzdFJlbmRlcmVkSXNDb2xvciA9PT0gdHJ1ZTtcblxuICBpZiAoIWVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLnJlbmRlckNhbnZhcyB8fCAhY2FudmFzV2FzQ29sb3IpIHtcbiAgICBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgfVxuXG4gIHZhciByZW5kZXJDYW52YXMgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXM7IC8vIFRoZSB3dy93YyBpcyBpZGVudGl0eSBhbmQgbm90IGludmVydGVkIC0gZ2V0IGEgY2FudmFzIHdpdGggdGhlIGltYWdlIHJlbmRlcmVkIGludG8gaXQgZm9yXG4gIC8vIEZhc3QgZHJhd2luZ1xuXG4gIGlmIChlbmFibGVkRWxlbWVudC52aWV3cG9ydC52b2kud2luZG93V2lkdGggPT09IDI1NSAmJiBlbmFibGVkRWxlbWVudC52aWV3cG9ydC52b2kud2luZG93Q2VudGVyID09PSAxMjggJiYgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuaW52ZXJ0ID09PSBmYWxzZSAmJiBpbWFnZS5nZXRDYW52YXMgJiYgaW1hZ2UuZ2V0Q2FudmFzKCkpIHtcbiAgICByZXR1cm4gaW1hZ2UuZ2V0Q2FudmFzKCk7XG4gIH0gLy8gQXBwbHkgdGhlIGx1dCB0byB0aGUgc3RvcmVkIHBpeGVsIGRhdGEgb250byB0aGUgcmVuZGVyIGNhbnZhc1xuXG5cbiAgaWYgKE9iamVjdChfZG9lc0ltYWdlTmVlZFRvQmVSZW5kZXJlZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQsIGltYWdlKSA9PT0gZmFsc2UgJiYgaW52YWxpZGF0ZWQgIT09IHRydWUpIHtcbiAgICByZXR1cm4gcmVuZGVyQ2FudmFzO1xuICB9IC8vIElmIG91ciByZW5kZXIgY2FudmFzIGRvZXMgbm90IG1hdGNoIHRoZSBzaXplIG9mIHRoaXMgaW1hZ2UgcmVzZXQgaXRcbiAgLy8gTk9URTogVGhpcyBtaWdodCBiZSBpbmVmZmljaWVudCBpZiB3ZSBhcmUgdXBkYXRpbmcgbXVsdGlwbGUgaW1hZ2VzIG9mIGRpZmZlcmVudFxuICAvLyBTaXplcyBmcmVxdWVudGx5LlxuXG5cbiAgaWYgKHJlbmRlckNhbnZhcy53aWR0aCAhPT0gaW1hZ2Uud2lkdGggfHwgcmVuZGVyQ2FudmFzLmhlaWdodCAhPT0gaW1hZ2UuaGVpZ2h0KSB7XG4gICAgT2JqZWN0KF9pbml0aWFsaXplUmVuZGVyQ2FudmFzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCwgaW1hZ2UpO1xuICB9IC8vIEdldCB0aGUgbHV0IHRvIHVzZVxuXG5cbiAgdmFyIHN0YXJ0ID0gT2JqZWN0KF9pbnRlcm5hbF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKCk7XG4gIHZhciBjb2xvckx1dCA9IGdldEx1dChpbWFnZSwgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQpO1xuICBpbWFnZS5zdGF0cyA9IGltYWdlLnN0YXRzIHx8IHt9O1xuICBpbWFnZS5zdGF0cy5sYXN0THV0R2VuZXJhdGVUaW1lID0gT2JqZWN0KF9pbnRlcm5hbF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKCkgLSBzdGFydDtcbiAgdmFyIHJlbmRlckNhbnZhc0RhdGEgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXNEYXRhO1xuICB2YXIgcmVuZGVyQ2FudmFzQ29udGV4dCA9IGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLnJlbmRlckNhbnZhc0NvbnRleHQ7IC8vIFRoZSBjb2xvciBpbWFnZSB2b2kvaW52ZXJ0IGhhcyBiZWVuIG1vZGlmaWVkIC0gYXBwbHkgdGhlIGx1dCB0byB0aGUgdW5kZXJseWluZ1xuICAvLyBQaXhlbCBkYXRhIGFuZCBwdXQgaXQgaW50byB0aGUgcmVuZGVyQ2FudmFzXG5cbiAgaWYgKGltYWdlLnJnYmEpIHtcbiAgICBPYmplY3QoX2ludGVybmFsX3N0b3JlZFJHQkFQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoaW1hZ2UsIGNvbG9yTHV0LCByZW5kZXJDYW52YXNEYXRhLmRhdGEpO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdChfaW50ZXJuYWxfc3RvcmVkQ29sb3JQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoaW1hZ2UsIGNvbG9yTHV0LCByZW5kZXJDYW52YXNEYXRhLmRhdGEpO1xuICB9XG5cbiAgc3RhcnQgPSBPYmplY3QoX2ludGVybmFsX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoKTtcbiAgcmVuZGVyQ2FudmFzQ29udGV4dC5wdXRJbWFnZURhdGEocmVuZGVyQ2FudmFzRGF0YSwgMCwgMCk7XG4gIGltYWdlLnN0YXRzLmxhc3RQdXRJbWFnZURhdGFUaW1lID0gT2JqZWN0KF9pbnRlcm5hbF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKCkgLSBzdGFydDtcbiAgcmV0dXJuIHJlbmRlckNhbnZhcztcbn1cbi8qKlxuICogQVBJIGZ1bmN0aW9uIHRvIHJlbmRlciBhIGNvbG9yIGltYWdlIHRvIGFuIGVuYWJsZWQgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBFbmFibGVkIEVsZW1lbnQgdG8gcmVkcmF3XG4gKiBAcGFyYW0ge0Jvb2xlYW59IGludmFsaWRhdGVkIC0gdHJ1ZSBpZiBwaXhlbCBkYXRhIGhhcyBiZWVuIGludmFsaWRhdGVkIGFuZCBjYWNoZWQgcmVuZGVyaW5nIHNob3VsZCBub3QgYmUgdXNlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXG4gKi9cblxuXG5mdW5jdGlvbiByZW5kZXJDb2xvckltYWdlKGVuYWJsZWRFbGVtZW50LCBpbnZhbGlkYXRlZCkge1xuICBpZiAoZW5hYmxlZEVsZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVuZGVyQ29sb3JJbWFnZTogZW5hYmxlZEVsZW1lbnQgcGFyYW1ldGVyIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgdmFyIGltYWdlID0gZW5hYmxlZEVsZW1lbnQuaW1hZ2U7XG5cbiAgaWYgKGltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbmRlckNvbG9ySW1hZ2U6IGltYWdlIG11c3QgYmUgbG9hZGVkIGJlZm9yZSBpdCBjYW4gYmUgZHJhd24nKTtcbiAgfSAvLyBHZXQgdGhlIGNhbnZhcyBjb250ZXh0IGFuZCByZXNldCB0aGUgdHJhbnNmb3JtXG5cblxuICB2YXIgY29udGV4dCA9IGVuYWJsZWRFbGVtZW50LmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuXG4gIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBlbmFibGVkRWxlbWVudC5jYW52YXMud2lkdGgsIGVuYWJsZWRFbGVtZW50LmNhbnZhcy5oZWlnaHQpOyAvLyBUdXJuIG9mZiBpbWFnZSBzbW9vdGgvaW50ZXJwb2xhdGlvbiBpZiBwaXhlbFJlcGxpY2F0aW9uIGlzIHNldCBpbiB0aGUgdmlld3BvcnRcblxuICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9ICFlbmFibGVkRWxlbWVudC52aWV3cG9ydC5waXhlbFJlcGxpY2F0aW9uO1xuICBjb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkOyAvLyBTYXZlIHRoZSBjYW52YXMgY29udGV4dCBzdGF0ZSBhbmQgYXBwbHkgdGhlIHZpZXdwb3J0IHByb3BlcnRpZXNcblxuICBPYmplY3QoX3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCwgY29udGV4dCk7XG4gIHZhciByZW5kZXJDYW52YXM7XG5cbiAgaWYgKGVuYWJsZWRFbGVtZW50Lm9wdGlvbnMgJiYgZW5hYmxlZEVsZW1lbnQub3B0aW9ucy5yZW5kZXJlciAmJiBlbmFibGVkRWxlbWVudC5vcHRpb25zLnJlbmRlcmVyLnRvTG93ZXJDYXNlKCkgPT09ICd3ZWJnbCcpIHtcbiAgICAvLyBJZiB0aGlzIGVuYWJsZWQgZWxlbWVudCBoYXMgdGhlIG9wdGlvbiBzZXQgZm9yIFdlYkdMLCB3ZSBzaG91bGRcbiAgICAvLyBVc2VyIGl0IGFzIG91ciByZW5kZXJlci5cbiAgICByZW5kZXJDYW52YXMgPSBfd2ViZ2xfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX1tcImRlZmF1bHRcIl0ucmVuZGVyZXIucmVuZGVyKGVuYWJsZWRFbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBubyBvcHRpb25zIGFyZSBzZXQgd2Ugd2lsbCByZXRyaWV2ZSB0aGUgcmVuZGVyQ2FudmFzIHRocm91Z2ggdGhlXG4gICAgLy8gTm9ybWFsIENhbnZhcyByZW5kZXJpbmcgcGF0aFxuICAgIHJlbmRlckNhbnZhcyA9IGdldFJlbmRlckNhbnZhcyhlbmFibGVkRWxlbWVudCwgaW1hZ2UsIGludmFsaWRhdGVkKTtcbiAgfVxuXG4gIHZhciBzeCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEudGxoYy54IC0gMTtcbiAgdmFyIHN5ID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS50bGhjLnkgLSAxO1xuICB2YXIgd2lkdGggPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLmJyaGMueCAtIHN4O1xuICB2YXIgaGVpZ2h0ID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS5icmhjLnkgLSBzeTtcbiAgY29udGV4dC5kcmF3SW1hZ2UocmVuZGVyQ2FudmFzLCBzeCwgc3ksIHdpZHRoLCBoZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scyA9IE9iamVjdChfc2F2ZUxhc3RSZW5kZXJlZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQpO1xufVxuZnVuY3Rpb24gYWRkQ29sb3JMYXllcihsYXllciwgaW52YWxpZGF0ZWQpIHtcbiAgaWYgKGxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZENvbG9yTGF5ZXI6IGxheWVyIHBhcmFtZXRlciBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciBpbWFnZSA9IGxheWVyLmltYWdlO1xuXG4gIGlmIChpbWFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhZGRDb2xvckxheWVyOiBpbWFnZSBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgaXQgY2FuIGJlIGRyYXduJyk7XG4gIH0gLy8gQWxsIG11bHRpLWxheWVyIGltYWdlcyBzaG91bGQgaW5jbHVkZSB0aGUgYWxwaGEgdmFsdWVcblxuXG4gIGltYWdlLnJnYmEgPSB0cnVlO1xuICBsYXllci5jYW52YXMgPSBnZXRSZW5kZXJDYW52YXMobGF5ZXIsIGltYWdlLCBpbnZhbGlkYXRlZCk7XG4gIHZhciBjb250ZXh0ID0gbGF5ZXIuY2FudmFzLmdldENvbnRleHQoJzJkJyk7IC8vIFR1cm4gb2ZmIGltYWdlIHNtb290aC9pbnRlcnBvbGF0aW9uIGlmIHBpeGVsUmVwbGljYXRpb24gaXMgc2V0IGluIHRoZSB2aWV3cG9ydFxuXG4gIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gIWxheWVyLnZpZXdwb3J0LnBpeGVsUmVwbGljYXRpb247XG4gIGNvbnRleHQubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQ7XG4gIGxheWVyLnJlbmRlcmluZ1Rvb2xzID0gT2JqZWN0KF9zYXZlTGFzdFJlbmRlcmVkX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdKShsYXllcik7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vcmVuZGVyaW5nL3JlbmRlckdyYXlzY2FsZUltYWdlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vcmVuZGVyaW5nL3JlbmRlckdyYXlzY2FsZUltYWdlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IHJlbmRlckdyYXlzY2FsZUltYWdlLCBhZGRHcmF5c2NhbGVMYXllciAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZW5kZXJHcmF5c2NhbGVJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlbmRlckdyYXlzY2FsZUltYWdlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZGRHcmF5c2NhbGVMYXllclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFkZEdyYXlzY2FsZUxheWVyOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhLmpzICovIFwiLi9pbnRlcm5hbC9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFSR0JBX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbC9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVJHQkEuanMgKi8gXCIuL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhUkdCQS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtLmpzICovIFwiLi9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbC9ub3cuanMgKi8gXCIuL2ludGVybmFsL25vdy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfd2ViZ2xfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3dlYmdsL2luZGV4LmpzICovIFwiLi93ZWJnbC9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZ2V0THV0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldEx1dC5qcyAqLyBcIi4vcmVuZGVyaW5nL2dldEx1dC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZG9lc0ltYWdlTmVlZFRvQmVSZW5kZXJlZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kb2VzSW1hZ2VOZWVkVG9CZVJlbmRlcmVkLmpzICovIFwiLi9yZW5kZXJpbmcvZG9lc0ltYWdlTmVlZFRvQmVSZW5kZXJlZC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW5pdGlhbGl6ZVJlbmRlckNhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbml0aWFsaXplUmVuZGVyQ2FudmFzLmpzICovIFwiLi9yZW5kZXJpbmcvaW5pdGlhbGl6ZVJlbmRlckNhbnZhcy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2F2ZUxhc3RSZW5kZXJlZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zYXZlTGFzdFJlbmRlcmVkLmpzICovIFwiLi9yZW5kZXJpbmcvc2F2ZUxhc3RSZW5kZXJlZC5qc1wiKTtcblxuXG5cblxuXG5cblxuXG5cbi8qKlxuICogUmV0dXJucyBhbiBhcHByb3ByaWF0ZSBjYW52YXMgdG8gcmVuZGVyIHRoZSBJbWFnZS4gSWYgdGhlIGNhbnZhcyBhdmFpbGFibGUgaW4gdGhlIGNhY2hlIGlzIGFwcHJvcHJpYXRlXG4gKiBpdCBpcyByZXR1cm5lZCwgb3RoZXJ3aXNlIGFkanVzdG1lbnRzIGFyZSBtYWRlLiBJdCBhbHNvIHNldHMgdGhlIGNvbG9yIHRyYW5zZmVyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZW5hYmxlZEVsZW1lbnQgVGhlIGNvcm5lcnN0b25lIGVuYWJsZWQgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IGltYWdlIFRoZSBpbWFnZSB0byBiZSByZW5kZXJlZFxuICogQHBhcmFtIHtCb29sZWFufSBpbnZhbGlkYXRlZCBJcyBwaXhlbCBkYXRhIHZhbGlkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFt1c2VBbHBoYUNoYW5uZWwgPSB0cnVlXSBXaWxsIGFuIGFscGhhIGNoYW5uZWwgYmUgdXNlZFxuICogQHJldHVybnMge0hUTUxDYW52YXNFbGVtZW50fSBBbiBhcHByb3ByaWF0ZSBjYW52YXMgZm9yIHJlbmRlcmluZyB0aGUgaW1hZ2VcbiAqIEBtZW1iZXJvZiByZW5kZXJpbmdcbiAqL1xuXG5mdW5jdGlvbiBnZXRSZW5kZXJDYW52YXMoZW5hYmxlZEVsZW1lbnQsIGltYWdlLCBpbnZhbGlkYXRlZCkge1xuICB2YXIgdXNlQWxwaGFDaGFubmVsID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB0cnVlO1xuICB2YXIgY2FudmFzV2FzQ29sb3IgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5sYXN0UmVuZGVyZWRJc0NvbG9yID09PSB0cnVlO1xuXG4gIGlmICghZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMucmVuZGVyQ2FudmFzIHx8IGNhbnZhc1dhc0NvbG9yKSB7XG4gICAgZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMucmVuZGVyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgT2JqZWN0KF9pbml0aWFsaXplUmVuZGVyQ2FudmFzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCwgaW1hZ2UpO1xuICB9XG5cbiAgdmFyIHJlbmRlckNhbnZhcyA9IGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLnJlbmRlckNhbnZhcztcblxuICBpZiAoT2JqZWN0KF9kb2VzSW1hZ2VOZWVkVG9CZVJlbmRlcmVkX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCwgaW1hZ2UpID09PSBmYWxzZSAmJiBpbnZhbGlkYXRlZCAhPT0gdHJ1ZSkge1xuICAgIHJldHVybiByZW5kZXJDYW52YXM7XG4gIH0gLy8gSWYgb3VyIHJlbmRlciBjYW52YXMgZG9lcyBub3QgbWF0Y2ggdGhlIHNpemUgb2YgdGhpcyBpbWFnZSByZXNldCBpdFxuICAvLyBOT1RFOiBUaGlzIG1pZ2h0IGJlIGluZWZmaWNpZW50IGlmIHdlIGFyZSB1cGRhdGluZyBtdWx0aXBsZSBpbWFnZXMgb2YgZGlmZmVyZW50XG4gIC8vIFNpemVzIGZyZXF1ZW50bHkuXG5cblxuICBpZiAocmVuZGVyQ2FudmFzLndpZHRoICE9PSBpbWFnZS53aWR0aCB8fCByZW5kZXJDYW52YXMuaGVpZ2h0ICE9PSBpbWFnZS5oZWlnaHQpIHtcbiAgICBPYmplY3QoX2luaXRpYWxpemVSZW5kZXJDYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LCBpbWFnZSk7XG4gIH0gLy8gR2V0IHRoZSBsdXQgdG8gdXNlXG5cblxuICB2YXIgc3RhcnQgPSBPYmplY3QoX2ludGVybmFsX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoKTtcbiAgdmFyIGx1dCA9IE9iamVjdChfZ2V0THV0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKShpbWFnZSwgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQsIGludmFsaWRhdGVkKTtcbiAgaW1hZ2Uuc3RhdHMgPSBpbWFnZS5zdGF0cyB8fCB7fTtcbiAgaW1hZ2Uuc3RhdHMubGFzdEx1dEdlbmVyYXRlVGltZSA9IE9iamVjdChfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKSgpIC0gc3RhcnQ7XG4gIHZhciByZW5kZXJDYW52YXNEYXRhID0gZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMucmVuZGVyQ2FudmFzRGF0YTtcbiAgdmFyIHJlbmRlckNhbnZhc0NvbnRleHQgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXNDb250ZXh0OyAvLyBHcmF5IHNjYWxlIGltYWdlIC0gYXBwbHkgdGhlIGx1dCBhbmQgcHV0IHRoZSByZXN1bHRpbmcgaW1hZ2Ugb250byB0aGUgcmVuZGVyIGNhbnZhc1xuXG4gIGlmICh1c2VBbHBoYUNoYW5uZWwpIHtcbiAgICBPYmplY3QoX2ludGVybmFsX3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKShpbWFnZSwgbHV0LCByZW5kZXJDYW52YXNEYXRhLmRhdGEpO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdChfaW50ZXJuYWxfc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFSR0JBX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShpbWFnZSwgbHV0LCByZW5kZXJDYW52YXNEYXRhLmRhdGEpO1xuICB9XG5cbiAgc3RhcnQgPSBPYmplY3QoX2ludGVybmFsX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoKTtcbiAgcmVuZGVyQ2FudmFzQ29udGV4dC5wdXRJbWFnZURhdGEocmVuZGVyQ2FudmFzRGF0YSwgMCwgMCk7XG4gIGltYWdlLnN0YXRzLmxhc3RQdXRJbWFnZURhdGFUaW1lID0gT2JqZWN0KF9pbnRlcm5hbF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKCkgLSBzdGFydDtcbiAgcmV0dXJuIHJlbmRlckNhbnZhcztcbn1cbi8qKlxuICogQVBJIGZ1bmN0aW9uIHRvIGRyYXcgYSBncmF5c2NhbGUgaW1hZ2UgdG8gYSBnaXZlbiBlbmFibGVkRWxlbWVudFxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBFbmFibGVkIEVsZW1lbnQgdG8gcmVkcmF3XG4gKiBAcGFyYW0ge0Jvb2xlYW59IGludmFsaWRhdGVkIC0gdHJ1ZSBpZiBwaXhlbCBkYXRhIGhhcyBiZWVuIGludmFsaWRhdGVkIGFuZCBjYWNoZWQgcmVuZGVyaW5nIHNob3VsZCBub3QgYmUgdXNlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXG4gKi9cblxuXG5mdW5jdGlvbiByZW5kZXJHcmF5c2NhbGVJbWFnZShlbmFibGVkRWxlbWVudCwgaW52YWxpZGF0ZWQpIHtcbiAgaWYgKGVuYWJsZWRFbGVtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RyYXdJbWFnZTogZW5hYmxlZEVsZW1lbnQgcGFyYW1ldGVyIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgdmFyIGltYWdlID0gZW5hYmxlZEVsZW1lbnQuaW1hZ2U7XG5cbiAgaWYgKGltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RyYXdJbWFnZTogaW1hZ2UgbXVzdCBiZSBsb2FkZWQgYmVmb3JlIGl0IGNhbiBiZSBkcmF3bicpO1xuICB9IC8vIEdldCB0aGUgY2FudmFzIGNvbnRleHQgYW5kIHJlc2V0IHRoZSB0cmFuc2Zvcm1cblxuXG4gIHZhciBjb250ZXh0ID0gZW5hYmxlZEVsZW1lbnQuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApOyAvLyBDbGVhciB0aGUgY2FudmFzXG5cbiAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGVuYWJsZWRFbGVtZW50LmNhbnZhcy53aWR0aCwgZW5hYmxlZEVsZW1lbnQuY2FudmFzLmhlaWdodCk7IC8vIFR1cm4gb2ZmIGltYWdlIHNtb290aC9pbnRlcnBvbGF0aW9uIGlmIHBpeGVsUmVwbGljYXRpb24gaXMgc2V0IGluIHRoZSB2aWV3cG9ydFxuXG4gIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gIWVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnBpeGVsUmVwbGljYXRpb247XG4gIGNvbnRleHQubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQ7IC8vIFNhdmUgdGhlIGNhbnZhcyBjb250ZXh0IHN0YXRlIGFuZCBhcHBseSB0aGUgdmlld3BvcnQgcHJvcGVydGllc1xuXG4gIE9iamVjdChfc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LCBjb250ZXh0KTtcbiAgdmFyIHJlbmRlckNhbnZhcztcblxuICBpZiAoZW5hYmxlZEVsZW1lbnQub3B0aW9ucyAmJiBlbmFibGVkRWxlbWVudC5vcHRpb25zLnJlbmRlcmVyICYmIGVuYWJsZWRFbGVtZW50Lm9wdGlvbnMucmVuZGVyZXIudG9Mb3dlckNhc2UoKSA9PT0gJ3dlYmdsJykge1xuICAgIC8vIElmIHRoaXMgZW5hYmxlZCBlbGVtZW50IGhhcyB0aGUgb3B0aW9uIHNldCBmb3IgV2ViR0wsIHdlIHNob3VsZFxuICAgIC8vIFVzZXIgaXQgYXMgb3VyIHJlbmRlcmVyLlxuICAgIHJlbmRlckNhbnZhcyA9IF93ZWJnbF9pbmRleF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXS5yZW5kZXJlci5yZW5kZXIoZW5hYmxlZEVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgYXJlIHNldCB3ZSB3aWxsIHJldHJpZXZlIHRoZSByZW5kZXJDYW52YXMgdGhyb3VnaCB0aGVcbiAgICAvLyBOb3JtYWwgQ2FudmFzIHJlbmRlcmluZyBwYXRoXG4gICAgcmVuZGVyQ2FudmFzID0gZ2V0UmVuZGVyQ2FudmFzKGVuYWJsZWRFbGVtZW50LCBpbWFnZSwgaW52YWxpZGF0ZWQpO1xuICB9XG5cbiAgdmFyIHN4ID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS50bGhjLnggLSAxO1xuICB2YXIgc3kgPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnRsaGMueSAtIDE7XG4gIHZhciB3aWR0aCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEuYnJoYy54IC0gc3g7XG4gIHZhciBoZWlnaHQgPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLmJyaGMueSAtIHN5O1xuICBjb250ZXh0LmRyYXdJbWFnZShyZW5kZXJDYW52YXMsIHN4LCBzeSwgd2lkdGgsIGhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzID0gT2JqZWN0KF9zYXZlTGFzdFJlbmRlcmVkX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCk7XG59XG4vKipcbiAqIEFQSSBmdW5jdGlvbiB0byBkcmF3IGEgZ3JheXNjYWxlIGltYWdlIHRvIGEgZ2l2ZW4gbGF5ZXJcbiAqXG4gKiBAcGFyYW0ge0VuYWJsZWRFbGVtZW50TGF5ZXJ9IGxheWVyIFRoZSBsYXllciB0aGF0IHRoZSBpbWFnZSB3aWxsIGJlIGFkZGVkIHRvXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGludmFsaWRhdGVkIC0gdHJ1ZSBpZiBwaXhlbCBkYXRhIGhhcyBiZWVuIGludmFsaWRhdGVkIGFuZCBjYWNoZWQgcmVuZGVyaW5nIHNob3VsZCBub3QgYmUgdXNlZFxuICogQHBhcmFtIHtCb29sZWFufSBbdXNlQWxwaGFDaGFubmVsXSAtIFdoZXRoZXIgb3Igbm90IHRvIHJlbmRlciB0aGUgZ3JheXNjYWxlIGltYWdlIHVzaW5nIG9ubHkgdGhlIGFscGhhIGNoYW5uZWwuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBkb2VzIG5vdCB3b3JrIGlmIHRoaXMgbGF5ZXIgaXMgbm90IHRoZSBmaXJzdCBsYXllciBpbiB0aGUgZW5hYmxlZEVsZW1lbnQuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiBhZGRHcmF5c2NhbGVMYXllcihsYXllciwgaW52YWxpZGF0ZWQpIHtcbiAgdmFyIHVzZUFscGhhQ2hhbm5lbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgaWYgKGxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZEdyYXlzY2FsZUxheWVyOiBsYXllciBwYXJhbWV0ZXIgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyk7XG4gIH1cblxuICB2YXIgaW1hZ2UgPSBsYXllci5pbWFnZTtcblxuICBpZiAoaW1hZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYWRkR3JheXNjYWxlTGF5ZXI6IGltYWdlIG11c3QgYmUgbG9hZGVkIGJlZm9yZSBpdCBjYW4gYmUgZHJhd24nKTtcbiAgfVxuXG4gIGxheWVyLmNhbnZhcyA9IGdldFJlbmRlckNhbnZhcyhsYXllciwgaW1hZ2UsIGludmFsaWRhdGVkLCB1c2VBbHBoYUNoYW5uZWwpO1xuICB2YXIgY29udGV4dCA9IGxheWVyLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOyAvLyBUdXJuIG9mZiBpbWFnZSBzbW9vdGgvaW50ZXJwb2xhdGlvbiBpZiBwaXhlbFJlcGxpY2F0aW9uIGlzIHNldCBpbiB0aGUgdmlld3BvcnRcblxuICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9ICFsYXllci52aWV3cG9ydC5waXhlbFJlcGxpY2F0aW9uO1xuICBjb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkO1xuICBsYXllci5yZW5kZXJpbmdUb29scyA9IE9iamVjdChfc2F2ZUxhc3RSZW5kZXJlZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fW1wiZGVmYXVsdFwiXSkobGF5ZXIpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3JlbmRlcmluZy9yZW5kZXJMYWJlbE1hcEltYWdlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9yZW5kZXJpbmcvcmVuZGVyTGFiZWxNYXBJbWFnZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IHJlbmRlckxhYmVsTWFwSW1hZ2UsIGFkZExhYmVsTWFwTGF5ZXIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVuZGVyTGFiZWxNYXBJbWFnZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJlbmRlckxhYmVsTWFwSW1hZ2U7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFkZExhYmVsTWFwTGF5ZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBhZGRMYWJlbE1hcExheWVyOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtLmpzICovIFwiLi9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbC9ub3cuanMgKi8gXCIuL2ludGVybmFsL25vdy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW5pdGlhbGl6ZVJlbmRlckNhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbml0aWFsaXplUmVuZGVyQ2FudmFzLmpzICovIFwiLi9yZW5kZXJpbmcvaW5pdGlhbGl6ZVJlbmRlckNhbnZhcy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfc2F2ZUxhc3RSZW5kZXJlZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zYXZlTGFzdFJlbmRlcmVkLmpzICovIFwiLi9yZW5kZXJpbmcvc2F2ZUxhc3RSZW5kZXJlZC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZG9lc0ltYWdlTmVlZFRvQmVSZW5kZXJlZF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kb2VzSW1hZ2VOZWVkVG9CZVJlbmRlcmVkLmpzICovIFwiLi9yZW5kZXJpbmcvZG9lc0ltYWdlTmVlZFRvQmVSZW5kZXJlZC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVC5qcyAqLyBcIi4vaW50ZXJuYWwvc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29sb3JzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb2xvcnMvaW5kZXguanMgKi8gXCIuL2NvbG9ycy9pbmRleC5qc1wiKTtcblxuXG5cblxuXG5cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFwcHJvcHJpYXRlIGNhbnZhcyB0byByZW5kZXIgdGhlIEltYWdlLiBJZiB0aGUgY2FudmFzIGF2YWlsYWJsZSBpbiB0aGUgY2FjaGUgaXMgYXBwcm9wcmlhdGVcbiAqIGl0IGlzIHJldHVybmVkLCBvdGhlcndpc2UgYWRqdXN0bWVudHMgYXJlIG1hZGUuIEl0IGFsc28gc2V0cyB0aGUgY29sb3IgdHJhbnNmZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbmFibGVkRWxlbWVudCBUaGUgY29ybmVyc3RvbmUgZW5hYmxlZCBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2UgVGhlIGltYWdlIHRvIGJlIHJlbmRlcmVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGludmFsaWRhdGVkIElzIHBpeGVsIGRhdGEgdmFsaWRcbiAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gQW4gYXBwcm9wcmlhdGUgY2FudmFzIGZvciByZW5kZXJpbmcgdGhlIGltYWdlXG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXG4gKi9cblxuZnVuY3Rpb24gZ2V0UmVuZGVyQ2FudmFzKGVuYWJsZWRFbGVtZW50LCBpbWFnZSwgaW52YWxpZGF0ZWQpIHtcbiAgaWYgKCFlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXMpIHtcbiAgICBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgfVxuXG4gIHZhciByZW5kZXJDYW52YXMgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXM7XG4gIHZhciBjb2xvcm1hcCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmNvbG9ybWFwIHx8IGVuYWJsZWRFbGVtZW50Lm9wdGlvbnMuY29sb3JtYXA7XG5cbiAgaWYgKGVuYWJsZWRFbGVtZW50Lm9wdGlvbnMuY29sb3JtYXApIHtcbiAgICBjb25zb2xlLndhcm4oJ2VuYWJsZWRFbGVtZW50Lm9wdGlvbnMuY29sb3JtYXAgaXMgZGVwcmVjYXRlZC4gVXNlIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmNvbG9ybWFwIGluc3RlYWQnKTtcbiAgfVxuXG4gIGlmIChjb2xvcm1hcCAmJiB0eXBlb2YgY29sb3JtYXAgPT09ICdzdHJpbmcnKSB7XG4gICAgY29sb3JtYXAgPSBfY29sb3JzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdLmdldENvbG9ybWFwKGNvbG9ybWFwKTtcbiAgfVxuXG4gIGlmICghY29sb3JtYXApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbmRlckxhYmVsTWFwSW1hZ2U6IGNvbG9ybWFwIG5vdCBmb3VuZC4nKTtcbiAgfVxuXG4gIHZhciBjb2xvcm1hcElkID0gY29sb3JtYXAuZ2V0SWQoKTtcblxuICBpZiAoT2JqZWN0KF9kb2VzSW1hZ2VOZWVkVG9CZVJlbmRlcmVkX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCwgaW1hZ2UpID09PSBmYWxzZSAmJiBpbnZhbGlkYXRlZCAhPT0gdHJ1ZSAmJiBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5jb2xvcm1hcElkID09PSBjb2xvcm1hcElkKSB7XG4gICAgcmV0dXJuIHJlbmRlckNhbnZhcztcbiAgfSAvLyBJZiBvdXIgcmVuZGVyIGNhbnZhcyBkb2VzIG5vdCBtYXRjaCB0aGUgc2l6ZSBvZiB0aGlzIGltYWdlIHJlc2V0IGl0XG4gIC8vIE5PVEU6IFRoaXMgbWlnaHQgYmUgaW5lZmZpY2llbnQgaWYgd2UgYXJlIHVwZGF0aW5nIG11bHRpcGxlIGltYWdlcyBvZiBkaWZmZXJlbnRcbiAgLy8gU2l6ZXMgZnJlcXVlbnRseS5cblxuXG4gIGlmIChyZW5kZXJDYW52YXMud2lkdGggIT09IGltYWdlLndpZHRoIHx8IHJlbmRlckNhbnZhcy5oZWlnaHQgIT09IGltYWdlLmhlaWdodCkge1xuICAgIE9iamVjdChfaW5pdGlhbGl6ZVJlbmRlckNhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQsIGltYWdlKTtcbiAgfSAvLyBHZXQgdGhlIGx1dCB0byB1c2VcblxuXG4gIHZhciBzdGFydCA9IE9iamVjdChfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKSgpO1xuXG4gIGlmICghZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMuY29sb3JMdXQgfHwgaW52YWxpZGF0ZWQgfHwgZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMuY29sb3JtYXBJZCAhPT0gY29sb3JtYXBJZCkge1xuICAgIGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLmNvbG9yTHV0ID0gY29sb3JtYXAuY3JlYXRlTG9va3VwVGFibGUoKTtcbiAgICBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5jb2xvcm1hcElkID0gY29sb3JtYXBJZDtcbiAgfVxuXG4gIGltYWdlLnN0YXRzID0gaW1hZ2Uuc3RhdHMgfHwge307XG4gIGltYWdlLnN0YXRzLmxhc3RMdXRHZW5lcmF0ZVRpbWUgPSBPYmplY3QoX2ludGVybmFsX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xuICB2YXIgY29sb3JMdXQgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5jb2xvckx1dDtcbiAgdmFyIHJlbmRlckNhbnZhc0RhdGEgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXNEYXRhO1xuICB2YXIgcmVuZGVyQ2FudmFzQ29udGV4dCA9IGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLnJlbmRlckNhbnZhc0NvbnRleHQ7XG4gIE9iamVjdChfaW50ZXJuYWxfc3RvcmVkUGl4ZWxEYXRhVG9DYW52YXNJbWFnZURhdGFDb2xvckxVVF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fW1wiZGVmYXVsdFwiXSkoaW1hZ2UsIGNvbG9yTHV0LCByZW5kZXJDYW52YXNEYXRhLmRhdGEpO1xuICBzdGFydCA9IE9iamVjdChfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKSgpO1xuICByZW5kZXJDYW52YXNDb250ZXh0LnB1dEltYWdlRGF0YShyZW5kZXJDYW52YXNEYXRhLCAwLCAwKTtcbiAgaW1hZ2Uuc3RhdHMubGFzdFB1dEltYWdlRGF0YVRpbWUgPSBPYmplY3QoX2ludGVybmFsX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoKSAtIHN0YXJ0O1xuICByZXR1cm4gcmVuZGVyQ2FudmFzO1xufVxuLyoqXG4gKiBBUEkgZnVuY3Rpb24gdG8gZHJhdyBhIGxhYmVsIG1hcCBpbWFnZSB0byBhIGdpdmVuIGVuYWJsZWRFbGVtZW50XG4gKlxuICogQHBhcmFtIHtFbmFibGVkRWxlbWVudH0gZW5hYmxlZEVsZW1lbnQgVGhlIENvcm5lcnN0b25lIEVuYWJsZWQgRWxlbWVudCB0byByZWRyYXdcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaW52YWxpZGF0ZWQgLSB0cnVlIGlmIHBpeGVsIGRhdGEgaGFzIGJlZW4gaW52YWxpZGF0ZWQgYW5kIGNhY2hlZCByZW5kZXJpbmcgc2hvdWxkIG5vdCBiZSB1c2VkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqIEBtZW1iZXJvZiByZW5kZXJpbmdcbiAqL1xuXG5cbmZ1bmN0aW9uIHJlbmRlckxhYmVsTWFwSW1hZ2UoZW5hYmxlZEVsZW1lbnQsIGludmFsaWRhdGVkKSB7XG4gIGlmIChlbmFibGVkRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZW5kZXJMYWJlbE1hcEltYWdlOiBlbmFibGVkRWxlbWVudCBwYXJhbWV0ZXIgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyk7XG4gIH1cblxuICB2YXIgaW1hZ2UgPSBlbmFibGVkRWxlbWVudC5pbWFnZTtcblxuICBpZiAoaW1hZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVuZGVyTGFiZWxNYXBJbWFnZTogaW1hZ2UgbXVzdCBiZSBsb2FkZWQgYmVmb3JlIGl0IGNhbiBiZSBkcmF3bicpO1xuICB9IC8vIEdldCB0aGUgY2FudmFzIGNvbnRleHQgYW5kIHJlc2V0IHRoZSB0cmFuc2Zvcm1cblxuXG4gIHZhciBjb250ZXh0ID0gZW5hYmxlZEVsZW1lbnQuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApOyAvLyBDbGVhciB0aGUgY2FudmFzXG5cbiAgY29udGV4dC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGVuYWJsZWRFbGVtZW50LmNhbnZhcy53aWR0aCwgZW5hYmxlZEVsZW1lbnQuY2FudmFzLmhlaWdodCk7IC8vIFR1cm4gb2ZmIGltYWdlIHNtb290aC9pbnRlcnBvbGF0aW9uIGlmIHBpeGVsUmVwbGljYXRpb24gaXMgc2V0IGluIHRoZSB2aWV3cG9ydFxuXG4gIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gIWVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnBpeGVsUmVwbGljYXRpb247XG4gIGNvbnRleHQubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQ7IC8vIFNhdmUgdGhlIGNhbnZhcyBjb250ZXh0IHN0YXRlIGFuZCBhcHBseSB0aGUgdmlld3BvcnQgcHJvcGVydGllc1xuXG4gIE9iamVjdChfc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LCBjb250ZXh0KTsgLy8gSWYgbm8gb3B0aW9ucyBhcmUgc2V0IHdlIHdpbGwgcmV0cmlldmUgdGhlIHJlbmRlckNhbnZhcyB0aHJvdWdoIHRoZVxuICAvLyBOb3JtYWwgQ2FudmFzIHJlbmRlcmluZyBwYXRoXG4gIC8vIFRPRE86IEFkZCBXZWJHTCBzdXBwb3J0IGZvciBsYWJlbCBtYXAgcGlwZWxpbmVcblxuICB2YXIgcmVuZGVyQ2FudmFzID0gZ2V0UmVuZGVyQ2FudmFzKGVuYWJsZWRFbGVtZW50LCBpbWFnZSwgaW52YWxpZGF0ZWQpO1xuICB2YXIgc3ggPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnRsaGMueCAtIDE7XG4gIHZhciBzeSA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEudGxoYy55IC0gMTtcbiAgdmFyIHdpZHRoID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS5icmhjLnggLSBzeDtcbiAgdmFyIGhlaWdodCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEuYnJoYy55IC0gc3k7XG4gIGNvbnRleHQuZHJhd0ltYWdlKHJlbmRlckNhbnZhcywgc3gsIHN5LCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMgPSBPYmplY3QoX3NhdmVMYXN0UmVuZGVyZWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50KTtcbn1cbi8qKlxuICogQVBJIGZ1bmN0aW9uIHRvIGRyYXcgYSBwc2V1ZG8tY29sb3IgaW1hZ2UgdG8gYSBnaXZlbiBsYXllclxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnRMYXllcn0gbGF5ZXIgVGhlIGxheWVyIHRoYXQgdGhlIGltYWdlIHdpbGwgYmUgYWRkZWQgdG9cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaW52YWxpZGF0ZWQgLSB0cnVlIGlmIHBpeGVsIGRhdGEgaGFzIGJlZW4gaW52YWxpZGF0ZWQgYW5kIGNhY2hlZCByZW5kZXJpbmcgc2hvdWxkIG5vdCBiZSB1c2VkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiBhZGRMYWJlbE1hcExheWVyKGxheWVyLCBpbnZhbGlkYXRlZCkge1xuICBpZiAobGF5ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYWRkTGFiZWxNYXBMYXllcjogbGF5ZXIgcGFyYW1ldGVyIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgdmFyIGltYWdlID0gbGF5ZXIuaW1hZ2U7XG5cbiAgaWYgKGltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZExhYmVsTWFwTGF5ZXI6IGltYWdlIG11c3QgYmUgbG9hZGVkIGJlZm9yZSBpdCBjYW4gYmUgZHJhd24nKTtcbiAgfVxuXG4gIGxheWVyLmNhbnZhcyA9IGdldFJlbmRlckNhbnZhcyhsYXllciwgaW1hZ2UsIGludmFsaWRhdGVkKTtcbiAgdmFyIGNvbnRleHQgPSBsYXllci5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gVHVybiBvZmYgaW1hZ2Ugc21vb3RoL2ludGVycG9sYXRpb24gaWYgcGl4ZWxSZXBsaWNhdGlvbiBpcyBzZXQgaW4gdGhlIHZpZXdwb3J0XG5cbiAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhbGF5ZXIudmlld3BvcnQucGl4ZWxSZXBsaWNhdGlvbjtcbiAgY29udGV4dC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZDtcbiAgbGF5ZXIucmVuZGVyaW5nVG9vbHMgPSBPYmplY3QoX3NhdmVMYXN0UmVuZGVyZWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKGxheWVyKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yZW5kZXJpbmcvcmVuZGVyUHNldWRvQ29sb3JJbWFnZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vcmVuZGVyaW5nL3JlbmRlclBzZXVkb0NvbG9ySW1hZ2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiByZW5kZXJQc2V1ZG9Db2xvckltYWdlLCBhZGRQc2V1ZG9Db2xvckxheWVyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbmRlclBzZXVkb0NvbG9ySW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiByZW5kZXJQc2V1ZG9Db2xvckltYWdlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZGRQc2V1ZG9Db2xvckxheWVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYWRkUHNldWRvQ29sb3JMYXllcjsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbS5qcyAqLyBcIi4vc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW0uanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWwvbm93LmpzICovIFwiLi9pbnRlcm5hbC9ub3cuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2luaXRpYWxpemVSZW5kZXJDYW52YXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW5pdGlhbGl6ZVJlbmRlckNhbnZhcy5qcyAqLyBcIi4vcmVuZGVyaW5nL2luaXRpYWxpemVSZW5kZXJDYW52YXMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2dldEx1dF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9nZXRMdXQuanMgKi8gXCIuL3JlbmRlcmluZy9nZXRMdXQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NhdmVMYXN0UmVuZGVyZWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2F2ZUxhc3RSZW5kZXJlZC5qcyAqLyBcIi4vcmVuZGVyaW5nL3NhdmVMYXN0UmVuZGVyZWQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2RvZXNJbWFnZU5lZWRUb0JlUmVuZGVyZWRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZG9lc0ltYWdlTmVlZFRvQmVSZW5kZXJlZC5qcyAqLyBcIi4vcmVuZGVyaW5nL2RvZXNJbWFnZU5lZWRUb0JlUmVuZGVyZWQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhUHNldWRvY29sb3JMVVRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhUHNldWRvY29sb3JMVVQuanMgKi8gXCIuL2ludGVybmFsL3N0b3JlZFBpeGVsRGF0YVRvQ2FudmFzSW1hZ2VEYXRhUHNldWRvY29sb3JMVVQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbG9yc19pbmRleF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29sb3JzL2luZGV4LmpzICovIFwiLi9jb2xvcnMvaW5kZXguanNcIik7XG5cblxuXG5cblxuXG5cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFwcHJvcHJpYXRlIGNhbnZhcyB0byByZW5kZXIgdGhlIEltYWdlLiBJZiB0aGUgY2FudmFzIGF2YWlsYWJsZSBpbiB0aGUgY2FjaGUgaXMgYXBwcm9wcmlhdGVcbiAqIGl0IGlzIHJldHVybmVkLCBvdGhlcndpc2UgYWRqdXN0bWVudHMgYXJlIG1hZGUuIEl0IGFsc28gc2V0cyB0aGUgY29sb3IgdHJhbnNmZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbmFibGVkRWxlbWVudCBUaGUgY29ybmVyc3RvbmUgZW5hYmxlZCBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2UgVGhlIGltYWdlIHRvIGJlIHJlbmRlcmVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGludmFsaWRhdGVkIElzIHBpeGVsIGRhdGEgdmFsaWRcbiAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gQW4gYXBwcm9wcmlhdGUgY2FudmFzIGZvciByZW5kZXJpbmcgdGhlIGltYWdlXG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXG4gKi9cblxuZnVuY3Rpb24gZ2V0UmVuZGVyQ2FudmFzKGVuYWJsZWRFbGVtZW50LCBpbWFnZSwgaW52YWxpZGF0ZWQpIHtcbiAgaWYgKCFlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXMpIHtcbiAgICBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgfVxuXG4gIHZhciByZW5kZXJDYW52YXMgPSBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5yZW5kZXJDYW52YXM7XG4gIHZhciBjb2xvcm1hcCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmNvbG9ybWFwIHx8IGVuYWJsZWRFbGVtZW50Lm9wdGlvbnMuY29sb3JtYXA7XG5cbiAgaWYgKGVuYWJsZWRFbGVtZW50Lm9wdGlvbnMuY29sb3JtYXApIHtcbiAgICBjb25zb2xlLndhcm4oJ2VuYWJsZWRFbGVtZW50Lm9wdGlvbnMuY29sb3JtYXAgaXMgZGVwcmVjYXRlZC4gVXNlIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmNvbG9ybWFwIGluc3RlYWQnKTtcbiAgfVxuXG4gIGlmIChjb2xvcm1hcCAmJiB0eXBlb2YgY29sb3JtYXAgPT09ICdzdHJpbmcnKSB7XG4gICAgY29sb3JtYXAgPSBfY29sb3JzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19bXCJkZWZhdWx0XCJdLmdldENvbG9ybWFwKGNvbG9ybWFwKTtcbiAgfVxuXG4gIGlmICghY29sb3JtYXApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbmRlclBzZXVkb0NvbG9ySW1hZ2U6IGNvbG9ybWFwIG5vdCBmb3VuZC4nKTtcbiAgfVxuXG4gIHZhciBjb2xvcm1hcElkID0gY29sb3JtYXAuZ2V0SWQoKTtcblxuICBpZiAoT2JqZWN0KF9kb2VzSW1hZ2VOZWVkVG9CZVJlbmRlcmVkX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCwgaW1hZ2UpID09PSBmYWxzZSAmJiBpbnZhbGlkYXRlZCAhPT0gdHJ1ZSAmJiBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5jb2xvcm1hcElkID09PSBjb2xvcm1hcElkKSB7XG4gICAgcmV0dXJuIHJlbmRlckNhbnZhcztcbiAgfSAvLyBJZiBvdXIgcmVuZGVyIGNhbnZhcyBkb2VzIG5vdCBtYXRjaCB0aGUgc2l6ZSBvZiB0aGlzIGltYWdlIHJlc2V0IGl0XG4gIC8vIE5PVEU6IFRoaXMgbWlnaHQgYmUgaW5lZmZpY2llbnQgaWYgd2UgYXJlIHVwZGF0aW5nIG11bHRpcGxlIGltYWdlcyBvZiBkaWZmZXJlbnRcbiAgLy8gU2l6ZXMgZnJlcXVlbnRseS5cblxuXG4gIGlmIChyZW5kZXJDYW52YXMud2lkdGggIT09IGltYWdlLndpZHRoIHx8IHJlbmRlckNhbnZhcy5oZWlnaHQgIT09IGltYWdlLmhlaWdodCkge1xuICAgIE9iamVjdChfaW5pdGlhbGl6ZVJlbmRlckNhbnZhc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQsIGltYWdlKTtcbiAgfSAvLyBHZXQgdGhlIGx1dCB0byB1c2VcblxuXG4gIHZhciBzdGFydCA9IE9iamVjdChfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKSgpO1xuXG4gIGlmICghZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMuY29sb3JMdXQgfHwgaW52YWxpZGF0ZWQgfHwgZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMuY29sb3JtYXBJZCAhPT0gY29sb3JtYXBJZCkge1xuICAgIGNvbG9ybWFwLnNldE51bWJlck9mQ29sb3JzKDI1Nik7XG4gICAgZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMuY29sb3JMdXQgPSBjb2xvcm1hcC5jcmVhdGVMb29rdXBUYWJsZSgpO1xuICAgIGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLmNvbG9ybWFwSWQgPSBjb2xvcm1hcElkO1xuICB9XG5cbiAgdmFyIGx1dCA9IE9iamVjdChfZ2V0THV0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShpbWFnZSwgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQsIGludmFsaWRhdGVkKTtcbiAgaW1hZ2Uuc3RhdHMgPSBpbWFnZS5zdGF0cyB8fCB7fTtcbiAgaW1hZ2Uuc3RhdHMubGFzdEx1dEdlbmVyYXRlVGltZSA9IE9iamVjdChfaW50ZXJuYWxfbm93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKSgpIC0gc3RhcnQ7XG4gIHZhciBjb2xvckx1dCA9IGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLmNvbG9yTHV0O1xuICB2YXIgcmVuZGVyQ2FudmFzRGF0YSA9IGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLnJlbmRlckNhbnZhc0RhdGE7XG4gIHZhciByZW5kZXJDYW52YXNDb250ZXh0ID0gZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMucmVuZGVyQ2FudmFzQ29udGV4dDtcbiAgT2JqZWN0KF9pbnRlcm5hbF9zdG9yZWRQaXhlbERhdGFUb0NhbnZhc0ltYWdlRGF0YVBzZXVkb2NvbG9yTFVUX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19bXCJkZWZhdWx0XCJdKShpbWFnZSwgbHV0LCBjb2xvckx1dCwgcmVuZGVyQ2FudmFzRGF0YS5kYXRhKTtcbiAgc3RhcnQgPSBPYmplY3QoX2ludGVybmFsX25vd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoKTtcbiAgcmVuZGVyQ2FudmFzQ29udGV4dC5wdXRJbWFnZURhdGEocmVuZGVyQ2FudmFzRGF0YSwgMCwgMCk7XG4gIGltYWdlLnN0YXRzLmxhc3RQdXRJbWFnZURhdGFUaW1lID0gT2JqZWN0KF9pbnRlcm5hbF9ub3dfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKCkgLSBzdGFydDtcbiAgcmV0dXJuIHJlbmRlckNhbnZhcztcbn1cbi8qKlxuICogQVBJIGZ1bmN0aW9uIHRvIGRyYXcgYSBwc2V1ZG8tY29sb3IgaW1hZ2UgdG8gYSBnaXZlbiBlbmFibGVkRWxlbWVudFxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBFbmFibGVkIEVsZW1lbnQgdG8gcmVkcmF3XG4gKiBAcGFyYW0ge0Jvb2xlYW59IGludmFsaWRhdGVkIC0gdHJ1ZSBpZiBwaXhlbCBkYXRhIGhhcyBiZWVuIGludmFsaWRhdGVkIGFuZCBjYWNoZWQgcmVuZGVyaW5nIHNob3VsZCBub3QgYmUgdXNlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXG4gKi9cblxuXG5mdW5jdGlvbiByZW5kZXJQc2V1ZG9Db2xvckltYWdlKGVuYWJsZWRFbGVtZW50LCBpbnZhbGlkYXRlZCkge1xuICBpZiAoZW5hYmxlZEVsZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZHJhd0ltYWdlOiBlbmFibGVkRWxlbWVudCBwYXJhbWV0ZXIgbXVzdCBub3QgYmUgdW5kZWZpbmVkJyk7XG4gIH1cblxuICB2YXIgaW1hZ2UgPSBlbmFibGVkRWxlbWVudC5pbWFnZTtcblxuICBpZiAoaW1hZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZHJhd0ltYWdlOiBpbWFnZSBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgaXQgY2FuIGJlIGRyYXduJyk7XG4gIH0gLy8gR2V0IHRoZSBjYW52YXMgY29udGV4dCBhbmQgcmVzZXQgdGhlIHRyYW5zZm9ybVxuXG5cbiAgdmFyIGNvbnRleHQgPSBlbmFibGVkRWxlbWVudC5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7IC8vIENsZWFyIHRoZSBjYW52YXNcblxuICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgZW5hYmxlZEVsZW1lbnQuY2FudmFzLndpZHRoLCBlbmFibGVkRWxlbWVudC5jYW52YXMuaGVpZ2h0KTsgLy8gVHVybiBvZmYgaW1hZ2Ugc21vb3RoL2ludGVycG9sYXRpb24gaWYgcGl4ZWxSZXBsaWNhdGlvbiBpcyBzZXQgaW4gdGhlIHZpZXdwb3J0XG5cbiAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhZW5hYmxlZEVsZW1lbnQudmlld3BvcnQucGl4ZWxSZXBsaWNhdGlvbjtcbiAgY29udGV4dC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZDsgLy8gU2F2ZSB0aGUgY2FudmFzIGNvbnRleHQgc3RhdGUgYW5kIGFwcGx5IHRoZSB2aWV3cG9ydCBwcm9wZXJ0aWVzXG5cbiAgT2JqZWN0KF9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQsIGNvbnRleHQpOyAvLyBJZiBubyBvcHRpb25zIGFyZSBzZXQgd2Ugd2lsbCByZXRyaWV2ZSB0aGUgcmVuZGVyQ2FudmFzIHRocm91Z2ggdGhlXG4gIC8vIE5vcm1hbCBDYW52YXMgcmVuZGVyaW5nIHBhdGhcbiAgLy8gVE9ETzogQWRkIFdlYkdMIHN1cHBvcnQgZm9yIHBzZXVkb2NvbG9yIHBpcGVsaW5lXG5cbiAgdmFyIHJlbmRlckNhbnZhcyA9IGdldFJlbmRlckNhbnZhcyhlbmFibGVkRWxlbWVudCwgaW1hZ2UsIGludmFsaWRhdGVkKTtcbiAgdmFyIHN4ID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS50bGhjLnggLSAxO1xuICB2YXIgc3kgPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnRsaGMueSAtIDE7XG4gIHZhciB3aWR0aCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEuYnJoYy54IC0gc3g7XG4gIHZhciBoZWlnaHQgPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLmJyaGMueSAtIHN5O1xuICBjb250ZXh0LmRyYXdJbWFnZShyZW5kZXJDYW52YXMsIHN4LCBzeSwgd2lkdGgsIGhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzID0gT2JqZWN0KF9zYXZlTGFzdFJlbmRlcmVkX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudCk7XG59XG4vKipcbiAqIEFQSSBmdW5jdGlvbiB0byBkcmF3IGEgcHNldWRvLWNvbG9yIGltYWdlIHRvIGEgZ2l2ZW4gbGF5ZXJcbiAqXG4gKiBAcGFyYW0ge0VuYWJsZWRFbGVtZW50TGF5ZXJ9IGxheWVyIFRoZSBsYXllciB0aGF0IHRoZSBpbWFnZSB3aWxsIGJlIGFkZGVkIHRvXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGludmFsaWRhdGVkIC0gdHJ1ZSBpZiBwaXhlbCBkYXRhIGhhcyBiZWVuIGludmFsaWRhdGVkIGFuZCBjYWNoZWQgcmVuZGVyaW5nIHNob3VsZCBub3QgYmUgdXNlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gYWRkUHNldWRvQ29sb3JMYXllcihsYXllciwgaW52YWxpZGF0ZWQpIHtcbiAgaWYgKGxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZFBzZXVkb0NvbG9yTGF5ZXI6IGxheWVyIHBhcmFtZXRlciBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciBpbWFnZSA9IGxheWVyLmltYWdlO1xuXG4gIGlmIChpbWFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhZGRQc2V1ZG9Db2xvckxheWVyOiBpbWFnZSBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgaXQgY2FuIGJlIGRyYXduJyk7XG4gIH1cblxuICBsYXllci5jYW52YXMgPSBnZXRSZW5kZXJDYW52YXMobGF5ZXIsIGltYWdlLCBpbnZhbGlkYXRlZCk7XG4gIHZhciBjb250ZXh0ID0gbGF5ZXIuY2FudmFzLmdldENvbnRleHQoJzJkJyk7IC8vIFR1cm4gb2ZmIGltYWdlIHNtb290aC9pbnRlcnBvbGF0aW9uIGlmIHBpeGVsUmVwbGljYXRpb24gaXMgc2V0IGluIHRoZSB2aWV3cG9ydFxuXG4gIGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gIWxheWVyLnZpZXdwb3J0LnBpeGVsUmVwbGljYXRpb247XG4gIGNvbnRleHQubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQ7XG4gIGxheWVyLnJlbmRlcmluZ1Rvb2xzID0gT2JqZWN0KF9zYXZlTGFzdFJlbmRlcmVkX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJkZWZhdWx0XCJdKShsYXllcik7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vcmVuZGVyaW5nL3JlbmRlclRvQ2FudmFzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vcmVuZGVyaW5nL3JlbmRlclRvQ2FudmFzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdHJpZ2dlckV2ZW50LmpzICovIFwiLi90cmlnZ2VyRXZlbnQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzLmpzICovIFwiLi9ldmVudHMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2RyYXdJbWFnZVN5bmNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFsL2RyYXdJbWFnZVN5bmMuanMgKi8gXCIuL2ludGVybmFsL2RyYXdJbWFnZVN5bmMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2dldERlZmF1bHRWaWV3cG9ydF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWwvZ2V0RGVmYXVsdFZpZXdwb3J0LmpzICovIFwiLi9pbnRlcm5hbC9nZXREZWZhdWx0Vmlld3BvcnQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX3RyeUVuYWJsZVdlYmdsX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbC90cnlFbmFibGVXZWJnbC5qcyAqLyBcIi4vaW50ZXJuYWwvdHJ5RW5hYmxlV2ViZ2wuanNcIik7XG5cblxuXG5cblxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEVuYWJsZWRFbGVtZW50U3R1YlxyXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBlbGVtZW50ICBUaGUgZW5hYmxlZCBlbGVtZW50XHJcbiAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyBUaGUgY3VycmVudCBjYW52YXNcclxuICogQHByb3BlcnR5IHtPYmplY3R9IGltYWdlIEN1cnJlbnRseSBkaXNwbGF5ZWQgaW1hZ2VcclxuICogQHByb3BlcnR5IHtCb29sZWFufSBpbnZhbGlkIFdoZXRoZXIgb3Igbm90IHRoZSBpbWFnZSBwaXhlbCBkYXRhIGhhcyBiZWVuIGNoYW5nZWRcclxuICogQHByb3BlcnR5IHtCb29sZWFufSBuZWVkc1JlZHJhdyAgQSBmbGFnIGZvciB0cmlnZ2VyaW5nIGEgcmVkcmF3IG9mIHRoZSBjYW52YXMgd2l0aG91dCByZS1yZXRyaWV2aW5nIHRoZSBwaXhlbCBkYXRhLCBzaW5jZSBpdCByZW1haW5zIHZhbGlkXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcHRpb25zIExheWVyIGRyYXdpbmcgb3B0aW9uc1xyXG4gKiBAcHJvcGVydHkge09iamVjdFtdfSBsYXllcnMgTGF5ZXJzIGFkZGVkIHRvIHRoZSBFbmFibGVkRWxlbWVudFxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YVxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gcmVuZGVyaW5nVG9vbHNcclxuICogQHByb3BlcnR5IHtPYmplY3R9IHZpZXdwb3J0IFRoZSBjdXJyZW50IHZpZXdwb3J0XHJcbiAqIEBtZW1iZXJvZiByZW5kZXJpbmdcclxuICovXG5cbi8qKlxyXG4gKiBjcmVhdGVzIGEgZHVtbXkgZW5hYmxlZCBlbGVtZW50XHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyB0aGUgY2FudmFzIHRoYXQgd2lsbCBiZSBhc3NpZ25lZCB0byB0aGUgZW5hYmxlZCBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge2FueX0gaW1hZ2UgQW4gSW1hZ2UgbG9hZGVkIGJ5IGEgQ29ybmVyc3RvbmUgSW1hZ2UgTG9hZGVyXHJcbiAqIEBwYXJhbSB7IGFueSB9IG9wdGlvbnMgT3B0aW9ucyBmb3IgcmVuZGVyaW5nIHRoZSBpbWFnZSAoZS5nLmVuYWJsZSB3ZWJnbCBieSB7cmVuZGVyZXI6ICd3ZWJnbCcgfSlcclxuICogQHBhcmFtIHsgYW55IH0gdmlld3BvcnQgQSBzZXQgb2YgQ29ybmVyc3RvbmUgdmlld3BvcnQgcGFyYW1ldGVyc1xyXG4gKiBAcmV0dXJucyB7RW5hYmxlZEVsZW1lbnRTdHVifSBhIGR1bW15IGVuYWJsZWQgZWxlbWVudFxyXG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXHJcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbmFibGVkRWxlbWVudFN0dWIoY2FudmFzLCBpbWFnZSwgb3B0aW9ucywgdmlld3BvcnQpIHtcbiAgcmV0dXJuIHtcbiAgICBlbGVtZW50OiBjYW52YXMsXG4gICAgY2FudmFzOiBjYW52YXMsXG4gICAgaW1hZ2U6IGltYWdlLFxuICAgIGludmFsaWQ6IHRydWUsXG4gICAgLy8gVHJ1ZSBpZiBpbWFnZSBuZWVkcyB0byBiZSBkcmF3biwgZmFsc2UgaWYgbm90XG4gICAgbmVlZHNSZWRyYXc6IHRydWUsXG4gICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICBsYXllcnM6IFtdLFxuICAgIGRhdGE6IHt9LFxuICAgIHJlbmRlcmluZ1Rvb2xzOiB7fSxcbiAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgfTtcbn1cbi8qKlxyXG4gKiBSZW5kZXIgdGhlIGltYWdlIHRvIHRoZSBwcm92aWRlZCBjYW52YXMgaW1tZWRpYXRlbHkuXHJcbiAqIEBwYXJhbSB7YW55fSBjYW52YXMgVGhlIEhUTUwgY2FudmFzIHdoZXJlIHRoZSBpbWFnZSB3aWxsIGJlIHJlbmRlcmVkLlxyXG4gKiBAcGFyYW0ge2FueX0gaW1hZ2UgQW4gSW1hZ2UgbG9hZGVkIGJ5IGEgQ29ybmVyc3RvbmUgSW1hZ2UgTG9hZGVyXHJcbiAqIEBwYXJhbSB7YW55fSBbdmlld3BvcnQgPSBudWxsXSBBIHNldCBvZiBDb3JuZXJzdG9uZSB2aWV3cG9ydCBwYXJhbWV0ZXJzXHJcbiAqIEBwYXJhbSB7YW55fSBbb3B0aW9ucyA9IG51bGxdIE9wdGlvbnMgZm9yIHJlbmRlcmluZyB0aGUgaW1hZ2UgKGUuZy4gZW5hYmxlIHdlYmdsIGJ5IHtyZW5kZXJlcjogJ3dlYmdsJ30pXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXHJcbiAqL1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGNhbnZhcywgaW1hZ2UpIHtcbiAgdmFyIHZpZXdwb3J0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICBpZiAoY2FudmFzID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbmRlclRvQ2FudmFzOiBwYXJhbWV0ZXIgY2FudmFzIGNhbm5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfSAvLyBJZiB0aGlzIGVuYWJsZWQgZWxlbWVudCBoYXMgdGhlIG9wdGlvbiBzZXQgZm9yIFdlYkdMLCB3ZSBzaG91bGRcbiAgLy8gQ2hlY2sgaWYgdGhpcyBkZXZpY2UgYWN0dWFsbHkgc3VwcG9ydHMgaXRcblxuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVuZGVyZXIgJiYgb3B0aW9ucy5yZW5kZXJlci50b0xvd2VyQ2FzZSgpID09PSAnd2ViZ2wnKSB7XG4gICAgT2JqZWN0KF9pbnRlcm5hbF90cnlFbmFibGVXZWJnbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkob3B0aW9ucyk7XG4gIH1cblxuICB2YXIgZGVmYXVsdFZpZXdwb3J0ID0gT2JqZWN0KF9pbnRlcm5hbF9nZXREZWZhdWx0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcImRlZmF1bHRcIl0pKGNhbnZhcywgaW1hZ2UpO1xuXG4gIGlmICh2aWV3cG9ydCkge1xuICAgIE9iamVjdC5hc3NpZ24oZGVmYXVsdFZpZXdwb3J0LCB2aWV3cG9ydCk7XG4gIH1cblxuICB2YXIgZW5hYmxlZEVsZW1lbnRTdHViID0gY3JlYXRlRW5hYmxlZEVsZW1lbnRTdHViKGNhbnZhcywgaW1hZ2UsIG9wdGlvbnMsIGRlZmF1bHRWaWV3cG9ydCk7XG4gIHZhciBldmVudERldGFpbHMgPSB7XG4gICAgZW5hYmxlZEVsZW1lbnQ6IGVuYWJsZWRFbGVtZW50U3R1YixcbiAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgfTtcbiAgT2JqZWN0KF90cmlnZ2VyRXZlbnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50U3R1Yi5lbGVtZW50LCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdLlBSRV9SRU5ERVIsIGV2ZW50RGV0YWlscyk7XG4gIE9iamVjdChfaW50ZXJuYWxfZHJhd0ltYWdlU3luY19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnRTdHViLCBlbmFibGVkRWxlbWVudFN0dWIuaW52YWxpZCk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yZW5kZXJpbmcvcmVuZGVyV2ViSW1hZ2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9yZW5kZXJpbmcvcmVuZGVyV2ViSW1hZ2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogcmVuZGVyV2ViSW1hZ2UgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVuZGVyV2ViSW1hZ2VcIiwgZnVuY3Rpb24oKSB7IHJldHVybiByZW5kZXJXZWJJbWFnZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbS5qcyAqLyBcIi4vc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW0uanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3JlbmRlckNvbG9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyQ29sb3JJbWFnZS5qcyAqLyBcIi4vcmVuZGVyaW5nL3JlbmRlckNvbG9ySW1hZ2UuanNcIik7XG5cblxuLyoqXG4gKiBBUEkgZnVuY3Rpb24gdG8gZHJhdyBhIHN0YW5kYXJkIHdlYiBpbWFnZSAoUE5HLCBKUEcpIHRvIGFuIGVuYWJsZWRJbWFnZVxuICpcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBFbmFibGVkIEVsZW1lbnQgdG8gcmVkcmF3XG4gKiBAcGFyYW0ge0Jvb2xlYW59IGludmFsaWRhdGVkIC0gdHJ1ZSBpZiBwaXhlbCBkYXRhIGhhcyBiZWVuIGludmFsaWRhdGVkIGFuZCBjYWNoZWQgcmVuZGVyaW5nIHNob3VsZCBub3QgYmUgdXNlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAbWVtYmVyb2YgcmVuZGVyaW5nXG4gKi9cblxuZnVuY3Rpb24gcmVuZGVyV2ViSW1hZ2UoZW5hYmxlZEVsZW1lbnQsIGludmFsaWRhdGVkKSB7XG4gIGlmIChlbmFibGVkRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZW5kZXJXZWJJbWFnZTogZW5hYmxlZEVsZW1lbnQgcGFyYW1ldGVyIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgdmFyIGltYWdlID0gZW5hYmxlZEVsZW1lbnQuaW1hZ2U7XG5cbiAgaWYgKGltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbmRlcldlYkltYWdlOiBpbWFnZSBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgaXQgY2FuIGJlIGRyYXduJyk7XG4gIH0gLy8gSWYgdGhlIHZpZXdwb3J0IHd3L3djIGFuZCBpbnZlcnQgYWxsIG1hdGNoIHRoZSBpbml0aWFsIHN0YXRlIG9mIHRoZSBpbWFnZSwgd2UgY2FuIGRyYXcgdGhlIGltYWdlXG4gIC8vIERpcmVjdGx5LiBJZiBhbnkgb2YgdGhvc2UgYXJlIGNoYW5nZWQsIHdlIGNhbGwgcmVuZGVyQ29sb3JJbWFnZSgpIHRvIGFwcGx5IHRoZSBsdXRcblxuXG4gIGlmIChlbmFibGVkRWxlbWVudC52aWV3cG9ydC52b2kud2luZG93V2lkdGggPT09IGVuYWJsZWRFbGVtZW50LmltYWdlLndpbmRvd1dpZHRoICYmIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnZvaS53aW5kb3dDZW50ZXIgPT09IGVuYWJsZWRFbGVtZW50LmltYWdlLndpbmRvd0NlbnRlciAmJiBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5pbnZlcnQgPT09IGZhbHNlKSB7XG4gICAgLy8gR2V0IHRoZSBjYW52YXMgY29udGV4dCBhbmQgcmVzZXQgdGhlIHRyYW5zZm9ybVxuICAgIHZhciBjb250ZXh0ID0gZW5hYmxlZEVsZW1lbnQuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7IC8vIENsZWFyIHRoZSBjYW52YXNcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGVuYWJsZWRFbGVtZW50LmNhbnZhcy53aWR0aCwgZW5hYmxlZEVsZW1lbnQuY2FudmFzLmhlaWdodCk7IC8vIFR1cm4gb2ZmIGltYWdlIHNtb290aC9pbnRlcnBvbGF0aW9uIGlmIHBpeGVsUmVwbGljYXRpb24gaXMgc2V0IGluIHRoZSB2aWV3cG9ydFxuXG4gICAgY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSAhZW5hYmxlZEVsZW1lbnQudmlld3BvcnQucGl4ZWxSZXBsaWNhdGlvbjtcbiAgICBjb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkOyAvLyBTYXZlIHRoZSBjYW52YXMgY29udGV4dCBzdGF0ZSBhbmQgYXBwbHkgdGhlIHZpZXdwb3J0IHByb3BlcnRpZXNcblxuICAgIE9iamVjdChfc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW1fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LCBjb250ZXh0KTtcbiAgICB2YXIgc3ggPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5kaXNwbGF5ZWRBcmVhLnRsaGMueCAtIDE7XG4gICAgdmFyIHN5ID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuZGlzcGxheWVkQXJlYS50bGhjLnkgLSAxO1xuICAgIHZhciB3aWR0aCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEuYnJoYy54IC0gc3g7XG4gICAgdmFyIGhlaWdodCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LmRpc3BsYXllZEFyZWEuYnJoYy55IC0gc3k7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UuZ2V0SW1hZ2UoKSwgc3gsIHN5LCB3aWR0aCwgaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3QoX3JlbmRlckNvbG9ySW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcInJlbmRlckNvbG9ySW1hZ2VcIl0pKGVuYWJsZWRFbGVtZW50LCBpbnZhbGlkYXRlZCk7XG4gIH1cbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yZW5kZXJpbmcvc2F2ZUxhc3RSZW5kZXJlZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vcmVuZGVyaW5nL3NhdmVMYXN0UmVuZGVyZWQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyoqXG4gKiBTYXZlcyB0aGUgcGFyYW1ldGVycyBvZiB0aGUgbGFzdCByZW5kZXIgaW50byByZW5kZXJpbmdUb29scywgdXNlZCBsYXRlciB0byBkZWNpZGUgaWYgZGF0YSBjYW4gYmUgcmV1c2VkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbmFibGVkRWxlbWVudCBDb3JuZXJzdG9uZSBFbmFibGVkRWxlbWVudFxuICogQHJldHVybnMge09iamVjdH0gZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHNcbiAqIEBtZW1iZXJvZiByZW5kZXJpbmdcbiAqL1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZW5hYmxlZEVsZW1lbnQpIHtcbiAgdmFyIGltYWdlSWQgPSBlbmFibGVkRWxlbWVudC5pbWFnZS5pbWFnZUlkO1xuICB2YXIgdmlld3BvcnQgPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydDtcbiAgdmFyIGlzQ29sb3IgPSBlbmFibGVkRWxlbWVudC5pbWFnZS5jb2xvcjtcbiAgZW5hYmxlZEVsZW1lbnQucmVuZGVyaW5nVG9vbHMubGFzdFJlbmRlcmVkSW1hZ2VJZCA9IGltYWdlSWQ7XG4gIGVuYWJsZWRFbGVtZW50LnJlbmRlcmluZ1Rvb2xzLmxhc3RSZW5kZXJlZElzQ29sb3IgPSBpc0NvbG9yO1xuICBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scy5sYXN0UmVuZGVyZWRWaWV3cG9ydCA9IHtcbiAgICB3aW5kb3dDZW50ZXI6IHZpZXdwb3J0LnZvaS53aW5kb3dDZW50ZXIsXG4gICAgd2luZG93V2lkdGg6IHZpZXdwb3J0LnZvaS53aW5kb3dXaWR0aCxcbiAgICBpbnZlcnQ6IHZpZXdwb3J0LmludmVydCxcbiAgICByb3RhdGlvbjogdmlld3BvcnQucm90YXRpb24sXG4gICAgaGZsaXA6IHZpZXdwb3J0LmhmbGlwLFxuICAgIHZmbGlwOiB2aWV3cG9ydC52ZmxpcCxcbiAgICBtb2RhbGl0eUxVVDogdmlld3BvcnQubW9kYWxpdHlMVVQsXG4gICAgdm9pTFVUOiB2aWV3cG9ydC52b2lMVVQsXG4gICAgY29sb3JtYXA6IHZpZXdwb3J0LmNvbG9ybWFwXG4gIH07XG4gIHJldHVybiBlbmFibGVkRWxlbWVudC5yZW5kZXJpbmdUb29scztcbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3Jlc2V0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9yZXNldC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9lbmFibGVkRWxlbWVudHMuanMgKi8gXCIuL2VuYWJsZWRFbGVtZW50cy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50ZXJuYWxfZ2V0RGVmYXVsdFZpZXdwb3J0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ludGVybmFsL2dldERlZmF1bHRWaWV3cG9ydC5qcyAqLyBcIi4vaW50ZXJuYWwvZ2V0RGVmYXVsdFZpZXdwb3J0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91cGRhdGVJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91cGRhdGVJbWFnZS5qcyAqLyBcIi4vdXBkYXRlSW1hZ2UuanNcIik7XG5cblxuXG4vKipcbiAqIFJlc2V0cyB0aGUgdmlld3BvcnQgdG8gdGhlIGRlZmF1bHQgc2V0dGluZ3NcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEFuIEhUTUwgRWxlbWVudCBlbmFibGVkIGZvciBDb3JuZXJzdG9uZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChmdW5jdGlvbiAoZWxlbWVudCkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpO1xuICBlbmFibGVkRWxlbWVudC52aWV3cG9ydCA9IE9iamVjdChfaW50ZXJuYWxfZ2V0RGVmYXVsdFZpZXdwb3J0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShlbmFibGVkRWxlbWVudC5jYW52YXMsIGVuYWJsZWRFbGVtZW50LmltYWdlKTtcbiAgT2JqZWN0KF91cGRhdGVJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoZWxlbWVudCk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9yZXNpemUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9yZXNpemUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9maXRUb1dpbmRvd19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9maXRUb1dpbmRvdy5qcyAqLyBcIi4vZml0VG9XaW5kb3cuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3VwZGF0ZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3VwZGF0ZUltYWdlLmpzICovIFwiLi91cGRhdGVJbWFnZS5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RyaWdnZXJFdmVudC5qcyAqLyBcIi4vdHJpZ2dlckV2ZW50LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9nZXRJbWFnZVNpemVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ2V0SW1hZ2VTaXplLmpzICovIFwiLi9pbnRlcm5hbC9nZXRJbWFnZVNpemUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ldmVudHMuanMgKi8gXCIuL2V2ZW50cy5qc1wiKTtcblxuXG5cblxuXG5cbi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBpcyByZXNwb25zaWJsZSBmb3IgZW5hYmxpbmcgYW4gZWxlbWVudCB0byBkaXNwbGF5IGltYWdlcyB3aXRoIGNvcm5lcnN0b25lXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIERPTSBlbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNhbnZhcyBUaGUgQ2FudmFzIERPTSBlbGVtZW50IHdpdGhpbiB0aGUgRE9NIGVsZW1lbnQgZW5hYmxlZCBmb3IgQ29ybmVyc3RvbmVcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuXG5mdW5jdGlvbiBzZXRDYW52YXNTaXplKGVsZW1lbnQsIGNhbnZhcykge1xuICAvLyBUaGUgZGV2aWNlIHBpeGVsIHJhdGlvIGlzIDEuMCBmb3Igbm9ybWFsIGRpc3BsYXlzIGFuZCA+IDEuMFxuICAvLyBGb3IgaGlnaCBEUEkgZGlzcGxheXMgbGlrZSBSZXRpbmFcblxuICAvKlxyXG4gICAgICBUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgZGlzYWJsZWQgZHVlIHRvIGJ1Z2d5IGJlaGF2aW9yIG9uIHN5c3RlbXMgd2l0aCBtaXhlZCBEUEkncy4gIElmIHRoZSBjYW52YXNcclxuICAgIGlzIGNyZWF0ZWQgb24gYSBkaXNwbGF5IHdpdGggaGlnaCBEUEkgKGUuZy4gMi4wKSBhbmQgdGhlbiB0aGUgYnJvd3NlciB3aW5kb3cgaXMgZHJhZ2dlZCB0b1xyXG4gICAgYSBkaWZmZXJlbnQgZGlzcGxheSB3aXRoIGEgZGlmZmVyZW50IERQSSAoZS5nLiAxLjApLCB0aGUgY2FudmFzIGlzIG5vdCByZWNyZWF0ZWQgc28gdGhlIHBhZ2VUb1BpeGVsXHJcbiAgICBwcm9kdWNlcyBpbmNvcnJlY3QgcmVzdWx0cy4gIEkgY291bGRuJ3QgZmluZCBhbnkgd2F5IHRvIGRldGVybWluZSB3aGVuIHRoZSBEUEkgY2hhbmdlZCBvdGhlciB0aGFuXHJcbiAgICBieSBwb2xsaW5nIHdoaWNoIGlzIG5vdCB2ZXJ5IGNsZWFuLiAgSWYgYW55b25lIGhhcyBhbnkgaWRlYXMgaGVyZSwgcGxlYXNlIGxldCBtZSBrbm93LCBidXQgZm9yIG5vd1xyXG4gICAgd2Ugd2lsbCBkaXNhYmxlIHRoaXMgZnVuY3Rpb25hbGl0eS4gIFdlIG1heSB3YW50XHJcbiAgICB0byBhZGQgYSBtZWNoYW5pc20gdG8gb3B0aW9uYWxseSBlbmFibGUgdGhpcyBmdW5jdGlvbmFsaXR5IGlmIHdlIGNhbiBkZXRlcm1pbmUgaXQgaXMgc2FmZSB0byBkb1xyXG4gICAgc28gKGUuZy4gaVBhZCBvciBpUGhvbmUgb3IgcGVyaGFwcyBlbnVtZXJhdGUgdGhlIGRpc3BsYXlzIG9uIHRoZSBzeXN0ZW0uICBJIGFtIGNob29zaW5nXHJcbiAgICB0byBiZSBjYXV0aW91cyBoZXJlIHNpbmNlIEkgd291bGQgcmF0aGVyIG5vdCBoYXZlIGJ1ZyByZXBvcnRzIG9yIHNhZmV0eSBpc3N1ZXMgcmVsYXRlZCB0byB0aGlzXHJcbiAgICBzY2VuYXJpby5cclxuICAgICAgdmFyIGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgIGlmKGRldmljZVBpeGVsUmF0aW8gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGRldmljZVBpeGVsUmF0aW8gPSAxLjA7XHJcbiAgICB9XHJcbiAgICAqL1xuICAvLyBBdm9pZCBzZXR0aW5nIHRoZSBzYW1lIHZhbHVlIGJlY2F1c2UgaXQgZmxhc2hlcyB0aGUgY2FudmFzIHdpdGggSUUgYW5kIEVkZ2VcbiAgaWYgKGNhbnZhcy53aWR0aCAhPT0gZWxlbWVudC5jbGllbnRXaWR0aCkge1xuICAgIGNhbnZhcy53aWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQoZWxlbWVudC5jbGllbnRXaWR0aCwgXCJweFwiKTtcbiAgfSAvLyBBdm9pZCBzZXR0aW5nIHRoZSBzYW1lIHZhbHVlIGJlY2F1c2UgaXQgZmxhc2hlcyB0aGUgY2FudmFzIHdpdGggSUUgYW5kIEVkZ2VcblxuXG4gIGlmIChjYW52YXMuaGVpZ2h0ICE9PSBlbGVtZW50LmNsaWVudEhlaWdodCkge1xuICAgIGNhbnZhcy5oZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQoZWxlbWVudC5jbGllbnRIZWlnaHQsIFwicHhcIik7XG4gIH1cbn1cbi8qKlxyXG4gKiBDaGVja3MgaWYgdGhlIGltYWdlIG9mIGEgZ2l2ZW4gZW5hYmxlZCBlbGVtZW50IGZpdHRlZCB0aGUgd2luZG93XHJcbiAqIGJlZm9yZSB0aGUgcmVzaXplXHJcbiAqXHJcbiAqIEBwYXJhbSB7RW5hYmxlZEVsZW1lbnR9IGVuYWJsZWRFbGVtZW50IFRoZSBDb3JuZXJzdG9uZSBFbmFibGVkIEVsZW1lbnRcclxuICogQHBhcmFtIHtudW1iZXJ9IG9sZENhbnZhc1dpZHRoIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJlZm9yZSB0aGUgcmVzaXplXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvbGRDYW52YXNIZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJlZm9yZSB0aGUgcmVzaXplXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgaXQgZml0dGVkIHRoZSB3aW5kb3dzLCBmYWxzZSBvdGhlcndpc2VcclxuICovXG5cblxuZnVuY3Rpb24gd2FzRml0VG9XaW5kb3coZW5hYmxlZEVsZW1lbnQsIG9sZENhbnZhc1dpZHRoLCBvbGRDYW52YXNIZWlnaHQpIHtcbiAgdmFyIHNjYWxlID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuc2NhbGU7XG4gIHZhciBpbWFnZVNpemUgPSBPYmplY3QoX2ludGVybmFsX2dldEltYWdlU2l6ZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQuaW1hZ2UsIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnJvdGF0aW9uKTtcbiAgdmFyIGltYWdlV2lkdGggPSBNYXRoLnJvdW5kKGltYWdlU2l6ZS53aWR0aCAqIHNjYWxlKTtcbiAgdmFyIGltYWdlSGVpZ2h0ID0gTWF0aC5yb3VuZChpbWFnZVNpemUuaGVpZ2h0ICogc2NhbGUpO1xuICB2YXIgeCA9IGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnRyYW5zbGF0aW9uLng7XG4gIHZhciB5ID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQudHJhbnNsYXRpb24ueTtcbiAgcmV0dXJuIGltYWdlV2lkdGggPT09IG9sZENhbnZhc1dpZHRoICYmIGltYWdlSGVpZ2h0IDw9IG9sZENhbnZhc0hlaWdodCB8fCBpbWFnZVdpZHRoIDw9IG9sZENhbnZhc1dpZHRoICYmIGltYWdlSGVpZ2h0ID09PSBvbGRDYW52YXNIZWlnaHQgJiYgeCA9PT0gMCAmJiB5ID09PSAwO1xufVxuLyoqXHJcbiAqIFJlc2NhbGUgdGhlIGltYWdlIHJlbGF0aXZlIHRvIHRoZSBjaGFuZ2VkIHNpemUgb2YgdGhlIGNhbnZhc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0VuYWJsZWRFbGVtZW50fSBlbmFibGVkRWxlbWVudCBUaGUgQ29ybmVyc3RvbmUgRW5hYmxlZCBFbGVtZW50XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvbGRDYW52YXNXaWR0aCBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcyBiZWZvcmUgdGhlIHJlc2l6ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gb2xkQ2FudmFzSGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBiZWZvcmUgdGhlIHJlc2l6ZVxyXG4gKiBAcmV0dXJuIHt2b2lkfVxyXG4gKi9cblxuXG5mdW5jdGlvbiByZWxhdGl2ZVJlc2NhbGUoZW5hYmxlZEVsZW1lbnQsIG9sZENhbnZhc1dpZHRoLCBvbGRDYW52YXNIZWlnaHQpIHtcbiAgdmFyIHNjYWxlID0gZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuc2NhbGU7XG4gIHZhciBjYW52YXNXaWR0aCA9IGVuYWJsZWRFbGVtZW50LmNhbnZhcy53aWR0aDtcbiAgdmFyIGNhbnZhc0hlaWdodCA9IGVuYWJsZWRFbGVtZW50LmNhbnZhcy5oZWlnaHQ7XG4gIHZhciByZWxXaWR0aENoYW5nZSA9IGNhbnZhc1dpZHRoIC8gb2xkQ2FudmFzV2lkdGg7XG4gIHZhciByZWxIZWlnaHRDaGFuZ2UgPSBjYW52YXNIZWlnaHQgLyBvbGRDYW52YXNIZWlnaHQ7XG4gIHZhciByZWxDaGFuZ2UgPSBNYXRoLnNxcnQocmVsV2lkdGhDaGFuZ2UgKiByZWxIZWlnaHRDaGFuZ2UpO1xuICBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5zY2FsZSA9IHJlbENoYW5nZSAqIHNjYWxlO1xufVxuLyoqXHJcbiAqIFJlc2l6ZXMgYW4gZW5hYmxlZCBlbGVtZW50IGFuZCBvcHRpb25hbGx5IGZpdHMgdGhlIGltYWdlIHRvIHdpbmRvd1xyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBET00gZWxlbWVudCBlbmFibGVkIGZvciBDb3JuZXJzdG9uZVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlRml0VG9XaW5kb3cgdHJ1ZSB0byB0byBmb3JjZSBhIHJlZml0LCBmYWxzZSB0byByZXNjYWxlIGFjY29yZGluZ2x5XHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChlbGVtZW50LCBmb3JjZUZpdFRvV2luZG93KSB7XG4gIHZhciBlbmFibGVkRWxlbWVudCA9IE9iamVjdChfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXSkoZWxlbWVudCk7XG4gIHZhciBvbGRDYW52YXNXaWR0aCA9IGVuYWJsZWRFbGVtZW50LmNhbnZhcy53aWR0aDtcbiAgdmFyIG9sZENhbnZhc0hlaWdodCA9IGVuYWJsZWRFbGVtZW50LmNhbnZhcy5oZWlnaHQ7XG4gIHNldENhbnZhc1NpemUoZWxlbWVudCwgZW5hYmxlZEVsZW1lbnQuY2FudmFzKTtcbiAgdmFyIGV2ZW50RGF0YSA9IHtcbiAgICBlbGVtZW50OiBlbGVtZW50XG4gIH07XG4gIE9iamVjdChfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJkZWZhdWx0XCJdKShlbGVtZW50LCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19bXCJkZWZhdWx0XCJdLkVMRU1FTlRfUkVTSVpFRCwgZXZlbnREYXRhKTtcblxuICBpZiAoZW5hYmxlZEVsZW1lbnQuaW1hZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChmb3JjZUZpdFRvV2luZG93IHx8IHdhc0ZpdFRvV2luZG93KGVuYWJsZWRFbGVtZW50LCBvbGRDYW52YXNXaWR0aCwgb2xkQ2FudmFzSGVpZ2h0KSkge1xuICAgIC8vIEZpdCB0aGUgaW1hZ2UgdG8gdGhlIHdpbmRvdyBhZ2FpbiBpZiBpdCBmaXR0ZWQgYmVmb3JlIHRoZSByZXNpemVcbiAgICBPYmplY3QoX2ZpdFRvV2luZG93X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBBZGFwdCB0aGUgc2NhbGUgb2YgYSB6b29tZWQgb3IgcGFubmVkIGltYWdlIHJlbGF0aXZlIHRvIHRoZSBzaXplIGNoYW5nZVxuICAgIHJlbGF0aXZlUmVzY2FsZShlbmFibGVkRWxlbWVudCwgb2xkQ2FudmFzV2lkdGgsIG9sZENhbnZhc0hlaWdodCk7XG4gICAgT2JqZWN0KF91cGRhdGVJbWFnZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXSkoZWxlbWVudCk7XG4gIH1cbn0pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludGVybmFsX2NhbGN1bGF0ZVRyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9pbnRlcm5hbC9jYWxjdWxhdGVUcmFuc2Zvcm0uanMgKi8gXCIuL2ludGVybmFsL2NhbGN1bGF0ZVRyYW5zZm9ybS5qc1wiKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBjYW52YXMgY29udGV4dCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdG8gdGhlIHBpeGVsIGNvb3JkaW5hdGUgc3lzdGVtLiAgVGhpcyBhbGxvd3NcbiAqIGdlb21ldHJ5IHRvIGJlIGRyaXZlbiB1c2luZyB0aGUgY2FudmFzIGNvbnRleHQgdXNpbmcgY29vcmRpbmF0ZXMgaW4gdGhlIHBpeGVsIGNvb3JkaW5hdGUgc3lzdGVtXG4gKiBAcGFyYW0ge0VuYWJsZWRFbGVtZW50fSBlbmFibGVkRWxlbWVudCBUaGVcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgZm9yIHRoZSBlbmFibGVkRWxlbWVudCdzIENhbnZhc1xuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gT3B0aW9uYWwgc2NhbGUgdG8gYXBwbHlcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGVuYWJsZWRFbGVtZW50LCBjb250ZXh0LCBzY2FsZSkge1xuICBpZiAoZW5hYmxlZEVsZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VG9QaXhlbENvb3JkaW5hdGVTeXN0ZW06IHBhcmFtZXRlciBlbmFibGVkRWxlbWVudCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtOiBwYXJhbWV0ZXIgY29udGV4dCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciB0cmFuc2Zvcm0gPSBPYmplY3QoX2ludGVybmFsX2NhbGN1bGF0ZVRyYW5zZm9ybV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSkoZW5hYmxlZEVsZW1lbnQsIHNjYWxlKTtcbiAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLm1bMF0sIHRyYW5zZm9ybS5tWzFdLCB0cmFuc2Zvcm0ubVsyXSwgdHJhbnNmb3JtLm1bM10sIHRyYW5zZm9ybS5tWzRdLCB0cmFuc2Zvcm0ubVs1XSk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zZXRWaWV3cG9ydC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2V0Vmlld3BvcnQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9nZXREZWZhdWx0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZ2V0RGVmYXVsdFZpZXdwb3J0LmpzICovIFwiLi9pbnRlcm5hbC9nZXREZWZhdWx0Vmlld3BvcnQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9lbmFibGVkRWxlbWVudHMuanMgKi8gXCIuL2VuYWJsZWRFbGVtZW50cy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXBkYXRlSW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXBkYXRlSW1hZ2UuanMgKi8gXCIuL3VwZGF0ZUltYWdlLmpzXCIpO1xuXG5cblxudmFyIE1JTl9XSU5ET1dfV0lEVEggPSAwLjAwMDAwMTtcbnZhciBNSU5fVklFV1BPUlRfU0NBTEUgPSAwLjAwMDE7XG4vKipcbiAqIFNldHMvdXBkYXRlcyB2aWV3cG9ydCBvZiBhIGdpdmVuIGVuYWJsZWQgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBET00gZWxlbWVudCBvZiB0aGUgZW5hYmxlZCBlbGVtZW50XG4gKiBAcGFyYW0ge1ZpZXdwb3J0fSBbdmlld3BvcnRdIC0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHZpZXdwb3J0IHByb3BlcnRpZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIFZpZXdwb3J0U2V0dGluZ3NcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChlbGVtZW50LCB2aWV3cG9ydCkge1xuICB2YXIgZW5hYmxlZEVsZW1lbnQgPSBPYmplY3QoX2VuYWJsZWRFbGVtZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZ2V0RW5hYmxlZEVsZW1lbnRcIl0pKGVsZW1lbnQpOyAvLyBJZiB2aWV3cG9ydCBpcyBub3QgYWxyZWFkeSBzZXQsIHN0YXJ0IHdpdGggZGVmYXVsdCBhbmQgbWVyZ2UgbmV3XG4gIC8vIHZpZXdwb3J0IG9wdGlvbnMgbGF0ZXJcblxuICBpZiAoZW5hYmxlZEVsZW1lbnQudmlld3BvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0ID0gT2JqZWN0KF9pbnRlcm5hbF9nZXREZWZhdWx0Vmlld3BvcnRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LmNhbnZhcyk7XG4gIH0gLy8gTWVyZ2Ugdmlld3BvcnRcblxuXG4gIGlmICh2aWV3cG9ydCkge1xuICAgIGZvciAodmFyIGF0dHJuYW1lIGluIHZpZXdwb3J0KSB7XG4gICAgICBpZiAodmlld3BvcnRbYXR0cm5hbWVdICE9PSBudWxsKSB7XG4gICAgICAgIGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0W2F0dHJuYW1lXSA9IHZpZXdwb3J0W2F0dHJuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gUHJldmVudCB3aW5kb3cgd2lkdGggZnJvbSBiZWluZyB0b28gc21hbGwgKG5vdGUgdGhhdCB2YWx1ZXMgY2xvc2UgdG8gemVybyBhcmUgdmFsaWQgYW5kIGNhbiBvY2N1ciB3aXRoXG4gIC8vIFBFVCBpbWFnZXMgaW4gcGFydGljdWxhcilcblxuXG4gIGlmIChlbmFibGVkRWxlbWVudC52aWV3cG9ydC52b2kud2luZG93V2lkdGgpIHtcbiAgICBlbmFibGVkRWxlbWVudC52aWV3cG9ydC52b2kud2luZG93V2lkdGggPSBNYXRoLm1heCh2aWV3cG9ydC52b2kud2luZG93V2lkdGgsIE1JTl9XSU5ET1dfV0lEVEgpO1xuICB9IC8vIFByZXZlbnQgc2NhbGUgZnJvbSBnZXR0aW5nIHRvbyBzbWFsbFxuXG5cbiAgaWYgKGVuYWJsZWRFbGVtZW50LnZpZXdwb3J0LnNjYWxlKSB7XG4gICAgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQuc2NhbGUgPSBNYXRoLm1heCh2aWV3cG9ydC5zY2FsZSwgTUlOX1ZJRVdQT1JUX1NDQUxFKTtcbiAgfSAvLyBOb3JtYWxpemUgdGhlIHJvdGF0aW9uIHZhbHVlIHRvIGEgcG9zaXRpdmUgcm90YXRpb24gaW4gZGVncmVlc1xuXG5cbiAgZW5hYmxlZEVsZW1lbnQudmlld3BvcnQucm90YXRpb24gJT0gMzYwO1xuXG4gIGlmIChlbmFibGVkRWxlbWVudC52aWV3cG9ydC5yb3RhdGlvbiA8IDApIHtcbiAgICBlbmFibGVkRWxlbWVudC52aWV3cG9ydC5yb3RhdGlvbiArPSAzNjA7XG4gIH1cblxuICBpZiAoZW5hYmxlZEVsZW1lbnQuaW1hZ2UpIHtcbiAgICAvLyBGb3JjZSB0aGUgaW1hZ2UgdG8gYmUgdXBkYXRlZCBzaW5jZSB0aGUgdmlld3BvcnQgaGFzIGJlZW4gbW9kaWZpZWRcbiAgICBPYmplY3QoX3VwZGF0ZUltYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdKShlbGVtZW50KTtcbiAgfVxufSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vdHJpZ2dlckV2ZW50LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vdHJpZ2dlckV2ZW50LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGRlZmF1bHQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHRyaWdnZXJFdmVudDsgfSk7XG4vKipcbiAqIFRyaWdnZXIgYSBDdXN0b21FdmVudFxuICpcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsIFRoZSBlbGVtZW50IG9yIEV2ZW50VGFyZ2V0IHRvIHRyaWdnZXIgdGhlIGV2ZW50IHVwb25cbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIG5hbWVcbiAqIEBwYXJhbSB7T2JqZWN0fG51bGx9IGRldGFpbD1udWxsIFRoZSBldmVudCBkYXRhIHRvIGJlIHNlbnRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgcmV0dXJuIHZhbHVlIGlzIGZhbHNlIGlmIGF0IGxlYXN0IG9uZSBldmVudCBsaXN0ZW5lciBjYWxsZWQgcHJldmVudERlZmF1bHQoKS4gT3RoZXJ3aXNlIGl0IHJldHVybnMgdHJ1ZS5cbiAqL1xuZnVuY3Rpb24gdHJpZ2dlckV2ZW50KGVsLCB0eXBlKSB7XG4gIHZhciBkZXRhaWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gIHZhciBldmVudDsgLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgdG8gcG9seWZpbGwgQ3VzdG9tRXZlbnQgb24gSUUxMS1cblxuICBpZiAodHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtcbiAgICAgIGRldGFpbDogZGV0YWlsLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIGRldGFpbCk7XG4gIH1cblxuICByZXR1cm4gZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vdXBkYXRlSW1hZ2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3VwZGF0ZUltYWdlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2VuYWJsZWRFbGVtZW50cy5qcyAqLyBcIi4vZW5hYmxlZEVsZW1lbnRzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9pbnRlcm5hbF9kcmF3SW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50ZXJuYWwvZHJhd0ltYWdlLmpzICovIFwiLi9pbnRlcm5hbC9kcmF3SW1hZ2UuanNcIik7XG5cblxuLyoqXG4gKiBGb3JjZXMgdGhlIGltYWdlIHRvIGJlIHVwZGF0ZWQvcmVkcmF3biBmb3IgdGhlIHNwZWNpZmllZCBlbmFibGVkIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgQW4gSFRNTCBFbGVtZW50IGVuYWJsZWQgZm9yIENvcm5lcnN0b25lXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnZhbGlkYXRlZD1mYWxzZV0gV2hldGhlciBvciBub3QgdGhlIGltYWdlIHBpeGVsIGRhdGEgaGFzIGJlZW4gY2hhbmdlZCwgbmVjZXNzaXRhdGluZyBhIHJlZHJhd1xuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQG1lbWJlcm9mIERyYXdpbmdcbiAqL1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHZhciBpbnZhbGlkYXRlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gIHZhciBlbmFibGVkRWxlbWVudCA9IE9iamVjdChfZW5hYmxlZEVsZW1lbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJnZXRFbmFibGVkRWxlbWVudFwiXSkoZWxlbWVudCk7XG5cbiAgaWYgKGVuYWJsZWRFbGVtZW50LmltYWdlID09PSB1bmRlZmluZWQgJiYgIWVuYWJsZWRFbGVtZW50LmxheWVycy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VwZGF0ZUltYWdlOiBpbWFnZSBoYXMgbm90IGJlZW4gbG9hZGVkIHlldCcpO1xuICB9XG5cbiAgT2JqZWN0KF9pbnRlcm5hbF9kcmF3SW1hZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0pKGVuYWJsZWRFbGVtZW50LCBpbnZhbGlkYXRlZCk7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC9jcmVhdGVQcm9ncmFtRnJvbVN0cmluZy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vd2ViZ2wvY3JlYXRlUHJvZ3JhbUZyb21TdHJpbmcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyoqXG4gKiBDcmVhdGVzIGFuZCBjb21waWxlcyBhIHNoYWRlci5cbiAqXG4gKiBAcGFyYW0geyFXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTCBDb250ZXh0LlxuICogQHBhcmFtIHtzdHJpbmd9IHNoYWRlclNvdXJjZSBUaGUgR0xTTCBzb3VyY2UgY29kZSBmb3IgdGhlIHNoYWRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzaGFkZXJUeXBlIFRoZSB0eXBlIG9mIHNoYWRlciwgVkVSVEVYX1NIQURFUiBvciBGUkFHTUVOVF9TSEFERVIuXG4gKlxuICogQHJldHVybiB7IVdlYkdMU2hhZGVyfSBUaGUgc2hhZGVyLlxuICogQG1lbWJlcm9mIFdlYkdMUmVuZGVyaW5nXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHNoYWRlclNvdXJjZSwgc2hhZGVyVHlwZSkge1xuICAvLyBDcmVhdGUgdGhlIHNoYWRlciBvYmplY3RcbiAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTsgLy8gU2V0IHRoZSBzaGFkZXIgc291cmNlIGNvZGUuXG5cbiAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTsgLy8gQ29tcGlsZSB0aGUgc2hhZGVyXG5cbiAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpOyAvLyBDaGVjayBpZiBpdCBjb21waWxlZFxuXG4gIHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xuXG4gIGlmICghc3VjY2VzcyAmJiAhZ2wuaXNDb250ZXh0TG9zdCgpKSB7XG4gICAgLy8gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIGNvbXBpbGF0aW9uOyBnZXQgdGhlIGVycm9yXG4gICAgdmFyIGluZm9Mb2cgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XG4gICAgY29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBjb21waWxlIHNoYWRlcjpcXG5cIi5jb25jYXQoaW5mb0xvZykpO1xuICB9XG5cbiAgcmV0dXJuIHNoYWRlcjtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHByb2dyYW0gZnJvbSAyIHNoYWRlcnMuXG4gKlxuICogQHBhcmFtIHshV2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0wgY29udGV4dC5cbiAqIEBwYXJhbSB7IVdlYkdMU2hhZGVyfSB2ZXJ0ZXhTaGFkZXIgQSB2ZXJ0ZXggc2hhZGVyLlxuICogQHBhcmFtIHshV2ViR0xTaGFkZXJ9IGZyYWdtZW50U2hhZGVyIEEgZnJhZ21lbnQgc2hhZGVyLlxuICogQHJldHVybiB7IVdlYkdMUHJvZ3JhbX0gQSBwcm9ncmFtLlxuICogQG1lbWJlcm9mIFdlYkdMUmVuZGVyaW5nXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XG4gIC8vIENyZWF0ZSBhIHByb2dyYW0uXG4gIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpOyAvLyBBdHRhY2ggdGhlIHNoYWRlcnMuXG5cbiAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7IC8vIExpbmsgdGhlIHByb2dyYW0uXG5cbiAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7IC8vIENoZWNrIGlmIGl0IGxpbmtlZC5cblxuICB2YXIgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xuXG4gIGlmICghc3VjY2VzcyAmJiAhZ2wuaXNDb250ZXh0TG9zdCgpKSB7XG4gICAgLy8gU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgbGlua1xuICAgIHZhciBpbmZvTG9nID0gZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSk7XG4gICAgY29uc29sZS5lcnJvcihcIldlYkdMIHByb2dyYW0gZmlsZWQgdG8gbGluazpcXG5cIi5jb25jYXQoaW5mb0xvZykpO1xuICB9XG5cbiAgcmV0dXJuIHByb2dyYW07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBwcm9ncmFtIGZyb20gMiBzaGFkZXJzIHNvdXJjZSAoU3RyaW5ncylcbiAqIEBwYXJhbSAgeyFXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsICAgICAgICAgICAgICBUaGUgV2ViR0wgY29udGV4dC5cbiAqIEBwYXJhbSAgeyFXZWJHTFNoYWRlcn0gdmVydGV4U2hhZGVyU3JjICAgVmVydGV4IHNoYWRlciBzdHJpbmdcbiAqIEBwYXJhbSAgeyFXZWJHTFNoYWRlcn0gZnJhZ1NoYWRlclNyYyBGcmFnbWVudCBzaGFkZXIgc3RyaW5nXG4gKiBAcmV0dXJuIHshV2ViR0xQcm9ncmFtfSAgICAgICAgICAgICAgICAgQSBwcm9ncmFtXG4gKiBAbWVtYmVyb2YgV2ViR0xSZW5kZXJpbmdcbiAqL1xuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoZnVuY3Rpb24gKGdsLCB2ZXJ0ZXhTaGFkZXJTcmMsIGZyYWdTaGFkZXJTcmMpIHtcbiAgdmFyIHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIHZlcnRleFNoYWRlclNyYywgZ2wuVkVSVEVYX1NIQURFUik7XG4gIHZhciBmcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZnJhZ1NoYWRlclNyYywgZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgcmV0dXJuIGNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ1NoYWRlcik7XG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vd2ViZ2wvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBkZWZhdWx0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZW5kZXJlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9yZW5kZXJlci5qcyAqLyBcIi4vd2ViZ2wvcmVuZGVyZXIuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NyZWF0ZVByb2dyYW1Gcm9tU3RyaW5nX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NyZWF0ZVByb2dyYW1Gcm9tU3RyaW5nLmpzICovIFwiLi93ZWJnbC9jcmVhdGVQcm9ncmFtRnJvbVN0cmluZy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdGV4dHVyZUNhY2hlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RleHR1cmVDYWNoZS5qcyAqLyBcIi4vd2ViZ2wvdGV4dHVyZUNhY2hlLmpzXCIpO1xuXG5cblxuLyoqXG4gKiBAbW9kdWxlIFdlYkdMUmVuZGVyaW5nXG4gKi9cblxudmFyIG1vZCA9IHtcbiAgY3JlYXRlUHJvZ3JhbUZyb21TdHJpbmc6IF9jcmVhdGVQcm9ncmFtRnJvbVN0cmluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSxcbiAgcmVuZGVyZXI6IHtcbiAgICByZW5kZXI6IF9yZW5kZXJlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wicmVuZGVyXCJdLFxuICAgIGluaXRSZW5kZXJlcjogX3JlbmRlcmVyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJpbml0UmVuZGVyZXJcIl0sXG4gICAgZ2V0UmVuZGVyQ2FudmFzOiBfcmVuZGVyZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImdldFJlbmRlckNhbnZhc1wiXSxcbiAgICBpc1dlYkdMQXZhaWxhYmxlOiBfcmVuZGVyZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImlzV2ViR0xBdmFpbGFibGVcIl1cbiAgfSxcbiAgdGV4dHVyZUNhY2hlOiBfdGV4dHVyZUNhY2hlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZCwgJ2lzV2ViR0xJbml0aWFsaXplZCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9yZW5kZXJlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiaXNXZWJHTEluaXRpYWxpemVkXCJdO1xuICB9XG59KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAobW9kKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC9yZW5kZXJlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vd2ViZ2wvcmVuZGVyZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiBpc1dlYkdMSW5pdGlhbGl6ZWQsIGdldFJlbmRlckNhbnZhcywgaW5pdFJlbmRlcmVyLCByZW5kZXIsIGlzV2ViR0xBdmFpbGFibGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaXNXZWJHTEluaXRpYWxpemVkXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNXZWJHTEluaXRpYWxpemVkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRSZW5kZXJDYW52YXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBnZXRSZW5kZXJDYW52YXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImluaXRSZW5kZXJlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGluaXRSZW5kZXJlcjsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVuZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVuZGVyOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpc1dlYkdMQXZhaWxhYmxlXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNXZWJHTEF2YWlsYWJsZTsgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3NoYWRlcnNfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhZGVycy9pbmRleC5qcyAqLyBcIi4vd2ViZ2wvc2hhZGVycy9pbmRleC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdmVydGV4U2hhZGVyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3ZlcnRleFNoYWRlci5qcyAqLyBcIi4vd2ViZ2wvdmVydGV4U2hhZGVyLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF90ZXh0dXJlQ2FjaGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdGV4dHVyZUNhY2hlLmpzICovIFwiLi93ZWJnbC90ZXh0dXJlQ2FjaGUuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NyZWF0ZVByb2dyYW1Gcm9tU3RyaW5nX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NyZWF0ZVByb2dyYW1Gcm9tU3RyaW5nLmpzICovIFwiLi93ZWJnbC9jcmVhdGVQcm9ncmFtRnJvbVN0cmluZy5qc1wiKTtcbi8qIGVzbGludCBuby1iaXR3aXNlOiAwICovXG5cblxuXG5cbnZhciByZW5kZXJDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbnZhciBnbDtcbnZhciB0ZXhDb29yZEJ1ZmZlcjtcbnZhciBwb3NpdGlvbkJ1ZmZlcjtcbnZhciBpc1dlYkdMSW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gZ2V0UmVuZGVyQ2FudmFzKCkge1xuICByZXR1cm4gcmVuZGVyQ2FudmFzO1xufVxuXG5mdW5jdGlvbiBpbml0U2hhZGVycygpIHtcbiAgZm9yICh2YXIgaWQgaW4gX3NoYWRlcnNfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInNoYWRlcnNcIl0pIHtcbiAgICAvLyBDb25zb2xlLmxvZyhcIldFQkdMOiBMb2FkaW5nIHNoYWRlclwiLCBpZCk7XG4gICAgdmFyIHNoYWRlciA9IF9zaGFkZXJzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJzaGFkZXJzXCJdW2lkXTtcbiAgICBzaGFkZXIuYXR0cmlidXRlcyA9IHt9O1xuICAgIHNoYWRlci51bmlmb3JtcyA9IHt9O1xuICAgIHNoYWRlci52ZXJ0ID0gX3ZlcnRleFNoYWRlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1widmVydGV4U2hhZGVyXCJdO1xuICAgIHNoYWRlci5wcm9ncmFtID0gT2JqZWN0KF9jcmVhdGVQcm9ncmFtRnJvbVN0cmluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fW1wiZGVmYXVsdFwiXSkoZ2wsIHNoYWRlci52ZXJ0LCBzaGFkZXIuZnJhZyk7XG4gICAgc2hhZGVyLmF0dHJpYnV0ZXMudGV4Q29vcmRMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHNoYWRlci5wcm9ncmFtLCAnYV90ZXhDb29yZCcpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlci5hdHRyaWJ1dGVzLnRleENvb3JkTG9jYXRpb24pO1xuICAgIHNoYWRlci5hdHRyaWJ1dGVzLnBvc2l0aW9uTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihzaGFkZXIucHJvZ3JhbSwgJ2FfcG9zaXRpb24nKTtcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzaGFkZXIuYXR0cmlidXRlcy5wb3NpdGlvbkxvY2F0aW9uKTtcbiAgICBzaGFkZXIudW5pZm9ybXMucmVzb2x1dGlvbkxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlci5wcm9ncmFtLCAndV9yZXNvbHV0aW9uJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdFJlbmRlcmVyKCkge1xuICBpZiAoaXNXZWJHTEluaXRpYWxpemVkID09PSB0cnVlKSB7XG4gICAgLy8gQ29uc29sZS5sb2coXCJXRUJHTCBSZW5kZXJlciBhbHJlYWR5IGluaXRpYWxpemVkXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbml0V2ViR0wocmVuZGVyQ2FudmFzKSkge1xuICAgIGluaXRCdWZmZXJzKCk7XG4gICAgaW5pdFNoYWRlcnMoKTsgLy8gQ29uc29sZS5sb2coXCJXRUJHTCBSZW5kZXJlciBpbml0aWFsaXplZCFcIik7XG5cbiAgICBpc1dlYkdMSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVJlY3RhbmdsZShnbCwgd2lkdGgsIGhlaWdodCkge1xuICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbd2lkdGgsIGhlaWdodCwgMCwgaGVpZ2h0LCB3aWR0aCwgMCwgMCwgMF0pLCBnbC5TVEFUSUNfRFJBVyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxvc3RDb250ZXh0KGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnNvbGUud2FybignV2ViR0wgQ29udGV4dCBMb3N0IScpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVSZXN0b3JlZENvbnRleHQoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgaXNXZWJHTEluaXRpYWxpemVkID0gZmFsc2U7XG4gIF90ZXh0dXJlQ2FjaGVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX1tcImRlZmF1bHRcIl0ucHVyZ2VDYWNoZSgpO1xuICBpbml0UmVuZGVyZXIoKTsgLy8gQ29uc29sZS5sb2coJ1dlYkdMIENvbnRleHQgUmVzdG9yZWQuJyk7XG59XG5cbmZ1bmN0aW9uIGluaXRXZWJHTChjYW52YXMpIHtcbiAgZ2wgPSBudWxsO1xuXG4gIHRyeSB7XG4gICAgLy8gVHJ5IHRvIGdyYWIgdGhlIHN0YW5kYXJkIGNvbnRleHQuIElmIGl0IGZhaWxzLCBmYWxsYmFjayB0byBleHBlcmltZW50YWwuXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUgLy8gUHJlc2VydmUgYnVmZmVyIHNvIHdlIGNhbiBjb3B5IHRvIGRpc3BsYXkgY2FudmFzIGVsZW1lbnRcblxuICAgIH07IC8vIC0tLS0tLS0tLS0tLS0tLS0gVGVzdGluZyBwdXJwb3NlcyAtLS0tLS0tLS0tLS0tXG4gICAgLy8gSWYgKGRlYnVnID09PSB0cnVlICYmIFdlYkdMRGVidWdVdGlscykge1xuICAgIC8vICAgIFJlbmRlckNhbnZhcyA9IFdlYkdMRGVidWdVdGlscy5tYWtlTG9zdENvbnRleHRTaW11bGF0aW5nQ2FudmFzKHJlbmRlckNhbnZhcyk7XG4gICAgLy8gfVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0gVGVzdGluZyBwdXJwb3NlcyAtLS0tLS0tLS0tLS0tXG5cbiAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBvcHRpb25zKTsgLy8gU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgY29udGV4dCBsb3N0IC8gY29udGV4dCByZXN0b3JlZFxuXG4gICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCBoYW5kbGVMb3N0Q29udGV4dCwgZmFsc2UpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgaGFuZGxlTG9zdENvbnRleHQsIGZhbHNlKTtcbiAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCBoYW5kbGVSZXN0b3JlZENvbnRleHQsIGZhbHNlKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCBoYW5kbGVSZXN0b3JlZENvbnRleHQsIGZhbHNlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGNyZWF0aW5nIFdlYkdMIGNvbnRleHQnKTtcbiAgfSAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgR0wgY29udGV4dCwgZ2l2ZSB1cCBub3dcblxuXG4gIGlmICghZ2wpIHtcbiAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBXZWJHTC4gWW91ciBicm93c2VyIG1heSBub3Qgc3VwcG9ydCBpdC4nKTtcbiAgICBnbCA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gZ2w7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGltYWdlIGRhdGEgdHlwZSBhcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqIEBwYXJhbSB7YW55fSBpbWFnZSBUaGUgY29ybmVyc3RvbmUgaW1hZ2Ugb2JqZWN0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBpbWFnZSBkYXRhIHR5cGUgKHJnYiwgaWludDE2LCB1aW50MTYsIGludDggYW5kIHVpbnQ4KVxuICogQG1lbWJlcm9mIFdlYkdMUmVuZGVyaW5nXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRJbWFnZURhdGFUeXBlKGltYWdlKSB7XG4gIGlmIChpbWFnZS5jb2xvcikge1xuICAgIHJldHVybiAncmdiJztcbiAgfVxuXG4gIHZhciBwaXhlbERhdGEgPSBpbWFnZS5nZXRQaXhlbERhdGEoKTtcblxuICBpZiAocGl4ZWxEYXRhIGluc3RhbmNlb2YgSW50MTZBcnJheSkge1xuICAgIHJldHVybiAnaW50MTYnO1xuICB9XG5cbiAgaWYgKHBpeGVsRGF0YSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSB7XG4gICAgcmV0dXJuICd1aW50MTYnO1xuICB9XG5cbiAgaWYgKHBpeGVsRGF0YSBpbnN0YW5jZW9mIEludDhBcnJheSkge1xuICAgIHJldHVybiAnaW50OCc7XG4gIH1cblxuICByZXR1cm4gJ3VpbnQ4Jztcbn1cblxuZnVuY3Rpb24gZ2V0U2hhZGVyUHJvZ3JhbShpbWFnZSkge1xuICB2YXIgZGF0YXR5cGUgPSBnZXRJbWFnZURhdGFUeXBlKGltYWdlKTsgLy8gV2UgbmVlZCBhIG1lY2hhbmlzbSBmb3JcbiAgLy8gQ2hvb3NpbmcgdGhlIHNoYWRlciBiYXNlZCBvbiB0aGUgaW1hZ2UgZGF0YXR5cGVcbiAgLy8gQ29uc29sZS5sb2coXCJEYXRhdHlwZTogXCIgKyBkYXRhdHlwZSk7XG5cbiAgaWYgKF9zaGFkZXJzX2luZGV4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJzaGFkZXJzXCJdLmhhc093blByb3BlcnR5KGRhdGF0eXBlKSkge1xuICAgIHJldHVybiBfc2hhZGVyc19pbmRleF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wic2hhZGVyc1wiXVtkYXRhdHlwZV07XG4gIH1cblxuICByZXR1cm4gX3NoYWRlcnNfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcInNoYWRlcnNcIl0ucmdiO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUoaW1hZ2UpIHtcbiAgdmFyIFRFWFRVUkVfRk9STUFUID0ge1xuICAgIHVpbnQ4OiBnbC5MVU1JTkFOQ0UsXG4gICAgaW50ODogZ2wuTFVNSU5BTkNFX0FMUEhBLFxuICAgIHVpbnQxNjogZ2wuTFVNSU5BTkNFX0FMUEhBLFxuICAgIGludDE2OiBnbC5SR0IsXG4gICAgcmdiOiBnbC5SR0JcbiAgfTtcbiAgdmFyIFRFWFRVUkVfQllURVMgPSB7XG4gICAgaW50ODogMSxcbiAgICAvLyBMdW1pbmFuY2VcbiAgICB1aW50MTY6IDIsXG4gICAgLy8gTHVtaW5hbmNlICsgQWxwaGFcbiAgICBpbnQxNjogMyxcbiAgICAvLyBSR0JcbiAgICByZ2I6IDMgLy8gUkdCXG5cbiAgfTtcbiAgdmFyIGltYWdlRGF0YVR5cGUgPSBnZXRJbWFnZURhdGFUeXBlKGltYWdlKTtcbiAgdmFyIGZvcm1hdCA9IFRFWFRVUkVfRk9STUFUW2ltYWdlRGF0YVR5cGVdOyAvLyBHTCB0ZXh0dXJlIGNvbmZpZ3VyYXRpb25cblxuICB2YXIgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19BTElHTk1FTlQsIDEpO1xuICB2YXIgaW1hZ2VEYXRhID0gX3NoYWRlcnNfaW5kZXhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRhdGFVdGlsaXRpZXNcIl1baW1hZ2VEYXRhVHlwZV0uc3RvcmVkUGl4ZWxEYXRhVG9JbWFnZURhdGEoaW1hZ2UsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xuICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGZvcm1hdCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCwgMCwgZm9ybWF0LCBnbC5VTlNJR05FRF9CWVRFLCBpbWFnZURhdGEpOyAvLyBDYWxjdWxhdGUgdGhlIHNpemUgaW4gYnl0ZXMgb2YgdGhpcyBpbWFnZSBpbiBtZW1vcnlcblxuICB2YXIgc2l6ZUluQnl0ZXMgPSBpbWFnZS53aWR0aCAqIGltYWdlLmhlaWdodCAqIFRFWFRVUkVfQllURVNbaW1hZ2VEYXRhVHlwZV07XG4gIHJldHVybiB7XG4gICAgdGV4dHVyZTogdGV4dHVyZSxcbiAgICBzaXplSW5CeXRlczogc2l6ZUluQnl0ZXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0SW1hZ2VUZXh0dXJlKGltYWdlKSB7XG4gIHZhciBpbWFnZVRleHR1cmUgPSBfdGV4dHVyZUNhY2hlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLmdldEltYWdlVGV4dHVyZShpbWFnZS5pbWFnZUlkKTtcblxuICBpZiAoIWltYWdlVGV4dHVyZSkge1xuICAgIC8vIENvbnNvbGUubG9nKFwiR2VuZXJhdGluZyB0ZXh0dXJlIGZvciBpbWFnZWlkOiBcIiwgaW1hZ2UuaW1hZ2VJZCk7XG4gICAgaW1hZ2VUZXh0dXJlID0gZ2VuZXJhdGVUZXh0dXJlKGltYWdlKTtcbiAgICBfdGV4dHVyZUNhY2hlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19bXCJkZWZhdWx0XCJdLnB1dEltYWdlVGV4dHVyZShpbWFnZSwgaW1hZ2VUZXh0dXJlKTtcbiAgfVxuXG4gIHJldHVybiBpbWFnZVRleHR1cmUudGV4dHVyZTtcbn1cblxuZnVuY3Rpb24gaW5pdEJ1ZmZlcnMoKSB7XG4gIHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XG4gIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAwLCAxLCAxLCAwLCAwLCAwXSksIGdsLlNUQVRJQ19EUkFXKTtcbiAgdGV4Q29vcmRCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleENvb3JkQnVmZmVyKTtcbiAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWzEuMCwgMS4wLCAwLjAsIDEuMCwgMS4wLCAwLjAsIDAuMCwgMC4wXSksIGdsLlNUQVRJQ19EUkFXKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyUXVhZChzaGFkZXIsIHBhcmFtZXRlcnMsIHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgZ2wuY2xlYXJDb2xvcigxLjAsIDAuMCwgMC4wLCAxLjApO1xuICBnbC52aWV3cG9ydCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xuICBnbC51c2VQcm9ncmFtKHNoYWRlci5wcm9ncmFtKTtcbiAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleENvb3JkQnVmZmVyKTtcbiAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihzaGFkZXIuYXR0cmlidXRlcy50ZXhDb29yZExvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNoYWRlci5hdHRyaWJ1dGVzLnBvc2l0aW9uTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG5cbiAgZm9yICh2YXIga2V5IGluIHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgdW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlci5wcm9ncmFtLCBrZXkpO1xuXG4gICAgaWYgKCF1bmlmb3JtTG9jYXRpb24pIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBEaXNhYmxpbmcgdGhpcyBlcnJvciBmb3Igbm93IHNpbmNlIFJHQiByZXF1aXJlcyBtaW5QaXhlbFZhbHVlXG4gICAgICAvLyBidXQgdGhlIG90aGVyIHNoYWRlcnMgZG8gbm90LlxuICAgICAgLy8gdGhyb3cgYENvdWxkIG5vdCBhY2Nlc3MgbG9jYXRpb24gZm9yIHVuaWZvcm06ICR7a2V5fWA7XG4gICAgfVxuXG4gICAgdmFyIHVuaWZvcm0gPSBwYXJhbWV0ZXJzW2tleV07XG4gICAgdmFyIHR5cGUgPSB1bmlmb3JtLnR5cGU7XG4gICAgdmFyIHZhbHVlID0gdW5pZm9ybS52YWx1ZTtcblxuICAgIGlmICh0eXBlID09PSAnaScpIHtcbiAgICAgIGdsLnVuaWZvcm0xaSh1bmlmb3JtTG9jYXRpb24sIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdmJykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbiwgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJzJmJykge1xuICAgICAgZ2wudW5pZm9ybTJmKHVuaWZvcm1Mb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVSZWN0YW5nbGUoZ2wsIHdpZHRoLCBoZWlnaHQpO1xuICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoZW5hYmxlZEVsZW1lbnQpIHtcbiAgLy8gUmVzaXplIHRoZSBjYW52YXNcbiAgdmFyIGltYWdlID0gZW5hYmxlZEVsZW1lbnQuaW1hZ2U7XG4gIHJlbmRlckNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICByZW5kZXJDYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICB2YXIgdmlld3BvcnQgPSBlbmFibGVkRWxlbWVudC52aWV3cG9ydDsgLy8gUmVuZGVyIHRoZSBjdXJyZW50IGltYWdlXG5cbiAgdmFyIHNoYWRlciA9IGdldFNoYWRlclByb2dyYW0oaW1hZ2UpO1xuICB2YXIgdGV4dHVyZSA9IGdldEltYWdlVGV4dHVyZShpbWFnZSk7XG4gIHZhciBwYXJhbWV0ZXJzID0ge1xuICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgdHlwZTogJzJmJyxcbiAgICAgIHZhbHVlOiBbaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodF1cbiAgICB9LFxuICAgIHdjOiB7XG4gICAgICB0eXBlOiAnZicsXG4gICAgICB2YWx1ZTogdmlld3BvcnQudm9pLndpbmRvd0NlbnRlclxuICAgIH0sXG4gICAgd3c6IHtcbiAgICAgIHR5cGU6ICdmJyxcbiAgICAgIHZhbHVlOiB2aWV3cG9ydC52b2kud2luZG93V2lkdGhcbiAgICB9LFxuICAgIHNsb3BlOiB7XG4gICAgICB0eXBlOiAnZicsXG4gICAgICB2YWx1ZTogaW1hZ2Uuc2xvcGVcbiAgICB9LFxuICAgIGludGVyY2VwdDoge1xuICAgICAgdHlwZTogJ2YnLFxuICAgICAgdmFsdWU6IGltYWdlLmludGVyY2VwdFxuICAgIH0sXG4gICAgbWluUGl4ZWxWYWx1ZToge1xuICAgICAgdHlwZTogJ2YnLFxuICAgICAgdmFsdWU6IGltYWdlLm1pblBpeGVsVmFsdWVcbiAgICB9LFxuICAgIGludmVydDoge1xuICAgICAgdHlwZTogJ2knLFxuICAgICAgdmFsdWU6IHZpZXdwb3J0LmludmVydCA/IDEgOiAwXG4gICAgfVxuICB9O1xuICByZW5kZXJRdWFkKHNoYWRlciwgcGFyYW1ldGVycywgdGV4dHVyZSwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gIHJldHVybiByZW5kZXJDYW52YXM7XG59XG5mdW5jdGlvbiBpc1dlYkdMQXZhaWxhYmxlKCkge1xuICAvLyBBZGFwdGVkIGZyb21cbiAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85ODk5ODA3L3RocmVlLWpzLWRldGVjdC13ZWJnbC1zdXBwb3J0LWFuZC1mYWxsYmFjay10by1yZWd1bGFyLWNhbnZhc1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiB0cnVlXG4gIH07XG5cbiAgdHJ5IHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgcmV0dXJuIEJvb2xlYW4od2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCkgJiYgKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBvcHRpb25zKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC9zaGFkZXJzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3dlYmdsL3NoYWRlcnMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IHNoYWRlcnMsIGRhdGFVdGlsaXRpZXMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwic2hhZGVyc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNoYWRlcnM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRhdGFVdGlsaXRpZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBkYXRhVXRpbGl0aWVzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfaW50MTZfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50MTYuanMgKi8gXCIuL3dlYmdsL3NoYWRlcnMvaW50MTYuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2ludDhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW50OC5qcyAqLyBcIi4vd2ViZ2wvc2hhZGVycy9pbnQ4LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9yZ2JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmdiLmpzICovIFwiLi93ZWJnbC9zaGFkZXJzL3JnYi5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdWludDE2X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3VpbnQxNi5qcyAqLyBcIi4vd2ViZ2wvc2hhZGVycy91aW50MTYuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3VpbnQ4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3VpbnQ4LmpzICovIFwiLi93ZWJnbC9zaGFkZXJzL3VpbnQ4LmpzXCIpO1xuXG5cblxuXG5cbnZhciBzaGFkZXJzID0ge1xuICBpbnQxNjogX2ludDE2X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJpbnQxNlNoYWRlclwiXSxcbiAgaW50ODogX2ludDhfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImludDhTaGFkZXJcIl0sXG4gIHJnYjogX3JnYl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wicmdiU2hhZGVyXCJdLFxuICB1aW50MTY6IF91aW50MTZfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX1tcInVpbnQxNlNoYWRlclwiXSxcbiAgdWludDg6IF91aW50OF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fW1widWludDhTaGFkZXJcIl1cbn07XG52YXIgZGF0YVV0aWxpdGllcyA9IHtcbiAgaW50MTY6IF9pbnQxNl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiaW50MTZEYXRhVXRpbGl0aWVzXCJdLFxuICBpbnQ4OiBfaW50OF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiaW50OERhdGFVdGlsaXRpZXNcIl0sXG4gIHJnYjogX3JnYl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wicmdiRGF0YVV0aWxpdGllc1wiXSxcbiAgdWludDE2OiBfdWludDE2X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19bXCJ1aW50MTZEYXRhVXRpbGl0aWVzXCJdLFxuICB1aW50ODogX3VpbnQ4X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19bXCJ1aW50OERhdGFVdGlsaXRpZXNcIl1cbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC9zaGFkZXJzL2ludDE2LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3dlYmdsL3NoYWRlcnMvaW50MTYuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IGludDE2RGF0YVV0aWxpdGllcywgaW50MTZTaGFkZXIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW50MTZEYXRhVXRpbGl0aWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaW50MTZEYXRhVXRpbGl0aWVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJpbnQxNlNoYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGludDE2U2hhZGVyOyB9KTtcbi8qIGVzbGludCBuby1iaXR3aXNlOiAwICovXG52YXIgaW50MTZTaGFkZXIgPSB7fTtcbi8qKlxuICogQ29udmVydCBzdG9yZWQgcGl4ZWwgZGF0YSB0byBpbWFnZSBkYXRhLlxuICpcbiAqIFBhY2sgaW50MTYgaW50byB0aHJlZSB1aW50OCBjaGFubmVscyAociwgZywgYilcbiAqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBBIENvcm5lcnN0b25lIEltYWdlIE9iamVjdFxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IFRoZSBpbWFnZSBkYXRhIGZvciB1c2UgYnkgdGhlIFdlYkdMIHNoYWRlclxuICogQG1lbWJlcm9mIFdlYkdMUmVuZGVyaW5nXG4gKi9cblxuZnVuY3Rpb24gc3RvcmVkUGl4ZWxEYXRhVG9JbWFnZURhdGEoaW1hZ2UpIHtcbiAgLy8gVHJhbnNmZXIgaW1hZ2UgZGF0YSB0byBhbHBoYSBhbmQgbHVtaW5hbmNlIGNoYW5uZWxzIG9mIFdlYkdMIHRleHR1cmVcbiAgLy8gQ3JlZGl0IHRvIEBqcGFtYnJ1biBhbmQgQGZlcm5hbmRvanNnXG4gIC8vIFBhY2sgaW50MTYgaW50byB0aHJlZSB1aW50OCBjaGFubmVscyAociwgZywgYilcbiAgdmFyIHBpeGVsRGF0YSA9IGltYWdlLmdldFBpeGVsRGF0YSgpO1xuICB2YXIgbnVtYmVyT2ZDaGFubmVscyA9IDM7XG4gIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoaW1hZ2Uud2lkdGggKiBpbWFnZS5oZWlnaHQgKiBudW1iZXJPZkNoYW5uZWxzKTtcbiAgdmFyIG9mZnNldCA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsID0gTWF0aC5hYnMocGl4ZWxEYXRhW2ldKTtcbiAgICBkYXRhW29mZnNldCsrXSA9IHZhbCAmIDB4RkY7XG4gICAgZGF0YVtvZmZzZXQrK10gPSB2YWwgPj4gODtcbiAgICBkYXRhW29mZnNldCsrXSA9IHBpeGVsRGF0YVtpXSA8IDAgPyAwIDogMTsgLy8gMCBGb3IgbmVnYXRpdmUsIDEgZm9yIHBvc2l0aXZlXG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxudmFyIGludDE2RGF0YVV0aWxpdGllcyA9IHtcbiAgc3RvcmVkUGl4ZWxEYXRhVG9JbWFnZURhdGE6IHN0b3JlZFBpeGVsRGF0YVRvSW1hZ2VEYXRhXG59O1xuaW50MTZTaGFkZXIuZnJhZyA9ICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnICsgJ3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7JyArICd1bmlmb3JtIGZsb2F0IHd3OycgKyAndW5pZm9ybSBmbG9hdCB3YzsnICsgJ3VuaWZvcm0gZmxvYXQgc2xvcGU7JyArICd1bmlmb3JtIGZsb2F0IGludGVyY2VwdDsnICsgJ3VuaWZvcm0gaW50IGludmVydDsnICsgJ3ZhcnlpbmcgdmVjMiB2X3RleENvb3JkOycgKyAndm9pZCBtYWluKCkgeycgKyAvLyBHZXQgdGV4dHVyZVxuJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodV9pbWFnZSwgdl90ZXhDb29yZCk7JyArIC8vIENhbGN1bGF0ZSBsdW1pbmFuY2UgZnJvbSBwYWNrZWQgdGV4dHVyZVxuJ2Zsb2F0IGludGVuc2l0eSA9IGNvbG9yLnIqMjU2LjAgKyBjb2xvci5nKjY1NTM2LjA7JyArICdpZiAoY29sb3IuYiA9PSAwLjApJyArICdpbnRlbnNpdHkgPSAtaW50ZW5zaXR5OycgKyAvLyBSZXNjYWxlIGJhc2VkIG9uIHNsb3BlIGFuZCB3aW5kb3cgc2V0dGluZ3NcbidpbnRlbnNpdHkgPSBpbnRlbnNpdHkgKiBzbG9wZSArIGludGVyY2VwdDsnICsgJ2Zsb2F0IGNlbnRlcjAgPSB3YyAtIDAuNTsnICsgJ2Zsb2F0IHdpZHRoMCA9IG1heCh3dywgMS4wKTsnICsgJ2ludGVuc2l0eSA9IChpbnRlbnNpdHkgLSBjZW50ZXIwKSAvIHdpZHRoMCArIDAuNTsnICsgLy8gQ2xhbXAgaW50ZW5zaXR5XG4naW50ZW5zaXR5ID0gY2xhbXAoaW50ZW5zaXR5LCAwLjAsIDEuMCk7JyArIC8vIFJHQkEgb3V0cHV0XG4nZ2xfRnJhZ0NvbG9yID0gdmVjNChpbnRlbnNpdHksIGludGVuc2l0eSwgaW50ZW5zaXR5LCAxLjApOycgKyAvLyBBcHBseSBhbnkgaW52ZXJzaW9uIG5lY2Vzc2FyeVxuJ2lmIChpbnZlcnQgPT0gMSknICsgJ2dsX0ZyYWdDb2xvci5yZ2IgPSAxLjAgLSBnbF9GcmFnQ29sb3IucmdiOycgKyAnfSc7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC9zaGFkZXJzL2ludDguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi93ZWJnbC9zaGFkZXJzL2ludDguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogaW50OERhdGFVdGlsaXRpZXMsIGludDhTaGFkZXIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW50OERhdGFVdGlsaXRpZXNcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpbnQ4RGF0YVV0aWxpdGllczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiaW50OFNoYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGludDhTaGFkZXI7IH0pO1xudmFyIGludDhTaGFkZXIgPSB7fTtcbi8qKlxuICogQ29udmVydCBzdG9yZWQgcGl4ZWwgZGF0YSB0byBpbWFnZSBkYXRhLlxuICpcbiAqIFN0b3JlIGRhdGEgaW4gVWludDhBcnJheVxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gVGhlIGltYWdlIGRhdGEgZm9yIHVzZSBieSB0aGUgV2ViR0wgc2hhZGVyXG4gKiBAbWVtYmVyb2YgV2ViR0xSZW5kZXJpbmdcbiAqL1xuXG5mdW5jdGlvbiBzdG9yZWRQaXhlbERhdGFUb0ltYWdlRGF0YShpbWFnZSkge1xuICAvLyBUcmFuc2ZlciBpbWFnZSBkYXRhIHRvIGFscGhhIGNoYW5uZWwgb2YgV2ViR0wgdGV4dHVyZVxuICAvLyBTdG9yZSBkYXRhIGluIFVpbnQ4QXJyYXlcbiAgdmFyIHBpeGVsRGF0YSA9IGltYWdlLmdldFBpeGVsRGF0YSgpO1xuICB2YXIgbnVtYmVyT2ZDaGFubmVscyA9IDI7XG4gIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoaW1hZ2Uud2lkdGggKiBpbWFnZS5oZWlnaHQgKiBudW1iZXJPZkNoYW5uZWxzKTtcbiAgdmFyIG9mZnNldCA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaXhlbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBkYXRhW29mZnNldCsrXSA9IHBpeGVsRGF0YVtpXTtcbiAgICBkYXRhW29mZnNldCsrXSA9IHBpeGVsRGF0YVtpXSA8IDAgPyAwIDogMTsgLy8gMCBGb3IgbmVnYXRpdmUsIDEgZm9yIHBvc2l0aXZlXG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxudmFyIGludDhEYXRhVXRpbGl0aWVzID0ge1xuICBzdG9yZWRQaXhlbERhdGFUb0ltYWdlRGF0YTogc3RvcmVkUGl4ZWxEYXRhVG9JbWFnZURhdGFcbn07XG5pbnQ4U2hhZGVyLmZyYWcgPSAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyArICd1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlOycgKyAndW5pZm9ybSBmbG9hdCB3dzsnICsgJ3VuaWZvcm0gZmxvYXQgd2M7JyArICd1bmlmb3JtIGZsb2F0IHNsb3BlOycgKyAndW5pZm9ybSBmbG9hdCBpbnRlcmNlcHQ7JyArICd1bmlmb3JtIGludCBpbnZlcnQ7JyArICd2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDsnICsgJ3ZvaWQgbWFpbigpIHsnICsgLy8gR2V0IHRleHR1cmVcbid2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHZfdGV4Q29vcmQpOycgKyAvLyBDYWxjdWxhdGUgbHVtaW5hbmNlIGZyb20gcGFja2VkIHRleHR1cmVcbidmbG9hdCBpbnRlbnNpdHkgPSBjb2xvci5yKjI1Ni47JyArICdpZiAoY29sb3IuYSA9PSAwLjApJyArICdpbnRlbnNpdHkgPSAtaW50ZW5zaXR5OycgKyAvLyBSZXNjYWxlIGJhc2VkIG9uIHNsb3BlIGFuZCB3aW5kb3cgc2V0dGluZ3NcbidpbnRlbnNpdHkgPSBpbnRlbnNpdHkgKiBzbG9wZSArIGludGVyY2VwdDsnICsgJ2Zsb2F0IGNlbnRlcjAgPSB3YyAtIDAuNTsnICsgJ2Zsb2F0IHdpZHRoMCA9IG1heCh3dywgMS4wKTsnICsgJ2ludGVuc2l0eSA9IChpbnRlbnNpdHkgLSBjZW50ZXIwKSAvIHdpZHRoMCArIDAuNTsnICsgLy8gQ2xhbXAgaW50ZW5zaXR5XG4naW50ZW5zaXR5ID0gY2xhbXAoaW50ZW5zaXR5LCAwLjAsIDEuMCk7JyArIC8vIFJHQkEgb3V0cHV0XG4nZ2xfRnJhZ0NvbG9yID0gdmVjNChpbnRlbnNpdHksIGludGVuc2l0eSwgaW50ZW5zaXR5LCAxLjApOycgKyAvLyBBcHBseSBhbnkgaW52ZXJzaW9uIG5lY2Vzc2FyeVxuJ2lmIChpbnZlcnQgPT0gMSknICsgJ2dsX0ZyYWdDb2xvci5yZ2IgPSAxLjAgLSBnbF9GcmFnQ29sb3IucmdiOycgKyAnfSc7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC9zaGFkZXJzL3JnYi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vd2ViZ2wvc2hhZGVycy9yZ2IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiByZ2JEYXRhVXRpbGl0aWVzLCByZ2JTaGFkZXIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmdiRGF0YVV0aWxpdGllc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJnYkRhdGFVdGlsaXRpZXM7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJnYlNoYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHJnYlNoYWRlcjsgfSk7XG52YXIgcmdiU2hhZGVyID0ge307XG4vKipcbiAqIENvbnZlcnQgc3RvcmVkIHBpeGVsIGRhdGEgdG8gaW1hZ2UgZGF0YS5cbiAqXG4gKiBQYWNrIFJHQiBpbWFnZXMgaW50byBhIDMtY2hhbm5lbCBSR0IgdGV4dHVyZVxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gVGhlIGltYWdlIGRhdGEgZm9yIHVzZSBieSB0aGUgV2ViR0wgc2hhZGVyXG4gKiBAbWVtYmVyb2YgV2ViR0xSZW5kZXJpbmdcbiAqL1xuXG5mdW5jdGlvbiBzdG9yZWRQaXhlbERhdGFUb0ltYWdlRGF0YShpbWFnZSkge1xuICB2YXIgbWluUGl4ZWxWYWx1ZSA9IGltYWdlLm1pblBpeGVsVmFsdWU7XG4gIHZhciBjYW52YXNJbWFnZURhdGFJbmRleCA9IDA7XG4gIHZhciBzdG9yZWRQaXhlbERhdGFJbmRleCA9IDA7IC8vIE9ubHkgMyBjaGFubmVscywgc2luY2Ugd2UgdXNlIFdlYkdMJ3MgUkdCIHRleHR1cmUgZm9ybWF0XG5cbiAgdmFyIG51bVN0b3JlZFBpeGVscyA9IGltYWdlLndpZHRoICogaW1hZ2UuaGVpZ2h0ICogNDtcbiAgdmFyIG51bU91dHB1dFBpeGVscyA9IGltYWdlLndpZHRoICogaW1hZ2UuaGVpZ2h0ICogMztcbiAgdmFyIHN0b3JlZFBpeGVsRGF0YSA9IGltYWdlLmdldFBpeGVsRGF0YSgpO1xuICB2YXIgZGF0YSA9IG5ldyBVaW50OEFycmF5KG51bU91dHB1dFBpeGVscyk7IC8vIE5PVEU6IEFzIG9mIE5vdiAyMDE0LCBtb3N0IGphdmFzY3JpcHQgZW5naW5lcyBoYXZlIGxvd2VyIHBlcmZvcm1hbmNlIHdoZW4gaW5kZXhpbmcgbmVnYXRpdmUgaW5kZXhlcy5cbiAgLy8gV2UgaGF2ZSBhIHNwZWNpYWwgY29kZSBwYXRoIGZvciB0aGlzIGNhc2UgdGhhdCBpbXByb3ZlcyBwZXJmb3JtYW5jZS4gIFRoYW5rcyB0byBAanBhbWJydW4gZm9yIHRoaXMgZW5oYW5jZW1lbnRcblxuICBpZiAobWluUGl4ZWxWYWx1ZSA8IDApIHtcbiAgICB3aGlsZSAoc3RvcmVkUGl4ZWxEYXRhSW5kZXggPCBudW1TdG9yZWRQaXhlbHMpIHtcbiAgICAgIGRhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBzdG9yZWRQaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK10gKyAtbWluUGl4ZWxWYWx1ZTsgLy8gUmVkXG5cbiAgICAgIGRhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBzdG9yZWRQaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK10gKyAtbWluUGl4ZWxWYWx1ZTsgLy8gR3JlZW5cblxuICAgICAgZGF0YVtjYW52YXNJbWFnZURhdGFJbmRleCsrXSA9IHN0b3JlZFBpeGVsRGF0YVtzdG9yZWRQaXhlbERhdGFJbmRleCsrXSArIC1taW5QaXhlbFZhbHVlOyAvLyBCbHVlXG5cbiAgICAgIHN0b3JlZFBpeGVsRGF0YUluZGV4ICs9IDE7IC8vIFRoZSBzdG9yZWQgcGl4ZWwgZGF0YSBoYXMgNCBjaGFubmVsc1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3RvcmVkUGl4ZWxEYXRhSW5kZXggPCBudW1TdG9yZWRQaXhlbHMpIHtcbiAgICAgIGRhdGFbY2FudmFzSW1hZ2VEYXRhSW5kZXgrK10gPSBzdG9yZWRQaXhlbERhdGFbc3RvcmVkUGl4ZWxEYXRhSW5kZXgrK107IC8vIFJlZFxuXG4gICAgICBkYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gc3RvcmVkUGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdOyAvLyBHcmVlblxuXG4gICAgICBkYXRhW2NhbnZhc0ltYWdlRGF0YUluZGV4KytdID0gc3RvcmVkUGl4ZWxEYXRhW3N0b3JlZFBpeGVsRGF0YUluZGV4KytdOyAvLyBCbHVlXG5cbiAgICAgIHN0b3JlZFBpeGVsRGF0YUluZGV4ICs9IDE7IC8vIFRoZSBzdG9yZWQgcGl4ZWwgZGF0YSBoYXMgNCBjaGFubmVsc1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG52YXIgcmdiRGF0YVV0aWxpdGllcyA9IHtcbiAgc3RvcmVkUGl4ZWxEYXRhVG9JbWFnZURhdGE6IHN0b3JlZFBpeGVsRGF0YVRvSW1hZ2VEYXRhXG59O1xucmdiU2hhZGVyLmZyYWcgPSAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyArICd1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlOycgKyAndW5pZm9ybSBmbG9hdCB3dzsnICsgJ3VuaWZvcm0gZmxvYXQgd2M7JyArICd1bmlmb3JtIGZsb2F0IHNsb3BlOycgKyAndW5pZm9ybSBmbG9hdCBpbnRlcmNlcHQ7JyArICd1bmlmb3JtIGZsb2F0IG1pblBpeGVsVmFsdWU7JyArICd1bmlmb3JtIGludCBpbnZlcnQ7JyArICd2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDsnICsgJ3ZvaWQgbWFpbigpIHsnICsgLy8gR2V0IHRleHR1cmVcbid2ZWMzIGNvbG9yID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHZfdGV4Q29vcmQpLnh5ejsnICsgLy8gUmVzY2FsZSBiYXNlZCBvbiBzbG9wZSBhbmQgaW50ZXJjZXB0XG4nY29sb3IgPSBjb2xvciAqIDI1Ni4wICogc2xvcGUgKyBpbnRlcmNlcHQ7JyArIC8vIEFwcGx5IHdpbmRvdyBzZXR0aW5nc1xuJ2Zsb2F0IGNlbnRlcjAgPSB3YyAtIDAuNSAtIG1pblBpeGVsVmFsdWU7JyArICdmbG9hdCB3aWR0aDAgPSBtYXgod3csIDEuMCk7JyArICdjb2xvciA9IChjb2xvciAtIGNlbnRlcjApIC8gd2lkdGgwICsgMC41OycgKyAvLyBSR0JBIG91dHB1dFxuJ2dsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEpOycgKyAvLyBBcHBseSBhbnkgaW52ZXJzaW9uIG5lY2Vzc2FyeVxuJ2lmIChpbnZlcnQgPT0gMSknICsgJ2dsX0ZyYWdDb2xvci5yZ2IgPSAxLiAtIGdsX0ZyYWdDb2xvci5yZ2I7JyArICd9JztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3dlYmdsL3NoYWRlcnMvdWludDE2LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi93ZWJnbC9zaGFkZXJzL3VpbnQxNi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIGV4cG9ydHMgcHJvdmlkZWQ6IHVpbnQxNkRhdGFVdGlsaXRpZXMsIHVpbnQxNlNoYWRlciAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJ1aW50MTZEYXRhVXRpbGl0aWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gdWludDE2RGF0YVV0aWxpdGllczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidWludDE2U2hhZGVyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gdWludDE2U2hhZGVyOyB9KTtcbi8qIGVzbGludCBuby1iaXR3aXNlOiAwICovXG52YXIgdWludDE2U2hhZGVyID0ge307XG4vKipcbiAqIENvbnZlcnQgc3RvcmVkIHBpeGVsIGRhdGEgdG8gaW1hZ2UgZGF0YS5cbiAqXG4gKiBGb3IgdWludDE2IHBhY2sgdWludDE2IGludG8gdHdvIHVpbnQ4IGNoYW5uZWxzIChyIGFuZCBhKS5cbiAqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBBIENvcm5lcnN0b25lIEltYWdlIE9iamVjdFxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IFRoZSBpbWFnZSBkYXRhIGZvciB1c2UgYnkgdGhlIFdlYkdMIHNoYWRlclxuICogQG1lbWJlcm9mIFdlYkdMUmVuZGVyaW5nXG4gKi9cblxuZnVuY3Rpb24gc3RvcmVkUGl4ZWxEYXRhVG9JbWFnZURhdGEoaW1hZ2UpIHtcbiAgLy8gVHJhbnNmZXIgaW1hZ2UgZGF0YSB0byBhbHBoYSBhbmQgbHVtaW5hbmNlIGNoYW5uZWxzIG9mIFdlYkdMIHRleHR1cmVcbiAgLy8gQ3JlZGl0IHRvIEBqcGFtYnJ1biBhbmQgQGZlcm5hbmRvanNnXG4gIC8vIFBhY2sgdWludDE2IGludG8gdHdvIHVpbnQ4IGNoYW5uZWxzIChyIGFuZCBhKVxuICB2YXIgcGl4ZWxEYXRhID0gaW1hZ2UuZ2V0UGl4ZWxEYXRhKCk7XG4gIHZhciBudW1iZXJPZkNoYW5uZWxzID0gMjtcbiAgdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheShpbWFnZS53aWR0aCAqIGltYWdlLmhlaWdodCAqIG51bWJlck9mQ2hhbm5lbHMpO1xuICB2YXIgb2Zmc2V0ID0gMDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVsRGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YWwgPSBwaXhlbERhdGFbaV07XG4gICAgZGF0YVtvZmZzZXQrK10gPSB2YWwgJiAweEZGO1xuICAgIGRhdGFbb2Zmc2V0KytdID0gdmFsID4+IDg7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxudmFyIHVpbnQxNkRhdGFVdGlsaXRpZXMgPSB7XG4gIHN0b3JlZFBpeGVsRGF0YVRvSW1hZ2VEYXRhOiBzdG9yZWRQaXhlbERhdGFUb0ltYWdlRGF0YVxufTtcbnVpbnQxNlNoYWRlci5mcmFnID0gJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycgKyAndW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTsnICsgJ3VuaWZvcm0gZmxvYXQgd3c7JyArICd1bmlmb3JtIGZsb2F0IHdjOycgKyAndW5pZm9ybSBmbG9hdCBzbG9wZTsnICsgJ3VuaWZvcm0gZmxvYXQgaW50ZXJjZXB0OycgKyAndW5pZm9ybSBpbnQgaW52ZXJ0OycgKyAndmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7JyArICd2b2lkIG1haW4oKSB7JyArIC8vIEdldCB0ZXh0dXJlXG4ndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1X2ltYWdlLCB2X3RleENvb3JkKTsnICsgLy8gQ2FsY3VsYXRlIGx1bWluYW5jZSBmcm9tIHBhY2tlZCB0ZXh0dXJlXG4nZmxvYXQgaW50ZW5zaXR5ID0gY29sb3IucioyNTYuMCArIGNvbG9yLmEqNjU1MzYuMDsnICsgLy8gUmVzY2FsZSBiYXNlZCBvbiBzbG9wZSBhbmQgd2luZG93IHNldHRpbmdzXG4naW50ZW5zaXR5ID0gaW50ZW5zaXR5ICogc2xvcGUgKyBpbnRlcmNlcHQ7JyArICdmbG9hdCBjZW50ZXIwID0gd2MgLSAwLjU7JyArICdmbG9hdCB3aWR0aDAgPSBtYXgod3csIDEuMCk7JyArICdpbnRlbnNpdHkgPSAoaW50ZW5zaXR5IC0gY2VudGVyMCkgLyB3aWR0aDAgKyAwLjU7JyArIC8vIENsYW1wIGludGVuc2l0eVxuJ2ludGVuc2l0eSA9IGNsYW1wKGludGVuc2l0eSwgMC4wLCAxLjApOycgKyAvLyBSR0JBIG91dHB1dFxuJ2dsX0ZyYWdDb2xvciA9IHZlYzQoaW50ZW5zaXR5LCBpbnRlbnNpdHksIGludGVuc2l0eSwgMS4wKTsnICsgLy8gQXBwbHkgYW55IGludmVyc2lvbiBuZWNlc3NhcnlcbidpZiAoaW52ZXJ0ID09IDEpJyArICdnbF9GcmFnQ29sb3IucmdiID0gMS4wIC0gZ2xfRnJhZ0NvbG9yLnJnYjsnICsgJ30nO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vd2ViZ2wvc2hhZGVycy91aW50OC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi93ZWJnbC9zaGFkZXJzL3VpbnQ4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBleHBvcnRzIHByb3ZpZGVkOiB1aW50OERhdGFVdGlsaXRpZXMsIHVpbnQ4U2hhZGVyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInVpbnQ4RGF0YVV0aWxpdGllc1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHVpbnQ4RGF0YVV0aWxpdGllczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidWludDhTaGFkZXJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB1aW50OFNoYWRlcjsgfSk7XG52YXIgdWludDhTaGFkZXIgPSB7fTtcbi8qKlxuICogQ29udmVydCBzdG9yZWQgcGl4ZWwgZGF0YSB0byBpbWFnZSBkYXRhLiBIZXJlIHdlIHdpbGwgc3RvcmVcbiAqIGFsbCBkYXRhIGluIHRoZSBhbHBoYSBjaGFubmVsLlxuICpcbiAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlIEEgQ29ybmVyc3RvbmUgSW1hZ2UgT2JqZWN0XG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gVGhlIGltYWdlIGRhdGEgZm9yIHVzZSBieSB0aGUgV2ViR0wgc2hhZGVyXG4gKiBAbWVtYmVyb2YgV2ViR0xSZW5kZXJpbmdcbiAqL1xuXG5mdW5jdGlvbiBzdG9yZWRQaXhlbERhdGFUb0ltYWdlRGF0YShpbWFnZSkge1xuICAvLyBUcmFuc2ZlciBpbWFnZSBkYXRhIHRvIGFscGhhIGNoYW5uZWwgb2YgV2ViR0wgdGV4dHVyZVxuICByZXR1cm4gaW1hZ2UuZ2V0UGl4ZWxEYXRhKCk7XG59XG5cbnZhciB1aW50OERhdGFVdGlsaXRpZXMgPSB7XG4gIHN0b3JlZFBpeGVsRGF0YVRvSW1hZ2VEYXRhOiBzdG9yZWRQaXhlbERhdGFUb0ltYWdlRGF0YVxufTtcbnVpbnQ4U2hhZGVyLmZyYWcgPSAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyArICd1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlOycgKyAndW5pZm9ybSBmbG9hdCB3dzsnICsgJ3VuaWZvcm0gZmxvYXQgd2M7JyArICd1bmlmb3JtIGZsb2F0IHNsb3BlOycgKyAndW5pZm9ybSBmbG9hdCBpbnRlcmNlcHQ7JyArICd1bmlmb3JtIGludCBpbnZlcnQ7JyArICd2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDsnICsgJ3ZvaWQgbWFpbigpIHsnICsgLy8gR2V0IHRleHR1cmVcbid2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHZfdGV4Q29vcmQpOycgKyAvLyBDYWxjdWxhdGUgbHVtaW5hbmNlIGZyb20gcGFja2VkIHRleHR1cmVcbidmbG9hdCBpbnRlbnNpdHkgPSBjb2xvci5yKjI1Ni4wOycgKyAvLyBSZXNjYWxlIGJhc2VkIG9uIHNsb3BlIGFuZCB3aW5kb3cgc2V0dGluZ3NcbidpbnRlbnNpdHkgPSBpbnRlbnNpdHkgKiBzbG9wZSArIGludGVyY2VwdDsnICsgJ2Zsb2F0IGNlbnRlcjAgPSB3YyAtIDAuNTsnICsgJ2Zsb2F0IHdpZHRoMCA9IG1heCh3dywgMS4wKTsnICsgJ2ludGVuc2l0eSA9IChpbnRlbnNpdHkgLSBjZW50ZXIwKSAvIHdpZHRoMCArIDAuNTsnICsgLy8gQ2xhbXAgaW50ZW5zaXR5XG4naW50ZW5zaXR5ID0gY2xhbXAoaW50ZW5zaXR5LCAwLjAsIDEuMCk7JyArIC8vIFJHQkEgb3V0cHV0XG4nZ2xfRnJhZ0NvbG9yID0gdmVjNChpbnRlbnNpdHksIGludGVuc2l0eSwgaW50ZW5zaXR5LCAxLjApOycgKyAvLyBBcHBseSBhbnkgaW52ZXJzaW9uIG5lY2Vzc2FyeVxuJ2lmIChpbnZlcnQgPT0gMSknICsgJ2dsX0ZyYWdDb2xvci5yZ2IgPSAxLjAgLSBnbF9GcmFnQ29sb3IucmdiOycgKyAnfSc7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC90ZXh0dXJlQ2FjaGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi93ZWJnbC90ZXh0dXJlQ2FjaGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogZGVmYXVsdCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMuanMgKi8gXCIuL2V2ZW50cy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90cmlnZ2VyRXZlbnQuanMgKi8gXCIuL3RyaWdnZXJFdmVudC5qc1wiKTtcblxuXG4vKipcclxuICogVGhpcyBtb2R1bGUgZGVhbHMgd2l0aCBjYWNoaW5nIGltYWdlIHRleHR1cmVzIGluIFZSQU0gZm9yIFdlYkdMXHJcbiAqIEBtb2R1bGUgV2ViR0xUZXh0dXJlQ2FjaGVcclxuICovXG5cbnZhciBpbWFnZUNhY2hlID0ge307XG52YXIgY2FjaGVkSW1hZ2VzID0gW107XG52YXIgbWF4aW11bVNpemVJbkJ5dGVzID0gMTAyNCAqIDEwMjQgKiAyNTY7IC8vIDI1NiBNQlxuXG52YXIgY2FjaGVTaXplSW5CeXRlcyA9IDA7XG5cbmZ1bmN0aW9uIGdldENhY2hlSW5mbygpIHtcbiAgcmV0dXJuIHtcbiAgICBtYXhpbXVtU2l6ZUluQnl0ZXM6IG1heGltdW1TaXplSW5CeXRlcyxcbiAgICBjYWNoZVNpemVJbkJ5dGVzOiBjYWNoZVNpemVJbkJ5dGVzLFxuICAgIG51bWJlck9mSW1hZ2VzQ2FjaGVkOiBjYWNoZWRJbWFnZXMubGVuZ3RoXG4gIH07XG59XG5cbmZ1bmN0aW9uIHB1cmdlQ2FjaGVJZk5lY2Vzc2FyeSgpIHtcbiAgLy8gSWYgbWF4IGNhY2hlIHNpemUgaGFzIG5vdCBiZWVuIGV4Y2VlZGVkLCBkbyBub3RoaW5nXG4gIGlmIChjYWNoZVNpemVJbkJ5dGVzIDw9IG1heGltdW1TaXplSW5CeXRlcykge1xuICAgIHJldHVybjtcbiAgfSAvLyBDYWNoZSBzaXplIGhhcyBiZWVuIGV4Y2VlZGVkLCBjcmVhdGUgbGlzdCBvZiBpbWFnZXMgc29ydGVkIGJ5IHRpbWVTdGFtcFxuICAvLyBTbyB3ZSBjYW4gcHVyZ2UgdGhlIGxlYXN0IHJlY2VudGx5IHVzZWQgaW1hZ2VcblxuXG4gIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICAgIGlmIChhLnRpbWVTdGFtcCA+IGIudGltZVN0YW1wKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaWYgKGEudGltZVN0YW1wIDwgYi50aW1lU3RhbXApIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgY2FjaGVkSW1hZ2VzLnNvcnQoY29tcGFyZSk7IC8vIFJlbW92ZSBpbWFnZXMgYXMgbmVjZXNzYXJ5XG5cbiAgd2hpbGUgKGNhY2hlU2l6ZUluQnl0ZXMgPiBtYXhpbXVtU2l6ZUluQnl0ZXMpIHtcbiAgICB2YXIgbGFzdENhY2hlZEltYWdlID0gY2FjaGVkSW1hZ2VzW2NhY2hlZEltYWdlcy5sZW5ndGggLSAxXTtcbiAgICBjYWNoZVNpemVJbkJ5dGVzIC09IGxhc3RDYWNoZWRJbWFnZS5zaXplSW5CeXRlcztcbiAgICBkZWxldGUgaW1hZ2VDYWNoZVtsYXN0Q2FjaGVkSW1hZ2UuaW1hZ2VJZF07XG4gICAgY2FjaGVkSW1hZ2VzLnBvcCgpO1xuICAgIE9iamVjdChfdHJpZ2dlckV2ZW50X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKShfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJldmVudHNcIl0sIF9ldmVudHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0uV0VCR0xfVEVYVFVSRV9SRU1PVkVELCB7XG4gICAgICBpbWFnZUlkOiBsYXN0Q2FjaGVkSW1hZ2UuaW1hZ2VJZFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGNhY2hlSW5mbyA9IGdldENhY2hlSW5mbygpO1xuICBPYmplY3QoX3RyaWdnZXJFdmVudF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fW1wiZGVmYXVsdFwiXSkoX2V2ZW50c19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZXZlbnRzXCJdLCBfZXZlbnRzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdLldFQkdMX1RFWFRVUkVfQ0FDSEVfRlVMTCwgY2FjaGVJbmZvKTtcbn1cblxuZnVuY3Rpb24gc2V0TWF4aW11bVNpemVCeXRlcyhudW1CeXRlcykge1xuICBpZiAobnVtQnl0ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0TWF4aW11bVNpemVCeXRlczogcGFyYW1ldGVyIG51bUJ5dGVzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgaWYgKG51bUJ5dGVzLnRvRml4ZWQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0TWF4aW11bVNpemVCeXRlczogcGFyYW1ldGVyIG51bUJ5dGVzIG11c3QgYmUgYSBudW1iZXInKTtcbiAgfVxuXG4gIG1heGltdW1TaXplSW5CeXRlcyA9IG51bUJ5dGVzO1xuICBwdXJnZUNhY2hlSWZOZWNlc3NhcnkoKTtcbn1cblxuZnVuY3Rpb24gcHV0SW1hZ2VUZXh0dXJlKGltYWdlLCBpbWFnZVRleHR1cmUpIHtcbiAgdmFyIGltYWdlSWQgPSBpbWFnZS5pbWFnZUlkO1xuXG4gIGlmIChpbWFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwdXRJbWFnZVRleHR1cmU6IGltYWdlIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgaWYgKGltYWdlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHV0SW1hZ2VUZXh0dXJlOiBpbWFnZUlkIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgaWYgKGltYWdlVGV4dHVyZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwdXRJbWFnZVRleHR1cmU6IGltYWdlVGV4dHVyZSBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW1hZ2VDYWNoZSwgaW1hZ2VJZCkgPT09IHRydWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3B1dEltYWdlVGV4dHVyZTogaW1hZ2VJZCBhbHJlYWR5IGluIGNhY2hlJyk7XG4gIH1cblxuICB2YXIgY2FjaGVkSW1hZ2UgPSB7XG4gICAgaW1hZ2VJZDogaW1hZ2VJZCxcbiAgICBpbWFnZVRleHR1cmU6IGltYWdlVGV4dHVyZSxcbiAgICB0aW1lU3RhbXA6IG5ldyBEYXRlKCksXG4gICAgc2l6ZUluQnl0ZXM6IGltYWdlVGV4dHVyZS5zaXplSW5CeXRlc1xuICB9O1xuICBpbWFnZUNhY2hlW2ltYWdlSWRdID0gY2FjaGVkSW1hZ2U7XG4gIGNhY2hlZEltYWdlcy5wdXNoKGNhY2hlZEltYWdlKTtcblxuICBpZiAoaW1hZ2VUZXh0dXJlLnNpemVJbkJ5dGVzID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3B1dEltYWdlVGV4dHVyZTogaW1hZ2VUZXh0dXJlLnNpemVJbkJ5dGVzIG11c3Qgbm90IGJlIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgaWYgKGltYWdlVGV4dHVyZS5zaXplSW5CeXRlcy50b0ZpeGVkID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3B1dEltYWdlVGV4dHVyZTogaW1hZ2VUZXh0dXJlLnNpemVJbkJ5dGVzIGlzIG5vdCBhIG51bWJlcicpO1xuICB9XG5cbiAgY2FjaGVTaXplSW5CeXRlcyArPSBjYWNoZWRJbWFnZS5zaXplSW5CeXRlcztcbiAgcHVyZ2VDYWNoZUlmTmVjZXNzYXJ5KCk7XG59XG5cbmZ1bmN0aW9uIGdldEltYWdlVGV4dHVyZShpbWFnZUlkKSB7XG4gIGlmIChpbWFnZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEltYWdlVGV4dHVyZTogaW1hZ2VJZCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciBjYWNoZWRJbWFnZSA9IGltYWdlQ2FjaGVbaW1hZ2VJZF07XG5cbiAgaWYgKGNhY2hlZEltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gQnVtcCB0aW1lIHN0YW1wIGZvciBjYWNoZWQgaW1hZ2VcblxuXG4gIGNhY2hlZEltYWdlLnRpbWVTdGFtcCA9IG5ldyBEYXRlKCk7XG4gIHJldHVybiBjYWNoZWRJbWFnZS5pbWFnZVRleHR1cmU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUltYWdlVGV4dHVyZShpbWFnZUlkKSB7XG4gIGlmIChpbWFnZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZUltYWdlVGV4dHVyZTogaW1hZ2VJZCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIHZhciBjYWNoZWRJbWFnZSA9IGltYWdlQ2FjaGVbaW1hZ2VJZF07XG5cbiAgaWYgKGNhY2hlZEltYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZUltYWdlVGV4dHVyZTogaW1hZ2VJZCBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGNhY2hlZEltYWdlcy5zcGxpY2UoY2FjaGVkSW1hZ2VzLmluZGV4T2YoY2FjaGVkSW1hZ2UpLCAxKTtcbiAgY2FjaGVTaXplSW5CeXRlcyAtPSBjYWNoZWRJbWFnZS5zaXplSW5CeXRlcztcbiAgZGVsZXRlIGltYWdlQ2FjaGVbaW1hZ2VJZF07XG4gIHJldHVybiBjYWNoZWRJbWFnZS5pbWFnZVRleHR1cmU7XG59XG5cbmZ1bmN0aW9uIHB1cmdlQ2FjaGUoKSB7XG4gIHdoaWxlIChjYWNoZWRJbWFnZXMubGVuZ3RoID4gMCkge1xuICAgIHZhciByZW1vdmVkQ2FjaGVkSW1hZ2UgPSBjYWNoZWRJbWFnZXMucG9wKCk7XG4gICAgZGVsZXRlIGltYWdlQ2FjaGVbcmVtb3ZlZENhY2hlZEltYWdlLmltYWdlSWRdO1xuICB9XG5cbiAgY2FjaGVTaXplSW5CeXRlcyA9IDA7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoe1xuICBwdXJnZUNhY2hlOiBwdXJnZUNhY2hlLFxuICBnZXRJbWFnZVRleHR1cmU6IGdldEltYWdlVGV4dHVyZSxcbiAgcHV0SW1hZ2VUZXh0dXJlOiBwdXRJbWFnZVRleHR1cmUsXG4gIHJlbW92ZUltYWdlVGV4dHVyZTogcmVtb3ZlSW1hZ2VUZXh0dXJlLFxuICBzZXRNYXhpbXVtU2l6ZUJ5dGVzOiBzZXRNYXhpbXVtU2l6ZUJ5dGVzXG59KTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi93ZWJnbC92ZXJ0ZXhTaGFkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi93ZWJnbC92ZXJ0ZXhTaGFkZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgZXhwb3J0cyBwcm92aWRlZDogdmVydGV4U2hhZGVyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInZlcnRleFNoYWRlclwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHZlcnRleFNoYWRlcjsgfSk7XG52YXIgdmVydGV4U2hhZGVyID0gJ2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247JyArICdhdHRyaWJ1dGUgdmVjMiBhX3RleENvb3JkOycgKyAndW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjsnICsgJ3ZhcnlpbmcgdmVjMiB2X3RleENvb3JkOycgKyAndm9pZCBtYWluKCkgeycgKyAndmVjMiB6ZXJvVG9PbmUgPSBhX3Bvc2l0aW9uIC8gdV9yZXNvbHV0aW9uOycgKyAndmVjMiB6ZXJvVG9Ud28gPSB6ZXJvVG9PbmUgKiAyLjA7JyArICd2ZWMyIGNsaXBTcGFjZSA9IHplcm9Ub1R3byAtIDEuMDsnICsgJ2dsX1Bvc2l0aW9uID0gdmVjNChjbGlwU3BhY2UgKiB2ZWMyKDEsIC0xKSwgMCwgMSk7JyArICd2X3RleENvb3JkID0gYV90ZXhDb29yZDsnICsgJ30nO1xuXG4vKioqLyB9KVxuXG4vKioqKioqLyB9KTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ybmVyc3RvbmUuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/cornerstone-core/dist/cornerstone.js\n");

/***/ }),

/***/ "../node_modules/cornerstone-math/dist/cornerstoneMath.min.js":
/*!********************************************************************!*\
  !*** ../node_modules/cornerstone-math/dist/cornerstoneMath.min.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*! cornerstone-math - 0.1.6 - 2017-06-09 | (c) 2017 Chris Hafey | https://github.com/chafey/cornerstoneTools */\n!function(t,e){ true?module.exports=e():undefined}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=9)}([function(t,e,n){\"use strict\";function i(t,e,n){return t<e?e:t>n?n:t}function r(t){return t*(Math.PI/180)}function o(t){return t*(180/Math.PI)}function s(t){return\"number\"==typeof t?t?t<0?-1:1:t===t?0:NaN:NaN}Object.defineProperty(e,\"__esModule\",{value:!0}),e.clamp=i,e.degToRad=r,e.radToDeg=o,e.sign=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=n(0),s=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0};s.prototype={constructor:s,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error(\"index is out of range: \"+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\"index is out of range: \"+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn(\"DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},sub:function(t,e){return void 0!==e?(console.warn(\"DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn(\"DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyAxisAngle:function(){var t=void 0;return function(e,n){return void 0===t&&(t=new r.default),this.applyQuaternion(t.setFromAxisAngle(e,n)),this}}(),applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i+r[12],this.y=r[1]*e+r[5]*n+r[9]*i+r[13],this.z=r[2]*e+r[6]*n+r[10]*i+r[14],this},applyProjection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,s=t.z,a=t.w,h=a*e+o*i-s*n,u=a*n+s*e-r*i,c=a*i+r*n-o*e,l=-r*e-o*n-s*i;return this.x=h*a+l*-r+u*-s-c*-o,this.y=u*a+l*-o+c*-r-h*-s,this.z=c*a+l*-s+h*-o-u*-r,this},transformDirection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this},clampScalar:function(){var t=void 0,e=void 0;return function(n,i){return void 0===t&&(t=new s,e=new s),t.set(n,n,n),e.set(i,i,i),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},cross:function(t,e){if(void 0!==e)return console.warn(\"DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"),this.crossVectors(t,e);var n=this.x,i=this.y,r=this.z;return this.x=i*t.z-r*t.y,this.y=r*t.x-n*t.z,this.z=n*t.y-i*t.x,this},crossVectors:function(t,e){var n=t.x,i=t.y,r=t.z,o=e.x,s=e.y,a=e.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this},projectOnVector:function(){var t=void 0,e=void 0;return function(n){return void 0===t&&(t=new s),t.copy(n).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t=void 0;return function(e){return void 0===t&&(t=new s),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=void 0;return function(e){return void 0===t&&(t=new s),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/(this.length()*t.length());return Math.acos((0,o.clamp)(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),n=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),i=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=n,this.z=i,this},setFromMatrixColumn:function(t,e){var n=4*t,i=e.elements;return this.x=i[n],this.y=i[n+1],this.z=i[n+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t){return this.x=t[0],this.y=t[1],this.z=t[2],this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new s(this.x,this.y,this.z)}},e.default=s},function(t,e,n){\"use strict\";function i(t){return t*t}function r(t,e){return i(t.x-e.x)+i(t.y-e.y)}function o(t,e){var n=r(t.start,t.end);if(0===n)return r(e,t.start);var i=((e.x-t.start.x)*(t.end.x-t.start.x)+(e.y-t.start.y)*(t.end.y-t.start.y))/n;return i<0?r(e,t.start):i>1?r(e,t.end):r(e,{x:t.start.x+i*(t.end.x-t.start.x),y:t.start.y+i*(t.end.y-t.start.y)})}function s(t,e){return Math.sqrt(o(t,e))}function a(t,e){var n={},i=t.start.x,r=t.start.y,o=t.end.x,s=t.end.y,a=e.start.x,u=e.start.y,c=e.end.x,l=e.end.y,f=void 0,y=void 0,d=void 0,p=void 0,x=void 0,m=void 0,v=void 0,g=void 0,b=void 0,z=void 0,M=void 0,w=void 0;if(f=s-r,d=i-o,x=o*r-i*s,b=f*a+d*u+x,z=f*c+d*l+x,(0===b||0===z||(0,h.sign)(b)!==(0,h.sign)(z))&&(y=l-u,p=a-c,m=c*u-a*l,v=y*i+p*r+m,g=y*o+p*s+m,0===v||0===g||(0,h.sign)(v)!==(0,h.sign)(g))){M=f*p-y*d,w=d*m-p*x;var P=parseFloat(w/M);w=y*x-f*m;var R=parseFloat(w/M);return n.x=P,n.y=R,n}}Object.defineProperty(e,\"__esModule\",{value:!0});var h=n(0),u={distanceToPoint:s,intersectLine:a};e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1};i.prototype.setFromAxisAngle=function(t,e){var n=e/2,i=Math.sin(n);return this.x=t.x*i,this.y=t.y*i,this.z=t.z*i,this.w=Math.cos(n),this},i.prototype.multiplyQuaternions=function(t,e){var n=t.x,i=t.y,r=t.z,o=t.w,s=e.x,a=e.y,h=e.z,u=e.w;return this.x=n*u+o*s+i*h-r*a,this.y=i*u+o*a+r*s-n*h,this.z=r*u+o*h+n*a-i*s,this.w=o*u-n*s-i*a-r*h,this},i.prototype.setFromRotationMatrix=function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],s=e[5],a=e[9],h=e[2],u=e[6],c=e[10],l=n+s+c,f=void 0;return l>0?(f=.5/Math.sqrt(l+1),this.w=.25/f,this.x=(u-a)*f,this.y=(r-h)*f,this.z=(o-i)*f):n>s&&n>c?(f=2*Math.sqrt(1+n-s-c),this.w=(u-a)/f,this.x=.25*f,this.y=(i+o)/f,this.z=(r+h)/f):s>c?(f=2*Math.sqrt(1+s-n-c),this.w=(r-h)/f,this.x=(i+o)/f,this.y=.25*f,this.z=(a+u)/f):(f=2*Math.sqrt(1+c-n-s),this.w=(o-i)/f,this.x=(r+h)/f,this.y=(a+u)/f,this.z=.25*f),this},e.default=i},function(t,e,n){\"use strict\";function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(0),h=function(){function t(e,n){i(this,t),this.start=void 0!==e?e:new s.default,this.end=void 0!==n?n:new s.default}return r(t,[{key:\"set\",value:function(t,e){return this.start.copy(t),this.end.copy(e),this}},{key:\"copy\",value:function(t){return this.start.copy(t.start),this.end.copy(t.end),this}},{key:\"center\",value:function(t){return(t||new s.default).addVectors(this.start,this.end).multiplyScalar(.5)}},{key:\"delta\",value:function(t){return(t||new s.default).subVectors(this.end,this.start)}},{key:\"distanceSq\",value:function(){return this.start.distanceToSquared(this.end)}},{key:\"distance\",value:function(){return this.start.distanceTo(this.end)}},{key:\"at\",value:function(t,e){var n=e||new s.default;return this.delta(n).multiplyScalar(t).add(this.start)}},{key:\"closestPointToPointParameter\",value:function(){var t=new s.default,e=new s.default;return function(n,i){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var r=e.dot(e),o=e.dot(t),s=o/r;return i&&(s=(0,a.clamp)(s,0,1)),s}}},{key:\"closestPointToPoint\",value:function(t,e,n){var i=this.closestPointToPointParameter(t,e),r=n||new s.default;return this.delta(r).multiplyScalar(i).add(this.start)}},{key:\"applyMatrix4\",value:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}},{key:\"equals\",value:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},{key:\"clone\",value:function(){return(new t).copy(this)}},{key:\"intersectLine\",value:function(t){var e=this.end.clone().sub(this.start),n=t.end.clone().sub(t.start),i=t.start.clone().sub(this.start),r=e.clone().cross(n),o=i.clone().cross(n);if(0!==i.dot(e)){var s=o.dot(r)/r.lengthSq();if(!(s>1||isNaN(s))){var a=this.start.clone().add(e.clone().multiplyScalar(s));return a.clone().sub(t.start).lengthSq()+a.clone().sub(t.end).lengthSq()<=t.distanceSq()?a:void 0}}}}]),t}();e.default=h},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=function(t,e,n,i,r,o,s,a,h,u,c,l,f,y,d,p){this.elements=new Float32Array(16);var x=this.elements;x[0]=void 0!==t?t:1,x[4]=e||0,x[8]=n||0,x[12]=i||0,x[1]=r||0,x[5]=void 0!==o?o:1,x[9]=s||0,x[13]=a||0,x[2]=h||0,x[6]=u||0,x[10]=void 0!==c?c:1,x[14]=l||0,x[3]=f||0,x[7]=y||0,x[11]=d||0,x[15]=void 0!==p?p:1};o.prototype.makeRotationFromQuaternion=function(t){var e=this.elements,n=t.x,i=t.y,r=t.z,o=t.w,s=n+n,a=i+i,h=r+r,u=n*s,c=n*a,l=n*h,f=i*a,y=i*h,d=r*h,p=o*s,x=o*a,m=o*h;return e[0]=1-(f+d),e[4]=c-m,e[8]=l+x,e[1]=c+m,e[5]=1-(u+d),e[9]=y-p,e[2]=l-x,e[6]=y+p,e[10]=1-(u+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},o.prototype.multiplyMatrices=function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[4],a=n[8],h=n[12],u=n[1],c=n[5],l=n[9],f=n[13],y=n[2],d=n[6],p=n[10],x=n[14],m=n[3],v=n[7],g=n[11],b=n[15],z=i[0],M=i[4],w=i[8],P=i[12],R=i[1],L=i[5],S=i[9],T=i[13],_=i[2],j=i[6],O=i[10],V=i[14],q=i[3],E=i[7],k=i[11],A=i[15];return r[0]=o*z+s*R+a*_+h*q,r[4]=o*M+s*L+a*j+h*E,r[8]=o*w+s*S+a*O+h*k,r[12]=o*P+s*T+a*V+h*A,r[1]=u*z+c*R+l*_+f*q,r[5]=u*M+c*L+l*j+f*E,r[9]=u*w+c*S+l*O+f*k,r[13]=u*P+c*T+l*V+f*A,r[2]=y*z+d*R+p*_+x*q,r[6]=y*M+d*L+p*j+x*E,r[10]=y*w+d*S+p*O+x*k,r[14]=y*P+d*T+p*V+x*A,r[3]=m*z+v*R+g*_+b*q,r[7]=m*M+v*L+g*j+b*E,r[11]=m*w+v*S+g*O+b*k,r[15]=m*P+v*T+g*V+b*A,this},o.prototype.multiply=function(t,e){return void 0!==e?(console.warn(\"DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},o.prototype.getInverse=function(t,e){var n=this.elements,i=t.elements,r=i[0],o=i[4],s=i[8],a=i[12],h=i[1],u=i[5],c=i[9],l=i[13],f=i[2],y=i[6],d=i[10],p=i[14],x=i[3],m=i[7],v=i[11],g=i[15];n[0]=c*p*m-l*d*m+l*y*v-u*p*v-c*y*g+u*d*g,n[4]=a*d*m-s*p*m-a*y*v+o*p*v+s*y*g-o*d*g,n[8]=s*l*m-a*c*m+a*u*v-o*l*v-s*u*g+o*c*g,n[12]=a*c*y-s*l*y-a*u*d+o*l*d+s*u*p-o*c*p,n[1]=l*d*x-c*p*x-l*f*v+h*p*v+c*f*g-h*d*g,n[5]=s*p*x-a*d*x+a*f*v-r*p*v-s*f*g+r*d*g,n[9]=a*c*x-s*l*x-a*h*v+r*l*v+s*h*g-r*c*g,n[13]=s*l*f-a*c*f+a*h*d-r*l*d-s*h*p+r*c*p,n[2]=u*p*x-l*y*x+l*f*m-h*p*m-u*f*g+h*y*g,n[6]=a*y*x-o*p*x-a*f*m+r*p*m+o*f*g-r*y*g,n[10]=o*l*x-a*u*x+a*h*m-r*l*m-o*h*g+r*u*g,n[14]=a*u*f-o*l*f-a*h*y+r*l*y+o*h*p-r*u*p,n[3]=c*y*x-u*d*x-c*f*m+h*d*m+u*f*v-h*y*v,n[7]=o*d*x-s*y*x+s*f*m-r*d*m-o*f*v+r*y*v,n[11]=s*u*x-o*c*x-s*h*m+r*c*m+o*h*v-r*u*v,n[15]=o*c*f-s*u*f+s*h*y-r*c*y-o*h*d+r*u*d;var b=r*n[0]+h*n[4]+f*n[8]+x*n[12];if(0===b){var z=\"Matrix4.getInverse(): can't invert matrix, determinant is 0\";if(e)throw new Error(z);return console.warn(z),this.identity(),this}return this.multiplyScalar(1/b),this},o.prototype.applyToVector3Array=function(){var t=new r.default;return function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var r=0,o=n;r<i;r+=3,o+=3)t.x=e[o],t.y=e[o+1],t.z=e[o+2],t.applyMatrix4(this),e[o]=t.x,e[o+1]=t.y,e[o+2]=t.z;return e}},o.prototype.makeTranslation=function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},o.prototype.multiplyScalar=function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},o.prototype.set=function(t,e,n,i,r,o,s,a,h,u,c,l,f,y,d,p){var x=this.elements;return x[0]=t,x[4]=e,x[8]=n,x[12]=i,x[1]=r,x[5]=o,x[9]=s,x[13]=a,x[2]=h,x[6]=u,x[10]=c,x[14]=l,x[3]=f,x[7]=y,x[11]=d,x[15]=p,this},o.prototype.makeScale=function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=function(t,e){this.normal=void 0!==t?t:new r.default(1,0,0),this.constant=void 0!==e?e:0};o.prototype={constructor:o,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new r.default,e=new r.default;return function(n,i,r){var o=t.subVectors(r,i).cross(e.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new r.default).copy(this.normal).multiplyScalar(n)},isIntersectionLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectLine:function(){var t=new r.default;return function(e,n){var i=n||new r.default,o=e.delta(t),s=this.normal.dot(o);if(0!==s){var a=-(e.start.dot(this.normal)+this.constant)/s;if(!(a<0||a>1))return i.copy(o).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return i.copy(e.start)}}(),intersectPlane:function(t){var e=this.normal.clone().cross(t.normal),n=new r.default,i={origin:n,direction:e};if(this.normal.clone().cross(t.normal).length<1e-10)return i.direction=new r.default,i;var o=this.constant,s=t.constant,a=this.normal.clone().dot(t.normal),h=-(o-s*a)/(1-a*a),u=-(s-o*a)/(1-a*a);return i.origin=this.normal.clone().multiplyScalar(h).add(t.normal.clone().multiplyScalar(u)),i},coplanarPoint:function(t){return(t||new r.default).copy(this.normal).multiplyScalar(-this.constant)},translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant},clone:function(){return(new o).copy(this)}},e.default=o},function(t,e,n){\"use strict\";function i(t){return{x:t.pageX,y:t.pageY}}function r(t,e){return{x:t.x-e.x,y:t.y-e.y}}function o(t){return{x:t.x,y:t.y}}function s(t,e){return Math.sqrt(a(t,e))}function a(t,e){var n=r(t,e);return n.x*n.x+n.y*n.y}function h(t,e){return!(t.x<e.left||t.x>e.left+e.width||t.y<e.top||t.y>e.top+e.height)}function u(t,e){var n=[],i=void 0;return t.forEach(function(t,r){var o=s(t,e);n.push(o),i=0===r?o:Math.min(o,i)}),t[n.indexOf(i)]}Object.defineProperty(e,\"__esModule\",{value:!0});var c={subtract:r,copy:o,pageToPoint:i,distance:s,distanceSquared:a,insideRect:h,findClosestPoint:u};e.default=c},function(t,e,n){\"use strict\";function i(t){return[{start:{x:t.left,y:t.top},end:{x:t.left+t.width,y:t.top}},{start:{x:t.left+t.width,y:t.top},end:{x:t.left+t.width,y:t.top+t.height}},{start:{x:t.left+t.width,y:t.top+t.height},end:{x:t.left,y:t.top+t.height}},{start:{x:t.left,y:t.top+t.height},end:{x:t.left,y:t.top}}]}function r(t,e){var n=655535;return i(t).forEach(function(t){var i=u.default.distanceToPoint(t,e);i<n&&(n=i)}),n}function o(t){return{topLeft:{x:t.left,y:t.top},bottomRight:{x:t.left+t.width,y:t.top+t.height}}}function s(t,e){var n=void 0,i=void 0,r=o(t),s=o(e);return n=t.width>=0?e.width>=0?!(r.bottomRight.x<=s.topLeft.x||s.bottomRight.x<=r.topLeft.x):!(r.bottomRight.x<=s.bottomRight.x||s.topLeft.x<=r.topLeft.x):e.width>=0?!(r.topLeft.x<=s.topLeft.x||s.bottomRight.x<=r.bottomRight.x):!(r.topLeft.x<=s.bottomRight.x||s.topLeft.x<=r.bottomRight.x),i=t.height>=0?e.height>=0?!(r.bottomRight.y<=s.topLeft.y||s.bottomRight.y<=r.topLeft.y):!(r.bottomRight.y<=s.bottomRight.y||s.topLeft.y<=r.topLeft.y):e.height>=0?!(r.topLeft.y<=s.topLeft.y||s.bottomRight.y<=r.bottomRight.y):!(r.topLeft.y<=s.bottomRight.y||s.top<=r.bottomRight.y),n&&i}function a(t,e){var n={topLeft:{},bottomRight:{}};if(s(t,e)){var i=o(t),r=o(e);return t.width>=0?e.width>=0?(n.topLeft.x=Math.max(i.topLeft.x,r.topLeft.x),n.bottomRight.x=Math.min(i.bottomRight.x,r.bottomRight.x)):(n.topLeft.x=Math.max(i.topLeft.x,r.bottomRight.x),n.bottomRight.x=Math.min(i.bottomRight.x,r.topLeft.x)):e.width>=0?(n.topLeft.x=Math.min(i.topLeft.x,r.bottomRight.x),n.bottomRight.x=Math.max(i.bottomRight.x,r.topLeft.x)):(n.topLeft.x=Math.min(i.topLeft.x,r.topLeft.x),n.bottomRight.x=Math.max(i.bottomRight.x,r.bottomRight.x)),t.height>=0?e.height>=0?(n.topLeft.y=Math.max(i.topLeft.y,r.topLeft.y),n.bottomRight.y=Math.min(i.bottomRight.y,r.bottomRight.y)):(n.topLeft.y=Math.max(i.topLeft.y,r.bottomRight.y),n.bottomRight.y=Math.min(i.bottomRight.y,r.topLeft.y)):e.height>=0?(n.topLeft.y=Math.min(i.topLeft.y,r.bottomRight.y),n.bottomRight.y=Math.max(i.bottomRight.y,r.topLeft.y)):(n.topLeft.y=Math.min(i.topLeft.y,r.topLeft.y),n.bottomRight.y=Math.max(i.bottomRight.y,r.bottomRight.y)),n}}Object.defineProperty(e,\"__esModule\",{value:!0});var h=n(2),u=function(t){return t&&t.__esModule?t:{default:t}}(h),c={distanceToPoint:r,getIntersectionRect:a};e.default=c},function(t,e,n){\"use strict\";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(4);Object.defineProperty(e,\"Line3\",{enumerable:!0,get:function(){return i(r).default}});var o=n(2);Object.defineProperty(e,\"lineSegment\",{enumerable:!0,get:function(){return i(o).default}});var s=n(0);Object.defineProperty(e,\"clamp\",{enumerable:!0,get:function(){return s.clamp}}),Object.defineProperty(e,\"degToRad\",{enumerable:!0,get:function(){return s.degToRad}}),Object.defineProperty(e,\"radToDeg\",{enumerable:!0,get:function(){return s.radToDeg}}),Object.defineProperty(e,\"sign\",{enumerable:!0,get:function(){return s.sign}});var a=n(5);Object.defineProperty(e,\"Matrix4\",{enumerable:!0,get:function(){return i(a).default}});var h=n(6);Object.defineProperty(e,\"Plane\",{enumerable:!0,get:function(){return i(h).default}});var u=n(7);Object.defineProperty(e,\"point\",{enumerable:!0,get:function(){return i(u).default}});var c=n(3);Object.defineProperty(e,\"quaternion\",{enumerable:!0,get:function(){return i(c).default}});var l=n(8);Object.defineProperty(e,\"rect\",{enumerable:!0,get:function(){return i(l).default}});var f=n(1);Object.defineProperty(e,\"Vector3\",{enumerable:!0,get:function(){return i(f).default}})}])});\n//# sourceMappingURL=cornerstoneMath.min.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2Nvcm5lcnN0b25lLW1hdGgvZGlzdC9jb3JuZXJzdG9uZU1hdGgubWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9jb3JuZXJzdG9uZS1tYXRoL2Rpc3QvY29ybmVyc3RvbmVNYXRoLm1pbi5qcz80ZDdjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBjb3JuZXJzdG9uZS1tYXRoIC0gMC4xLjYgLSAyMDE3LTA2LTA5IHwgKGMpIDIwMTcgQ2hyaXMgSGFmZXkgfCBodHRwczovL2dpdGh1Yi5jb20vY2hhZmV5L2Nvcm5lcnN0b25lVG9vbHMgKi9cbiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiY29ybmVyc3RvbmVNYXRoXCIsW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5jb3JuZXJzdG9uZU1hdGg9ZSgpOnQuY29ybmVyc3RvbmVNYXRoPWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGkpe2lmKG5baV0pcmV0dXJuIG5baV0uZXhwb3J0czt2YXIgcj1uW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxlKSxyLmw9ITAsci5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLmk9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGUuZD1mdW5jdGlvbih0LG4saSl7ZS5vKHQsbil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDppfSl9LGUubj1mdW5jdGlvbih0KXt2YXIgbj10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gZS5kKG4sXCJhXCIsbiksbn0sZS5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxlLnA9XCJcIixlKGUucz05KX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQsZSxuKXtyZXR1cm4gdDxlP2U6dD5uP246dH1mdW5jdGlvbiByKHQpe3JldHVybiB0KihNYXRoLlBJLzE4MCl9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCooMTgwL01hdGguUEkpfWZ1bmN0aW9uIHModCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/dD90PDA/LTE6MTp0PT09dD8wOk5hTjpOYU59T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5jbGFtcD1pLGUuZGVnVG9SYWQ9cixlLnJhZFRvRGVnPW8sZS5zaWduPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1uKDMpLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShpKSxvPW4oMCkscz1mdW5jdGlvbih0LGUsbil7dGhpcy54PXR8fDAsdGhpcy55PWV8fDAsdGhpcy56PW58fDB9O3MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpzLHNldDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMueD10LHRoaXMueT1lLHRoaXMuej1uLHRoaXN9LHNldFg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LHRoaXN9LHNldFk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueT10LHRoaXN9LHNldFo6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuej10LHRoaXN9LHNldENvbXBvbmVudDpmdW5jdGlvbih0LGUpe3N3aXRjaCh0KXtjYXNlIDA6dGhpcy54PWU7YnJlYWs7Y2FzZSAxOnRoaXMueT1lO2JyZWFrO2Nhc2UgMjp0aGlzLno9ZTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImluZGV4IGlzIG91dCBvZiByYW5nZTogXCIrdCl9fSxnZXRDb21wb25lbnQ6ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2Nhc2UgMjpyZXR1cm4gdGhpcy56O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiBcIit0KX19LGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLno9dC56LHRoaXN9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oXCJERVBSRUNBVEVEOiBWZWN0b3IzJ3MgLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLmFkZFZlY3RvcnModCxlKSk6KHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXMueis9dC56LHRoaXMpfSxhZGRTY2FsYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPXQsdGhpcy56Kz10LHRoaXN9LGFkZFZlY3RvcnM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpcy56PXQueitlLnosdGhpc30sc3ViOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybihcIkRFUFJFQ0FURUQ6IFZlY3RvcjMncyAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuc3ViVmVjdG9ycyh0LGUpKToodGhpcy54LT10LngsdGhpcy55LT10LnksdGhpcy56LT10LnosdGhpcyl9LHN1YlZlY3RvcnM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXQueC1lLngsdGhpcy55PXQueS1lLnksdGhpcy56PXQuei1lLnosdGhpc30sbXVsdGlwbHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKFwiREVQUkVDQVRFRDogVmVjdG9yMydzIC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5VmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMubXVsdGlwbHlWZWN0b3JzKHQsZSkpOih0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzLnoqPXQueix0aGlzKX0sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpcy56Kj10LHRoaXN9LG11bHRpcGx5VmVjdG9yczpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9dC54KmUueCx0aGlzLnk9dC55KmUueSx0aGlzLno9dC56KmUueix0aGlzfSxhcHBseUF4aXNBbmdsZTpmdW5jdGlvbigpe3ZhciB0PXZvaWQgMDtyZXR1cm4gZnVuY3Rpb24oZSxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bmV3IHIuZGVmYXVsdCksdGhpcy5hcHBseVF1YXRlcm5pb24odC5zZXRGcm9tQXhpc0FuZ2xlKGUsbikpLHRoaXN9fSgpLGFwcGx5TWF0cml4MzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9clswXSplK3JbM10qbityWzZdKmksdGhpcy55PXJbMV0qZStyWzRdKm4rcls3XSppLHRoaXMuej1yWzJdKmUrcls1XSpuK3JbOF0qaSx0aGlzfSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LG49dGhpcy55LGk9dGhpcy56LHI9dC5lbGVtZW50cztyZXR1cm4gdGhpcy54PXJbMF0qZStyWzRdKm4rcls4XSppK3JbMTJdLHRoaXMueT1yWzFdKmUrcls1XSpuK3JbOV0qaStyWzEzXSx0aGlzLno9clsyXSplK3JbNl0qbityWzEwXSppK3JbMTRdLHRoaXN9LGFwcGx5UHJvamVjdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LmVsZW1lbnRzLG89MS8oclszXSplK3JbN10qbityWzExXSppK3JbMTVdKTtyZXR1cm4gdGhpcy54PShyWzBdKmUrcls0XSpuK3JbOF0qaStyWzEyXSkqbyx0aGlzLnk9KHJbMV0qZStyWzVdKm4rcls5XSppK3JbMTNdKSpvLHRoaXMuej0oclsyXSplK3JbNl0qbityWzEwXSppK3JbMTRdKSpvLHRoaXN9LGFwcGx5UXVhdGVybmlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10Lngsbz10Lnkscz10LnosYT10LncsaD1hKmUrbyppLXMqbix1PWEqbitzKmUtcippLGM9YSppK3Iqbi1vKmUsbD0tciplLW8qbi1zKmk7cmV0dXJuIHRoaXMueD1oKmErbCotcit1Ki1zLWMqLW8sdGhpcy55PXUqYStsKi1vK2MqLXItaCotcyx0aGlzLno9YyphK2wqLXMraCotby11Ki1yLHRoaXN9LHRyYW5zZm9ybURpcmVjdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9clswXSplK3JbNF0qbityWzhdKmksdGhpcy55PXJbMV0qZStyWzVdKm4rcls5XSppLHRoaXMuej1yWzJdKmUrcls2XSpuK3JbMTBdKmksdGhpcy5ub3JtYWxpemUoKSx0aGlzfSxkaXZpZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dC54LHRoaXMueS89dC55LHRoaXMuei89dC56LHRoaXN9LGRpdmlkZVNjYWxhcjpmdW5jdGlvbih0KXtpZigwIT09dCl7dmFyIGU9MS90O3RoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lfWVsc2UgdGhpcy54PTAsdGhpcy55PTAsdGhpcy56PTA7cmV0dXJuIHRoaXN9LG1pbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PnQueCYmKHRoaXMueD10LngpLHRoaXMueT50LnkmJih0aGlzLnk9dC55KSx0aGlzLno+dC56JiYodGhpcy56PXQueiksdGhpc30sbWF4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng8dC54JiYodGhpcy54PXQueCksdGhpcy55PHQueSYmKHRoaXMueT10LnkpLHRoaXMuejx0LnomJih0aGlzLno9dC56KSx0aGlzfSxjbGFtcDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng8dC54P3RoaXMueD10Lng6dGhpcy54PmUueCYmKHRoaXMueD1lLngpLHRoaXMueTx0Lnk/dGhpcy55PXQueTp0aGlzLnk+ZS55JiYodGhpcy55PWUueSksdGhpcy56PHQuej90aGlzLno9dC56OnRoaXMuej5lLnomJih0aGlzLno9ZS56KSx0aGlzfSxjbGFtcFNjYWxhcjpmdW5jdGlvbigpe3ZhciB0PXZvaWQgMCxlPXZvaWQgMDtyZXR1cm4gZnVuY3Rpb24obixpKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bmV3IHMsZT1uZXcgcyksdC5zZXQobixuLG4pLGUuc2V0KGksaSxpKSx0aGlzLmNsYW1wKHQsZSl9fSgpLGZsb29yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KSx0aGlzLno9TWF0aC5mbG9vcih0aGlzLnopLHRoaXN9LGNlaWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzLno9TWF0aC5jZWlsKHRoaXMueiksdGhpc30scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXMuej1NYXRoLnJvdW5kKHRoaXMueiksdGhpc30scm91bmRUb1plcm86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueiksdGhpc30sbmVnYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoLTEpfSxkb3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueSt0aGlzLnoqdC56fSxsZW5ndGhTcTpmdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMuen0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueil9LGxlbmd0aE1hbmhhdHRhbjpmdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSkrTWF0aC5hYnModGhpcy56KX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCkpfSxzZXRMZW5ndGg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZW5ndGgoKTtyZXR1cm4gMCE9PWUmJnQhPT1lJiZ0aGlzLm11bHRpcGx5U2NhbGFyKHQvZSksdGhpc30sbGVycDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLngrPSh0LngtdGhpcy54KSplLHRoaXMueSs9KHQueS10aGlzLnkpKmUsdGhpcy56Kz0odC56LXRoaXMueikqZSx0aGlzfSxjcm9zczpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PWUpcmV0dXJuIGNvbnNvbGUud2FybihcIkRFUFJFQ0FURUQ6IFZlY3RvcjMncyAuY3Jvc3MoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5jcm9zc1ZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLmNyb3NzVmVjdG9ycyh0LGUpO3ZhciBuPXRoaXMueCxpPXRoaXMueSxyPXRoaXMuejtyZXR1cm4gdGhpcy54PWkqdC56LXIqdC55LHRoaXMueT1yKnQueC1uKnQueix0aGlzLno9bip0LnktaSp0LngsdGhpc30sY3Jvc3NWZWN0b3JzOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC54LGk9dC55LHI9dC56LG89ZS54LHM9ZS55LGE9ZS56O3JldHVybiB0aGlzLng9aSphLXIqcyx0aGlzLnk9cipvLW4qYSx0aGlzLno9bipzLWkqbyx0aGlzfSxwcm9qZWN0T25WZWN0b3I6ZnVuY3Rpb24oKXt2YXIgdD12b2lkIDAsZT12b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDA9PT10JiYodD1uZXcgcyksdC5jb3B5KG4pLm5vcm1hbGl6ZSgpLGU9dGhpcy5kb3QodCksdGhpcy5jb3B5KHQpLm11bHRpcGx5U2NhbGFyKGUpfX0oKSxwcm9qZWN0T25QbGFuZTpmdW5jdGlvbigpe3ZhciB0PXZvaWQgMDtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBzKSx0LmNvcHkodGhpcykucHJvamVjdE9uVmVjdG9yKGUpLHRoaXMuc3ViKHQpfX0oKSxyZWZsZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dm9pZCAwO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bmV3IHMpLHRoaXMuc3ViKHQuY29weShlKS5tdWx0aXBseVNjYWxhcigyKnRoaXMuZG90KGUpKSl9fSgpLGFuZ2xlVG86ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb3QodCkvKHRoaXMubGVuZ3RoKCkqdC5sZW5ndGgoKSk7cmV0dXJuIE1hdGguYWNvcygoMCxvLmNsYW1wKShlLC0xLDEpKX0sZGlzdGFuY2VUbzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodCkpfSxkaXN0YW5jZVRvU3F1YXJlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLngtdC54LG49dGhpcy55LXQueSxpPXRoaXMuei10Lno7cmV0dXJuIGUqZStuKm4raSppfSxzZXRGcm9tTWF0cml4UG9zaXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LmVsZW1lbnRzWzEyXSx0aGlzLnk9dC5lbGVtZW50c1sxM10sdGhpcy56PXQuZWxlbWVudHNbMTRdLHRoaXN9LHNldEZyb21NYXRyaXhTY2FsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNldCh0LmVsZW1lbnRzWzBdLHQuZWxlbWVudHNbMV0sdC5lbGVtZW50c1syXSkubGVuZ3RoKCksbj10aGlzLnNldCh0LmVsZW1lbnRzWzRdLHQuZWxlbWVudHNbNV0sdC5lbGVtZW50c1s2XSkubGVuZ3RoKCksaT10aGlzLnNldCh0LmVsZW1lbnRzWzhdLHQuZWxlbWVudHNbOV0sdC5lbGVtZW50c1sxMF0pLmxlbmd0aCgpO3JldHVybiB0aGlzLng9ZSx0aGlzLnk9bix0aGlzLno9aSx0aGlzfSxzZXRGcm9tTWF0cml4Q29sdW1uOmZ1bmN0aW9uKHQsZSl7dmFyIG49NCp0LGk9ZS5lbGVtZW50cztyZXR1cm4gdGhpcy54PWlbbl0sdGhpcy55PWlbbisxXSx0aGlzLno9aVtuKzJdLHRoaXN9LGVxdWFsczpmdW5jdGlvbih0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnkmJnQuej09PXRoaXMuen0sZnJvbUFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dFswXSx0aGlzLnk9dFsxXSx0aGlzLno9dFsyXSx0aGlzfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMueCx0aGlzLnksdGhpcy56XX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHModGhpcy54LHRoaXMueSx0aGlzLnopfX0sZS5kZWZhdWx0PXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3JldHVybiB0KnR9ZnVuY3Rpb24gcih0LGUpe3JldHVybiBpKHQueC1lLngpK2kodC55LWUueSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPXIodC5zdGFydCx0LmVuZCk7aWYoMD09PW4pcmV0dXJuIHIoZSx0LnN0YXJ0KTt2YXIgaT0oKGUueC10LnN0YXJ0LngpKih0LmVuZC54LXQuc3RhcnQueCkrKGUueS10LnN0YXJ0LnkpKih0LmVuZC55LXQuc3RhcnQueSkpL247cmV0dXJuIGk8MD9yKGUsdC5zdGFydCk6aT4xP3IoZSx0LmVuZCk6cihlLHt4OnQuc3RhcnQueCtpKih0LmVuZC54LXQuc3RhcnQueCkseTp0LnN0YXJ0LnkraSoodC5lbmQueS10LnN0YXJ0LnkpfSl9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBNYXRoLnNxcnQobyh0LGUpKX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49e30saT10LnN0YXJ0Lngscj10LnN0YXJ0Lnksbz10LmVuZC54LHM9dC5lbmQueSxhPWUuc3RhcnQueCx1PWUuc3RhcnQueSxjPWUuZW5kLngsbD1lLmVuZC55LGY9dm9pZCAwLHk9dm9pZCAwLGQ9dm9pZCAwLHA9dm9pZCAwLHg9dm9pZCAwLG09dm9pZCAwLHY9dm9pZCAwLGc9dm9pZCAwLGI9dm9pZCAwLHo9dm9pZCAwLE09dm9pZCAwLHc9dm9pZCAwO2lmKGY9cy1yLGQ9aS1vLHg9bypyLWkqcyxiPWYqYStkKnUreCx6PWYqYytkKmwreCwoMD09PWJ8fDA9PT16fHwoMCxoLnNpZ24pKGIpIT09KDAsaC5zaWduKSh6KSkmJih5PWwtdSxwPWEtYyxtPWMqdS1hKmwsdj15KmkrcCpyK20sZz15Km8rcCpzK20sMD09PXZ8fDA9PT1nfHwoMCxoLnNpZ24pKHYpIT09KDAsaC5zaWduKShnKSkpe009ZipwLXkqZCx3PWQqbS1wKng7dmFyIFA9cGFyc2VGbG9hdCh3L00pO3c9eSp4LWYqbTt2YXIgUj1wYXJzZUZsb2F0KHcvTSk7cmV0dXJuIG4ueD1QLG4ueT1SLG59fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBoPW4oMCksdT17ZGlzdGFuY2VUb1BvaW50OnMsaW50ZXJzZWN0TGluZTphfTtlLmRlZmF1bHQ9dX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMueD10fHwwLHRoaXMueT1lfHwwLHRoaXMuej1ufHwwLHRoaXMudz12b2lkIDAhPT1pP2k6MX07aS5wcm90b3R5cGUuc2V0RnJvbUF4aXNBbmdsZT1mdW5jdGlvbih0LGUpe3ZhciBuPWUvMixpPU1hdGguc2luKG4pO3JldHVybiB0aGlzLng9dC54KmksdGhpcy55PXQueSppLHRoaXMuej10LnoqaSx0aGlzLnc9TWF0aC5jb3MobiksdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHlRdWF0ZXJuaW9ucz1mdW5jdGlvbih0LGUpe3ZhciBuPXQueCxpPXQueSxyPXQueixvPXQudyxzPWUueCxhPWUueSxoPWUueix1PWUudztyZXR1cm4gdGhpcy54PW4qdStvKnMraSpoLXIqYSx0aGlzLnk9aSp1K28qYStyKnMtbipoLHRoaXMuej1yKnUrbypoK24qYS1pKnMsdGhpcy53PW8qdS1uKnMtaSphLXIqaCx0aGlzfSxpLnByb3RvdHlwZS5zZXRGcm9tUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24odCl7dmFyIGU9dC5lbGVtZW50cyxuPWVbMF0saT1lWzRdLHI9ZVs4XSxvPWVbMV0scz1lWzVdLGE9ZVs5XSxoPWVbMl0sdT1lWzZdLGM9ZVsxMF0sbD1uK3MrYyxmPXZvaWQgMDtyZXR1cm4gbD4wPyhmPS41L01hdGguc3FydChsKzEpLHRoaXMudz0uMjUvZix0aGlzLng9KHUtYSkqZix0aGlzLnk9KHItaCkqZix0aGlzLno9KG8taSkqZik6bj5zJiZuPmM/KGY9MipNYXRoLnNxcnQoMStuLXMtYyksdGhpcy53PSh1LWEpL2YsdGhpcy54PS4yNSpmLHRoaXMueT0oaStvKS9mLHRoaXMuej0ocitoKS9mKTpzPmM/KGY9MipNYXRoLnNxcnQoMStzLW4tYyksdGhpcy53PShyLWgpL2YsdGhpcy54PShpK28pL2YsdGhpcy55PS4yNSpmLHRoaXMuej0oYSt1KS9mKTooZj0yKk1hdGguc3FydCgxK2Mtbi1zKSx0aGlzLnc9KG8taSkvZix0aGlzLng9KHIraCkvZix0aGlzLnk9KGErdSkvZix0aGlzLno9LjI1KmYpLHRoaXN9LGUuZGVmYXVsdD1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLGkpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLGkmJnQoZSxpKSxlfX0oKSxvPW4oMSkscz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KG8pLGE9bigwKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe2kodGhpcyx0KSx0aGlzLnN0YXJ0PXZvaWQgMCE9PWU/ZTpuZXcgcy5kZWZhdWx0LHRoaXMuZW5kPXZvaWQgMCE9PW4/bjpuZXcgcy5kZWZhdWx0fXJldHVybiByKHQsW3trZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0YXJ0LmNvcHkodCksdGhpcy5lbmQuY29weShlKSx0aGlzfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFydC5jb3B5KHQuc3RhcnQpLHRoaXMuZW5kLmNvcHkodC5lbmQpLHRoaXN9fSx7a2V5OlwiY2VudGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuKHR8fG5ldyBzLmRlZmF1bHQpLmFkZFZlY3RvcnModGhpcy5zdGFydCx0aGlzLmVuZCkubXVsdGlwbHlTY2FsYXIoLjUpfX0se2tleTpcImRlbHRhXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuKHR8fG5ldyBzLmRlZmF1bHQpLnN1YlZlY3RvcnModGhpcy5lbmQsdGhpcy5zdGFydCl9fSx7a2V5OlwiZGlzdGFuY2VTcVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5lbmQpfX0se2tleTpcImRpc3RhbmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvKHRoaXMuZW5kKX19LHtrZXk6XCJhdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZXx8bmV3IHMuZGVmYXVsdDtyZXR1cm4gdGhpcy5kZWx0YShuKS5tdWx0aXBseVNjYWxhcih0KS5hZGQodGhpcy5zdGFydCl9fSx7a2V5OlwiY2xvc2VzdFBvaW50VG9Qb2ludFBhcmFtZXRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHMuZGVmYXVsdCxlPW5ldyBzLmRlZmF1bHQ7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dC5zdWJWZWN0b3JzKG4sdGhpcy5zdGFydCksZS5zdWJWZWN0b3JzKHRoaXMuZW5kLHRoaXMuc3RhcnQpO3ZhciByPWUuZG90KGUpLG89ZS5kb3QodCkscz1vL3I7cmV0dXJuIGkmJihzPSgwLGEuY2xhbXApKHMsMCwxKSksc319fSx7a2V5OlwiY2xvc2VzdFBvaW50VG9Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIodCxlKSxyPW58fG5ldyBzLmRlZmF1bHQ7cmV0dXJuIHRoaXMuZGVsdGEocikubXVsdGlwbHlTY2FsYXIoaSkuYWRkKHRoaXMuc3RhcnQpfX0se2tleTpcImFwcGx5TWF0cml4NFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXJ0LmFwcGx5TWF0cml4NCh0KSx0aGlzLmVuZC5hcHBseU1hdHJpeDQodCksdGhpc319LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydC5lcXVhbHModGhpcy5zdGFydCkmJnQuZW5kLmVxdWFscyh0aGlzLmVuZCl9fSx7a2V5OlwiY2xvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybihuZXcgdCkuY29weSh0aGlzKX19LHtrZXk6XCJpbnRlcnNlY3RMaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbmQuY2xvbmUoKS5zdWIodGhpcy5zdGFydCksbj10LmVuZC5jbG9uZSgpLnN1Yih0LnN0YXJ0KSxpPXQuc3RhcnQuY2xvbmUoKS5zdWIodGhpcy5zdGFydCkscj1lLmNsb25lKCkuY3Jvc3Mobiksbz1pLmNsb25lKCkuY3Jvc3Mobik7aWYoMCE9PWkuZG90KGUpKXt2YXIgcz1vLmRvdChyKS9yLmxlbmd0aFNxKCk7aWYoIShzPjF8fGlzTmFOKHMpKSl7dmFyIGE9dGhpcy5zdGFydC5jbG9uZSgpLmFkZChlLmNsb25lKCkubXVsdGlwbHlTY2FsYXIocykpO3JldHVybiBhLmNsb25lKCkuc3ViKHQuc3RhcnQpLmxlbmd0aFNxKCkrYS5jbG9uZSgpLnN1Yih0LmVuZCkubGVuZ3RoU3EoKTw9dC5kaXN0YW5jZVNxKCk/YTp2b2lkIDB9fX19XSksdH0oKTtlLmRlZmF1bHQ9aH0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMSkscj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KGkpLG89ZnVuY3Rpb24odCxlLG4saSxyLG8scyxhLGgsdSxjLGwsZix5LGQscCl7dGhpcy5lbGVtZW50cz1uZXcgRmxvYXQzMkFycmF5KDE2KTt2YXIgeD10aGlzLmVsZW1lbnRzO3hbMF09dm9pZCAwIT09dD90OjEseFs0XT1lfHwwLHhbOF09bnx8MCx4WzEyXT1pfHwwLHhbMV09cnx8MCx4WzVdPXZvaWQgMCE9PW8/bzoxLHhbOV09c3x8MCx4WzEzXT1hfHwwLHhbMl09aHx8MCx4WzZdPXV8fDAseFsxMF09dm9pZCAwIT09Yz9jOjEseFsxNF09bHx8MCx4WzNdPWZ8fDAseFs3XT15fHwwLHhbMTFdPWR8fDAseFsxNV09dm9pZCAwIT09cD9wOjF9O28ucHJvdG90eXBlLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWxlbWVudHMsbj10LngsaT10Lnkscj10Lnosbz10Lncscz1uK24sYT1pK2ksaD1yK3IsdT1uKnMsYz1uKmEsbD1uKmgsZj1pKmEseT1pKmgsZD1yKmgscD1vKnMseD1vKmEsbT1vKmg7cmV0dXJuIGVbMF09MS0oZitkKSxlWzRdPWMtbSxlWzhdPWwreCxlWzFdPWMrbSxlWzVdPTEtKHUrZCksZVs5XT15LXAsZVsyXT1sLXgsZVs2XT15K3AsZVsxMF09MS0odStmKSxlWzNdPTAsZVs3XT0wLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSx0aGlzfSxvLnByb3RvdHlwZS5tdWx0aXBseU1hdHJpY2VzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lbGVtZW50cyxpPWUuZWxlbWVudHMscj10aGlzLmVsZW1lbnRzLG89blswXSxzPW5bNF0sYT1uWzhdLGg9blsxMl0sdT1uWzFdLGM9bls1XSxsPW5bOV0sZj1uWzEzXSx5PW5bMl0sZD1uWzZdLHA9blsxMF0seD1uWzE0XSxtPW5bM10sdj1uWzddLGc9blsxMV0sYj1uWzE1XSx6PWlbMF0sTT1pWzRdLHc9aVs4XSxQPWlbMTJdLFI9aVsxXSxMPWlbNV0sUz1pWzldLFQ9aVsxM10sXz1pWzJdLGo9aVs2XSxPPWlbMTBdLFY9aVsxNF0scT1pWzNdLEU9aVs3XSxrPWlbMTFdLEE9aVsxNV07cmV0dXJuIHJbMF09byp6K3MqUithKl8raCpxLHJbNF09bypNK3MqTCthKmoraCpFLHJbOF09byp3K3MqUythKk8raCprLHJbMTJdPW8qUCtzKlQrYSpWK2gqQSxyWzFdPXUqeitjKlIrbCpfK2YqcSxyWzVdPXUqTStjKkwrbCpqK2YqRSxyWzldPXUqdytjKlMrbCpPK2YqayxyWzEzXT11KlArYypUK2wqVitmKkEsclsyXT15KnorZCpSK3AqXyt4KnEscls2XT15Kk0rZCpMK3Aqait4KkUsclsxMF09eSp3K2QqUytwKk8reCprLHJbMTRdPXkqUCtkKlQrcCpWK3gqQSxyWzNdPW0qeit2KlIrZypfK2IqcSxyWzddPW0qTSt2KkwrZypqK2IqRSxyWzExXT1tKncrdipTK2cqTytiKmssclsxNV09bSpQK3YqVCtnKlYrYipBLHRoaXN9LG8ucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybihcIkRFUFJFQ0FURUQ6IE1hdHJpeDQncyAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5tdWx0aXBseU1hdHJpY2VzKHQsZSkpOnRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLHQpfSxvLnByb3RvdHlwZS5nZXRJbnZlcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5lbGVtZW50cyxpPXQuZWxlbWVudHMscj1pWzBdLG89aVs0XSxzPWlbOF0sYT1pWzEyXSxoPWlbMV0sdT1pWzVdLGM9aVs5XSxsPWlbMTNdLGY9aVsyXSx5PWlbNl0sZD1pWzEwXSxwPWlbMTRdLHg9aVszXSxtPWlbN10sdj1pWzExXSxnPWlbMTVdO25bMF09YypwKm0tbCpkKm0rbCp5KnYtdSpwKnYtYyp5KmcrdSpkKmcsbls0XT1hKmQqbS1zKnAqbS1hKnkqditvKnAqditzKnkqZy1vKmQqZyxuWzhdPXMqbCptLWEqYyptK2EqdSp2LW8qbCp2LXMqdSpnK28qYypnLG5bMTJdPWEqYyp5LXMqbCp5LWEqdSpkK28qbCpkK3MqdSpwLW8qYypwLG5bMV09bCpkKngtYypwKngtbCpmKnYraCpwKnYrYypmKmctaCpkKmcsbls1XT1zKnAqeC1hKmQqeCthKmYqdi1yKnAqdi1zKmYqZytyKmQqZyxuWzldPWEqYyp4LXMqbCp4LWEqaCp2K3IqbCp2K3MqaCpnLXIqYypnLG5bMTNdPXMqbCpmLWEqYypmK2EqaCpkLXIqbCpkLXMqaCpwK3IqYypwLG5bMl09dSpwKngtbCp5KngrbCpmKm0taCpwKm0tdSpmKmcraCp5Kmcsbls2XT1hKnkqeC1vKnAqeC1hKmYqbStyKnAqbStvKmYqZy1yKnkqZyxuWzEwXT1vKmwqeC1hKnUqeCthKmgqbS1yKmwqbS1vKmgqZytyKnUqZyxuWzE0XT1hKnUqZi1vKmwqZi1hKmgqeStyKmwqeStvKmgqcC1yKnUqcCxuWzNdPWMqeSp4LXUqZCp4LWMqZiptK2gqZCptK3UqZip2LWgqeSp2LG5bN109bypkKngtcyp5KngrcypmKm0tcipkKm0tbypmKnYrcip5KnYsblsxMV09cyp1KngtbypjKngtcypoKm0rcipjKm0rbypoKnYtcip1KnYsblsxNV09bypjKmYtcyp1KmYrcypoKnktcipjKnktbypoKmQrcip1KmQ7dmFyIGI9cipuWzBdK2gqbls0XStmKm5bOF0reCpuWzEyXTtpZigwPT09Yil7dmFyIHo9XCJNYXRyaXg0LmdldEludmVyc2UoKTogY2FuJ3QgaW52ZXJ0IG1hdHJpeCwgZGV0ZXJtaW5hbnQgaXMgMFwiO2lmKGUpdGhyb3cgbmV3IEVycm9yKHopO3JldHVybiBjb25zb2xlLndhcm4oeiksdGhpcy5pZGVudGl0eSgpLHRoaXN9cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS9iKSx0aGlzfSxvLnByb3RvdHlwZS5hcHBseVRvVmVjdG9yM0FycmF5PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHIuZGVmYXVsdDtyZXR1cm4gZnVuY3Rpb24oZSxuLGkpe3ZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PWkmJihpPWUubGVuZ3RoKTtmb3IodmFyIHI9MCxvPW47cjxpO3IrPTMsbys9Myl0Lng9ZVtvXSx0Lnk9ZVtvKzFdLHQuej1lW28rMl0sdC5hcHBseU1hdHJpeDQodGhpcyksZVtvXT10LngsZVtvKzFdPXQueSxlW28rMl09dC56O3JldHVybiBlfX0sby5wcm90b3R5cGUubWFrZVRyYW5zbGF0aW9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsdCwwLDEsMCxlLDAsMCwxLG4sMCwwLDAsMSksdGhpc30sby5wcm90b3R5cGUubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbGVtZW50cztyZXR1cm4gZVswXSo9dCxlWzRdKj10LGVbOF0qPXQsZVsxMl0qPXQsZVsxXSo9dCxlWzVdKj10LGVbOV0qPXQsZVsxM10qPXQsZVsyXSo9dCxlWzZdKj10LGVbMTBdKj10LGVbMTRdKj10LGVbM10qPXQsZVs3XSo9dCxlWzExXSo9dCxlWzE1XSo9dCx0aGlzfSxvLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLG4saSxyLG8scyxhLGgsdSxjLGwsZix5LGQscCl7dmFyIHg9dGhpcy5lbGVtZW50cztyZXR1cm4geFswXT10LHhbNF09ZSx4WzhdPW4seFsxMl09aSx4WzFdPXIseFs1XT1vLHhbOV09cyx4WzEzXT1hLHhbMl09aCx4WzZdPXUseFsxMF09Yyx4WzE0XT1sLHhbM109Zix4WzddPXkseFsxMV09ZCx4WzE1XT1wLHRoaXN9LG8ucHJvdG90eXBlLm1ha2VTY2FsZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuc2V0KHQsMCwwLDAsMCxlLDAsMCwwLDAsbiwwLDAsMCwwLDEpLHRoaXN9LGUuZGVmYXVsdD1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigxKSxyPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0oaSksbz1mdW5jdGlvbih0LGUpe3RoaXMubm9ybWFsPXZvaWQgMCE9PXQ/dDpuZXcgci5kZWZhdWx0KDEsMCwwKSx0aGlzLmNvbnN0YW50PXZvaWQgMCE9PWU/ZTowfTtvLnByb3RvdHlwZT17Y29uc3RydWN0b3I6byxzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weSh0KSx0aGlzLmNvbnN0YW50PWUsdGhpc30sc2V0Q29tcG9uZW50czpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdGhpcy5ub3JtYWwuc2V0KHQsZSxuKSx0aGlzLmNvbnN0YW50PWksdGhpc30sc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weSh0KSx0aGlzLmNvbnN0YW50PS1lLmRvdCh0aGlzLm5vcm1hbCksdGhpc30sc2V0RnJvbUNvcGxhbmFyUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHIuZGVmYXVsdCxlPW5ldyByLmRlZmF1bHQ7cmV0dXJuIGZ1bmN0aW9uKG4saSxyKXt2YXIgbz10LnN1YlZlY3RvcnMocixpKS5jcm9zcyhlLnN1YlZlY3RvcnMobixpKSkubm9ybWFsaXplKCk7cmV0dXJuIHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQobyxuKSx0aGlzfX0oKSxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KHQubm9ybWFsKSx0aGlzLmNvbnN0YW50PXQuY29uc3RhbnQsdGhpc30sbm9ybWFsaXplOmZ1bmN0aW9uKCl7dmFyIHQ9MS90aGlzLm5vcm1hbC5sZW5ndGgoKTtyZXR1cm4gdGhpcy5ub3JtYWwubXVsdGlwbHlTY2FsYXIodCksdGhpcy5jb25zdGFudCo9dCx0aGlzfSxuZWdhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdGFudCo9LTEsdGhpcy5ub3JtYWwubmVnYXRlKCksdGhpc30sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vcm1hbC5kb3QodCkrdGhpcy5jb25zdGFudH0sZGlzdGFuY2VUb1NwaGVyZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQodC5jZW50ZXIpLXQucmFkaXVzfSxwcm9qZWN0UG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5vcnRob1BvaW50KHQsZSkuc3ViKHQpLm5lZ2F0ZSgpfSxvcnRob1BvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kaXN0YW5jZVRvUG9pbnQodCk7cmV0dXJuKGV8fG5ldyByLmRlZmF1bHQpLmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKG4pfSxpc0ludGVyc2VjdGlvbkxpbmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kaXN0YW5jZVRvUG9pbnQodC5zdGFydCksbj10aGlzLmRpc3RhbmNlVG9Qb2ludCh0LmVuZCk7cmV0dXJuIGU8MCYmbj4wfHxuPDAmJmU+MH0saW50ZXJzZWN0TGluZTpmdW5jdGlvbigpe3ZhciB0PW5ldyByLmRlZmF1bHQ7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIGk9bnx8bmV3IHIuZGVmYXVsdCxvPWUuZGVsdGEodCkscz10aGlzLm5vcm1hbC5kb3Qobyk7aWYoMCE9PXMpe3ZhciBhPS0oZS5zdGFydC5kb3QodGhpcy5ub3JtYWwpK3RoaXMuY29uc3RhbnQpL3M7aWYoIShhPDB8fGE+MSkpcmV0dXJuIGkuY29weShvKS5tdWx0aXBseVNjYWxhcihhKS5hZGQoZS5zdGFydCl9ZWxzZSBpZigwPT09dGhpcy5kaXN0YW5jZVRvUG9pbnQoZS5zdGFydCkpcmV0dXJuIGkuY29weShlLnN0YXJ0KX19KCksaW50ZXJzZWN0UGxhbmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ub3JtYWwuY2xvbmUoKS5jcm9zcyh0Lm5vcm1hbCksbj1uZXcgci5kZWZhdWx0LGk9e29yaWdpbjpuLGRpcmVjdGlvbjplfTtpZih0aGlzLm5vcm1hbC5jbG9uZSgpLmNyb3NzKHQubm9ybWFsKS5sZW5ndGg8MWUtMTApcmV0dXJuIGkuZGlyZWN0aW9uPW5ldyByLmRlZmF1bHQsaTt2YXIgbz10aGlzLmNvbnN0YW50LHM9dC5jb25zdGFudCxhPXRoaXMubm9ybWFsLmNsb25lKCkuZG90KHQubm9ybWFsKSxoPS0oby1zKmEpLygxLWEqYSksdT0tKHMtbyphKS8oMS1hKmEpO3JldHVybiBpLm9yaWdpbj10aGlzLm5vcm1hbC5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKGgpLmFkZCh0Lm5vcm1hbC5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKHUpKSxpfSxjb3BsYW5hclBvaW50OmZ1bmN0aW9uKHQpe3JldHVybih0fHxuZXcgci5kZWZhdWx0KS5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5jb25zdGFudCl9LHRyYW5zbGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb25zdGFudD10aGlzLmNvbnN0YW50LXQuZG90KHRoaXMubm9ybWFsKSx0aGlzfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9ybWFsLmVxdWFscyh0aGlzLm5vcm1hbCkmJnQuY29uc3RhbnQ9PT10aGlzLmNvbnN0YW50fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgbykuY29weSh0aGlzKX19LGUuZGVmYXVsdD1vfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtyZXR1cm57eDp0LnBhZ2VYLHk6dC5wYWdlWX19ZnVuY3Rpb24gcih0LGUpe3JldHVybnt4OnQueC1lLngseTp0LnktZS55fX1mdW5jdGlvbiBvKHQpe3JldHVybnt4OnQueCx5OnQueX19ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBNYXRoLnNxcnQoYSh0LGUpKX1mdW5jdGlvbiBhKHQsZSl7dmFyIG49cih0LGUpO3JldHVybiBuLngqbi54K24ueSpuLnl9ZnVuY3Rpb24gaCh0LGUpe3JldHVybiEodC54PGUubGVmdHx8dC54PmUubGVmdCtlLndpZHRofHx0Lnk8ZS50b3B8fHQueT5lLnRvcCtlLmhlaWdodCl9ZnVuY3Rpb24gdSh0LGUpe3ZhciBuPVtdLGk9dm9pZCAwO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxyKXt2YXIgbz1zKHQsZSk7bi5wdXNoKG8pLGk9MD09PXI/bzpNYXRoLm1pbihvLGkpfSksdFtuLmluZGV4T2YoaSldfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPXtzdWJ0cmFjdDpyLGNvcHk6byxwYWdlVG9Qb2ludDppLGRpc3RhbmNlOnMsZGlzdGFuY2VTcXVhcmVkOmEsaW5zaWRlUmVjdDpoLGZpbmRDbG9zZXN0UG9pbnQ6dX07ZS5kZWZhdWx0PWN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKHQpe3JldHVyblt7c3RhcnQ6e3g6dC5sZWZ0LHk6dC50b3B9LGVuZDp7eDp0LmxlZnQrdC53aWR0aCx5OnQudG9wfX0se3N0YXJ0Ont4OnQubGVmdCt0LndpZHRoLHk6dC50b3B9LGVuZDp7eDp0LmxlZnQrdC53aWR0aCx5OnQudG9wK3QuaGVpZ2h0fX0se3N0YXJ0Ont4OnQubGVmdCt0LndpZHRoLHk6dC50b3ArdC5oZWlnaHR9LGVuZDp7eDp0LmxlZnQseTp0LnRvcCt0LmhlaWdodH19LHtzdGFydDp7eDp0LmxlZnQseTp0LnRvcCt0LmhlaWdodH0sZW5kOnt4OnQubGVmdCx5OnQudG9wfX1dfWZ1bmN0aW9uIHIodCxlKXt2YXIgbj02NTU1MzU7cmV0dXJuIGkodCkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT11LmRlZmF1bHQuZGlzdGFuY2VUb1BvaW50KHQsZSk7aTxuJiYobj1pKX0pLG59ZnVuY3Rpb24gbyh0KXtyZXR1cm57dG9wTGVmdDp7eDp0LmxlZnQseTp0LnRvcH0sYm90dG9tUmlnaHQ6e3g6dC5sZWZ0K3Qud2lkdGgseTp0LnRvcCt0LmhlaWdodH19fWZ1bmN0aW9uIHModCxlKXt2YXIgbj12b2lkIDAsaT12b2lkIDAscj1vKHQpLHM9byhlKTtyZXR1cm4gbj10LndpZHRoPj0wP2Uud2lkdGg+PTA/IShyLmJvdHRvbVJpZ2h0Lng8PXMudG9wTGVmdC54fHxzLmJvdHRvbVJpZ2h0Lng8PXIudG9wTGVmdC54KTohKHIuYm90dG9tUmlnaHQueDw9cy5ib3R0b21SaWdodC54fHxzLnRvcExlZnQueDw9ci50b3BMZWZ0LngpOmUud2lkdGg+PTA/IShyLnRvcExlZnQueDw9cy50b3BMZWZ0Lnh8fHMuYm90dG9tUmlnaHQueDw9ci5ib3R0b21SaWdodC54KTohKHIudG9wTGVmdC54PD1zLmJvdHRvbVJpZ2h0Lnh8fHMudG9wTGVmdC54PD1yLmJvdHRvbVJpZ2h0LngpLGk9dC5oZWlnaHQ+PTA/ZS5oZWlnaHQ+PTA/IShyLmJvdHRvbVJpZ2h0Lnk8PXMudG9wTGVmdC55fHxzLmJvdHRvbVJpZ2h0Lnk8PXIudG9wTGVmdC55KTohKHIuYm90dG9tUmlnaHQueTw9cy5ib3R0b21SaWdodC55fHxzLnRvcExlZnQueTw9ci50b3BMZWZ0LnkpOmUuaGVpZ2h0Pj0wPyEoci50b3BMZWZ0Lnk8PXMudG9wTGVmdC55fHxzLmJvdHRvbVJpZ2h0Lnk8PXIuYm90dG9tUmlnaHQueSk6IShyLnRvcExlZnQueTw9cy5ib3R0b21SaWdodC55fHxzLnRvcDw9ci5ib3R0b21SaWdodC55KSxuJiZpfWZ1bmN0aW9uIGEodCxlKXt2YXIgbj17dG9wTGVmdDp7fSxib3R0b21SaWdodDp7fX07aWYocyh0LGUpKXt2YXIgaT1vKHQpLHI9byhlKTtyZXR1cm4gdC53aWR0aD49MD9lLndpZHRoPj0wPyhuLnRvcExlZnQueD1NYXRoLm1heChpLnRvcExlZnQueCxyLnRvcExlZnQueCksbi5ib3R0b21SaWdodC54PU1hdGgubWluKGkuYm90dG9tUmlnaHQueCxyLmJvdHRvbVJpZ2h0LngpKToobi50b3BMZWZ0Lng9TWF0aC5tYXgoaS50b3BMZWZ0Lngsci5ib3R0b21SaWdodC54KSxuLmJvdHRvbVJpZ2h0Lng9TWF0aC5taW4oaS5ib3R0b21SaWdodC54LHIudG9wTGVmdC54KSk6ZS53aWR0aD49MD8obi50b3BMZWZ0Lng9TWF0aC5taW4oaS50b3BMZWZ0Lngsci5ib3R0b21SaWdodC54KSxuLmJvdHRvbVJpZ2h0Lng9TWF0aC5tYXgoaS5ib3R0b21SaWdodC54LHIudG9wTGVmdC54KSk6KG4udG9wTGVmdC54PU1hdGgubWluKGkudG9wTGVmdC54LHIudG9wTGVmdC54KSxuLmJvdHRvbVJpZ2h0Lng9TWF0aC5tYXgoaS5ib3R0b21SaWdodC54LHIuYm90dG9tUmlnaHQueCkpLHQuaGVpZ2h0Pj0wP2UuaGVpZ2h0Pj0wPyhuLnRvcExlZnQueT1NYXRoLm1heChpLnRvcExlZnQueSxyLnRvcExlZnQueSksbi5ib3R0b21SaWdodC55PU1hdGgubWluKGkuYm90dG9tUmlnaHQueSxyLmJvdHRvbVJpZ2h0LnkpKToobi50b3BMZWZ0Lnk9TWF0aC5tYXgoaS50b3BMZWZ0Lnksci5ib3R0b21SaWdodC55KSxuLmJvdHRvbVJpZ2h0Lnk9TWF0aC5taW4oaS5ib3R0b21SaWdodC55LHIudG9wTGVmdC55KSk6ZS5oZWlnaHQ+PTA/KG4udG9wTGVmdC55PU1hdGgubWluKGkudG9wTGVmdC55LHIuYm90dG9tUmlnaHQueSksbi5ib3R0b21SaWdodC55PU1hdGgubWF4KGkuYm90dG9tUmlnaHQueSxyLnRvcExlZnQueSkpOihuLnRvcExlZnQueT1NYXRoLm1pbihpLnRvcExlZnQueSxyLnRvcExlZnQueSksbi5ib3R0b21SaWdodC55PU1hdGgubWF4KGkuYm90dG9tUmlnaHQueSxyLmJvdHRvbVJpZ2h0LnkpKSxufX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaD1uKDIpLHU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShoKSxjPXtkaXN0YW5jZVRvUG9pbnQ6cixnZXRJbnRlcnNlY3Rpb25SZWN0OmF9O2UuZGVmYXVsdD1jfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9big0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIkxpbmUzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkocikuZGVmYXVsdH19KTt2YXIgbz1uKDIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwibGluZVNlZ21lbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShvKS5kZWZhdWx0fX0pO3ZhciBzPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJjbGFtcFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmNsYW1wfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZGVnVG9SYWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kZWdUb1JhZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInJhZFRvRGVnXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMucmFkVG9EZWd9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzaWduXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuc2lnbn19KTt2YXIgYT1uKDUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiTWF0cml4NFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGEpLmRlZmF1bHR9fSk7dmFyIGg9big2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlBsYW5lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoaCkuZGVmYXVsdH19KTt2YXIgdT1uKDcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicG9pbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSh1KS5kZWZhdWx0fX0pO3ZhciBjPW4oMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJxdWF0ZXJuaW9uXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkoYykuZGVmYXVsdH19KTt2YXIgbD1uKDgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicmVjdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGwpLmRlZmF1bHR9fSk7dmFyIGY9bigxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlZlY3RvcjNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShmKS5kZWZhdWx0fX0pfV0pfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JuZXJzdG9uZU1hdGgubWluLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/cornerstone-math/dist/cornerstoneMath.min.js\n");

/***/ }),

/***/ "../node_modules/cornerstone-tools/dist/cornerstoneTools.min.js":
/*!**********************************************************************!*\
  !*** ../node_modules/cornerstone-tools/dist/cornerstoneTools.min.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*! cornerstone-tools - 2.4.0 - 2018-10-25 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/cornerstoneTools */\n!function(e,t){ true?module.exports=t():undefined}(window,function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=47)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=window.cornerstone,o=window.cornerstoneMath,r=window.Hammer;t.default={set cornerstone(e){a=e},get cornerstone(){return a},set cornerstoneMath(e){o=e},get cornerstoneMath(){return o},set Hammer(e){r=e},get Hammer(){return r}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default={MOUSE_DOWN:\"cornerstonetoolsmousedown\",MOUSE_UP:\"cornerstonetoolsmouseup\",MOUSE_DOWN_ACTIVATE:\"cornerstonetoolsmousedownactivate\",MOUSE_DRAG:\"cornerstonetoolsmousedrag\",MOUSE_MOVE:\"cornerstonetoolsmousemove\",MOUSE_CLICK:\"cornerstonetoolsmouseclick\",MOUSE_DOUBLE_CLICK:\"cornerstonetoolsmousedoubleclick\",MOUSE_WHEEL:\"cornerstonetoolsmousewheel\",TOUCH_START:\"cornerstonetoolstouchstart\",TOUCH_START_ACTIVE:\"cornerstonetoolstouchstartactive\",TOUCH_END:\"cornerstonetoolstouchend\",TOUCH_DRAG:\"cornerstonetoolstouchdrag\",TOUCH_DRAG_END:\"cornerstonetoolstouchdragend\",TOUCH_PINCH:\"cornerstonetoolstouchpinch\",TOUCH_ROTATE:\"cornerstonetoolstouchrotate\",TOUCH_PRESS:\"cornerstonetoolstouchpress\",TAP:\"cornerstonetoolstap\",DOUBLE_TAP:\"cornerstonetoolsdoubletap\",MULTI_TOUCH_START:\"cornerstonetoolsmultitouchstart\",MULTI_TOUCH_START_ACTIVE:\"cornerstonetoolsmultitouchstartactive\",MULTI_TOUCH_DRAG:\"cornerstonetoolsmultitouchdrag\",KEY_DOWN:\"cornerstonetoolskeydown\",KEY_UP:\"cornerstonetoolskeyup\",KEY_PRESS:\"cornerstonetoolskeypress\",MEASUREMENT_ADDED:\"cornerstonetoolsmeasurementadded\",MEASUREMENT_MODIFIED:\"cornerstonetoolsmeasurementmodified\",MEASUREMENT_REMOVED:\"cornerstonemeasurementremoved\",TOOL_DEACTIVATED:\"cornerstonetoolstooldeactivated\",CLIP_STOPPED:\"cornerstonetoolsclipstopped\",STACK_SCROLL:\"cornerstonestackscroll\",LINE_SAMPLE_UPDATED:\"cornerstonelinesampleupdated\"}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getElementToolStateManager=t.setElementToolStateManager=t.clearToolState=t.removeToolState=t.getToolState=t.addToolState=void 0;var a=l(n(1)),o=l(n(0)),r=n(26),i=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=o.default.cornerstone.getEnabledElement(e);return void 0===t.toolStateManager&&(t.toolStateManager=r.globalImageIdSpecificToolStateManager),t.toolStateManager}t.addToolState=function(e,t,n){u(e).add(e,t,n);var o=a.default.MEASUREMENT_ADDED,r={toolType:t,element:e,measurementData:n};(0,i.default)(e,o,r)},t.getToolState=function(e,t){return u(e).get(e,t)},t.removeToolState=function(e,t,n){for(var o=u(e).get(e,t),r=-1,l=0;l<o.data.length;l++)o.data[l]===n&&(r=l);if(-1!==r){o.data.splice(r,1);var d=a.default.MEASUREMENT_REMOVED,s={toolType:t,element:e,measurementData:n};(0,i.default)(e,d,s)}},t.clearToolState=function(e,t){var n=u(e).get(e,t);void 0!==n&&(n.data=[])},t.setElementToolStateManager=function(e,t){o.default.cornerstone.getEnabledElement(e).toolStateManager=t},t.getElementToolStateManager=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getNewContext=function(e){var t=e.getContext(\"2d\");return t.setTransform(1,0,0,1,0,0),t},t.draw=function(e,t){e.save(),t(e),e.restore()},t.path=l,t.setShadow=function(e,t){t.shadow&&(e.shadowColor=t.shadowColor||\"#000000\",e.shadowOffsetX=t.shadowOffsetX||1,e.shadowOffsetY=t.shadowOffsetY||1)},t.drawLine=function(e,t,n,a,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"pixel\";l(e,o,function(e){if(\"pixel\"===i){var o=r.default.cornerstone;n=o.pixelToCanvas(t,n),a=o.pixelToCanvas(t,a)}e.moveTo(n.x,n.y),e.lineTo(a.x,a.y)})},t.drawLines=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:\"pixel\";l(e,a,function(e){n.forEach(function(n){var a=n.start,i=n.end;if(\"pixel\"===o){var l=r.default.cornerstone;a=l.pixelToCanvas(t,a),i=l.pixelToCanvas(t,i)}e.moveTo(a.x,a.y),e.lineTo(i.x,i.y)})})},t.drawJoinedLines=function(e,t,n,a,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"pixel\";l(e,o,function(e){if(\"pixel\"===i){var o=r.default.cornerstone;n=o.pixelToCanvas(t,n),a=a.map(function(e){return o.pixelToCanvas(t,e)})}e.moveTo(n.x,n.y),a.forEach(function(t){var n=t.x,a=t.y;e.lineTo(n,a)})})},t.drawCircle=function(e,t,n,a,o){\"pixel\"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"pixel\")&&(n=r.default.cornerstone.pixelToCanvas(t,n));l(e,o,function(e){e.arc(n.x,n.y,a,0,2*Math.PI)})},t.drawEllipse=function(e,t,n,a,o){\"pixel\"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"pixel\")&&(n=r.default.cornerstone.pixelToCanvas(t,n),a=r.default.cornerstone.pixelToCanvas(t,a));var i=Math.min(n.x,a.x),u=Math.min(n.y,a.y),d=Math.abs(n.x-a.x),s=Math.abs(n.y-a.y),c=d/2*.5522848,f=s/2*.5522848,v=i+d,g=u+s,m=i+d/2,h=u+s/2;l(e,o,function(e){e.moveTo(i,h),e.bezierCurveTo(i,h-f,m-c,u,m,u),e.bezierCurveTo(m+c,u,v,h-f,v,h),e.bezierCurveTo(v,h+f,m+c,g,m,g),e.bezierCurveTo(m-c,g,i,h+f,i,h),e.closePath()})},t.drawRect=function(e,t,n,a,o){if(\"pixel\"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"pixel\")){var i=r.default.cornerstone;n=i.pixelToCanvas(t,n),a=i.pixelToCanvas(t,a)}var u=Math.min(n.x,a.x),d=Math.min(n.y,a.y),s=Math.abs(n.x-a.x),c=Math.abs(n.y-a.y);l(e,o,function(e){e.rect(u,d,s,c)})},t.fillOutsideRect=function(e,t,n,a,o){if(\"pixel\"===(arguments.length>5&&void 0!==arguments[5]?arguments[5]:\"pixel\")){var i=r.default.cornerstone;n=i.pixelToCanvas(t,n),a=i.pixelToCanvas(t,a)}var u=Math.min(n.x,a.x),d=Math.min(n.y,a.y),s=Math.abs(n.x-a.x),c=Math.abs(n.y-a.y);l(e,o,function(e){e.rect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.rect(u+s,d,-s,c)})},t.fillBox=function(e,t,n){e.fillStyle=n,e.fillRect(t.left,t.top,t.width,t.height)},t.fillTextLines=function(e,t,n,a,o){var r=i.textStyle.getFontSize();e.font=i.textStyle.getFont(),e.textBaseline=\"top\",e.fillStyle=a,n.forEach(function(n,a){e.fillText(n,t.left+o,t.top+o+a*(r+o))})};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},i=n(47);function l(e,t,n){var a=t.color,o=t.lineWidth,r=t.fillStyle,l=t.lineDash;e.beginPath(),e.strokeStyle=a||e.strokeStyle,e.lineWidth=o||void 0===o&&i.toolStyle.getToolWidth()||e.lineWidth,l&&e.setLineDash(l),n(e),r&&(e.fillStyle=r,e.fill()),e.stroke(),l&&e.setLineDash([])}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a={};t.getToolOptions=function(e,t){if(!a[e])return{};var n=a[e].find(function(e){return e.element===t});return n?n.options:{}},t.setToolOptions=function(e,t,n){if(a[e]){var o=a[e].findIndex(function(e){return e.element===t});if(-1===o)a[e].push({element:t,options:n});else{var r=a[e][o].options||{};a[e][o].options=Object.assign(r,n)}}else a[e]=[{element:t,options:n}]},t.clearToolOptions=function(e,t){var n=a[e];n&&(a[e]=n.filter(function(e){return e.element!==t}))},t.clearToolOptionsByToolType=function(e){delete a[e]},t.clearToolOptionsByElement=function(e){for(var t in a)a[t]=a[t].filter(function(t){return t.element!==e})}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){return 0!=(t&1<<e-1)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=void 0;\"function\"==typeof window.CustomEvent?a=new CustomEvent(t,{detail:n,cancelable:!0}):(a=document.createEvent(\"CustomEvent\")).initCustomEvent(t,!0,!0,n);return e.dispatchEvent(a)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=\"white\",o=\"greenyellow\",r=\"transparent\";var i={setFillColor:function(e){r=e},getFillColor:function(){return r},setToolColor:function(e){a=e},getToolColor:function(){return a},setActiveColor:function(e){o=e},getActiveColor:function(){return o},getColorIfActive:function(e){return e.color?e.color:e.active?o:a}};t.default=i},function(e,t,n){\"use strict\";function a(e,t,n){return Math.min(Math.max(t,e),n)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=a,t.clipToBox=function(e,t){e.x=a(e.x,0,t.width),e.y=a(e.y,0,t.height)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,a,o){Object.keys(n).forEach(function(u){var d=n[u];if(!0!==d.drawnIndependently&&(!o||!0!==o.drawHandlesIfActive||d.active)){var s=function(e){var t=void 0;t=e&&e.handleRadius?e.handleRadius:l;return t}(o),c={color:a,lineWidth:d.active?r.default.getActiveWidth():r.default.getToolWidth(),fillStyle:o&&o.fill};(0,i.drawCircle)(e,t.element,d,s,c)}})};var a,o=n(14),r=(a=o)&&a.__esModule?a:{default:a},i=n(3);var l=6},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t={},n=e.toolType;function h(t){var r=t.detail,i=r.element,l=(0,m.getToolOptions)(n,i);(0,f.default)(r.which,l.mouseButtonMask)&&(e.addNewMeasurement?e.addNewMeasurement(r):function(t){var r=o.default.cornerstone,i=t.element,l=e.createNewMeasurement(t);if(!l)return;(0,v.addToolState)(t.element,n,l),i.removeEventListener(a.default.MOUSE_MOVE,T),i.removeEventListener(a.default.MOUSE_DOWN,y),i.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,M),_&&i.removeEventListener(a.default.MOUSE_DOUBLE_CLICK,_);r.updateImage(i);var s=void 0;s=1===Object.keys(l.handles).length?u.default:d.default;var f=void 0;f=!(!e.options||void 0===e.options.preventHandleOutsideImage)&&e.options.preventHandleOutsideImage;s(t,n,l,l.handles.end,function(){l.active=!1,l.invalidated=!0,(0,c.default)(t,l.handles)&&(0,v.removeToolState)(i,n,l),i.addEventListener(a.default.MOUSE_MOVE,T),i.addEventListener(a.default.MOUSE_DOWN,y),i.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,M),_&&i.addEventListener(a.default.MOUSE_DOUBLE_CLICK,_),r.updateImage(i)},f)}(r),t.preventDefault(),t.stopPropagation())}function p(t){var a=t.detail;r.default.setCoords(a);var i=(0,v.getToolState)(a.element,n);if(i){for(var u=!1,d=0;d<i.data.length;d++){var s=a.currentPoints.canvas,c=i.data[d];!0===(0,l.default)(a.element,c.handles,s)&&(u=!0),(e.pointNearTool(a.element,c,s)&&!c.active||!e.pointNearTool(a.element,c,s)&&c.active)&&(c.active=!c.active,u=!0)}!0===u&&o.default.cornerstone.updateImage(a.element)}}function E(t){var r=t.detail,l=void 0,d=r.element,g=(0,m.getToolOptions)(n,d);if((0,f.default)(r.which,g.mouseButtonMask)){var h=r.startPoints.canvas,p=(0,v.getToolState)(t.currentTarget,n);if(p){var E=void 0,y=void 0;for(y=!(!e.options||void 0===e.options.preventHandleOutsideImage)&&e.options.preventHandleOutsideImage,E=0;E<p.data.length;E++){l=p.data[E];var M=(0,i.default)(d,l.handles,h,6);if(M)return d.removeEventListener(a.default.MOUSE_MOVE,T),l.active=!0,(0,u.default)(r,n,l,M,S,y),t.stopImmediatePropagation(),t.stopPropagation(),void t.preventDefault()}if(e.pointNearTool){var _=e.options||{deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:!1};for(E=0;E<p.data.length;E++)if((l=p.data[E]).active=!1,e.pointNearTool(d,l,h))return l.active=!0,d.removeEventListener(a.default.MOUSE_MOVE,T),(0,s.default)(t,l,p,n,_,S),t.stopImmediatePropagation(),t.stopPropagation(),void t.preventDefault()}}}function S(){l.invalidated=!0,(0,c.default)(r,l.handles)&&(0,v.removeToolState)(d,n,l),o.default.cornerstone.updateImage(d),d.addEventListener(a.default.MOUSE_MOVE,T)}}var T=e.mouseMoveCallback||p,y=e.mouseDownCallback||E,M=e.mouseDownActivateCallback||h,_=e.mouseDoubleClickCallback;var S={enable:function(t){t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.removeEventListener(a.default.MOUSE_MOVE,T),t.removeEventListener(a.default.MOUSE_DOWN,y),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,M),_&&t.removeEventListener(a.default.MOUSE_DOUBLE_CLICK,_),t.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),o.default.cornerstone.updateImage(t)},disable:function(t){t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.removeEventListener(a.default.MOUSE_MOVE,T),t.removeEventListener(a.default.MOUSE_DOWN,y),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,M),_&&t.removeEventListener(a.default.MOUSE_DOUBLE_CLICK,_),o.default.cornerstone.updateImage(t)},activate:function(t,r){(0,m.setToolOptions)(n,t,{mouseButtonMask:r}),t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.removeEventListener(a.default.MOUSE_MOVE,T),t.removeEventListener(a.default.MOUSE_DOWN,y),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,M),t.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.addEventListener(a.default.MOUSE_MOVE,T),t.addEventListener(a.default.MOUSE_DOWN,y),t.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,M),_&&(t.removeEventListener(a.default.MOUSE_DOUBLE_CLICK,_),t.addEventListener(a.default.MOUSE_DOUBLE_CLICK,_)),o.default.cornerstone.updateImage(t)},deactivate:function(t,r){(0,m.setToolOptions)(n,t,{mouseButtonMask:r});var i=a.default.TOOL_DEACTIVATED,l={mouseButtonMask:r,toolType:n,type:i};(0,g.default)(t,i,l),t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.removeEventListener(a.default.MOUSE_MOVE,T),t.removeEventListener(a.default.MOUSE_DOWN,y),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,M),t.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.addEventListener(a.default.MOUSE_MOVE,T),t.addEventListener(a.default.MOUSE_DOWN,y),_&&(t.removeEventListener(a.default.MOUSE_DOUBLE_CLICK,_),t.addEventListener(a.default.MOUSE_DOUBLE_CLICK,_)),e.deactivate&&e.deactivate(t,r),o.default.cornerstone.updateImage(t)},getConfiguration:function(){return t},setConfiguration:function(e){t=e},mouseDownCallback:E,mouseMoveCallback:p,mouseDownActivateCallback:h};return e.pointNearTool&&(S.pointNearTool=e.pointNearTool),_&&(S.mouseDoubleClickCallback=_),e.addNewMeasurement&&(S.addNewMeasurement=e.addNewMeasurement),S};var a=h(n(1)),o=h(n(0)),r=h(n(39)),i=h(n(25)),l=h(n(32)),u=h(n(31)),d=h(n(30)),s=h(n(38)),c=h(n(15)),f=h(n(5)),v=n(2),g=h(n(6)),m=n(4);function h(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.textBoxWidth=l,t.default=function(e,t,n,a,o,u){\"[object Array]\"!==Object.prototype.toString.call(t)&&(t=[t]);var d=r.default.getFontSize(),s=r.default.getBackgroundColor(),c=0;t.forEach(function(t){var n=l(e,t,5);c=Math.max(c,n)});var f={width:c,height:5+t.length*(d+5)};return(0,i.draw)(e,function(e){e.strokeStyle=o,u&&u.centering&&!0===u.centering.x&&(n-=f.width/2),u&&u.centering&&!0===u.centering.y&&(a-=f.height/2),f.left=n,f.top=a;var r=u&&!0===u.debug?\"#FF0000\":s;(0,i.fillBox)(e,f,r),(0,i.fillTextLines)(e,f,t,o,5)}),f};var a,o=n(21),r=(a=o)&&a.__esModule?a:{default:a},i=n(3);function l(e,t,n){var a=r.default.getFont(),o=e.font;a&&a!==o&&(e.font=a);var i=e.measureText(t).width;return a&&a!==o&&(e.font=o),i+2*n}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=f(n(1)),o=f(n(0)),r=f(n(15)),i=f(n(25)),l=f(n(59)),u=f(n(28)),d=f(n(60)),s=n(2),c=f(n(6));function f(e){return e&&e.__esModule?e:{default:e}}function v(e){Object.keys(e).forEach(function(t){e[t].active=!1})}function g(e){if(e)for(var t=0;t<e.data.length;t++){var n=e.data[t];n.active=!1,n.handles&&v(n.handles)}}t.default=function(e){function t(i){var l=i.detail;e.addNewMeasurement?e.addNewMeasurement(l):function(i){var l=o.default.cornerstone,d=i.element,c=e.createNewMeasurement(i);if(c){if((0,s.addToolState)(d,e.toolType,c),1===Object.keys(c.handles).length&&i.type===a.default.TAP)return c.active=!1,c.handles.end.active=!1,c.handles.end.highlight=!1,c.invalidated=!0,(0,r.default)(i,c.handles)&&(0,s.removeToolState)(d,e.toolType,c),void l.updateImage(d);d.removeEventListener(a.default.TOUCH_START_ACTIVE,e.touchDownActivateCallback||t),d.removeEventListener(a.default.TAP,e.tapCallback||n),d.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),l.updateImage(d),(0,u.default)(i,e.toolType,c,c.handles.end,function(){c.active=!1,c.invalidated=!0,(0,r.default)(i,c.handles)&&(0,s.removeToolState)(d,e.toolType,c),d.addEventListener(a.default.TOUCH_START_ACTIVE,e.touchDownActivateCallback||t),d.addEventListener(a.default.TAP,e.tapCallback||n),d.addEventListener(a.default.TOUCH_START,e.touchStartCallback||f),l.updateImage(d)})}}(l),i.stopImmediatePropagation(),i.preventDefault()}function n(u){var c=u.detail,v=o.default.cornerstone,m=c.element,h=c.currentPoints.canvas,p=(0,s.getToolState)(u.currentTarget,e.toolType),E=void 0,T=void 0;function y(){g(p),(0,r.default)(c,E.handles)&&(0,s.removeToolState)(m,e.toolType,E),v.updateImage(m),m.addEventListener(a.default.TOUCH_START,e.touchStartCallback||f),m.addEventListener(a.default.TAP,e.tapCallback||n)}if(g(p),p)for(T=0;T<p.data.length;T++){E=p.data[T];var M=(0,i.default)(m,E.handles,h,25);if(M)return m.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),m.removeEventListener(a.default.TAP,e.tapCallback||n),E.active=!0,M.active=!0,v.updateImage(m),(0,l.default)(u,e.toolType,E,M,y),u.stopImmediatePropagation(),void u.preventDefault()}if(p&&e.pointNearTool)for(T=0;T<p.data.length;T++)if(E=p.data[T],e.pointNearTool(m,E,h))return m.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),m.removeEventListener(a.default.TAP,e.tapCallback||n),E.active=!0,v.updateImage(m),(0,d.default)(u,E,p,e.toolType,!0,y),u.stopImmediatePropagation(),void u.preventDefault();return e.touchDownActivateCallback?e.touchDownActivateCallback(u):t(u),!1}function f(t){var u=t.detail,v=o.default.cornerstone,g=u.element,m=u.startPoints.canvas,h=void 0,p=(0,s.getToolState)(t.currentTarget,e.toolType),E=void 0;function T(t,o){h.active=!1,h.invalidated=!0,(0,r.default)(u,h.handles)&&(0,s.removeToolState)(u.element,e.toolType,h),v.updateImage(u.element),g.addEventListener(a.default.TOUCH_START,e.touchStartCallback||f),g.addEventListener(a.default.TAP,e.tapCallback||n),e.pressCallback&&g.addEventListener(a.default.TOUCH_PRESS,e.pressCallback),t&&t.type===a.default.TOUCH_PRESS&&(0,c.default)(g,t.type,o)}if(p){for(E=0;E<p.data.length;E++){h=p.data[E];var y=(0,i.default)(u.element,h.handles,m,28);if(y)return g.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),g.removeEventListener(a.default.TAP,e.tapCallback||n),e.pressCallback&&g.removeEventListener(a.default.TOUCH_PRESS,e.pressCallback),h.active=!0,(0,l.default)(t,e.toolType,h,y,T),t.stopImmediatePropagation(),t.preventDefault(),void t.stopPropagation()}if(e.pointNearTool)for(E=0;E<p.data.length;E++)if(h=p.data[E],e.pointNearTool(u.element,h,m))return g.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),g.removeEventListener(a.default.TAP,e.tapCallback||n),e.pressCallback&&g.removeEventListener(a.default.TOUCH_PRESS,e.pressCallback),(0,d.default)(t,h,p,e.toolType,!0,T),t.stopImmediatePropagation(),t.preventDefault(),void t.stopPropagation()}}var v={enable:function(r){r.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),r.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),r.removeEventListener(a.default.TOUCH_START_ACTIVE,e.touchDownActivateCallback||t),r.removeEventListener(a.default.TAP,e.tapCallback||n),r.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),e.doubleTapCallback&&r.removeEventListener(a.default.DOUBLE_TAP,e.doubleTapCallback),e.pressCallback&&r.removeEventListener(a.default.TOUCH_PRESS,e.pressCallback),o.default.cornerstone.updateImage(r)},disable:function(r){r.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),r.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),r.removeEventListener(a.default.TOUCH_START_ACTIVE,e.touchDownActivateCallback||t),r.removeEventListener(a.default.TAP,e.tapCallback||n),e.doubleTapCallback&&r.removeEventListener(a.default.DOUBLE_TAP,e.doubleTapCallback),e.pressCallback&&r.removeEventListener(a.default.TOUCH_PRESS,e.pressCallback),o.default.cornerstone.updateImage(r)},activate:function(r){r.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),r.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),r.removeEventListener(a.default.TOUCH_START_ACTIVE,e.touchDownActivateCallback||t),r.removeEventListener(a.default.TAP,e.tapCallback||n),r.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),r.addEventListener(a.default.TOUCH_START,e.touchStartCallback||f),r.addEventListener(a.default.TOUCH_START_ACTIVE,e.touchDownActivateCallback||t),r.addEventListener(a.default.TAP,e.tapCallback||n),e.doubleTapCallback&&(r.removeEventListener(a.default.DOUBLE_TAP,e.doubleTapCallback),r.addEventListener(a.default.DOUBLE_TAP,e.doubleTapCallback)),e.pressCallback&&(r.removeEventListener(a.default.TOUCH_PRESS,e.pressCallback),r.addEventListener(a.default.TOUCH_PRESS,e.pressCallback)),o.default.cornerstone.updateImage(r)},deactivate:function(r){var i=a.default.TOOL_DEACTIVATED,l={toolType:e.toolType,type:i};(0,c.default)(r,i,l),r.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),r.removeEventListener(a.default.TOUCH_START,e.touchStartCallback||f),r.removeEventListener(a.default.TOUCH_START_ACTIVE,e.touchDownActivateCallback||t),r.removeEventListener(a.default.TAP,e.tapCallback||n),r.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),r.addEventListener(a.default.TOUCH_START,e.touchStartCallback||f),e.doubleTapCallback&&r.removeEventListener(a.default.DOUBLE_TAP,e.doubleTapCallback),e.pressCallback&&r.removeEventListener(a.default.TOUCH_PRESS,e.pressCallback),o.default.cornerstone.updateImage(r)},touchStartCallback:e.touchStartCallback||f,touchDownActivateCallback:e.touchDownActivateCallback||t,tapCallback:e.tapCallback||n};return e.pointNearTool&&(v.pointNearTool=e.pointNearTool),e.doubleTapCallback&&(v.doubleTapCallback=e.doubleTapCallback),e.pressCallback&&(v.pressCallback=e.pressCallback),e.addNewMeasurement&&(v.addNewMeasurement=e.addNewMeasurement),v}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=void 0,o=void 0,r=void 0;var i={setStartLoadHandler:function(e){a=e},getStartLoadHandler:function(){return a},setEndLoadHandler:function(e){o=e},getEndLoadHandler:function(){return o},setErrorLoadingHandler:function(e){r=e},getErrorLoadingHandler:function(){return r}};t.default=i},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=1,o=2;var r={setToolWidth:function(e){a=e},getToolWidth:function(){return a},setActiveWidth:function(e){o=e},getActiveWidth:function(){return o}};t.default=r},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=e.image,a={left:0,top:0,width:n.width,height:n.height},o=!1;return Object.keys(t).forEach(function(e){var n=t[e];!0!==n.allowedOutsideImage&&!1===r.default.cornerstoneMath.point.insideRect(n,a)&&(o=!0)}),o};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(!t)throw new Error(\"simpleMouseButtonTool: toolType is required\");var n={};return{activate:function(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.mouseButtonMask=a,(0,i.setToolOptions)(t,n,o),n.removeEventListener(r.default.MOUSE_DOWN_ACTIVATE,e),n.addEventListener(r.default.MOUSE_DOWN_ACTIVATE,e)},disable:function(t){t.removeEventListener(r.default.MOUSE_DOWN_ACTIVATE,e)},enable:function(t){t.removeEventListener(r.default.MOUSE_DOWN_ACTIVATE,e)},deactivate:function(t){t.removeEventListener(r.default.MOUSE_DOWN_ACTIVATE,e)},getConfiguration:function(){return n},setConfiguration:function(e){n=e}}};var a,o=n(1),r=(a=o)&&a.__esModule?a:{default:a},i=n(4)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,i,l,u,d,s,c,f){var v=a.default.cornerstone,g=v.pixelToCanvas(t,n);c&&(g.x+=c);var m={centering:{x:!1,y:f}};if(n.boundingBox=(0,o.default)(e,i,g.x,g.y,d,m),n.hasMoved){var h=u(l).map(function(e){return v.pixelToCanvas(t,e)});(0,r.default)(h,g,n.boundingBox,e,d,s)}};var a=i(n(0)),o=i(n(11)),r=i(n(106));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){var a=[r.default.TOUCH_DRAG];return n&&!0===n.fireOnTouchStart&&a.push(r.default.TOUCH_START),{activate:function(o){n&&n.eventData&&(0,i.setToolOptions)(t,o,n.eventData),a.forEach(function(t){o.removeEventListener(t,e),o.addEventListener(t,e)}),n&&n.activateCallback&&n.activateCallback(o),n&&n.touchStartCallback&&o.addEventListener(r.default.TOUCH_START,n.touchStartCallback),n&&n.touchEndCallback&&o.addEventListener(r.default.TOUCH_END,n.touchEndCallback)},disable:function(t){a.forEach(function(n){t.removeEventListener(n,e)}),n&&n.disableCallback&&n.disableCallback(t),n&&n.touchStartCallback&&t.removeEventListener(r.default.TOUCH_START,n.touchStartCallback),n&&n.touchEndCallback&&t.removeEventListener(r.default.TOUCH_END,n.touchEndCallback)},enable:function(t){a.forEach(function(n){t.removeEventListener(n,e)}),n&&n.enableCallback&&n.enableCallback(t),n&&n.touchStartCallback&&t.removeEventListener(r.default.TOUCH_START,n.touchStartCallback),n&&n.touchEndCallback&&t.removeEventListener(r.default.TOUCH_END,n.touchEndCallback)},deactivate:function(t){a.forEach(function(n){t.removeEventListener(n,e)}),n&&n.deactivateCallback&&n.deactivateCallback(t),n&&n.touchStartCallback&&t.removeEventListener(r.default.TOUCH_START,n.touchStartCallback),n&&n.touchEndCallback&&t.removeEventListener(r.default.TOUCH_END,n.touchEndCallback)}}};var a,o=n(1),r=(a=o)&&a.__esModule?a:{default:a},i=n(4)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=r.default.cornerstoneMath;if(e instanceof t.Vector3)return e;return new t.Vector3(e[0],e[1],e[2])};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=r.default.cornerstone,a=n.metaData.get(\"patientStudyModule\",e.imageId),o=n.metaData.get(\"generalSeriesModule\",e.imageId);if(a&&o&&\"PT\"===o.modality){var l=t*e.slope+e.intercept,u=a.patientWeight;if(u){var d=n.metaData.get(\"petIsotopeModule\",e.imageId);if(d){var s=d.radiopharmaceuticalInfo,c=s.radiopharmaceuticalStartTime,f=s.radionuclideTotalDose,v=s.radionuclideHalfLife,g=o.seriesTime;if(c&&f&&v&&g){var m=i(g.fractionalSeconds||0)+g.seconds+60*g.minutes+60*g.hours*60-(i(c.fractionalSeconds)+c.seconds+60*c.minutes+60*c.hours*60);return l*u/(f*Math.exp(-m*Math.log(2)/v))*1e3}}}}};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a};function i(e){return parseFloat(\".\"+e)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=15,o=a+\"px Arial\",r=\"transparent\";var i={setFont:function(e){o=e},getFont:function(){return o},setFontSize:function(e){a=e},getFontSize:function(){return a},setBackgroundColor:function(e){r=e},getBackgroundColor:function(){return r}};t.default=i},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(e.boundingBox)return r.default.cornerstoneMath.point.insideRect(t,e.boundingBox)};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.freehand=void 0;var a=b(n(1)),o=b(n(0)),r=b(n(14)),i=b(n(7)),l=b(n(9)),u=b(n(32)),d=b(n(22)),s=b(n(20)),c=b(n(6)),f=b(n(5)),v=b(n(17)),g=n(2),m=n(4),h=n(8),p=n(55),E=b(n(100)),T=b(n(99)),y=b(n(98)),M=b(n(96)),_=b(n(95)),S=b(n(54)),x=n(35),O=n(3);function b(e){return e&&e.__esModule?e:{default:e}}function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var P=\"freehand\",I={mouseLocation:{handles:{start:{highlight:!0,active:!0}}},keyDown:{shift:!1,ctrl:!1,alt:!1},activePencilMode:!1,spacing:5,activeHandleRadius:3,completeHandleRadius:6,alwaysShowHandles:!1,invalidColor:\"crimson\",modifying:!1,movingTextBox:!1,currentHandle:0,currentTool:-1};function L(e,t,n){return null!==w(e,t,n)}function w(e,t,n){var a=F.getConfiguration();if(void 0===t.handles)return null;if(!1===t.visible)return null;for(var r=0;r<t.handles.length;r++){var i=o.default.cornerstone.pixelToCanvas(e,t.handles[r]);if(o.default.cornerstoneMath.point.distance(i,n)<a.spacing)return r}return t.textBox&&(0,d.default)(t.textBox,n)?t.textBox:null}function D(e){var t=e.detail,n=t.element,o=F.getConfiguration(),r=(0,m.getToolOptions)(P,n);(0,f.default)(t.which,r.mouseButtonMask)&&(t.event.shiftKey&&(o.activePencilMode=!0),function(e){e.element.addEventListener(a.default.MOUSE_MOVE,R);var t={visible:!0,active:!0,invalidated:!0,color:void 0,handles:[],textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}},n=F.getConfiguration();n.mouseLocation.handles.start.x=e.currentPoints.image.x,n.mouseLocation.handles.start.y=e.currentPoints.image.y,(0,g.addToolState)(e.element,P,t);var o=(0,g.getToolState)(e.element,P);n.currentTool=o.data.length-1}(t),U(t),e.preventDefault(),e.stopPropagation())}function U(e){var t=(0,g.getToolState)(e.element,P);if(void 0!==t){var n=F.getConfiguration(),a=t.data[n.currentTool];if(!a.handles.invalidHandlePlacement){var r=new x.FreehandHandleData(e.currentPoints.image);a.handles.length&&a.handles[n.currentHandle-1].lines.push(e.currentPoints.image),a.handles.push(r),n.currentHandle+=1,o.default.cornerstone.updateImage(e.element)}}}function A(e,t){var n=(0,g.getToolState)(e.element,P);if(n){var a=F.getConfiguration(),r=n.data[a.currentTool];r.active=!1,r.highlight=!1,r.handles.invalidHandlePlacement=!1,void 0!==t&&r.handles[a.currentHandle-1].lines.push(r.handles[0]),a.modifying&&(a.modifying=!1,r.invalidated=!0),a.currentHandle=0,a.currentTool=-1,a.activePencilMode=!1,r.canComplete=!1,o.default.cornerstone.updateImage(e.element)}}function k(e){var t=e.detail,n=t.element,o=(0,m.getToolOptions)(P,n);if((0,f.default)(t.which,o.mouseButtonMask)){var r=F.getConfiguration().currentTool;if(r<0)!function(e){var t=e.detail,n=function(e){var t=e.element,n=e.currentPoints.canvas,a=(0,g.getToolState)(t,P);if(a)for(var o=void 0,r=0;r<a.data.length;r++)if(null!==(o=w(t,a.data[r],n)))return{handleNearby:o,toolIndex:r}}(t);t.event.ctrlKey?(0,y.default)(e,n):void 0!==n&&function(e,t){var n=e.detail,o=n.element,r=(0,g.getToolState)(n.element,P),i=t.handleNearby;i.hasBoundingBox?function(e,t){var n=F.getConfiguration(),o=t.handleNearby,r=t.toolIndex;e.addEventListener(a.default.MOUSE_UP,H),e.addEventListener(a.default.MOUSE_DRAG,N),n.movingTextBox=!0,n.currentHandle=o,n.currentTool=r}(o,t):void 0!==i&&function(e,t,n){var o=F.getConfiguration(),r=t.handleNearby,i=t.toolIndex;e.removeEventListener(a.default.MOUSE_MOVE,R),o.dragOrigin={x:n.data[i].handles[r].x,y:n.data[i].handles[r].y},e.addEventListener(a.default.MOUSE_UP,H),e.addEventListener(a.default.MOUSE_CLICK,H),e.addEventListener(a.default.MOUSE_DRAG,N),o.modifying=!0,o.currentHandle=r,o.currentTool=i}(o,t,r);e.preventDefault(),e.stopPropagation()}(e,n)}(e);else{var i=(0,g.getToolState)(t.element,P);r>=0&&i.data[r].active&&function(e,t,n){var a=e.detail,o=F.getConfiguration(),r=a.element,i=t.data[n],l=w(r,i,a.currentPoints.canvas);!S.default.end(i.handles)&&i.canComplete?A(a,o.currentHandle):null===l&&U(a),e.preventDefault(),e.stopPropagation()}(e,i,r)}}}function R(e){var t=e.detail,n=(0,g.getToolState)(t.element,P);if(n){if(F.getConfiguration().currentTool<0){if(!function(e,t){for(var n=!1,a=0;a<t.data.length;a++){var o=e.element,r=t.data[a],i=e.currentPoints.canvas;!0===(0,u.default)(o,r.handles,i)&&(n=!0),(L(o,r,i)&&!r.active||!L(o,r,i)&&r.active)&&(r.active=!r.active,n=!0),!0===r.textBox&&(0,d.default)(r.textBox,i)&&(r.active=!r.active,r.highlight=!r.highlight,n=!0)}return n}(t,n))return}else!function(e,t){var n=F.getConfiguration(),a=n.currentTool,r=e.element,i=t.data[a],l=e.currentPoints.canvas;if(j(e),function(e){var t=F.getConfiguration();if(e.handles.length<2)return!0;var n=void 0;n=t.activePencilMode?function(e){var t=F.getConfiguration().mouseLocation.handles.start,n=e.handles,a=S.default.newHandle(t,n);return!1===a&&(a=function(e,t){var n=F.getConfiguration(),a=e.handles;if(o.default.cornerstoneMath.point.distance(a[0],t)<n.spacing)return e.canComplete=!0,!1;e.canComplete=!1;for(var r=1;r<a.length-1;r++)if(o.default.cornerstoneMath.point.distance(a[r],t)<n.spacing)return!0;return!1}(e,t)),a}(e):function(e){var t=F.getConfiguration(),n=t.mouseLocation.handles.start,a=e.handles,r=!1;return e.canComplete=!1,o.default.cornerstoneMath.point.distance(a[0],n)<t.spacing&&!S.default.end(a)?(e.canComplete=!0,r=!1):r=S.default.newHandle(n,a),r}(e),e.handles.invalidHandlePlacement=n}(i),n.activePencilMode)!function(e,t){for(var n=F.getConfiguration(),a=n.mouseLocation.handles.start,r=0;r<t.length;r++)if(o.default.cornerstoneMath.point.distance(t[r],a)<n.spacing)return;U(e)}(e,i.handles);else{var u=w(r,i,l);null!==u&&!u.hasBoundingBox&&u<i.handles.length-1&&(n.mouseLocation.handles.start.x=i.handles[u].x,n.mouseLocation.handles.start.y=i.handles[u].y)}}(t,n);o.default.cornerstone.updateImage(t.element)}}function N(e){var t=e.detail,n=(0,g.getToolState)(t.element,P);if(n){var a=F.getConfiguration(),r=n.data[a.currentTool],i=a.currentHandle;j(t),a.currentTool>=0&&(0,E.default)(i,r),o.default.cornerstone.updateImage(t.element)}}function H(e){var t=e.detail,n=t.element,r=(0,g.getToolState)(t.element,P);(n.removeEventListener(a.default.MOUSE_UP,H),n.removeEventListener(a.default.MOUSE_DRAG,N),n.removeEventListener(a.default.MOUSE_CLICK,H),n.addEventListener(a.default.MOUSE_MOVE,R),void 0!==r)&&(\"handle\"===(0,T.default)(e,r)&&A(t),e.preventDefault(),e.stopPropagation(),o.default.cornerstone.updateImage(t.element))}function j(e){var t=F.getConfiguration();t.mouseLocation.handles.start.x=e.currentPoints.image.x,t.mouseLocation.handles.start.y=e.currentPoints.image.y,(0,h.clipToBox)(t.mouseLocation.handles.start,e.image)}function V(e){var t=e.toString().split(\".\");return t[0]=t[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"),t.join(\".\")}function B(e){var t=e.detail,n=(0,g.getToolState)(e.currentTarget,P);if(void 0!==n){var a=o.default.cornerstone,u=t.image,d=t.element,c=F.getConfiguration(),f=a.metaData.get(\"generalSeriesModule\",u.imageId),m=void 0;f&&(m=f.modality);for(var h=(0,O.getNewContext)(t.canvasContext.canvas),p=r.default.getToolWidth(),E=function(e){var o=n.data[e];if(!1===o.visible)return\"continue\";(0,O.draw)(h,function(e){var n=i.default.getColorIfActive(o),r=void 0;if(o.active?o.handles.invalidHandlePlacement?(n=c.invalidColor,r=c.invalidColor):(n=i.default.getColorIfActive(o),r=i.default.getFillColor()):r=i.default.getToolColor(),o.handles.length)for(var f=0;f<o.handles.length;f++){var g=[].concat(C(o.handles[f].lines));f!==o.handles.length-1||o.polyBoundingBox||g.push(c.mouseLocation.handles.start),(0,O.drawJoinedLines)(e,t.element,o.handles[f],g,{color:n})}var h={fill:r};(c.alwaysShowHandles||c.keyDown.ctrl||o.active&&o.polyBoundingBox)&&(h.handleRadius=c.activeHandleRadius,(0,l.default)(e,t,o.handles,n,h)),o.canComplete&&(h.handleRadius=c.completeHandleRadius,(0,l.default)(e,t,[o.handles[0]],n,h)),o.active&&!o.polyBoundingBox&&(h.handleRadius=c.activeHandleRadius,(0,l.default)(e,t,c.mouseLocation.handles,n,h),(0,l.default)(e,t,[o.handles[0]],n,h));var E=void 0,T=void 0,S=void 0;if(!1===o.invalidated)T=o.meanStdDev,S=o.meanStdDevSUV,E=o.area;else if(!o.active){for(var x={left:o.handles[0].x,right:o.handles[0].x,bottom:o.handles[0].y,top:o.handles[0].x},b=0;b<o.handles.length;b++)x.left=Math.min(x.left,o.handles[b].x),x.right=Math.max(x.right,o.handles[b].x),x.bottom=Math.min(x.bottom,o.handles[b].y),x.top=Math.max(x.top,o.handles[b].y);var P={left:x.left,top:x.bottom,width:Math.abs(x.right-x.left),height:Math.abs(x.top-x.bottom)};if(o.polyBoundingBox=P,!u.color){var I=a.getPixels(d,P.left,P.top,P.width,P.height);T=(0,_.default)(I,P,o.handles),\"PT\"===m&&(S={mean:(0,s.default)(u,(T.mean-u.intercept)/u.slope),stdDev:(0,s.default)(u,(T.stdDev-u.intercept)/u.slope)}),T&&!isNaN(T.mean)&&(o.meanStdDev=T,o.meanStdDevSUV=S)}var L=(u.columnPixelSpacing||1)*(u.rowPixelSpacing||1);E=(0,M.default)(o.handles,L),isNaN(E)||(o.area=E),o.invalidated=!1}if(o.polyBoundingBox&&!o.textBox.freehand){o.textBox.hasMoved||(o.textBox.x=o.polyBoundingBox.left+o.polyBoundingBox.width,o.textBox.y=o.polyBoundingBox.top+o.polyBoundingBox.height/2);var w=function(e){var t=e.meanStdDev,n=e.meanStdDevSUV,a=e.area,o=[];if(t&&void 0!==t.mean){var r=\"\";\"CT\"===m&&(r=\" HU\");var i=\"Mean: \"+V(t.mean.toFixed(2))+r,l=\"StdDev: \"+V(t.stdDev.toFixed(2))+r;if(n&&void 0!==n.mean){i+=\" SUV: \"+V(n.mean.toFixed(2)),l+=\" SUV: \"+V(n.stdDev.toFixed(2))}o.push(i),o.push(l)}if(a){var d=\" mm\"+String.fromCharCode(178);u.rowPixelSpacing&&u.columnPixelSpacing||(d=\" pixels\"+String.fromCharCode(178));var s=\"Area: \"+V(a.toFixed(2))+d;o.push(s)}return o}(o);(0,v.default)(e,d,o.textBox,w,o.handles,y,n,p,0,!0)}})},T=0;T<n.data.length;T++)E(T)}function y(e){return e}}function W(e){e.removeEventListener(a.default.MOUSE_DOWN,k),e.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,D),e.removeEventListener(a.default.MOUSE_DRAG,N),e.removeEventListener(a.default.MOUSE_UP,H),e.removeEventListener(a.default.MOUSE_MOVE,R),e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,B),e.removeEventListener(a.default.KEY_DOWN,p.keyDownCallback),e.removeEventListener(a.default.KEY_UP,p.keyUpCallback)}function G(e){var t=F.getConfiguration();t.currentTool>=0&&A(e,t.currentHandle)}var F={enable:function(e){G(e),W(e),e.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,B),o.default.cornerstone.updateImage(e)},disable:function(e){G(e),W(e),o.default.cornerstone.updateImage(e)},activate:function(e,t){(0,m.setToolOptions)(P,e,{mouseButtonMask:t}),W(e),e.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,B),e.addEventListener(a.default.MOUSE_MOVE,R),e.addEventListener(a.default.MOUSE_DOWN,k),e.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,D),e.addEventListener(a.default.KEY_DOWN,p.keyDownCallback),e.addEventListener(a.default.KEY_UP,p.keyUpCallback),o.default.cornerstone.updateImage(e)},deactivate:function(e,t){(0,m.setToolOptions)(P,e,{mouseButtonMask:t});var n=a.default.TOOL_DEACTIVATED,r={mouseButtonMask:t,toolType:P,type:n};(0,c.default)(e,n,r),G(e),W(e),e.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,B),e.addEventListener(a.default.MOUSE_MOVE,R),e.addEventListener(a.default.MOUSE_DOWN,k),e.addEventListener(a.default.KEY_DOWN,p.keyDownCallback),e.addEventListener(a.default.KEY_UP,p.keyUpCallback),o.default.cornerstone.updateImage(e)},getConfiguration:function(){return I},setConfiguration:function(e){I=e},pointNearTool:L};t.freehand=F},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t={};return{disable:function(t){t.removeEventListener(r.default.cornerstone.EVENTS.IMAGE_RENDERED,e)},enable:function(t){t.removeEventListener(r.default.cornerstone.EVENTS.IMAGE_RENDERED,e),t.addEventListener(r.default.cornerstone.EVENTS.IMAGE_RENDERED,e),r.default.cornerstone.updateImage(t)},getConfiguration:function(){return t},setConfiguration:function(e){t=e}}};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,r){var i=void 0;if(t)return Object.keys(t).forEach(function(l){var u=t[l];if(u.hasOwnProperty(\"pointNearHandle\")){if(u.pointNearHandle(e,u,n))return void(i=u)}else if(!0===u.hasBoundingBox){if((0,o.default)(u,n))return void(i=u)}else{var d=a.default.cornerstone.pixelToCanvas(e,u);if(a.default.cornerstoneMath.point.distance(d,n)<=r)return void(i=u)}}),i};var a=r(n(0)),o=r(n(22));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.globalImageIdSpecificToolStateManager=t.newImageIdSpecificToolStateManager=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a};function i(){var e={};return{get:function(t,n){var a=r.default.cornerstone.getEnabledElement(t);if(a.image&&!1!==e.hasOwnProperty(a.image.imageId)){var o=e[a.image.imageId];if(!1!==o.hasOwnProperty(n))return o[n]}},add:function(t,n,a){var o=r.default.cornerstone.getEnabledElement(t);o.image&&!1!==e.hasOwnProperty(o.image.imageId)||(e[o.image.imageId]={});var i=e[o.image.imageId];!1===i.hasOwnProperty(n)&&(i[n]={data:[]}),i[n].data.push(a)},clear:function(t){var n=r.default.cornerstone.getEnabledElement(t);n.image&&!1!==e.hasOwnProperty(n.image.imageId)&&delete e[n.image.imageId]},saveImageIdToolState:function(t){return e[t]},restoreImageIdToolState:function(t,n){e[t]=n},saveToolState:function(){return e},restoreToolState:function(t){e=t},toolState:e}}var l=i();t.newImageIdSpecificToolStateManager=i,t.globalImageIdSpecificToolStateManager=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,a){var o=r.default.cornerstone,i={start:o.pixelToCanvas(e,t),end:o.pixelToCanvas(e,n)};return r.default.cornerstoneMath.lineSegment.distanceToPoint(i,a)};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,l,u,d){var s=o.default.cornerstone,c=e.element,f=s.pageToPixel(c,e.currentPoints.page.x,e.currentPoints.page.y+50),v={x:l.x-f.x,y:l.y-f.y};function g(e){var o=e.detail;l.x=o.currentPoints.image.x+v.x,l.y=o.currentPoints.image.y+v.y,d&&(0,i.clipToBox)(l,o.image),s.updateImage(c);var u=a.default.MEASUREMENT_MODIFIED,f={toolType:t,element:c,measurementData:n};(0,r.default)(c,u,f)}function m(e){var t=e.detail;if(c.removeEventListener(a.default.TOUCH_DRAG,g),c.removeEventListener(a.default.TOUCH_PINCH,m),c.removeEventListener(a.default.TOUCH_END,m),c.removeEventListener(a.default.TAP,m),c.removeEventListener(a.default.TOUCH_START,h),c.removeEventListener(a.default.TOOL_DEACTIVATED,p),e.type===a.default.TOUCH_PINCH||e.type===a.default.TOUCH_PRESS)return l.active=!1,s.updateImage(c),void u();l.active=!1,n.active=!1,l.x=t.currentPoints.image.x+v.x,l.y=t.currentPoints.image.y+v.y,d&&(0,i.clipToBox)(l,t.image),s.updateImage(c),\"function\"==typeof u&&u()}function h(e){return e.stopImmediatePropagation(),!1}function p(){c.removeEventListener(a.default.TOUCH_DRAG,g),c.removeEventListener(a.default.TOUCH_PINCH,m),c.removeEventListener(a.default.TOUCH_END,m),c.removeEventListener(a.default.TAP,m),c.removeEventListener(a.default.TOUCH_START,h),c.removeEventListener(a.default.TOOL_DEACTIVATED,p),l.active=!1,n.active=!1,l.x=e.currentPoints.image.x+v.x,l.y=e.currentPoints.image.y+v.y,d&&(0,i.clipToBox)(l,e.image),s.updateImage(c)}l.active=!0,n.active=!0,c.addEventListener(a.default.TOUCH_DRAG,g),c.addEventListener(a.default.TOUCH_PINCH,m),c.addEventListener(a.default.TOUCH_END,m),c.addEventListener(a.default.TAP,m),c.addEventListener(a.default.TOUCH_START,h),c.addEventListener(a.default.TOOL_DEACTIVATED,p)};var a=l(n(1)),o=l(n(0)),r=l(n(6)),i=n(8);function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){return{activate:function(t){t.removeEventListener(r.default.MOUSE_WHEEL,e),t.addEventListener(r.default.MOUSE_WHEEL,e)},disable:function(t){t.removeEventListener(r.default.MOUSE_WHEEL,e)},enable:function(t){t.removeEventListener(r.default.MOUSE_WHEEL,e)},deactivate:function(t){t.removeEventListener(r.default.MOUSE_WHEEL,e)}}};var a,o=n(1),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,l,u,d){var s=o.default.cornerstone,c=e.element;function f(e){var o=e.detail;l.active=!0,l.x=o.currentPoints.image.x,l.y=o.currentPoints.image.y,d&&(0,i.clipToBox)(l,o.image),s.updateImage(c);var u=a.default.MEASUREMENT_MODIFIED,f={toolType:t,element:c,measurementData:n};(0,r.default)(c,u,f)}function v(e){c.removeEventListener(a.default.MOUSE_MOVE,v),c.removeEventListener(a.default.MOUSE_DRAG,v),c.addEventListener(a.default.MOUSE_MOVE,f),c.addEventListener(a.default.MOUSE_DRAG,f),c.addEventListener(a.default.MOUSE_CLICK,h),e.type===a.default.MOUSE_DRAG&&c.addEventListener(a.default.MOUSE_UP,h)}function g(e){e.detail.measurementData===n&&h()}function m(e){e.detail.toolType===t&&(c.removeEventListener(a.default.MOUSE_MOVE,f),c.removeEventListener(a.default.MOUSE_DRAG,f),c.removeEventListener(a.default.MOUSE_CLICK,h),c.removeEventListener(a.default.MOUSE_UP,h),c.removeEventListener(a.default.MEASUREMENT_REMOVED,g),c.removeEventListener(a.default.TOOL_DEACTIVATED,m),l.active=!1,s.updateImage(c))}function h(){c.removeEventListener(a.default.MOUSE_MOVE,f),c.removeEventListener(a.default.MOUSE_DRAG,f),c.removeEventListener(a.default.MOUSE_CLICK,h),c.removeEventListener(a.default.MOUSE_UP,h),c.removeEventListener(a.default.MEASUREMENT_REMOVED,g),c.removeEventListener(a.default.TOOL_DEACTIVATED,m),l.active=!1,s.updateImage(c),\"function\"==typeof u&&u()}c.addEventListener(a.default.MOUSE_DRAG,v),c.addEventListener(a.default.MOUSE_MOVE,v),c.addEventListener(a.default.MEASUREMENT_REMOVED,g),c.addEventListener(a.default.TOOL_DEACTIVATED,m)};var a=l(n(1)),o=l(n(0)),r=l(n(6)),i=n(8);function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,l,u,d){var s=o.default.cornerstone,c=e.element,f={x:l.x-e.currentPoints.image.x,y:l.y-e.currentPoints.image.y};function v(e){var o=e.detail;!1===l.hasMoved&&(l.hasMoved=!0),l.active=!0,l.x=o.currentPoints.image.x+f.x,l.y=o.currentPoints.image.y+f.y,d&&(0,i.clipToBox)(l,o.image),s.updateImage(c);var u=a.default.MEASUREMENT_MODIFIED,v={toolType:t,element:c,measurementData:n};(0,r.default)(c,u,v)}function g(){l.active=!1,c.removeEventListener(a.default.MOUSE_DRAG,v),c.removeEventListener(a.default.MOUSE_UP,g),c.removeEventListener(a.default.MOUSE_CLICK,g),s.updateImage(c),\"function\"==typeof u&&u()}c.addEventListener(a.default.MOUSE_DRAG,v),c.addEventListener(a.default.MOUSE_UP,g),c.addEventListener(a.default.MOUSE_CLICK,g)};var a=l(n(1)),o=l(n(0)),r=l(n(6)),i=n(8);function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,a){a||(a=6);var o=function(e){var t=void 0;return Object.keys(e).forEach(function(n){var a=e[n];!0!==a.active||(t=a)}),t}(t),i=(0,r.default)(e,t,n,a);return o!==i&&(void 0!==i&&(i.active=!0),void 0!==o&&(o.active=!1),!0)};var a,o=n(25),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=void 0,o={default:6,IE:{9:6,10:8,default:8},Firefox:{default:6},Opera:{10:8,11:6,12:6,default:6},Chrome:{default:6},Safari:{default:6}};function r(){var e=navigator.userAgent,t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i)||[],n=void 0;return/trident/i.test(t[1])?\"IE \"+((n=/\\brv[ :]+(\\d+)/g.exec(e)||[])[1]||\"\"):\"Chrome\"===t[1]&&null!==(n=e.match(/\\b(OPR|Edge)\\/(\\d+)/))?n.slice(1).join(\" \").replace(\"OPR\",\"Opera\"):(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,\"-?\"],null!==(n=e.match(/version\\/(\\d+)/i))&&t.splice(1,1,n[1]),t.join(\" \"))}function i(){var e=r().split(\" \"),t=e[0],n=e[1],a=o[t];return a?a[n]?a[n]:a.default:o.default}t.getDefaultSimultaneousRequests=i,t.getMaxSimultaneousRequests=function(){return a||i()},t.setMaxSimultaneousRequests=function(e){a=e},t.getBrowserInfo=r,t.isMobileDevice=function(){return new RegExp(\"Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini\").test(navigator.userAgent)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.drawBrushOnCanvas=t.drawBrushPixels=void 0;var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},i=n(3);t.drawBrushPixels=function(e,t,n,a){e.forEach(function(e){var o,r=(o=e[0],e[1]*a+o);t[r]=n})},t.drawBrushOnCanvas=function(e,t,n,a){var o=r.default.cornerstone.pixelToCanvas(a,{x:0,y:0}),l=r.default.cornerstone.pixelToCanvas(a,{x:1,y:1}),u=l.x-o.x,d=l.y-o.y;(0,i.draw)(t,function(t){e.forEach(function(e){var o=r.default.cornerstone.pixelToCanvas(a,{x:e[0],y:e[1]}),l={left:o.x,top:o.y,width:u,height:d};(0,i.fillBox)(t,l,n)})})}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.FreehandHandleData=function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.x=t.x,this.y=t.y,this.highlight=n,this.active=a,this.lines=[]}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n={},a=[r.default.MULTI_TOUCH_DRAG];return t&&!0===t.fireOnTouchStart&&a.push(r.default.MULTI_TOUCH_START),{activate:function(n){a.forEach(function(t){n.removeEventListener(t,e),n.addEventListener(t,e)}),t&&t.activateCallback&&t.activateCallback(n)},disable:function(n){a.forEach(function(t){n.removeEventListener(t,e)}),t&&t.disableCallback&&t.disableCallback(n)},enable:function(n){a.forEach(function(t){n.removeEventListener(t,e)}),t&&t.enableCallback&&t.enableCallback(n)},deactivate:function(n){a.forEach(function(t){n.removeEventListener(t,e)}),t&&t.deactivateCallback&&t.deactivateCallback(n)},getConfiguration:function(){return n},setConfiguration:function(e){n=e}}};var a,o=n(1),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){var l=(0,o.getToolState)(e,\"timeSeries\");if(l&&l.data&&l.data.length){var u=a.default.cornerstone,d=l.data[0],s=d.stacks[d.currentStackIndex].currentImageIdIndex,c=d.currentStackIndex+t;if(n?(c>=d.stacks.length&&(c=0),c<0&&(c=d.stacks.length-1)):c=(0,i.default)(c,0,d.stacks.length-1),c!==d.currentStackIndex){var f=u.getViewport(e),v=d.stacks[c],g=r.default.getStartLoadHandler(),m=r.default.getEndLoadHandler(),h=r.default.getErrorLoadingHandler();g&&g(e);(!0===v.preventCache?u.loadImage(v.imageIds[s]):u.loadAndCacheImage(v.imageIds[s])).then(function(t){d.currentImageIdIndex!==s&&(v.currentImageIdIndex=s,d.currentStackIndex=c,u.displayImage(e,t,f),m&&m(e,t))},function(t){var n=v.imageIds[s];h&&h(e,n,t)})}}};var a=l(n(0)),o=n(2),r=l(n(13)),i=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,d,s,c){var f=o.default.cornerstone,v=e.detail.element;function g(e){var n=e.detail;t.active=!0,Object.keys(t.handles).forEach(function(e){var a=t.handles[e];!0!==a.movesIndependently&&(a.x+=n.deltaPoints.image.x,a.y+=n.deltaPoints.image.y,s.preventHandleOutsideImage&&(0,u.clipToBox)(a,n.image))}),f.updateImage(v);var o=a.default.MEASUREMENT_MODIFIED,r={toolType:d,element:v,measurementData:t};(0,l.default)(v,o,r),e.preventDefault(),e.stopPropagation()}function m(e){var n=e.detail;t.invalidated=!0,v.removeEventListener(a.default.MOUSE_DRAG,g),v.removeEventListener(a.default.MOUSE_UP,m),v.removeEventListener(a.default.MOUSE_CLICK,m),!0===s.deleteIfHandleOutsideImage&&(0,r.default)(n,t.handles)&&(0,i.removeToolState)(v,d,t),f.updateImage(v),\"function\"==typeof c&&c()}return v.addEventListener(a.default.MOUSE_DRAG,g),v.addEventListener(a.default.MOUSE_UP,m),v.addEventListener(a.default.MOUSE_CLICK,m),!0};var a=d(n(1)),o=d(n(0)),r=d(n(15)),i=n(2),l=d(n(6)),u=n(8);function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=void 0;var o={setCoords:function(e){a=e.currentPoints.canvas},getCoords:function(){return a}};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){return{page:r.default.cornerstoneMath.point.copy(e.page),image:r.default.cornerstoneMath.point.copy(e.image),client:r.default.cornerstoneMath.point.copy(e.client),canvas:r.default.cornerstoneMath.point.copy(e.canvas)}};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,a,o){if(!e)throw new Error(\"getRGBPixels: parameter element must not be undefined\");t=Math.round(t),n=Math.round(n);var i=r.default.cornerstone.getEnabledElement(e),l=[],u=0,d=i.image.getPixelData(),s=void 0,c=void 0,f=void 0;if(i.image.color)for(c=0;c<o;c++)for(f=0;f<a;f++){var v=d[s=4*((c+n)*i.image.columns+(f+t))],g=d[s+1],m=d[s+2],h=d[s+3];l[u++]=v,l[u++]=g,l[u++]=m,l[u++]=h}return l};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=e.width/2,a=e.height/2;if(n<=0||a<=0)return!1;var o=e.left+n,r=e.top+a,i=t.x-o,l=t.y-r;return i*i/(n*n)+l*l/(a*a)<=1}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=(0,o.getToolState)(e,\"stack\");if(l&&l.data&&l.data.length){var u=l.data[0];u.pending||(u.pending=[]);var d=u.currentImageIdIndex+t;if(n)d%=u.imageIds.length;else d=(0,r.default)(d,0,u.imageIds.length-1);if(i)(0,a.default)(e,d);else{var s={index:d};u.pending.push(s),function e(t,n,o){if(t.pending[0]===n){if(t.currentImageIdIndex===n.index)return t.pending.splice(t.pending.indexOf(n),1),void(t.pending.length>0&&e(t,t.pending[0],o));o.addEventListener(external.cornerstone.EVENTS.NEW_IMAGE,function e(r){t.imageIds.indexOf(r.detail.image.imageId)===n.index&&(t.pending.splice(t.pending.indexOf(n),1),o.removeEventListener(external.cornerstone.EVENTS.NEW_IMAGE,e),t.pending.length>0&&function e(t,n,o){if(t.pending[0]===n){if(t.currentImageIdIndex===n.index)return t.pending.splice(t.pending.indexOf(n),1),void(t.pending.length>0&&e(t,t.pending[0],o));o.addEventListener(external.cornerstone.EVENTS.NEW_IMAGE,function a(r){t.imageIds.indexOf(r.detail.image.imageId)===n.index&&(t.pending.splice(t.pending.indexOf(n),1),o.removeEventListener(external.cornerstone.EVENTS.NEW_IMAGE,a),t.pending.length>0&&e(t,t.pending[0],o))}),(0,a.default)(o,n.index)}}(t,t.pending[0],o))}),(0,a.default)(o,n.index)}}(u,s,e)}}};var a=i(n(65)),o=n(2),r=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){if(e.pending[0]===t){if(e.currentImageIdIndex===t.index){e.pending.splice(e.pending.indexOf(t),1);if(e.pending.length>0){l(e,e.pending[0],n)}return}var o=function a(o){var r;if(e.imageIds.indexOf(o.detail.image.imageId)===t.index){e.pending.splice(e.pending.indexOf(t),1);n.removeEventListener(external.cornerstone.EVENTS.NEW_IMAGE,a);if(e.pending.length>0){l(e,e.pending[0],n)}}};n.addEventListener(external.cornerstone.EVENTS.NEW_IMAGE,o);(0,a.default)(n,t.index)}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},i=n(33);var l={interaction:[],thumbnail:[],prefetch:[]},u={interaction:0,thumbnail:0,prefetch:0},d={interaction:6,thumbnail:6,prefetch:5},s=!1,c=20;function f(){s&&setTimeout(function(){g()},c)}function v(e){var t=r.default.cornerstone,n=e.type;u[n]++,s=!0;var a=e.imageId,o=e.doneCallback,i=e.failCallback,l=t.imageCache.getImageLoadObject(a);if(l)l.promise.then(function(e){u[n]--,o(e),f()},function(e){u[n]--,i(e),f()});else{var d=function(e){return\"prefetch\"===e.type?-5:\"interactive\"===e.type?0:\"thumbnail\"===e.type?5:void 0}(e);(!0===e.preventCache?t.loadImage(a,{priority:d,type:e.type}):t.loadAndCacheImage(a,{priority:d,type:e.type})).then(function(e){u[n]--,o(e),f()},function(e){u[n]--,i(e),f()})}}function g(){var e=(0,i.getMaxSimultaneousRequests)();d={interaction:Math.max(e,1),thumbnail:Math.max(e-2,1),prefetch:Math.max(e-1,1)};for(var t=e-(u.interaction+u.thumbnail+u.prefetch),n=0;n<t;n++){var a=m();a&&v(a)}}function m(){return l.interaction.length&&u.interaction<d.interaction?l.interaction.shift():l.thumbnail.length&&u.thumbnail<d.thumbnail?l.thumbnail.shift():l.prefetch.length&&u.prefetch<d.prefetch?l.prefetch.shift():(l.interaction.length||l.thumbnail.length||l.prefetch.length||(s=!1),!1)}t.default={addRequest:function(e,t,n,a,o,i,u){if(!l.hasOwnProperty(n))throw new Error(\"Request type must be one of interaction, thumbnail, or prefetch\");if(e&&t){var d={type:n,imageId:t,preventCache:a,doneCallback:o,failCallback:i},c=r.default.cornerstone.imageCache.getImageLoadObject(t);c?c.promise.then(function(e){o(e)},function(e){i(e)}):(u?l[n].unshift(d):l[n].push(d),s=!0)}},clearRequestStack:function(e){if(!l.hasOwnProperty(e))throw new Error(\"Request type must be one of interaction, thumbnail, or prefetch\");l[e]=[]},startGrabbing:g,getRequestPool:function(){return l}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.projectPatientPointToImagePlane=function(e,t){var n=(0,o.default)(t.rowCosines),a=(0,o.default)(t.columnCosines),r=(0,o.default)(t.imagePositionPatient),i=e.clone().sub(r),l=n.dot(i)/t.columnPixelSpacing,u=a.dot(i)/t.rowPixelSpacing;return{x:l,y:u}},t.imagePointToPatientPoint=i,t.planePlaneIntersection=function(e,t){var n=(0,o.default)(e.rowCosines),r=(0,o.default)(e.columnCosines),l=(0,o.default)(e.imagePositionPatient),u=(0,o.default)(t.rowCosines),d=(0,o.default)(t.columnCosines),s=(0,o.default)(t.imagePositionPatient),c=n.clone().cross(r),f=new a.default.cornerstoneMath.Plane;f.setFromNormalAndCoplanarPoint(c,l);var v=u.clone().cross(d),g=new a.default.cornerstoneMath.Plane;g.setFromNormalAndCoplanarPoint(v,s);var m=g.clone().intersectPlane(f),h=m.origin,p=m.direction,E=i({x:t.columns,y:t.rows},t),T=s.distanceTo(E),y=new a.default.cornerstoneMath.Line3;y.start=h,y.end=h.clone().add(p.multiplyScalar(T));var M=function(e){var t=i({x:0,y:0},e),n=i({x:e.columns,y:0},e),o=i({x:0,y:e.rows},e),r=i({x:e.columns,y:e.rows},e);return{top:new a.default.cornerstoneMath.Line3(t,n),left:new a.default.cornerstoneMath.Line3(t,o),right:new a.default.cornerstoneMath.Line3(n,r),bottom:new a.default.cornerstoneMath.Line3(o,r)}}(t),_=function(e,t){var n=[];return Object.keys(t).forEach(function(a){var o=t[a],r=e.intersectLine(o);r&&n.push(r)}),n}(y,M);if(2!==_.length)return;return{start:_[0],end:_[1]}};var a=r(n(0)),o=r(n(19));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=(0,o.default)(t.rowCosines),a=(0,o.default)(t.columnCosines),r=(0,o.default)(t.imagePositionPatient),i=n.clone().multiplyScalar(e.x);i.multiplyScalar(t.columnPixelSpacing||1);var l=a.clone().multiplyScalar(e.y);l.multiplyScalar(t.rowPixelSpacing||1);var u=i.add(l);return u.add(r),u}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getToolOptions=t.setToolOptions=t.version=t.adaptiveBrush=t.brush=t.zoomTouchDrag=t.zoomTouchPinch=t.zoomWheel=t.zoom=t.wwwcRegionTouch=t.wwwcRegion=t.wwwcTouchDrag=t.wwwc=t.touchTool=t.touchPinchTool=t.touchDragTool=t.textMarkerTouch=t.textMarker=t.simpleMouseButtonTool=t.simpleAngleTouch=t.simpleAngle=t.seedAnnotateTouch=t.seedAnnotate=t.scaleOverlayTool=t.saveAs=t.rotateTouch=t.rotateTouchDrag=t.rotate=t.rectangleRoiTouch=t.rectangleRoi=t.probeTouch=t.probe=t.panMultiTouch=t.panTouchDrag=t.pan=t.orientationMarkers=t.multiTouchDragTool=t.mouseWheelTool=t.mouseButtonTool=t.mouseButtonRectangleTool=t.magnifyTouchDrag=t.magnify=t.lengthTouch=t.length=t.keyboardTool=t.imageStats=t.highlightTouch=t.highlight=t.freehandSculpter=t.freehand=t.eraserTouch=t.eraser=t.ellipticalRoiTouch=t.ellipticalRoi=t.dragProbeTouch=void 0,t.dragProbe=t.doubleTapZoom=t.doubleTapTool=t.displayTool=t.crosshairsTouch=t.crosshairs=t.arrowAnnotateTouch=t.arrowAnnotate=t.angleTouch=t.angle=t.touchInput=t.preventGhostClick=t.mouseWheelInput=t.mouseInput=t.keyboardInput=t.touchMoveHandle=t.touchMoveAllHandles=t.moveNewHandleTouch=t.moveNewHandle=t.moveHandle=t.moveAllHandles=t.handleActivator=t.getHandleNearImagePoint=t.drawHandles=t.anyHandlesOutsideImage=t.stopClip=t.playClip=t.stackRenderers=t.scrollIndicator=t.stackPrefetch=t.stackScrollMultiTouch=t.stackScrollTouchDrag=t.stackScrollWheel=t.stackScroll=t.stackScrollKeyboard=t.appState=t.globalFrameOfReferenceSpecificToolStateManager=t.newFrameOfReferenceSpecificToolStateManager=t.globalImageIdSpecificToolStateManager=t.newImageIdSpecificToolStateManager=t.loadHandlerManager=t.addStackStateManager=t.newStackSpecificToolStateManager=t.stackSpecificStateManager=t.textStyle=t.newTimeSeriesSpecificToolStateManager=t.addTimeSeriesStateManager=t.toolColors=t.toolCoordinates=t.getElementToolStateManager=t.setElementToolStateManager=t.clearToolState=t.removeToolState=t.getToolState=t.addToolState=t.toolStyle=t.panZoomSynchronizer=t.stackImageIndexSynchronizer=t.stackImagePositionOffsetSynchronizer=t.stackImagePositionSynchronizer=t.stackScrollSynchronizer=t.Synchronizer=t.updateImageSynchronizer=t.wwwcSynchronizer=t.timeSeriesScrollTouchDrag=t.timeSeriesScrollWheel=t.timeSeriesScroll=t.timeSeriesPlayer=t.incrementTimePoint=t.probeTool4D=t.calculateEllipseStatistics=t.calculateSUV=t.copyPoints=t.drawArrow=t.drawCircle=t.drawEllipse=t.drawTextBox=t.getLuminance=t.isMobileDevice=t.getBrowserInfo=t.getMaxSimultaneousRequests=t.getDefaultSimultaneousRequests=t.getRGBPixels=t.isMouseButtonEnabled=t.makeUnselectable=t.pointInEllipse=t.pointInsideBoundingBox=t.planePlaneIntersection=t.imagePointToPatientPoint=t.projectPatientPointToImagePlane=t.roundToDecimal=t.scroll=t.scrollToIndex=t.setContextToDisplayFontSize=t.requestPoolManager=t.orientation=t.referenceLines=t.EVENTS=t.external=t.drawing=void 0;var a=n(0);Object.defineProperty(t,\"external\",{enumerable:!0,get:function(){return lt(a).default}});var o=n(1);Object.defineProperty(t,\"EVENTS\",{enumerable:!0,get:function(){return lt(o).default}});var r=n(144);Object.defineProperty(t,\"referenceLines\",{enumerable:!0,get:function(){return lt(r).default}});var i=n(66);Object.defineProperty(t,\"orientation\",{enumerable:!0,get:function(){return lt(i).default}});var l=n(45);Object.defineProperty(t,\"requestPoolManager\",{enumerable:!0,get:function(){return lt(l).default}});var u=n(140);Object.defineProperty(t,\"setContextToDisplayFontSize\",{enumerable:!0,get:function(){return lt(u).default}});var d=n(65);Object.defineProperty(t,\"scrollToIndex\",{enumerable:!0,get:function(){return lt(d).default}});var s=n(44);Object.defineProperty(t,\"scroll\",{enumerable:!0,get:function(){return lt(s).default}});var c=n(43);Object.defineProperty(t,\"roundToDecimal\",{enumerable:!0,get:function(){return lt(c).default}});var f=n(46);Object.defineProperty(t,\"projectPatientPointToImagePlane\",{enumerable:!0,get:function(){return f.projectPatientPointToImagePlane}}),Object.defineProperty(t,\"imagePointToPatientPoint\",{enumerable:!0,get:function(){return f.imagePointToPatientPoint}}),Object.defineProperty(t,\"planePlaneIntersection\",{enumerable:!0,get:function(){return f.planePlaneIntersection}});var v=n(22);Object.defineProperty(t,\"pointInsideBoundingBox\",{enumerable:!0,get:function(){return lt(v).default}});var g=n(42);Object.defineProperty(t,\"pointInEllipse\",{enumerable:!0,get:function(){return lt(g).default}});var m=n(139);Object.defineProperty(t,\"makeUnselectable\",{enumerable:!0,get:function(){return lt(m).default}});var h=n(5);Object.defineProperty(t,\"isMouseButtonEnabled\",{enumerable:!0,get:function(){return lt(h).default}});var p=n(41);Object.defineProperty(t,\"getRGBPixels\",{enumerable:!0,get:function(){return lt(p).default}});var E=n(33);Object.defineProperty(t,\"getDefaultSimultaneousRequests\",{enumerable:!0,get:function(){return E.getDefaultSimultaneousRequests}}),Object.defineProperty(t,\"getMaxSimultaneousRequests\",{enumerable:!0,get:function(){return E.getMaxSimultaneousRequests}}),Object.defineProperty(t,\"getBrowserInfo\",{enumerable:!0,get:function(){return E.getBrowserInfo}}),Object.defineProperty(t,\"isMobileDevice\",{enumerable:!0,get:function(){return E.isMobileDevice}});var T=n(64);Object.defineProperty(t,\"getLuminance\",{enumerable:!0,get:function(){return lt(T).default}});var y=n(11);Object.defineProperty(t,\"drawTextBox\",{enumerable:!0,get:function(){return lt(y).default}});var M=n(138);Object.defineProperty(t,\"drawEllipse\",{enumerable:!0,get:function(){return lt(M).default}});var _=n(137);Object.defineProperty(t,\"drawCircle\",{enumerable:!0,get:function(){return lt(_).default}});var S=n(63);Object.defineProperty(t,\"drawArrow\",{enumerable:!0,get:function(){return lt(S).default}});var x=n(40);Object.defineProperty(t,\"copyPoints\",{enumerable:!0,get:function(){return lt(x).default}});var O=n(20);Object.defineProperty(t,\"calculateSUV\",{enumerable:!0,get:function(){return lt(O).default}});var b=n(62);Object.defineProperty(t,\"calculateEllipseStatistics\",{enumerable:!0,get:function(){return lt(b).default}});var C=n(136);Object.defineProperty(t,\"probeTool4D\",{enumerable:!0,get:function(){return lt(C).default}});var P=n(37);Object.defineProperty(t,\"incrementTimePoint\",{enumerable:!0,get:function(){return lt(P).default}});var I=n(133);Object.defineProperty(t,\"timeSeriesPlayer\",{enumerable:!0,get:function(){return lt(I).default}});var L=n(132);Object.defineProperty(t,\"timeSeriesScroll\",{enumerable:!0,get:function(){return L.timeSeriesScroll}}),Object.defineProperty(t,\"timeSeriesScrollWheel\",{enumerable:!0,get:function(){return L.timeSeriesScrollWheel}}),Object.defineProperty(t,\"timeSeriesScrollTouchDrag\",{enumerable:!0,get:function(){return L.timeSeriesScrollTouchDrag}});var w=n(131);Object.defineProperty(t,\"wwwcSynchronizer\",{enumerable:!0,get:function(){return lt(w).default}});var D=n(130);Object.defineProperty(t,\"updateImageSynchronizer\",{enumerable:!0,get:function(){return lt(D).default}});var U=n(129);Object.defineProperty(t,\"Synchronizer\",{enumerable:!0,get:function(){return lt(U).default}});var A=n(128);Object.defineProperty(t,\"stackScrollSynchronizer\",{enumerable:!0,get:function(){return lt(A).default}});var k=n(127);Object.defineProperty(t,\"stackImagePositionSynchronizer\",{enumerable:!0,get:function(){return lt(k).default}});var R=n(126);Object.defineProperty(t,\"stackImagePositionOffsetSynchronizer\",{enumerable:!0,get:function(){return lt(R).default}});var N=n(125);Object.defineProperty(t,\"stackImageIndexSynchronizer\",{enumerable:!0,get:function(){return lt(N).default}});var H=n(124);Object.defineProperty(t,\"panZoomSynchronizer\",{enumerable:!0,get:function(){return lt(H).default}});var j=n(14);Object.defineProperty(t,\"toolStyle\",{enumerable:!0,get:function(){return lt(j).default}});var V=n(2);Object.defineProperty(t,\"addToolState\",{enumerable:!0,get:function(){return V.addToolState}}),Object.defineProperty(t,\"getToolState\",{enumerable:!0,get:function(){return V.getToolState}}),Object.defineProperty(t,\"removeToolState\",{enumerable:!0,get:function(){return V.removeToolState}}),Object.defineProperty(t,\"clearToolState\",{enumerable:!0,get:function(){return V.clearToolState}}),Object.defineProperty(t,\"setElementToolStateManager\",{enumerable:!0,get:function(){return V.setElementToolStateManager}}),Object.defineProperty(t,\"getElementToolStateManager\",{enumerable:!0,get:function(){return V.getElementToolStateManager}});var B=n(39);Object.defineProperty(t,\"toolCoordinates\",{enumerable:!0,get:function(){return lt(B).default}});var W=n(7);Object.defineProperty(t,\"toolColors\",{enumerable:!0,get:function(){return lt(W).default}});var G=n(123);Object.defineProperty(t,\"addTimeSeriesStateManager\",{enumerable:!0,get:function(){return G.addTimeSeriesStateManager}}),Object.defineProperty(t,\"newTimeSeriesSpecificToolStateManager\",{enumerable:!0,get:function(){return G.newTimeSeriesSpecificToolStateManager}});var F=n(21);Object.defineProperty(t,\"textStyle\",{enumerable:!0,get:function(){return lt(F).default}});var z=n(122);Object.defineProperty(t,\"stackSpecificStateManager\",{enumerable:!0,get:function(){return z.stackSpecificStateManager}}),Object.defineProperty(t,\"newStackSpecificToolStateManager\",{enumerable:!0,get:function(){return z.newStackSpecificToolStateManager}}),Object.defineProperty(t,\"addStackStateManager\",{enumerable:!0,get:function(){return z.addStackStateManager}});var K=n(13);Object.defineProperty(t,\"loadHandlerManager\",{enumerable:!0,get:function(){return lt(K).default}});var Y=n(26);Object.defineProperty(t,\"newImageIdSpecificToolStateManager\",{enumerable:!0,get:function(){return Y.newImageIdSpecificToolStateManager}}),Object.defineProperty(t,\"globalImageIdSpecificToolStateManager\",{enumerable:!0,get:function(){return Y.globalImageIdSpecificToolStateManager}});var q=n(121);Object.defineProperty(t,\"newFrameOfReferenceSpecificToolStateManager\",{enumerable:!0,get:function(){return q.newFrameOfReferenceSpecificToolStateManager}}),Object.defineProperty(t,\"globalFrameOfReferenceSpecificToolStateManager\",{enumerable:!0,get:function(){return q.globalFrameOfReferenceSpecificToolStateManager}});var X=n(120);Object.defineProperty(t,\"appState\",{enumerable:!0,get:function(){return lt(X).default}});var J=n(119);Object.defineProperty(t,\"stackScrollKeyboard\",{enumerable:!0,get:function(){return lt(J).default}});var Z=n(118);Object.defineProperty(t,\"stackScroll\",{enumerable:!0,get:function(){return Z.stackScroll}}),Object.defineProperty(t,\"stackScrollWheel\",{enumerable:!0,get:function(){return Z.stackScrollWheel}}),Object.defineProperty(t,\"stackScrollTouchDrag\",{enumerable:!0,get:function(){return Z.stackScrollTouchDrag}}),Object.defineProperty(t,\"stackScrollMultiTouch\",{enumerable:!0,get:function(){return Z.stackScrollMultiTouch}});var Q=n(117);Object.defineProperty(t,\"stackPrefetch\",{enumerable:!0,get:function(){return lt(Q).default}});var $=n(116);Object.defineProperty(t,\"scrollIndicator\",{enumerable:!0,get:function(){return lt($).default}});var ee=n(115);Object.defineProperty(t,\"stackRenderers\",{enumerable:!0,get:function(){return lt(ee).default}});var te=n(113);Object.defineProperty(t,\"playClip\",{enumerable:!0,get:function(){return te.playClip}}),Object.defineProperty(t,\"stopClip\",{enumerable:!0,get:function(){return te.stopClip}});var ne=n(15);Object.defineProperty(t,\"anyHandlesOutsideImage\",{enumerable:!0,get:function(){return lt(ne).default}});var ae=n(9);Object.defineProperty(t,\"drawHandles\",{enumerable:!0,get:function(){return lt(ae).default}});var oe=n(25);Object.defineProperty(t,\"getHandleNearImagePoint\",{enumerable:!0,get:function(){return lt(oe).default}});var re=n(32);Object.defineProperty(t,\"handleActivator\",{enumerable:!0,get:function(){return lt(re).default}});var ie=n(38);Object.defineProperty(t,\"moveAllHandles\",{enumerable:!0,get:function(){return lt(ie).default}});var le=n(31);Object.defineProperty(t,\"moveHandle\",{enumerable:!0,get:function(){return lt(le).default}});var ue=n(30);Object.defineProperty(t,\"moveNewHandle\",{enumerable:!0,get:function(){return lt(ue).default}});var de=n(28);Object.defineProperty(t,\"moveNewHandleTouch\",{enumerable:!0,get:function(){return lt(de).default}});var se=n(60);Object.defineProperty(t,\"touchMoveAllHandles\",{enumerable:!0,get:function(){return lt(se).default}});var ce=n(59);Object.defineProperty(t,\"touchMoveHandle\",{enumerable:!0,get:function(){return lt(ce).default}});var fe=n(112);Object.defineProperty(t,\"keyboardInput\",{enumerable:!0,get:function(){return lt(fe).default}});var ve=n(111);Object.defineProperty(t,\"mouseInput\",{enumerable:!0,get:function(){return lt(ve).default}});var ge=n(110);Object.defineProperty(t,\"mouseWheelInput\",{enumerable:!0,get:function(){return lt(ge).default}});var me=n(58);Object.defineProperty(t,\"preventGhostClick\",{enumerable:!0,get:function(){return lt(me).default}});var he=n(109);Object.defineProperty(t,\"touchInput\",{enumerable:!0,get:function(){return lt(he).default}});var pe=n(108);Object.defineProperty(t,\"angle\",{enumerable:!0,get:function(){return pe.angle}}),Object.defineProperty(t,\"angleTouch\",{enumerable:!0,get:function(){return pe.angleTouch}});var Ee=n(107);Object.defineProperty(t,\"arrowAnnotate\",{enumerable:!0,get:function(){return Ee.arrowAnnotate}}),Object.defineProperty(t,\"arrowAnnotateTouch\",{enumerable:!0,get:function(){return Ee.arrowAnnotateTouch}});var Te=n(105);Object.defineProperty(t,\"crosshairs\",{enumerable:!0,get:function(){return Te.crosshairs}}),Object.defineProperty(t,\"crosshairsTouch\",{enumerable:!0,get:function(){return Te.crosshairsTouch}});var ye=n(24);Object.defineProperty(t,\"displayTool\",{enumerable:!0,get:function(){return lt(ye).default}});var Me=n(57);Object.defineProperty(t,\"doubleTapTool\",{enumerable:!0,get:function(){return lt(Me).default}});var _e=n(104);Object.defineProperty(t,\"doubleTapZoom\",{enumerable:!0,get:function(){return lt(_e).default}});var Se=n(103);Object.defineProperty(t,\"dragProbe\",{enumerable:!0,get:function(){return Se.dragProbe}}),Object.defineProperty(t,\"dragProbeTouch\",{enumerable:!0,get:function(){return Se.dragProbeTouch}});var xe=n(102);Object.defineProperty(t,\"ellipticalRoi\",{enumerable:!0,get:function(){return xe.ellipticalRoi}}),Object.defineProperty(t,\"ellipticalRoiTouch\",{enumerable:!0,get:function(){return xe.ellipticalRoiTouch}});var Oe=n(101);Object.defineProperty(t,\"eraser\",{enumerable:!0,get:function(){return Oe.eraser}}),Object.defineProperty(t,\"eraserTouch\",{enumerable:!0,get:function(){return Oe.eraserTouch}});var be=n(23);Object.defineProperty(t,\"freehand\",{enumerable:!0,get:function(){return be.freehand}});var Ce=n(52);Object.defineProperty(t,\"freehandSculpter\",{enumerable:!0,get:function(){return Ce.freehandSculpter}});var Pe=n(92);Object.defineProperty(t,\"highlight\",{enumerable:!0,get:function(){return Pe.highlight}}),Object.defineProperty(t,\"highlightTouch\",{enumerable:!0,get:function(){return Pe.highlightTouch}});var Ie=n(91);Object.defineProperty(t,\"imageStats\",{enumerable:!0,get:function(){return lt(Ie).default}});var Le=n(61);Object.defineProperty(t,\"keyboardTool\",{enumerable:!0,get:function(){return lt(Le).default}});var we=n(90);Object.defineProperty(t,\"length\",{enumerable:!0,get:function(){return we.length}}),Object.defineProperty(t,\"lengthTouch\",{enumerable:!0,get:function(){return we.lengthTouch}});var De=n(89);Object.defineProperty(t,\"magnify\",{enumerable:!0,get:function(){return De.magnify}}),Object.defineProperty(t,\"magnifyTouchDrag\",{enumerable:!0,get:function(){return De.magnifyTouchDrag}});var Ue=n(51);Object.defineProperty(t,\"mouseButtonRectangleTool\",{enumerable:!0,get:function(){return lt(Ue).default}});var Ae=n(10);Object.defineProperty(t,\"mouseButtonTool\",{enumerable:!0,get:function(){return lt(Ae).default}});var ke=n(29);Object.defineProperty(t,\"mouseWheelTool\",{enumerable:!0,get:function(){return lt(ke).default}});var Re=n(36);Object.defineProperty(t,\"multiTouchDragTool\",{enumerable:!0,get:function(){return lt(Re).default}});var Ne=n(88);Object.defineProperty(t,\"orientationMarkers\",{enumerable:!0,get:function(){return lt(Ne).default}});var He=n(87);Object.defineProperty(t,\"pan\",{enumerable:!0,get:function(){return He.pan}}),Object.defineProperty(t,\"panTouchDrag\",{enumerable:!0,get:function(){return He.panTouchDrag}});var je=n(86);Object.defineProperty(t,\"panMultiTouch\",{enumerable:!0,get:function(){return lt(je).default}});var Ve=n(85);Object.defineProperty(t,\"probe\",{enumerable:!0,get:function(){return Ve.probe}}),Object.defineProperty(t,\"probeTouch\",{enumerable:!0,get:function(){return Ve.probeTouch}});var Be=n(84);Object.defineProperty(t,\"rectangleRoi\",{enumerable:!0,get:function(){return Be.rectangleRoi}}),Object.defineProperty(t,\"rectangleRoiTouch\",{enumerable:!0,get:function(){return Be.rectangleRoiTouch}});var We=n(83);Object.defineProperty(t,\"rotate\",{enumerable:!0,get:function(){return We.rotate}}),Object.defineProperty(t,\"rotateTouchDrag\",{enumerable:!0,get:function(){return We.rotateTouchDrag}});var Ge=n(82);Object.defineProperty(t,\"rotateTouch\",{enumerable:!0,get:function(){return lt(Ge).default}});var Fe=n(81);Object.defineProperty(t,\"saveAs\",{enumerable:!0,get:function(){return lt(Fe).default}});var ze=n(80);Object.defineProperty(t,\"scaleOverlayTool\",{enumerable:!0,get:function(){return lt(ze).default}});var Ke=n(79);Object.defineProperty(t,\"seedAnnotate\",{enumerable:!0,get:function(){return Ke.seedAnnotate}}),Object.defineProperty(t,\"seedAnnotateTouch\",{enumerable:!0,get:function(){return Ke.seedAnnotateTouch}});var Ye=n(78);Object.defineProperty(t,\"simpleAngle\",{enumerable:!0,get:function(){return Ye.simpleAngle}}),Object.defineProperty(t,\"simpleAngleTouch\",{enumerable:!0,get:function(){return Ye.simpleAngleTouch}});var qe=n(16);Object.defineProperty(t,\"simpleMouseButtonTool\",{enumerable:!0,get:function(){return lt(qe).default}});var Xe=n(77);Object.defineProperty(t,\"textMarker\",{enumerable:!0,get:function(){return Xe.textMarker}}),Object.defineProperty(t,\"textMarkerTouch\",{enumerable:!0,get:function(){return Xe.textMarkerTouch}});var Je=n(18);Object.defineProperty(t,\"touchDragTool\",{enumerable:!0,get:function(){return lt(Je).default}});var Ze=n(50);Object.defineProperty(t,\"touchPinchTool\",{enumerable:!0,get:function(){return lt(Ze).default}});var Qe=n(12);Object.defineProperty(t,\"touchTool\",{enumerable:!0,get:function(){return lt(Qe).default}});var $e=n(76);Object.defineProperty(t,\"wwwc\",{enumerable:!0,get:function(){return $e.wwwc}}),Object.defineProperty(t,\"wwwcTouchDrag\",{enumerable:!0,get:function(){return $e.wwwcTouchDrag}});var et=n(75);Object.defineProperty(t,\"wwwcRegion\",{enumerable:!0,get:function(){return et.wwwcRegion}}),Object.defineProperty(t,\"wwwcRegionTouch\",{enumerable:!0,get:function(){return et.wwwcRegionTouch}});var tt=n(74);Object.defineProperty(t,\"zoom\",{enumerable:!0,get:function(){return tt.zoom}}),Object.defineProperty(t,\"zoomWheel\",{enumerable:!0,get:function(){return tt.zoomWheel}}),Object.defineProperty(t,\"zoomTouchPinch\",{enumerable:!0,get:function(){return tt.zoomTouchPinch}}),Object.defineProperty(t,\"zoomTouchDrag\",{enumerable:!0,get:function(){return tt.zoomTouchDrag}});var nt=n(73);Object.defineProperty(t,\"brush\",{enumerable:!0,get:function(){return nt.brush}});var at=n(70);Object.defineProperty(t,\"adaptiveBrush\",{enumerable:!0,get:function(){return at.adaptiveBrush}});var ot=n(69);Object.defineProperty(t,\"version\",{enumerable:!0,get:function(){return lt(ot).default}});var rt=n(4);Object.defineProperty(t,\"setToolOptions\",{enumerable:!0,get:function(){return rt.setToolOptions}}),Object.defineProperty(t,\"getToolOptions\",{enumerable:!0,get:function(){return rt.getToolOptions}});var it=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3));function lt(e){return e&&e.__esModule?e:{default:e}}t.drawing=it},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=Math.round(a),i=Math.round(o);if(1===e)return[[r,i]];for(var l=[],u=0,d=-e;d<=e;d++){var s=i+d;if(!(s>t||s<0))for(var c=-e;c<=e;c++){var f=r+c;f>n||f<0||c*c+d*d<e*e&&(l[u++]=[r+c,i+d])}}return l}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.toolType;function n(e){var t=e.detail,n=!1;n=function(e){var t=e.keyCode,n=!1;109===t||173===t?(m(),n=!0):61!==t&&107!==t||(g(),n=!0);return n}(t)||n,(n=function(e){var t=e.keyCode,n=!1;219===t?(p(),n=!0):221===t&&(h(),n=!0);return n}(t)||n)&&o.default.cornerstone.updateImage(t.element)}function s(e){var t=O.getConfiguration(),n=o.default.cornerstone.colors.getColormap(t.colormapId);t.draw=e;var a=n.getColor(t.draw);t.hoverColor=\"rgba(\"+a[[0]]+\", \"+a[[1]]+\", \"+a[[2]]+\", 1.0 )\",t.dragColor=\"rgba(\"+a[[0]]+\", \"+a[[1]]+\", \"+a[[2]]+\", 0.8 )\"}function g(){var e=O.getConfiguration();e.radius=(0,d.default)(e.radius+1,e.minRadius,e.maxRadius)}function m(){var e=O.getConfiguration();e.radius=(0,d.default)(e.radius-1,e.minRadius,e.maxRadius)}function h(){var e=O.getConfiguration(),t=E(),n=e.draw+1;n===t&&(n=0),s(n)}function p(){var e=O.getConfiguration(),t=E(),n=e.draw-1;n<0&&(n=t-1),s(n)}function E(){var e=O.getConfiguration(),t=o.default.cornerstone.colors.getColormap(e.colormapId);return t.getNumberOfColors()}function T(t){e.onMouseMove(t)}function y(t){var n=t.detail,o=n.element;e.onMouseUp(t),o.removeEventListener(a.default.MOUSE_DRAG,T),o.removeEventListener(a.default.MOUSE_DRAG,M),o.removeEventListener(a.default.MOUSE_UP,y),o.removeEventListener(a.default.MOUSE_CLICK,y)}function M(t){return e.onDrag(t),!1}function _(t){e.onMouseDoubleClick(t)}function S(n){var o=n.detail,r=o.element,i=(0,u.getToolOptions)(t,r);if((0,l.default)(o.which,i.mouseButtonMask))return r.addEventListener(a.default.MOUSE_DRAG,M),r.addEventListener(a.default.MOUSE_UP,y),r.addEventListener(a.default.MOUSE_CLICK,y),r.addEventListener(a.default.MOUSE_DOUBLE_CLICK,_),e.onMouseDown(n),!1;r.addEventListener(a.default.MOUSE_DRAG,T),r.addEventListener(a.default.MOUSE_UP,y)}function x(t){var n=t.detail,a=n.element,i=(0,r.getToolState)(a,c),l=void 0;i?l=i.data[0].pixelData:(l=new Uint8ClampedArray(n.image.width*n.image.height),(0,r.addToolState)(a,c,{pixelData:l}));var u=o.default.cornerstone.getLayer(n.element,f);u.image.setPixelData(l),u.invalid=!0,o.default.cornerstone.updateImage(a),e.onImageRendered(t)}var O=(0,i.default)({mouseMoveCallback:T,mouseDownActivateCallback:S,onImageRendered:x,deactivate:function(e){e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,x),e.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,S),e.removeEventListener(a.default.MOUSE_MOVE,T),e.removeEventListener(a.default.MOUSE_DOUBLE_CLICK,_),e.removeEventListener(a.default.KEY_DOWN,n),e.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,x),O.getConfiguration().active=!1}});return O.keyDownCallback=n,O.activate=function(e,i){(0,u.setToolOptions)(t,e,{mouseButtonMask:i}),e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,x),e.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,x),e.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,S),e.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,S),e.removeEventListener(a.default.MOUSE_MOVE,T),e.addEventListener(a.default.MOUSE_MOVE,T),e.removeEventListener(a.default.KEY_DOWN,n),e.addEventListener(a.default.KEY_DOWN,n);var l=o.default.cornerstone.getEnabledElement(e),d=l.image,s=d.width,g=d.height,m=new Uint8ClampedArray(s*g),h=O.getConfiguration();h.active=!0;var p=h.colormapId;if(!p){var E=O.getConfiguration();(function(e){var t=o.default.cornerstone.colors.getColormap(e);t.setNumberOfColors(20),t.setColor(0,[255,255,255,0]),t.setColor(1,[230,25,75,102]),t.setColor(2,[60,180,175,102]),t.setColor(3,[255,225,25,102]),t.setColor(4,[0,130,200,102]),t.setColor(5,[245,130,48,102]),t.setColor(6,[145,30,180,102]),t.setColor(7,[70,240,240,102]),t.setColor(8,[240,50,230,102]),t.setColor(9,[210,245,60,102]),t.setColor(10,[250,190,190,102]),t.setColor(11,[0,128,128,102]),t.setColor(12,[230,190,255,102]),t.setColor(13,[170,110,40,102]),t.setColor(14,[255,250,200,102]),t.setColor(15,[128,0,0,102]),t.setColor(16,[170,255,195,102]),t.setColor(17,[128,128,0,102]),t.setColor(18,[255,215,180,102]),t.setColor(19,[0,0,128,102])})(p=\"BrushColorMap\"),E.colormapId=p}var y={minPixelValue:0,maxPixelValue:1,slope:1,intercept:0,getPixelData:function(){return m},rows:l.image.height,columns:l.image.width,height:g,width:s,pixelData:m,setPixelData:function(e){m=e},colormap:p,color:!1,rgba:!1,labelmap:!0,invert:!1,columnPixelSpacing:1,rowPixelSpacing:1,sizeInBytes:l.image.width*l.image.height},M=void 0;v||(v=o.default.cornerstone.addLayer(e,o.default.cornerstone.getEnabledElement(e).image)),f&&(M=o.default.cornerstone.getLayer(e,f)),M||(f=o.default.cornerstone.addLayer(e,y,{viewport:{pixelReplication:!0}})),(0,r.addToolState)(e,c,{pixelData:m}),h.brushLayerId=f,O.setConfiguration(h),o.default.cornerstone.updateImage(e)},O.changeDrawColor=s,O.increaseRadius=g,O.decreaseRadius=m,O.nextSegmentation=h,O.previousSegmentation=p,O};var a=s(n(1)),o=s(n(0)),r=n(2),i=s(n(10)),l=s(n(5)),u=n(4),d=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var c=\"brush\",f=void 0,v=void 0},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){return{activate:function(t){t.removeEventListener(r.default.TOUCH_PINCH,e),t.addEventListener(r.default.TOUCH_PINCH,e)},disable:function(t){t.removeEventListener(r.default.TOUCH_PINCH,e)},enable:function(t){t.removeEventListener(r.default.TOUCH_PINCH,e)},deactivate:function(t){t.removeEventListener(r.default.TOUCH_PINCH,e)}}};var a,o=n(1),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=e.toolType;function g(o){var r=o.detail,i=r.element,l=(0,v.getToolOptions)(n,i);if((0,c.default)(r.which,l.mouseButtonMask))return function(o){var r=o.element,i=e.createNewMeasurement(o);i&&((0,f.addToolState)(o.element,n,i),r.removeEventListener(a.default.MOUSE_MOVE,m),(0,u.default)(o,n,i,i.handles.end,function(){i.active=!1,(0,s.default)(o,i.handles)&&(0,f.removeToolState)(o.element,n,i),r.addEventListener(a.default.MOUSE_MOVE,m)},t))}(r),!1}function m(t){var a=t.detail;r.default.setCoords(a);var i=(0,f.getToolState)(a.element,n);if(void 0!==i){for(var u=!1,d=a.currentPoints.canvas,s=0;s<i.data.length;s++){var c=i.data[s];!0===(0,l.default)(a.element,c.handles,d)&&(u=!0),(e.pointInsideRect(a.element,c,d)&&!c.active||!e.pointInsideRect(a.element,c,d)&&c.active)&&(c.active=!c.active,u=!0)}!0===u&&o.default.cornerstone.updateImage(a.element)}}function h(r){var l=r.detail,g=l.element,h=o.default.cornerstone,p=void 0,E=(0,v.getToolOptions)(n,g);if((0,c.default)(l.which,E.mouseButtonMask)){var T=l.startPoints.canvas,y=(0,f.getToolState)(r.currentTarget,n),M=void 0;if(void 0!==y)for(M=0;M<y.data.length;M++){p=y.data[M];var _=(0,i.default)(l.element,p.handles,T,25);if(void 0!==_)return g.removeEventListener(a.default.MOUSE_MOVE,m),p.active=!0,(0,u.default)(l,n,p,_,x,t),r.stopImmediatePropagation(),!1}var S={deleteIfHandleOutsideImage:!0,preventHandleOutsideImage:t};if(void 0!==y&&void 0!==e.pointInsideRect)for(M=0;M<y.data.length;M++)if(p=y.data[M],e.pointInsideRect(l.element,p,T))return g.removeEventListener(a.default.MOUSE_MOVE,m),(0,d.default)(r,p,y,n,S,x),g.addEventListener(a.default.MOUSE_MOVE,m),r.stopImmediatePropagation(),!1}function x(){p.active=!1,(0,s.default)(l,p.handles)&&(0,f.removeToolState)(l.element,n,p),h.updateImage(l.element),g.addEventListener(a.default.MOUSE_MOVE,m)}}return{enable:function(t){t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.removeEventListener(a.default.MOUSE_MOVE,m),t.removeEventListener(a.default.MOUSE_DOWN,h),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,g),t.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),o.default.cornerstone.updateImage(t)},disable:function(t){t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.removeEventListener(a.default.MOUSE_MOVE,m),t.removeEventListener(a.default.MOUSE_DOWN,h),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,g),o.default.cornerstone.updateImage(t)},activate:function(t,r){(0,v.setToolOptions)(n,t,{mouseButtonMask:r}),t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.removeEventListener(a.default.MOUSE_MOVE,m),t.removeEventListener(a.default.MOUSE_DOWN,h),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,g),t.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.addEventListener(a.default.MOUSE_MOVE,m),t.addEventListener(a.default.MOUSE_DOWN,h),t.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,g),o.default.cornerstone.updateImage(t)},deactivate:function(t,r){(0,v.setToolOptions)(n,t,{mouseButtonMask:r}),t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.removeEventListener(a.default.MOUSE_MOVE,m),t.removeEventListener(a.default.MOUSE_DOWN,h),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,g),t.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,e.onImageRendered),t.addEventListener(a.default.MOUSE_MOVE,m),t.addEventListener(a.default.MOUSE_DOWN,h),o.default.cornerstone.updateImage(t)}}};var a=g(n(1)),o=g(n(0)),r=g(n(39)),i=g(n(25)),l=g(n(32)),u=g(n(31)),d=g(n(38)),s=g(n(15)),c=g(n(5)),f=n(2),v=n(4);function g(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.freehandSculpter=void 0;var a=g(n(1)),o=g(n(0)),r=n(23),i=g(n(7)),l=g(n(9)),u=g(n(5)),d=n(2),s=n(4),c=n(8),f=n(55),v=n(53);function g(e){return e&&e.__esModule?e:{default:e}}var m=new(n(93).Sculpter),h=\"freehandSculpter\",p=\"freehand\",E={mouseLocation:{handles:{start:{highlight:!0,active:!0}}},keyDown:{shift:!1,ctrl:!1,alt:!1},active:!1,minSpacing:5,maxSpacing:20,toolSizeImage:null,toolSizeCanvas:null,currentTool:null,color:i.default.getActiveColor()};function T(e){var t=e.detail,n=t.element,r=(0,s.getToolOptions)(h,n),i=P.getConfiguration(),l=!1;if(!(0,u.default)(t.which,r.mouseButtonMask))return e.stopPropagation(),void e.preventDefault();t.event.ctrlKey?(!function(e){var t=P.getConfiguration(),n=e.element,a=new v.FreehandLineFinder(e).findTool();t.currentTool=a,function(e,t){for(var n=(0,d.getToolState)(e,p),a=0;a<n.data.length;a++)n.data[a].active=a===t}(n,a)}(t),l=!0):null!==i.currentTool&&(!function(e){var t=P.getConfiguration(),n=e.element;(function(e){for(var t=P.getConfiguration(),n=t.currentTool,a=(0,d.getToolState)(e.element,p).data[n].handles,r=e.currentPoints.image,i=e.currentPoints.canvas,l=1/0,u=1/0,s=0;s<a.length;s++){var c=a[s],f=o.default.cornerstoneMath.point.distance(c,r);if(f<l){l=f;var v=o.default.cornerstone.pixelToCanvas(e.element,a[s]);u=o.default.cornerstoneMath.point.distance(v,i)}}t.toolSizeImage=l,t.toolSizeCanvas=u})(e),t.active=!0,x(e),n.addEventListener(a.default.MOUSE_UP,M),n.addEventListener(a.default.MOUSE_CLICK,M),n.addEventListener(a.default.MOUSE_DRAG,y)}(t),l=!0),l&&o.default.cornerstone.updateImage(t.element)}function y(e){var t=e.detail,n=(0,d.getToolState)(t.element,p);if(n){var a=P.getConfiguration(),r=n.data[a.currentTool].handles;x(t),m.sculpt(t,r),o.default.cornerstone.updateImage(t.element)}}function M(e){var t=e.detail,n=t.element,r=P.getConfiguration();n.removeEventListener(a.default.MOUSE_UP,M),n.removeEventListener(a.default.MOUSE_DRAG,y),n.removeEventListener(a.default.MOUSE_CLICK,M),r.active=!1,e.preventDefault(),e.stopPropagation(),function(e){var t=P.getConfiguration(),n=e.element;(0,d.getToolState)(n,p).data[t.currentTool].invalidated=!0,o.default.cornerstone.updateImage(n)}(t)}function _(e){S(e.detail.element)}function S(e){var t=P.getConfiguration(),n=(0,d.getToolState)(e,p);if(t.currentTool=null,n)for(var a=0;a<n.data.length;a++)n.data[a].active=!1;o.default.cornerstone.updateImage(e)}function x(e){var t=P.getConfiguration();t.mouseLocation.handles.start.x=e.currentPoints.image.x,t.mouseLocation.handles.start.y=e.currentPoints.image.y,(0,c.clipToBox)(t.mouseLocation.handles.start,e.image)}function O(e){var t=e.detail,n=t.canvasContext.canvas.getContext(\"2d\"),a=P.getConfiguration();if(a.active){var o={fill:null,handleRadius:a.toolSizeCanvas};(0,l.default)(n,t,a.mouseLocation.handles,a.color,o)}}function b(e){S(e),C(e)}function C(e){e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,O),e.removeEventListener(a.default.MOUSE_DOWN,T),e.removeEventListener(a.default.MOUSE_DRAG,y),e.removeEventListener(a.default.MOUSE_UP,M),e.removeEventListener(a.default.KEY_DOWN,f.keyDownCallback),e.removeEventListener(a.default.KEY_UP,f.keyUpCallback),e.removeEventListener(o.default.cornerstone.EVENTS.NEW_IMAGE,_)}var P={enable:function(e){b(e)},disable:b,activate:function(e,t){(0,s.setToolOptions)(h,e,{mouseButtonMask:t}),r.freehand.enable(e),C(e),e.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,O),e.addEventListener(a.default.MOUSE_DOWN,T),e.addEventListener(a.default.KEY_DOWN,f.keyDownCallback),e.addEventListener(a.default.KEY_UP,f.keyUpCallback),e.addEventListener(o.default.cornerstone.EVENTS.NEW_IMAGE,_),e.focus(),o.default.cornerstone.updateImage(e)},deactivate:function(e){b(e)},getConfiguration:function(){return E},setConfiguration:function(e){E=e}};t.freehandSculpter=P},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.FreehandLineFinder=void 0;var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),i=n(0),l=(a=i)&&a.__esModule?a:{default:a},u=n(97);t.FreehandLineFinder=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._eventData=t}return o(e,[{key:\"findLine\",value:function(){var e=this.findTool();if(null===e)return null;var t=this._getCloseLinesInTool(e);return t?this._findCorrectLine(e,t):null}},{key:\"findTool\",value:function(){return this._toolData=(0,r.getToolState)(this._eventData.element,\"freehand\"),this._mousePoint=this._eventData.currentPoints.canvas,this._toolData?this._nearestHandleToPointAllTools().toolIndex:null}},{key:\"_nearestHandleToPointAllTools\",value:function(){for(var e=this._toolData,t={toolIndex:null,handleIndex:null,distance:1/0},n=0;n<e.data.length;n++){var a=this._nearestHandleToPoint(n);null!==a&&(a.distance<t.distance&&(t=a))}return t}},{key:\"_nearestHandleToPoint\",value:function(e){var t=this._eventData,n=this._toolData.data[e];if(void 0===n.handles)return null;if(!1===n.visible)return null;for(var a={toolIndex:e,handleIndex:null,distance:1/0},o=0;o<n.handles.length;o++){var r=l.default.cornerstone.pixelToCanvas(t.element,n.handles[o]),i=l.default.cornerstoneMath.point.distance(r,this._mousePoint);i<a.distance&&(a.handleIndex=o,a.distance=i)}return a}},{key:\"_getCloseLinesInTool\",value:function(t){for(var n=this._toolData.data[t].handles,a=[],o=0;o<n.length;o++){var r=e.getNextHandleIndex(o,n.length);this._distanceOfPointfromLine(n[o],n[r])<10&&a.push([o,r])}return a}},{key:\"_findCorrectLine\",value:function(e,t){for(var n=0;n<t.length;n++)if(this._pointProjectsToLineSegment(e,t[n]))return new u.ClickedLineData(e,t[n]);return null}},{key:\"_pointProjectsToLineSegment\",value:function(t,n){var a=this._eventData,o=this._toolData.data[t];if(void 0!==o.handles){if(!1===o.visible)return!1;var r=o.handles[n[0]],i=o.handles[n[1]],l=e.getCanvasPointsFromHandles(r,i,a.element),u=e.getLineAsVector(l),d=this._getLineOriginToMouseAsVector(l),s=(d[0]*u[0]+d[1]*u[1])/u.magnitude;return s>0&&s<u.magnitude}}},{key:\"_getLineOriginToMouseAsVector\",value:function(e){return[this._mousePoint.x-e[0].x,this._mousePoint.y-e[0].y]}},{key:\"_distanceOfPointfromLine\",value:function(e,t){var n=this._eventData,a=l.default.cornerstone.pixelToCanvas(n.element,e),o=l.default.cornerstone.pixelToCanvas(n.element,t),r=this._mousePoint;return Math.abs((o.y-a.y)*r.x-(o.x-a.x)*r.y+o.x*a.y-o.y*a.x)/l.default.cornerstoneMath.point.distance(a,o)}}],[{key:\"getCanvasPointsFromHandles\",value:function(e,t,n){var a=[];return e.x<t.x?(a.push(l.default.cornerstone.pixelToCanvas(n,e)),a.push(l.default.cornerstone.pixelToCanvas(n,t))):(a.push(l.default.cornerstone.pixelToCanvas(n,t)),a.push(l.default.cornerstone.pixelToCanvas(n,e))),a}},{key:\"getLineAsVector\",value:function(e){var t=[e[1].x-e[0].x,e[1].y-e[0].y];return t.magnitude=l.default.cornerstoneMath.point.distance(e[0],e[1]),t}},{key:\"getNextHandleIndex\",value:function(e,t){return e<t-1?e+1:0}}]),e}()},function(e,t,n){\"use strict\";function a(e,t,n,a){for(var i=e.length-1,l=0;l<e.length;l++)if(-1===a.indexOf(l)&&-1===a.indexOf(i)){if(o(t,n,r(e[i]),r(e[l])))return!0;i=l}else i=l;return!1}function o(e,t,n,a){var o=!1,r=[i(e,t,n),i(e,t,a),i(n,a,e),i(n,a,t)];return r[0]!==r[1]&&r[2]!==r[3]||(0===r[0]&&l(e,n,t)?o=!0:0===r[1]&&l(e,a,t)?o=!0:0===r[2]&&l(n,e,a)?o=!0:0===r[3]&&l(n,t,a)&&(o=!0),o)}function r(e){return{x:e.x,y:e.y}}function i(e,t,n){var a=(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);return 0===a?0:a>0?1:2}function l(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}Object.defineProperty(t,\"__esModule\",{value:!0});var u={newHandle:function(e,t){var n=t.length-1;return a(t,r(t[n]),r(e),[n])},end:function(e){var t=e.length-1;return a(e,r(e[t]),r(e[0]),[t,0])},modify:function(e,t){var n=r(e[t]),o=t-1;0===t&&(o=e.length-1);var i=r(e[o]);return!!a(e,n,i,[t,o])||a(e,n,i=r(e[o=t===e.length-1?0:t+1]),[t,o])}};t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.keyDownCallback=function(e){var t=e.detail,n=i.freehand.getConfiguration(),a=t.keyCode,o=!1;a===l.CTRL&&(n.keyDown.ctrl=!0,o=!0);a===l.SHIFT&&(n.keyDown.shift=!0);a===l.ALT&&(n.keyDown.alt=!0);o&&r.default.cornerstone.updateImage(t.element)},t.keyUpCallback=function(e){var t=e.detail,n=i.freehand.getConfiguration(),a=t.keyCode,o=!1;a===l.CTRL&&(n.keyDown.ctrl=!1,o=!0);a===l.SHIFT&&(n.keyDown.shift=!1);a===l.ALT&&(n.keyDown.alt=!1);o&&r.default.cornerstone.updateImage(t.element)};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},i=n(23);var l={SHIFT:16,CTRL:17,ALT:18}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(!t)throw new Error(\"simpleTouchTool: toolType is required\");var n={};return{activate:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.setToolOptions)(t,n,a),n.removeEventListener(r.default.TOUCH_START,e),n.addEventListener(r.default.TOUCH_START,e)},disable:function(t){t.removeEventListener(r.default.TOUCH_START,e)},enable:function(t){t.removeEventListener(r.default.TOUCH_START,e)},deactivate:function(t){t.removeEventListener(r.default.TOUCH_START,e)},getConfiguration:function(){return n},setConfiguration:function(e){n=e}}};var a,o=n(1),r=(a=o)&&a.__esModule?a:{default:a},i=n(4)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){return{activate:function(t){t.removeEventListener(r.default.DOUBLE_TAP,e),t.addEventListener(r.default.DOUBLE_TAP,e)},disable:function(t){t.removeEventListener(r.default.DOUBLE_TAP,e)},enable:function(t){t.removeEventListener(r.default.DOUBLE_TAP,e)},deactivate:function(t){t.removeEventListener(r.default.DOUBLE_TAP,e)}}};var a,o=n(1),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=2e3,o={mouse:0,touch:1},r=void 0,i=void 0;function l(e,t){var n=Date.now();if(e!==r){if(n-i<=a)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1;r=e}i=n}var u=l.bind(null,o.mouse),d=l.bind(null,o.touch);function s(e,t,n){var a=n?u:d;t.forEach(function(t){e.addEventListener(t,a)})}function c(e,t,n){var a=n?u:d;t.forEach(function(t){e.removeEventListener(t,a)})}var f=[\"mousedown\",\"mouseup\"],v=[\"touchstart\",\"touchend\"];function g(e){c(e,f,o.mouse),c(e,v,o.touch)}var m={enable:function(e){g(e),s(e,f,o.mouse),s(e,v,o.touch)},disable:g};t.default=m},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,i,d){l.value=!0;var s=e.detail,c=o.default.cornerstone,f=s.element,v=c.getEnabledElement(f),g=((new Date).getTime(),-57),m={x:s.currentPoints.page.x,y:s.currentPoints.page.y+g},h=c.pageToPixel(f,m.x,m.y);function p(e){var o=e.detail;l.value=!1,!1===i.hasMoved&&(i.hasMoved=!0),i.active=!0;var u=o.currentPoints,d={x:u.page.x,y:u.page.y+g};h=c.pageToPixel(f,d.x,d.y),i.x=h.x,i.y=h.y,c.updateImage(f);var s=a.default.MEASUREMENT_MODIFIED,v={toolType:t,element:f,measurementData:n};(0,r.default)(f,s,v)}function E(e){var t=e.detail;l.value=!1,i.active=!1,f.removeEventListener(a.default.TOUCH_DRAG,p),u.forEach(function(e){f.removeEventListener(e,E)}),c.updateImage(f),e.type===a.default.TOUCH_PRESS&&(t.handlePressed=n,i.x=s.currentPoints.image.x,i.y=s.currentPoints.image.y),\"function\"==typeof d&&d(e)}f.addEventListener(a.default.TOUCH_DRAG,p),u.forEach(function(e){f.addEventListener(e,E)}),function e(t,n,a,r,i){if(!a.value)return;var l=o.default.cornerstone;var u=(new Date).getTime();var d=Math.abs(n.y-i.y);var s=d/10;if(d<1)return n.y=i.y,void(a.value=!1);n.y>i.y?n.y-=s:n.y<i.y&&(n.y+=s);l.updateImage(r.element);l.requestAnimationFrame(function(){e(u,n,a,r,i)})}(0,i,l,v,h)};var a=i(n(1)),o=i(n(0)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var l={value:!1},u=[a.default.TOUCH_END,a.default.TOUCH_DRAG_END,a.default.TOUCH_PINCH,a.default.TOUCH_PRESS,a.default.TAP]},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,u,d,s){var c=e.detail.element,f=o.default.cornerstone;function v(e){var n=e.detail;t.active=!0,Object.keys(t.handles).forEach(function(e){var a=t.handles[e];!0!==a.movesIndependently&&(a.x+=n.deltaPoints.image.x,a.y+=n.deltaPoints.image.y)}),f.updateImage(c);var o=a.default.MEASUREMENT_MODIFIED,r={toolType:u,element:c,measurementData:t};(0,l.default)(c,o,r),e.preventDefault(),e.stopPropagation()}function g(e){var n=e.detail;t.active=!1,t.invalidated=!1,c.removeEventListener(a.default.TOUCH_DRAG,v),c.removeEventListener(a.default.TOUCH_PINCH,g),c.removeEventListener(a.default.TOUCH_PRESS,g),c.removeEventListener(a.default.TOUCH_END,g),c.removeEventListener(a.default.TOUCH_DRAG_END,g),c.removeEventListener(a.default.TAP,g);var o=(0,r.default)(n,t.handles);!0===d&&!0===o&&(0,i.removeToolState)(c,u,t),f.updateImage(c),\"function\"==typeof s&&s(e)}return c.addEventListener(a.default.TOUCH_DRAG,v),c.addEventListener(a.default.TOUCH_PINCH,g),c.addEventListener(a.default.TOUCH_PRESS,g),c.addEventListener(a.default.TOUCH_END,g),c.addEventListener(a.default.TOUCH_DRAG_END,g),c.addEventListener(a.default.TAP,g),!0};var a=u(n(1)),o=u(n(0)),r=u(n(15)),i=n(2),l=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t={};return{activate:function(t){t.removeEventListener(r.default.KEY_DOWN,e),t.addEventListener(r.default.KEY_DOWN,e)},disable:function(t){t.removeEventListener(r.default.KEY_DOWN,e)},enable:function(t){t.removeEventListener(r.default.KEY_DOWN,e)},deactivate:function(t){t.removeEventListener(r.default.KEY_DOWN,e)},getConfiguration:function(){return t},setConfiguration:function(e){t=e}}};var a,o=n(1),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){for(var n=0,a=0,o=0,i=0,l=t.top;l<t.top+t.height;l++)for(var u=t.left;u<t.left+t.width;u++){var d={x:u,y:l};(0,r.default)(t,d)&&(n+=e[i],a+=e[i]*e[i],o++),i++}if(0===o)return{count:o,mean:0,variance:0,stdDev:0};var s=n/o,c=a/o-s*s;return{count:o,mean:s,variance:c,stdDev:Math.sqrt(c)}};var a,o=n(42),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,o,r){var i=Math.atan2(n.y-t.y,n.x-t.x),l={color:o,lineWidth:r};(0,a.drawLine)(e,void 0,t,n,l,\"canvas\"),l={color:o,lineWidth:r,fillStyle:o};var u=[{x:n.x-10*Math.cos(i-Math.PI/7),y:n.y-10*Math.sin(i-Math.PI/7)},{x:n.x-10*Math.cos(i+Math.PI/7),y:n.y-10*Math.sin(i+Math.PI/7)},n];(0,a.drawJoinedLines)(e,void 0,n,u,l,\"canvas\")};var a=n(3)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,a,o){if(!e)throw new Error(\"getLuminance: parameter element must not be undefined\");t=Math.round(t),n=Math.round(n);var i=r.default.cornerstone.getEnabledElement(e).image,l=[],u=0,d=i.getPixelData(),s=void 0,c=void 0,f=void 0;if(i.color)for(c=0;c<o;c++)for(f=0;f<a;f++){var v=d[s=4*((c+n)*i.columns+(f+t))],g=d[s+1],m=d[s+2];l[u++]=.2126*v+.7152*g+.0722*m}else for(c=0;c<o;c++)for(f=0;f<a;f++)s=(c+n)*i.columns+(f+t),l[u++]=d[s]*i.slope+i.intercept;return l};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=(0,r.getToolState)(e,\"stack\");if(n&&n.data&&n.data.length){var d=o.default.cornerstone,s=void 0;if(n.data.length>1){var c=(0,r.getToolState)(e,\"stackRenderer\");c&&c.data&&c.data.length&&(s=c.data[0])}var f=n.data[0];t<0&&(t+=f.imageIds.length);var v=l.default.getStartLoadHandler(),g=l.default.getEndLoadHandler(),m=l.default.getErrorLoadingHandler();if(t!==f.currentImageIdIndex){v&&v(e);var h={newImageIdIndex:t,direction:t-f.currentImageIdIndex};f.currentImageIdIndex=t;var p=f.imageIds[t];(Boolean(f.preventCache)?d.loadImage(p):d.loadAndCacheImage(p)).then(function(a){if(f.currentImageIdIndex===t){try{d.getEnabledElement(e)}catch(e){return}s?(s.currentImageIdIndex=t,s.render(e,n.data)):d.displayImage(e,a),g&&g(e,a)}},function(n){var a=f.imageIds[t];m&&m(e,a,n)}),i.default.startGrabbing(),(0,u.default)(e,a.default.STACK_SCROLL,h)}}};var a=d(n(1)),o=d(n(0)),r=n(2),i=d(n(45)),l=d(n(13)),u=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(n(142)),o=r(n(141));function r(e){return e&&e.__esModule?e:{default:e}}var i={getOrientationString:a.default,invertOrientationString:o.default};t.default=i},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,u){var d=a.default.cornerstone,s=d.getEnabledElement(n).image,c=d.getEnabledElement(u).image;if(s&&c){var f=d.metaData.get(\"imagePlaneModule\",s.imageId),v=d.metaData.get(\"imagePlaneModule\",c.imageId);if(f&&v&&f.rowCosines&&f.columnCosines&&f.imagePositionPatient&&v.rowCosines&&v.columnCosines&&v.imagePositionPatient&&f.frameOfReferenceUID===v.frameOfReferenceUID){f.rowCosines=(0,i.default)(f.rowCosines),f.columnCosines=(0,i.default)(f.columnCosines),f.imagePositionPatient=(0,i.default)(f.imagePositionPatient),v.rowCosines=(0,i.default)(v.rowCosines),v.columnCosines=(0,i.default)(v.columnCosines),v.imagePositionPatient=(0,i.default)(v.imagePositionPatient);var g=f.rowCosines.clone().cross(f.columnCosines),m=v.rowCosines.clone().cross(v.columnCosines),h=g.angleTo(m);if(!((h=Math.abs(h))<.5)){var p=(0,o.default)(f,v);if(p){var E=r.default.getActiveColor();e.setTransform(1,0,0,1,0,0),(0,l.draw)(e,function(e){(0,l.drawLine)(e,t.element,p.start,p.end,{color:E})})}}}}};var a=u(n(0)),o=u(n(68)),r=u(n(7)),i=u(n(19)),l=n(3);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=(0,a.planePlaneIntersection)(e,t);if(n)return{start:(0,a.projectPatientPointToImagePlane)(n.start,e),end:(0,a.projectPatientPointToImagePlane)(n.end,e)}};var a=n(46)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=\"2.4.0\"},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.adaptiveBrush=void 0;var a=u(n(0)),o=n(2),r=u(n(49)),i=u(n(48)),l=n(34);function u(e){return e&&e.__esModule?e:{default:e}}var d=\"brush\",s={draw:1,radius:5,tolerance:5,minRadius:1,maxRadius:20,hoverColor:\"rgba(230, 25, 75, 1.0)\",dragColor:\"rgba(230, 25, 75, 0.8)\",active:!1},c=void 0,f=void 0,v=void 0,g=void 0,m=void 0;function h(e){var t=E.getConfiguration(),n=e.element,r=a.default.cornerstone.getLayer(n,t.brushLayerId),u=a.default.cornerstone.getLayers(n)[0],s=r.image,m=s.rows,h=s.columns,p=(0,o.getToolState)(n,d).data[0];g=function(e,t,n,a){for(var o=E.getConfiguration(),r=o.draw,u=Math.round(c.x),d=Math.round(c.y),s=null,g=[],m=o.radius;0!==s&&m>o.minRadius;){s=0,g=(0,i.default)(m,n,a,u,d);for(var h=0;h<g.length;h++){var p=g[h][0],T=e[g[h][1]*a+p];if(T>f||T<v){s++;break}}m--}return 0===s&&(0,l.drawBrushPixels)(g,t,r,a),m}(u.image.getPixelData(),p.pixelData,m,h),r.invalid=!0,a.default.cornerstone.updateImage(n)}function p(e){var t=E.getConfiguration(),n=e.element,r=a.default.cornerstone.getLayer(n,t.brushLayerId),u=r.image,s=u.rows,c=u.columns,f=e.currentPoints.image,v=f.x,g=f.y,m=(0,o.getToolState)(n,d).data[0].pixelData,h=t.draw,p=t.radius;if(!(v<0||v>c||g<0||g>s)){var T=(0,i.default)(p,s,c,v,g);(0,l.drawBrushPixels)(T,m,h,c),r.invalid=!0,a.default.cornerstone.updateImage(n)}}var E=(0,r.default)({onMouseMove:function(e){var t=e.detail;c=t.currentPoints.image,a.default.cornerstone.updateImage(t.element)},onMouseDown:function(e){var t=e.detail,n=t.element,o=E.getConfiguration(),r=a.default.cornerstone.getLayer(n,o.brushLayerId),l=a.default.cornerstone.getLayers(n)[0],u=t.currentPoints.image,d=u.x,s=u.y,g=r.image,T=g.rows,y=g.columns,M=(0,i.default)(o.radius,T,y,d,s);0===o.draw?p(t):(function(e,t,n){var a=E.getConfiguration().tolerance,o=Number.MAX_VALUE,r=-Number.MAX_VALUE;e.forEach(function(e){var a=e[1]*n+e[0],i=t[a];o=Math.min(i,o),r=Math.max(i,r)}),v=o-a,f=r+a}(M,l.image.getPixelData(),y),h(t)),m=!0,c=t.currentPoints.image},onMouseUp:function(e){var t=e.detail;c=t.currentPoints.image;var n=E.getConfiguration();m=!1,g=n.radius,a.default.cornerstone.updateImage(t.element)},onDrag:function(e){var t=e.detail;0===s.draw?p(t):h(t),m=!0,c=t.currentPoints.image},toolType:\"adaptiveBrush\",onImageRendered:function(e){var t=e.detail;if(c){var n=t.image,a=n.rows,o=n.columns,r=c,u=r.x,d=r.y;if(!(u<0||u>o||d<0||d>a)){var s=E.getConfiguration(),f=t.canvasContext,v=m?s.dragColor:s.hoverColor,h=t.element;if(g=m&&g||s.radius,f.setTransform(1,0,0,1,0,0),s.active){var p=(0,i.default)(g,a,o,u,d);(0,l.drawBrushOnCanvas)(p,f,v,h)}}}}});E.setConfiguration(s),t.adaptiveBrush=E},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.Queue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.store={},this.front=0,this.end=0}return a(e,[{key:\"enqueue\",value:function(e){this.store[this.end]=e,this.end++}},{key:\"dequeue\",value:function(){if(this.front===this.end)return null;var e=this.store[this.front];return delete this.store[this.front],this.front++,e}},{key:\"size\",value:function(){return this.end-this.front}}]),e}()},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.fillColor=t.isCircleInPolygon=t.connectEndsOfBrush=t.getEndOfCircle=void 0;var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=n(34),r=n(71);function i(e,t,n,a){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=e;e<t?r<=t:r>=t;r+=e<t?1:-1){if(o&&n(a,r))return r;if(!o&&n(r,a))return r}return null}function l(e,t,n){return t[e]===n}function u(e,t,n,a,o,i){var u=e,d=t,s=0,c=new r.Queue,f=[],v=[0,1,0,-1],g=[-1,0,1,0],m=0,h=function(e,t){return t*n+e};c.enqueue({x:e,y:t});for(var p=0;p<a*n;p+=1)f.push(0);for(f[h(e,t)]=1;0!==c.size()&&m<=a*n;){m+=1;var E=c.dequeue(),T=h(E.x,E.y);if(s<f[T]){var y=[E.x,E.y,f[T]];u=y[0],d=y[1],s=y[2]}for(var M=0;M<4;M+=1){var _=E.y+g[M],S=E.x+v[M],x=h(S,_);_<0||_>=a||S<0||S>=n||l(x,o,i)&&0===f[x]&&(f[x]=f[T]+1,c.enqueue({x:S,y:_}))}}return{x:u,y:d}}function d(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],r=e;e<t?r<=t:r>=t;r+=e<t?1:-1)o.push(a?[n,r]:[r,n]);return o}t.getEndOfCircle=function(e,t,n,a,o,r){var u=function(e,t){return t*n+e};return[i(t,0,function(e,t){return!l(u(e,t-1),o,r)},e,!0),i(e,n,function(e,t){return!l(u(e+1,t),o,r)},t,!1),i(t,a,function(e,t){return!l(u(e,t+1),o,r)},e,!0),i(e,0,function(e,t){return!l(u(e-1,t),o,r)},t,!1)]},t.connectEndsOfBrush=function(e,t,n,r,s,c,f){var v=function(e,t,a){return(0,o.drawBrushPixels)([[e,t]],c,a,n)},g=function(e,t){return(0,o.drawBrushPixels)(e,c,t,n)},m=function(e,t,n,a,o,r,u){for(var d=[0,1,0,-1],s=[-1,0,1,0],c=Number.MAX_SAFE_INTEGER,f=-1,v=void 0,g=void 0,m=void 0,h=function(e,t){return t*n+e},p=function(p){var E=void 0,T=void 0,y=void 0;if(p%2){if(E=t,null===(T=i(o[p]+d[p],1===p?n:0,function(e,t){return l(h(e,t),r,u)},E,!1)))return\"continue\";y=i(T+d[p],1===p?n:0,function(e,t){return!l(h(e+d[p],t+s[p]),r,u)},E,!1)}else{if(E=e,null===(T=i(o[p]+s[p],0===p?0:a,function(e,t){return l(h(e,t),r,u)},E,!0)))return\"continue\";y=i(T+s[p],0===p?0:a,function(e,t){return!l(h(e+d[p],t+s[p]),r,u)},E,!0)}var M=Math.abs(T-(p%2?e:t));c>M&&(c=M,f=p,v=E,g=T,m=y)},E=0;E<o.length;E++)p(E);return c===Number.MAX_SAFE_INTEGER?[null,null,null,null]:[f,v,g,m]}(e,t,n,r,s,c,f),h=a(m,4),p=h[0],E=h[1],T=h[2],y=h[3],M=[];if(null===p)return!1;if(g(d(T,y,E,!(p%2)),0),p%2){var _=u(T,E-1,n,r,c,f),S=u(T,E+1,n,r,c,f);M.push(_),M.push(S)}else{var x=u(E-1,T,n,r,c,f),O=u(E+1,T,n,r,c,f);M.push(x),M.push(O)}if(g(d(T,y,E,!(p%2)),f),M.sort(function(e,t){return e.x-t.x}),M[0].x===M[1].x)g(d(M[0].y,M[1].y,M[0].x,!0),f);else{var b=(M[1].y-M[0].y)/(M[1].x-M[0].x),C=M[0].y-b*M[0].x;if(Math.abs(b)>=1){M.sort(function(e,t){return e.y-t.y});for(var P=M[0].y;P<=M[1].y;P+=1)for(var I=-0;I<=2;I+=1)v(Math.round((P-C)/b)+I,P,f)}else for(var L=M[0].x;L<=M[1].x;L+=1)for(var w=-0;w<=2;w+=1)v(L,Math.round(b*L+C)+w,f)}return!0},t.isCircleInPolygon=function(e,t,n,a,o,r,u){var d=function(e,t){return t*n+e},s=i(o[3]-1,0,function(e,t){return l(d(e,t),r,u)},t,!1),c=i(o[1]+1,n,function(e,t){return l(d(e,t),r,u)},t,!1);return s&&c},t.fillColor=function(e,t,n,a,i,u){var d=new r.Queue,s=[0,1,0,-1],c=[-1,0,1,0],f=0,v=function(e,t){return t*n+e},g=function(e,t,a){return(0,o.drawBrushPixels)([[e,t]],i,a,n)};for(d.enqueue({x:e,y:t}),g(e,t,u);0!==d.size()&&f<=a*n;){f+=1;for(var m=d.dequeue(),h=0;h<4;h+=1){var p=m.y+c[h],E=m.x+s[h];p<0||p>=a||E<0||E>=n||l(v(E,p),i,u)||(d.enqueue({x:E,y:p}),g(E,p,u))}}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.brush=void 0;var a=d(n(0)),o=n(2),r=d(n(49)),i=d(n(48)),l=n(34),u=n(72);function d(e){return e&&e.__esModule?e:{default:e}}var s=\"brush\",c=void 0,f=!1;function v(e){var t=g.getConfiguration(),n=e.element,r=a.default.cornerstone.getLayer(n,t.brushLayerId),u=r.image,d=u.rows,c=u.columns,f=e.currentPoints.image,v=f.x,m=f.y,h=(0,o.getToolState)(n,s).data[0].pixelData,p=t.draw,E=t.radius;if(!(v<0||v>c||m<0||m>d)){var T=(0,i.default)(E,d,c,v,m);(0,l.drawBrushPixels)(T,h,p,c),r.invalid=!0,a.default.cornerstone.updateImage(n)}}var g=(0,r.default)({onMouseMove:function(e){var t=e.detail;c=t.currentPoints.image,a.default.cornerstone.updateImage(t.element)},onMouseDown:function(e){var t=e.detail;v(t),f=!0,c=t.currentPoints.image},onMouseUp:function(e){var t=e.detail;c=t.currentPoints.image,f=!1},onDrag:function(e){var t=e.detail;v(t),f=!0,c=t.currentPoints.image},toolType:\"brush\",onImageRendered:function(e){var t=e.detail;if(c){var n=t.image,a=n.rows,o=n.columns,r=c,u=r.x,d=r.y;if(!(u<0||u>o||d<0||d>a)){var s=g.getConfiguration(),v=s.radius,m=t.canvasContext,h=f?s.dragColor:s.hoverColor,p=t.element;if(m.setTransform(1,0,0,1,0,0),s.active){var E=(0,i.default)(v,a,o,u,d);(0,l.drawBrushOnCanvas)(E,m,h,p)}}}},onMouseDoubleClick:function(e){!function(e){var t=g.getConfiguration(),n=t.radius,r=e.element,i=a.default.cornerstone.getLayer(r,t.brushLayerId),l=i.image,d=l.rows,c=l.columns,f=e.currentPoints.image,v=f.x,m=f.y,h=(0,o.getToolState)(r,s).data[0].pixelData,p=t.draw;if(!(v<0||v>c||m<0||m>d)){v=Math.round(v),m=Math.round(m);var E=(0,u.getEndOfCircle)(v,m,c,d,h,p);Math.abs(E[0]-E[2])>2*n&&Math.abs(E[1]-E[3])>2*n||((0,u.connectEndsOfBrush)(v,m,c,d,E,h,p)&&(0,u.isCircleInPolygon)(v,m,c,d,E,h,p)&&(0,u.fillColor)(v,E[0]-1,c,d,h,p),i.invalid=!0,a.default.cornerstone.updateImage(r))}}(e.detail)}});g.setConfiguration({draw:1,radius:5,minRadius:1,maxRadius:20,hoverColor:\"rgba(230, 25, 75, 1.0)\",dragColor:\"rgba(230, 25, 75, 0.8)\",active:!1}),t.brush=g},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.zoomTouchDrag=t.zoomTouchPinch=t.zoomWheel=t.zoom=void 0;var a=f(n(1)),o=f(n(0)),r=f(n(16)),i=f(n(5)),l=f(n(29)),u=f(n(50)),d=f(n(18)),s=n(4),c=n(8);function f(e){return e&&e.__esModule?e:{default:e}}var v=\"zoom\",g=void 0;function m(e,t){var n=y.getConfiguration(),a=Math.log(e.scale)/Math.log(1.7)+t,o=Math.pow(1.7,a);return n.maxScale&&o>n.maxScale?e.scale=n.maxScale:n.minScale&&o<n.minScale?e.scale=n.minScale:e.scale=o,e}function h(e,t){if(t.hflip&&(e.x*=-1),t.vflip&&(e.y*=-1),0!==t.rotation){var n=t.rotation*Math.PI/180,a=Math.cos(n),o=Math.sin(n),r=e.x*a-e.y*o,i=e.x*o+e.y*a;e.x=r,e.y=i}return e}function p(e,t){var n=o.default.cornerstone,a=e.element,r=m(e.viewport,t);n.setViewport(a,r);var i=n.pageToPixel(a,e.startPoints.page.x,e.startPoints.page.y),l={x:e.startPoints.image.x-i.x,y:e.startPoints.image.y-i.y};l=h(l,r),r.translation.x-=l.x,r.translation.y-=l.y,n.setViewport(a,r)}function E(e){var t=e.detail.element;t.removeEventListener(a.default.MOUSE_DRAG,T),t.removeEventListener(a.default.MOUSE_UP,E),t.removeEventListener(a.default.MOUSE_CLICK,E)}function T(e){var t=e.detail;if(!t.deltaPoints.page.y)return!1;var n=t.deltaPoints.page.y/100,a=y.getConfiguration();a&&a.invert&&(n*=-1),y.strategy(t,n),e.preventDefault(),e.stopPropagation()}var y=(0,r.default)(function(e){var t=e.detail,n=t.element,o=(0,s.getToolOptions)(v,n);(0,i.default)(t.which,o.mouseButtonMask)&&(g=t.startPoints,n.addEventListener(a.default.MOUSE_DRAG,T),n.addEventListener(a.default.MOUSE_UP,E),n.addEventListener(a.default.MOUSE_CLICK,E),e.preventDefault(),e.stopPropagation())},v);y.strategies={default:p,translate:function(e,t){var n=e.element,a=e.image,r=y.getConfiguration(),i=m(e.viewport,t),l={x:0,y:0};if(t<0)i.scale<3&&(Math.abs(i.translation.x)<.01?i.translation.x=0:l.x=i.translation.x/8,Math.abs(i.translation.y)<.01?i.translation.y=0:l.y=i.translation.y/8);else{r&&r.preventZoomOutsideImage&&(0,c.clipToBox)(g.image,a);var u={x:a.width/2-g.image.x,y:a.height/2-g.image.y};u=h(u,i);var d={x:i.translation.x-u.x,y:i.translation.y-u.y};Math.abs(d.x)<.01?i.translation.x=u.x:l.x=d.x/8,Math.abs(d.y)<.01?i.translation.y=u.y:l.y=d.y/8}i.translation.x-=l.x,i.translation.y-=l.y,o.default.cornerstone.setViewport(n,i)},zoomToCenter:function(e,t){var n=e.element,a=m(e.viewport,t);o.default.cornerstone.setViewport(n,a)}},y.strategy=p;var M=(0,l.default)(function(e){var t=e.detail,n=-t.direction/4,a=y.getConfiguration();a&&a.invert&&(n*=-1);var r=m(t.viewport,n);o.default.cornerstone.setViewport(t.element,r)}),_=(0,u.default)(function(e){var t=e.detail,n=o.default.cornerstone,a=y.getConfiguration(),r=t.viewport,i=t.element;r.scale+=t.scaleChange*r.scale,a.maxScale&&r.scale>a.maxScale?r.scale=a.maxScale:a.minScale&&r.scale<a.minScale&&(r.scale=a.minScale),n.setViewport(i,r);var l=n.pageToPixel(i,t.startPoints.page.x,t.startPoints.page.y),u={x:t.startPoints.image.x-l.x,y:t.startPoints.image.y-l.y};u=h(u,r),r.translation.x-=u.x,r.translation.y-=u.y,n.setViewport(i,r)}),S=(0,d.default)(T,v);t.zoom=y,t.zoomWheel=M,t.zoomTouchPinch=_,t.zoomTouchDrag=S},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.wwwcRegionTouch=t.wwwcRegion=void 0;var a=f(n(1)),o=f(n(0)),r=f(n(7)),i=n(2),l=f(n(64)),u=f(n(5)),d=n(4),s=f(n(8)),c=n(3);function f(e){return e&&e.__esModule?e:{default:e}}var v=\"wwwcRegion\",g={minWindowWidth:10};function m(e){var t=e.detail.element,n=(0,i.getToolState)(t,v);n&&n.data&&(n.data=[]),t.removeEventListener(a.default.MOUSE_MOVE,M),t.removeEventListener(a.default.MOUSE_DRAG,M),t.removeEventListener(a.default.MOUSE_UP,h),t.removeEventListener(a.default.MOUSE_CLICK,h),t.addEventListener(a.default.MOUSE_DOWN,T)}function h(e){var t=e.detail,n=t.element;n.removeEventListener(a.default.MOUSE_MOVE,M),n.removeEventListener(a.default.MOUSE_DRAG,M),n.removeEventListener(a.default.MOUSE_UP,h),n.removeEventListener(a.default.MOUSE_CLICK,h),n.addEventListener(a.default.MOUSE_DOWN,T);var o=(0,i.getToolState)(t.element,v);o&&o.data&&o.data.length&&(o.data[0].endPoint={x:t.currentPoints.image.x,y:t.currentPoints.image.y},p(t))}function p(e){var t=o.default.cornerstone,n=(0,i.getToolState)(e.element,v);if(n&&n.data&&n.data.length){var a=n.data[0].startPoint,r=n.data[0].endPoint,u=Math.abs(a.x-r.x),d=Math.abs(a.y-r.y),c=Math.min(a.x,r.x),f=Math.min(a.y,r.y);c=(0,s.default)(c,0,e.image.width),f=(0,s.default)(f,0,e.image.height),u=Math.floor(Math.min(u,Math.abs(e.image.width-c))),d=Math.floor(Math.min(d,Math.abs(e.image.height-f)));var g=function(e,t,n){var a=e.length;if(a<2)return{min:t,max:n,mean:(t+n)/2};for(var o=n,r=t,i=0,l=0;l<a;l++){var u=e[l];o=Math.min(o,u),r=Math.max(r,u),i+=u}return{min:o,max:r,mean:i/a}}((0,l.default)(e.element,c,f,u,d),e.image.minPixelValue,e.image.maxPixelValue),m=O.getConfiguration(),h=t.getViewport(e.element);void 0===m.minWindowWidth&&(m.minWindowWidth=10),h.voi.windowWidth=Math.max(Math.abs(g.max-g.min),m.minWindowWidth),h.voi.windowCenter=g.mean,t.setViewport(e.element,h),n.data=[],t.updateImage(e.element)}}function E(e){var t=e.detail.element;t.removeEventListener(a.default.MOUSE_MOVE,E),t.removeEventListener(a.default.MOUSE_DRAG,E),t.addEventListener(a.default.MOUSE_MOVE,M),t.addEventListener(a.default.MOUSE_DRAG,M),t.addEventListener(a.default.MOUSE_CLICK,h),e.type===a.default.MOUSE_DRAG&&t.addEventListener(a.default.MOUSE_UP,h)}function T(e){var t=e.detail,n=t.element,o=(0,d.getToolOptions)(v,n);if((0,u.default)(t.which,o.mouseButtonMask))return n.addEventListener(a.default.MOUSE_DRAG,E),n.addEventListener(a.default.MOUSE_MOVE,E),n.removeEventListener(a.default.MOUSE_DOWN,T),y(t),!1}function y(e){var t=(0,i.getToolState)(e.element,v);t&&t.data&&(t.data=[]);var n={startPoint:{x:e.currentPoints.image.x,y:e.currentPoints.image.y}};(0,i.addToolState)(e.element,v,n)}function M(e){var t=e.detail,n=t.element,a=(0,i.getToolState)(n,v);a&&a.data&&a.data.length&&(a.data[0].endPoint={x:t.currentPoints.image.x,y:t.currentPoints.image.y},o.default.cornerstone.updateImage(n))}function _(e){var t=e.detail,n=t.element,a=t.canvasContext,o=(0,i.getToolState)(t.element,v);if(o&&o.data&&o.data.length){var l=o.data[0].startPoint,u=o.data[0].endPoint;if(l&&u){a.setTransform(1,0,0,1,0,0);var d=r.default.getActiveColor(),s=O.getConfiguration();(0,c.draw)(a,function(e){(0,c.setShadow)(e,s),(0,c.drawRect)(e,n,l,u,{color:d})})}}}function S(e){e.removeEventListener(a.default.MOUSE_DOWN,T),e.removeEventListener(a.default.MOUSE_UP,h),e.removeEventListener(a.default.MOUSE_CLICK,h),e.removeEventListener(a.default.MOUSE_DRAG,M),e.removeEventListener(a.default.MOUSE_MOVE,M),e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,_),e.removeEventListener(o.default.cornerstone.EVENTS.NEW_IMAGE,m),o.default.cornerstone.updateImage(e)}function x(e){e.removeEventListener(a.default.TOUCH_DRAG,M),e.removeEventListener(a.default.TOUCH_START,y),e.removeEventListener(a.default.TOUCH_DRAG_END,p),e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,_)}var O={activate:function(e,t){(0,d.setToolOptions)(v,e,{mouseButtonMask:t}),(0,i.getToolState)(e,v)||(0,i.addToolState)(e,v,[]);e.removeEventListener(a.default.MOUSE_DOWN,T),e.removeEventListener(a.default.MOUSE_UP,h),e.removeEventListener(a.default.MOUSE_CLICK,h),e.removeEventListener(a.default.MOUSE_DRAG,M),e.removeEventListener(a.default.MOUSE_MOVE,M),e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,_),e.removeEventListener(o.default.cornerstone.EVENTS.NEW_IMAGE,m),e.addEventListener(a.default.MOUSE_DOWN,T),e.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,_),e.addEventListener(o.default.cornerstone.EVENTS.NEW_IMAGE,m),o.default.cornerstone.updateImage(e)},deactivate:S,disable:S,setConfiguration:function(e){g=e},getConfiguration:function(){return g}},b={activate:function(e){(0,i.getToolState)(e,v)||(0,i.addToolState)(e,v,[]);e.removeEventListener(a.default.TOUCH_DRAG,M),e.removeEventListener(a.default.TOUCH_START,y),e.removeEventListener(a.default.TOUCH_DRAG_END,p),e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,_),e.addEventListener(a.default.TOUCH_DRAG,M),e.addEventListener(a.default.TOUCH_START,y),e.addEventListener(a.default.TOUCH_DRAG_END,p),e.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,_)},deactivate:x,disable:x};t.wwwcRegion=O,t.wwwcRegionTouch=b},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.wwwcTouchDrag=t.wwwc=void 0;var a=d(n(1)),o=d(n(0)),r=d(n(16)),i=d(n(18)),l=d(n(5)),u=n(4);function d(e){return e&&e.__esModule?e:{default:e}}var s=\"wwwc\";function c(e){var t=e.detail.element;t.removeEventListener(a.default.MOUSE_DRAG,v),t.removeEventListener(a.default.MOUSE_UP,c),t.removeEventListener(a.default.MOUSE_CLICK,c)}function f(e){var t=(e.image.maxPixelValue*e.image.slope+e.image.intercept-(e.image.minPixelValue*e.image.slope+e.image.intercept))/1024,n=e.deltaPoints.page.x*t,a=e.deltaPoints.page.y*t;e.viewport.voi.windowWidth+=n,e.viewport.voi.windowCenter+=a}function v(e){var t=e.detail;g.strategy(t),o.default.cornerstone.setViewport(t.element,t.viewport)}var g=(0,r.default)(function(e){var t=e.detail,n=t.element,o=(0,u.getToolOptions)(s,n);(0,l.default)(t.which,o.mouseButtonMask)&&(n.addEventListener(a.default.MOUSE_DRAG,v),n.addEventListener(a.default.MOUSE_UP,c),n.addEventListener(a.default.MOUSE_CLICK,c),e.preventDefault(),e.stopPropagation())},s);g.strategies={default:f},g.strategy=f;var m=(0,i.default)(function(e){var t=e.detail;e.stopImmediatePropagation();var n=t,a=(n.image.maxPixelValue*n.image.slope+n.image.intercept-(n.image.minPixelValue*n.image.slope+n.image.intercept))/1024,r=n.deltaPoints.page.x*a,i=n.deltaPoints.page.y*a,l=g.getConfiguration();l.orientation?0===l.orientation?(n.viewport.voi.windowWidth+=r,n.viewport.voi.windowCenter+=i):(n.viewport.voi.windowWidth+=i,n.viewport.voi.windowCenter+=r):(n.viewport.voi.windowWidth+=r,n.viewport.voi.windowCenter+=i),o.default.cornerstone.setViewport(n.element,n.viewport)});t.wwwc=g,t.wwwcTouchDrag=m},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.textMarkerTouch=t.textMarker=void 0;var a=m(n(1)),o=m(n(0)),r=m(n(10)),i=m(n(12)),l=m(n(22)),u=m(n(7)),d=m(n(5)),s=n(11),c=m(s),f=n(2),v=n(4),g=n(3);function m(e){return e&&e.__esModule?e:{default:e}}var h=\"textMarker\";function p(e){var t=y.getConfiguration();if(t.current){var n={visible:!0,active:!0,text:t.current,color:void 0,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0,hasBoundingBox:!0}}},a={left:0,top:0,width:e.image.width,height:e.image.height};if(o.default.cornerstoneMath.point.insideRect(n.handles.end,a)){var r=t.markers.indexOf(t.current);return t.ascending?(r+=1)>=t.markers.length&&(t.loop?r-=t.markers.length:r=-1):(r-=1)<0&&(t.loop?r+=t.markers.length:r=-1),t.current=t.markers[r],n}}}function E(e,t,n){if(!1===t.visible)return!1;if(t.handles.end.boundingBox){var a=o.default.cornerstoneMath.rect.distanceToPoint(t.handles.end.boundingBox,n),r=(0,l.default)(t.handles.end,n);return a<10||r}}function T(e){var t=e.detail,n=(0,f.getToolState)(t.element,h);if(n)for(var a=(0,g.getNewContext)(t.canvasContext.canvas),r=y.getConfiguration(),i=function(e){var i=n.data[e];if(!1===i.visible)return\"continue\";var l=u.default.getColorIfActive(i);(0,g.draw)(a,function(e){(0,g.setShadow)(e,r);i.textWidth=(0,s.textBoxWidth)(e,i.text,5);var n=o.default.cornerstone.pixelToCanvas(t.element,i.handles.end);i.handles.end.boundingBox=(0,c.default)(e,i.text,n.x,n.y-10,l,{centering:{x:!0,y:!0}})})},l=0;l<n.data.length;l++)i(l)}var y=(0,r.default)({createNewMeasurement:p,onImageRendered:T,pointNearTool:E,toolType:h,mouseDoubleClickCallback:function(e){var t=e.detail,n=o.default.cornerstone,r=t.element,i=void 0,l=(0,v.getToolOptions)(h,r);if((0,d.default)(t.which,l.mouseButtonMask)){var u=y.getConfiguration(),s=t.currentPoints.canvas,c=(0,f.getToolState)(r,h);if(c){for(var g=0;g<c.data.length;g++)if(E(0,i=c.data[g],s))return i.active=!0,n.updateImage(r),r.removeEventListener(a.default.MOUSE_MOVE,y.mouseMoveCallback),r.removeEventListener(a.default.MOUSE_DOWN,y.mouseDownCallback),r.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,y.mouseDownActivateCallback),r.removeEventListener(a.default.MOUSE_DOUBLE_CLICK,y.mouseDoubleClickCallback),u.changeTextCallback(i,t,m),e.stopImmediatePropagation(),e.preventDefault(),void e.stopPropagation();e.preventDefault(),e.stopPropagation()}}function m(e,t,o){!0===o?(0,f.removeToolState)(r,h,e):e.text=t,e.active=!1,n.updateImage(r),r.addEventListener(a.default.MOUSE_MOVE,y.mouseMoveCallback),r.addEventListener(a.default.MOUSE_DOWN,y.mouseDownCallback),r.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,y.mouseDownActivateCallback),r.addEventListener(a.default.MOUSE_DOUBLE_CLICK,y.mouseDoubleClickCallback)}}}),M=(0,i.default)({createNewMeasurement:p,onImageRendered:T,pointNearTool:E,toolType:h,pressCallback:function(e){var t=e.detail,n=o.default.cornerstone,r=t.element,i=void 0;function l(e,t,o){!0===o?(0,f.removeToolState)(r,h,e):e.text=t,e.active=!1,n.updateImage(r),r.addEventListener(a.default.TOUCH_DRAG,M.touchMoveCallback),r.addEventListener(a.default.TOUCH_START_ACTIVE,M.touchDownActivateCallback),r.addEventListener(a.default.TOUCH_START,M.touchStartCallback),r.addEventListener(a.default.TAP,M.tapCallback),r.addEventListener(a.default.TOUCH_PRESS,M.pressCallback)}var u=y.getConfiguration(),d=t.currentPoints.canvas,s=(0,f.getToolState)(r,h);if(!s)return!1;if(t.handlePressed)return t.handlePressed.active=!0,n.updateImage(r),r.removeEventListener(a.default.TOUCH_DRAG,M.touchMoveCallback),r.removeEventListener(a.default.TOUCH_START_ACTIVE,M.touchDownActivateCallback),r.removeEventListener(a.default.TOUCH_START,M.touchStartCallback),r.removeEventListener(a.default.TAP,M.tapCallback),r.removeEventListener(a.default.TOUCH_PRESS,M.pressCallback),u.changeTextCallback(t.handlePressed,t,l),e.stopImmediatePropagation(),e.preventDefault(),void e.stopPropagation();for(var c=0;c<s.data.length;c++)if(E(0,i=s.data[c],d))return i.active=!0,n.updateImage(r),r.removeEventListener(a.default.TOUCH_DRAG,M.touchMoveCallback),r.removeEventListener(a.default.TOUCH_START_ACTIVE,M.touchDownActivateCallback),r.removeEventListener(a.default.TOUCH_START,M.touchStartCallback),r.removeEventListener(a.default.TAP,M.tapCallback),r.removeEventListener(a.default.TOUCH_PRESS,M.pressCallback),u.changeTextCallback(i,t,l),e.stopImmediatePropagation(),e.preventDefault(),void e.stopPropagation();e.preventDefault(),e.stopPropagation()}});t.textMarker=y,t.textMarkerTouch=M},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.simpleAngleTouch=t.simpleAngle=void 0;var a=T(n(1)),o=T(n(0)),r=T(n(10)),i=T(n(43)),l=T(n(17)),u=T(n(14)),d=T(n(7)),s=T(n(15)),c=T(n(30)),f=T(n(28)),v=T(n(9)),g=T(n(12)),m=T(n(27)),h=n(2),p=n(3),E=n(11);function T(e){return e&&e.__esModule?e:{default:e}}var y=\"simpleAngle\";function M(e){return{visible:!0,active:!0,color:void 0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},middle:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}function _(e,t,n){return!1!==t.visible&&((0,m.default)(e,t.handles.start,t.handles.middle,n)<25||(0,m.default)(e,t.handles.middle,t.handles.end,n)<25)}function S(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function x(e){var t=e.detail,n=(0,h.getToolState)(e.currentTarget,y);if(n)for(var a=o.default.cornerstone,r=t.enabledElement,s=(0,p.getNewContext)(t.canvasContext.canvas),c=u.default.getToolWidth(),f=O.getConfiguration(),g=function(e){var o=n.data[e];if(!1===o.visible)return\"continue\";(0,p.draw)(s,function(e){(0,p.setShadow)(e,f);var n=d.default.getColorIfActive(o),u=a.pixelToCanvas(t.element,o.handles.start),s=a.pixelToCanvas(t.element,o.handles.middle);(0,p.drawJoinedLines)(e,t.element,o.handles.start,[o.handles.middle,o.handles.end],{color:n});var g={drawHandlesIfActive:f&&f.drawHandlesOnHover};(0,v.default)(e,t,o.handles,n,g);var m=t.image.columnPixelSpacing||1,h=t.image.rowPixelSpacing||1,y={x:(Math.ceil(o.handles.middle.x)-Math.ceil(o.handles.start.x))*m,y:(Math.ceil(o.handles.middle.y)-Math.ceil(o.handles.start.y))*h},M={x:(Math.ceil(o.handles.end.x)-Math.ceil(o.handles.middle.x))*m,y:(Math.ceil(o.handles.end.y)-Math.ceil(o.handles.middle.y))*h},_={x:(Math.ceil(o.handles.end.x)-Math.ceil(o.handles.start.x))*m,y:(Math.ceil(o.handles.end.y)-Math.ceil(o.handles.start.y))*h},x=S(y),O=S(M),b=S(_),C=Math.acos((Math.pow(x,2)+Math.pow(O,2)-Math.pow(b,2))/(2*x*O));if(C*=180/Math.PI,o.rAngle=(0,i.default)(C,2),o.rAngle){var P=function(e,t,n){var a=t&&n?\"\":\" (isotropic)\";return e.rAngle.toString()+String.fromCharCode(parseInt(\"00B0\",16))+a}(o,t.image.rowPixelSpacing,t.image.columnPixelSpacing),I=void 0;if(!o.handles.textBox.hasMoved){I={x:s.x,y:s.y};var L=(0,E.textBoxWidth)(e,P,5);s.x<u.x?I.x-=15+L:I.x+=15;var w=a.internal.getTransform(r);w.invert();var D=w.transformPoint(I.x,I.y);o.handles.textBox.x=D.x,o.handles.textBox.y=D.y}(0,l.default)(e,t.element,o.handles.textBox,P,o.handles,T,n,c,0,!0)}})},m=0;m<n.data.length;m++)g(m);function T(e){return[e.start,e.middle,e.end]}}var O=(0,r.default)({createNewMeasurement:M,addNewMeasurement:function(e){var t=o.default.cornerstone,n=M(e),r=e.element;(0,h.addToolState)(r,y,n),r.removeEventListener(a.default.MOUSE_MOVE,O.mouseMoveCallback),r.removeEventListener(a.default.MOUSE_DRAG,O.mouseMoveCallback),r.removeEventListener(a.default.MOUSE_DOWN,O.mouseDownCallback),r.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,O.mouseDownActivateCallback),t.updateImage(r),(0,c.default)(e,y,n,n.handles.middle,function(){if(n.active=!1,(0,s.default)(e,n.handles))return(0,h.removeToolState)(r,y,n),r.addEventListener(a.default.MOUSE_MOVE,O.mouseMoveCallback),r.addEventListener(a.default.MOUSE_DRAG,O.mouseMoveCallback),r.addEventListener(a.default.MOUSE_DOWN,O.mouseDownCallback),r.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,O.mouseDownActivateCallback),void t.updateImage(r);n.handles.end.active=!0,t.updateImage(r),(0,c.default)(e,y,n,n.handles.end,function(){n.active=!1,(0,s.default)(e,n.handles)&&(0,h.removeToolState)(r,y,n),r.addEventListener(a.default.MOUSE_MOVE,O.mouseMoveCallback),r.addEventListener(a.default.MOUSE_DRAG,O.mouseMoveCallback),r.addEventListener(a.default.MOUSE_DOWN,O.mouseDownCallback),r.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,O.mouseDownActivateCallback),t.updateImage(r)})})},onImageRendered:x,pointNearTool:_,toolType:y}),b=(0,g.default)({createNewMeasurement:M,addNewMeasurement:function(e){var t=o.default.cornerstone,n=M(e),r=e.element;(0,h.addToolState)(r,y,n),r.removeEventListener(a.default.TOUCH_DRAG,b.touchMoveCallback),r.removeEventListener(a.default.TOUCH_START_ACTIVE,b.touchDownActivateCallback),r.removeEventListener(a.default.TOUCH_START,b.touchStartCallback),r.removeEventListener(a.default.TAP,b.tapCallback),t.updateImage(r),(0,f.default)(e,y,n,n.handles.middle,function(){if((0,s.default)(e,n.handles))return(0,h.removeToolState)(r,y,n),r.addEventListener(a.default.TOUCH_DRAG,b.touchMoveCallback),r.addEventListener(a.default.TOUCH_START,b.touchStartCallback),r.addEventListener(a.default.TOUCH_START_ACTIVE,b.touchDownActivateCallback),r.addEventListener(a.default.TAP,b.tapCallback),void t.updateImage(r);(0,f.default)(e,y,n,n.handles.end,function(){(0,s.default)(e,n.handles)&&((0,h.removeToolState)(r,y,n),t.updateImage(r)),r.addEventListener(a.default.TOUCH_DRAG,b.touchMoveCallback),r.addEventListener(a.default.TOUCH_START,b.touchStartCallback),r.addEventListener(a.default.TOUCH_START_ACTIVE,b.touchDownActivateCallback),r.addEventListener(a.default.TAP,b.tapCallback)})})},onImageRendered:x,pointNearTool:_,toolType:y});t.simpleAngle=O,t.simpleAngleTouch=b},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.seedAnnotateTouch=t.seedAnnotate=void 0;var a=y(n(1)),o=y(n(0)),r=y(n(10)),i=y(n(12)),l=y(n(21)),u=y(n(14)),d=y(n(7)),s=y(n(15)),c=y(n(31)),f=y(n(9)),v=y(n(5)),g=y(n(22)),m=y(n(17)),h=n(2),p=n(4),E=n(3),T=n(11);function y(e){return e&&e.__esModule?e:{default:e}}var M=\"seedAnnotate\";var _={getTextCallback:function(e){e(prompt(\"Enter your annotation:\"))},changeTextCallback:function(e,t,n){n(prompt(\"Change your annotation:\"))},drawHandles:!1,drawHandlesOnHover:!0,currentLetter:\"A\",currentNumber:0,showCoordinates:!0,countUp:!0};function S(e){return{visible:!0,active:!0,color:void 0,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}function x(e,t,n){if(!1===t.visible)return!1;if(t.handles.end){var a=o.default.cornerstone.pixelToCanvas(e,t.handles.end);return o.default.cornerstoneMath.point.distance(a,n)<25}}function O(e){var t=e.detail,n=(0,h.getToolState)(e.currentTarget,M);if(n)for(var a=o.default.cornerstone,r=t.enabledElement,i=(0,E.getNewContext)(t.canvasContext.canvas),s=t.canvasContext.canvas.width,c=u.default.getToolWidth(),v=b.getConfiguration(),g=function(e){var o=n.data[e];if(!1===o.visible)return\"continue\";(0,E.draw)(i,function(e){(0,E.setShadow)(e,v);var n=d.default.getColorIfActive(o),i=a.pixelToCanvas(t.element,o.handles.end);(0,E.drawCircle)(e,t.element,o.handles.end,6,{color:n});var u={drawHandlesIfActive:v&&v.drawHandlesOnHover};if(v.drawHandles&&(0,f.default)(e,t,i,n,u),o.text&&\"\"!==o.text){var g=function(e){var t=\"\";t=v.showCoordinates?e.text+\" x: \"+Math.round(e.handles.end.x)+\" y: \"+Math.round(e.handles.end.y):e.text;return t}(o),h=(0,T.textBoxWidth)(e,g,5),p=l.default.getFontSize()+10,M=Math.max(h,p)/2+5;i.x>s/2&&(M=-M);var _=void 0;if(!o.handles.textBox.hasMoved){_={x:i.x-h/2+M,y:i.y-p/2};var S=a.internal.getTransform(r);S.invert();var x=S.transformPoint(_.x,_.y);o.handles.textBox.x=x.x,o.handles.textBox.y=x.y}(0,m.default)(e,t.element,o.handles.textBox,g,o.handles,y,n,c,0,!1)}})},p=0;p<n.data.length;p++)g(p);function y(e){return[e.end]}}var b=(0,r.default)({addNewMeasurement:function(e){var t=o.default.cornerstone,n=e.element,a=b.getConfiguration(),r=S(e);function i(e){null===e?(0,h.removeToolState)(n,M,r):r.text=e,r.active=!1,t.updateImage(n)}(0,h.addToolState)(n,M,r),t.updateImage(n),(0,c.default)(e,M,r,r.handles.end,function(){(0,s.default)(e,r.handles)&&(0,h.removeToolState)(n,M,r),void 0===r.text&&a.getTextCallback(i),t.updateImage(n)})},createNewMeasurement:S,onImageRendered:O,pointNearTool:x,toolType:M,mouseDoubleClickCallback:function(e){var t=e.detail,n=o.default.cornerstone,a=t.element,r=void 0,i=(0,p.getToolOptions)(M,a);if((0,v.default)(t.which,i.mouseButtonMask)){var l=b.getConfiguration(),u=t.currentPoints.canvas,d=(0,h.getToolState)(a,M);if(d){for(var s=0;s<d.data.length;s++)if(r=d.data[s],x(a,r,u)||(0,g.default)(r.handles.textBox,u))return r.active=!0,n.updateImage(a),l.changeTextCallback(r,t,c),e.stopImmediatePropagation(),!1;e.preventDefault(),e.stopPropagation()}}function c(e,t,o){!0===o?(0,h.removeToolState)(a,M,e):e.text=t,e.active=!1,n.updateImage(a)}}});b.setConfiguration(_);var C=(0,i.default)({addNewMeasurement:function(e){var t=o.default.cornerstone,n=e.element,a=b.getConfiguration(),r=S(e);function i(e){null===e?(0,h.removeToolState)(n,M,r):r.text=e,r.active=!1,t.updateImage(n)}(0,h.addToolState)(n,M,r),t.updateImage(n),(0,c.default)(e,M,r,r.handles.end,function(){(0,s.default)(e,r.handles)&&(0,h.removeToolState)(n,M,r),void 0===r.text&&a.getTextCallback(i),t.updateImage(n)})},createNewMeasurement:S,onImageRendered:O,pointNearTool:x,toolType:M,pressCallback:function(e){var t=e.detail,n=o.default.cornerstone,r=t.element,i=void 0;function l(e,t,o){console.log(\"pressCallback doneChangingTextCallback\"),!0===o?(0,h.removeToolState)(r,M,e):e.text=t,e.active=!1,n.updateImage(r),r.addEventListener(a.default.TOUCH_START,C.touchStartCallback),r.addEventListener(a.default.TOUCH_START_ACTIVE,C.touchDownActivateCallback),r.addEventListener(a.default.TAP,C.tapCallback)}var u=b.getConfiguration(),d=t.currentPoints.canvas,s=(0,h.getToolState)(r,M);if(!s)return!1;if(t.handlePressed)return r.removeEventListener(a.default.TOUCH_START,C.touchStartCallback),r.removeEventListener(a.default.TOUCH_START_ACTIVE,C.touchDownActivateCallback),r.removeEventListener(a.default.TAP,C.tapCallback),u.changeTextCallback(t.handlePressed,t,l),e.stopImmediatePropagation(),!1;for(var c=0;c<s.data.length;c++)if(i=s.data[c],x(r,i,d)||(0,g.default)(i.handles.textBox,d))return i.active=!0,n.updateImage(r),r.removeEventListener(a.default.TOUCH_START,C.touchStartCallback),r.removeEventListener(a.default.TOUCH_START_ACTIVE,C.touchDownActivateCallback),r.removeEventListener(a.default.TAP,C.tapCallback),u.changeTextCallback(i,t,l),e.stopImmediatePropagation(),!1;e.preventDefault(),e.stopPropagation()}});t.seedAnnotate=b,t.seedAnnotateTouch=C},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=i(n(24)),o=i(n(0)),r=n(3);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a,o){var r={left:0,top:0,width:t.width,height:t.height},i=a*Math.min(1e3,t.width),l=o*Math.min(1e3,t.height);return{topLeft:{x:(r={left:r.left+i,top:r.top+l,width:r.width-2*i,height:r.height-2*l}).left,y:r.top},bottomRight:{x:r.left+r.width,y:r.top+r.height}}}function u(e){var t=e.detail,n=(0,r.getNewContext)(t.canvasContext.canvas),a=t.image,i=t.viewport,u=o.default.cornerstone.metaData.get(\"imagePlaneModule\",a.imageId),s=void 0,c=void 0;if(u?(s=u.rowPixelSpacing||u.rowImagePixelSpacing,c=u.columnPixelSpacing||u.colImagePixelSpacing):(s=a.rowPixelSpacing,c=a.columnPixelSpacing),s&&c){var f={width:n.canvas.width,height:n.canvas.height},v={width:a.width,height:a.height},g=10/s*i.scale,m=10/c*i.scale,h=l(0,f,0,.25,.05),p=l(0,f,0,.05,.15);if(f.width&&f.height&&v.width&&v.height&&h&&p){var E=d.getConfiguration(),T=Object.assign({},{hscaleBounds:h,vscaleBounds:p,verticalMinorTick:g,horizontalMinorTick:m,minorTickLength:12.5,majorTickLength:25,verticalLine:{start:{x:p.bottomRight.x,y:p.topLeft.y},end:{x:p.bottomRight.x,y:p.bottomRight.y}},horizontalLine:{start:{x:h.topLeft.x,y:h.bottomRight.y},end:{x:h.bottomRight.x,y:h.bottomRight.y}}},E),y={color:T.color,lineWidth:T.lineWidth},M=function(e){for(var t=0,n=[];e.verticalLine.start.y+t*e.verticalMinorTick<=e.vscaleBounds.bottomRight.y;){var a={x:e.verticalLine.start.x,y:e.verticalLine.start.y+t*e.verticalMinorTick},o={x:0,y:e.verticalLine.start.y+t*e.verticalMinorTick};o.x=t%5==0?e.verticalLine.start.x-e.majorTickLength:e.verticalLine.start.x-e.minorTickLength,n.push({start:a,end:o}),t++}return n}(T),_=function(e){for(var t=0,n=[];e.horizontalLine.start.x+t*e.horizontalMinorTick<=e.hscaleBounds.bottomRight.x;){var a={x:e.horizontalLine.start.x+t*e.horizontalMinorTick,y:e.horizontalLine.start.y},o={x:e.horizontalLine.start.x+t*e.horizontalMinorTick,y:0};o.y=t%5==0?e.horizontalLine.start.y-e.majorTickLength:e.horizontalLine.start.y-e.minorTickLength,n.push({start:a,end:o}),t++}return n}(T);(0,r.draw)(n,function(e){e.shadowColor=T.shadowColor,e.shadowBlur=T.shadowBlur,(0,r.drawLine)(e,void 0,T.verticalLine.start,T.verticalLine.end,y,\"canvas\"),(0,r.drawLine)(e,void 0,T.horizontalLine.start,T.horizontalLine.end,y,\"canvas\"),(0,r.drawLines)(e,void 0,M,y,\"canvas\"),(0,r.drawLines)(e,void 0,_,y,\"canvas\")})}}}var d=(0,a.default)(u);d.setConfiguration({color:\"white\",lineWidth:2,shadowColor:\"black\",shadowBlur:4}),d.disable=function(e){e.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,u),o.default.cornerstone.updateImage(e)},t.default=d},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"image/png\",a=e.querySelector(\"canvas\");if(a.msToBlob){var o=a.msToBlob();return window.navigator.msSaveBlob(o,t)}var r=document.createElement(\"a\");if(r.download=t,r.href=a.toDataURL(n,1),document.createEvent){var i=document.createEvent(\"MouseEvents\");i.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)}else r.fireEvent&&r.fireEvent(\"onclick\")}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(n(1)),o=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.detail;return t.viewport.rotation+=t.rotation,o.default.cornerstone.setViewport(t.element,t.viewport),!1}var l={activate:function(e){e.removeEventListener(a.default.TOUCH_ROTATE,i),e.addEventListener(a.default.TOUCH_ROTATE,i)},disable:function(e){e.removeEventListener(a.default.TOUCH_ROTATE,i)}};t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.rotateTouchDrag=t.rotate=void 0;var a=d(n(1)),o=d(n(0)),r=d(n(16)),i=d(n(56)),l=d(n(5)),u=n(4);function d(e){return e&&e.__esModule?e:{default:e}}var s=\"rotate\";function c(e,t,n){var a=e.element.getBoundingClientRect(e.element),r=e.element.clientWidth,i=e.element.clientHeight,l=e.viewport.scale,u=e.viewport.translation,d={x:a.left+r/2+u.x*l,y:a.top+i/2+u.y*l},s=t,c={x:e.currentPoints.client.x,y:e.currentPoints.client.y},f=Math.sqrt(Math.pow(d.x-s.x,2)+Math.pow(d.y-s.y,2)),v=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=Math.sqrt(Math.pow(s.x-c.x,2)+Math.pow(s.y-c.y,2)),m=180*Math.acos((Math.pow(f,2)+Math.pow(v,2)-Math.pow(g,2))/(2*f*v))/Math.PI;(s.x-d.x)*(c.y-d.y)-(s.y-d.y)*(c.x-d.x)<0&&(m=-m),e.viewport.rotation=n+m,o.default.cornerstone.setViewport(e.element,e.viewport)}function f(e,t,n){var a=n.detail;v.strategy(a,e,t),o.default.cornerstone.setViewport(a.element,a.viewport),n.preventDefault(),n.stopPropagation()}var v=(0,r.default)(function(e){var t=e.detail,n=t.element,o=(0,u.getToolOptions)(s,n),r={x:t.currentPoints.client.x,y:t.currentPoints.client.y},i=t.viewport.rotation;if((0,l.default)(t.which,o.mouseButtonMask)){var d=f.bind({},r,i),c=function e(t){var n=t.detail.element;n.removeEventListener(a.default.MOUSE_DRAG,d),n.removeEventListener(a.default.MOUSE_UP,e),n.removeEventListener(a.default.MOUSE_CLICK,e)};n.addEventListener(a.default.MOUSE_DRAG,d),n.addEventListener(a.default.MOUSE_UP,c),n.addEventListener(a.default.MOUSE_CLICK,c),e.preventDefault(),e.stopPropagation()}},s);v.strategies={default:c,horizontal:function(e){e.viewport.rotation+=e.deltaPoints.page.x/e.viewport.scale,o.default.cornerstone.setViewport(e.element,e.viewport)},vertical:function(e){e.viewport.rotation+=e.deltaPoints.page.y/e.viewport.scale,o.default.cornerstone.setViewport(e.element,e.viewport)}},v.strategy=c;var g=(0,i.default)(function(e){var t=e.detail,n=t.element,o={x:t.currentPoints.client.x,y:t.currentPoints.client.y},r=t.viewport.rotation,i=f.bind({},o,r);n.addEventListener(a.default.TOUCH_DRAG,i),n.addEventListener(a.default.TOUCH_END,function e(t){var n=t.detail.element;n.removeEventListener(a.default.TOUCH_DRAG,i),n.removeEventListener(a.default.TOUCH_END,e)}),e.preventDefault(),e.stopPropagation()},s);t.rotate=v,t.rotateTouchDrag=g},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.rectangleRoiTouch=t.rectangleRoi=void 0;var a=v(n(0)),o=v(n(10)),r=v(n(12)),i=v(n(14)),l=v(n(7)),u=v(n(9)),d=v(n(20)),s=n(2),c=v(n(17)),f=n(3);function v(e){return e&&e.__esModule?e:{default:e}}var g=\"rectangleRoi\";function m(e){return{visible:!0,active:!0,invalidated:!0,color:void 0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}function h(e,t,n){if(!1===t.visible)return!1;var o=a.default.cornerstone,r=o.pixelToCanvas(e,t.handles.start),i=o.pixelToCanvas(e,t.handles.end),l={left:Math.min(r.x,i.x),top:Math.min(r.y,i.y),width:Math.abs(r.x-i.x),height:Math.abs(r.y-i.y)};return a.default.cornerstoneMath.rect.distanceToPoint(l,n)<5}function p(e){var t=e.toString().split(\".\");return t[0]=t[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"),t.join(\".\")}function E(e){var t=e.detail,n=(0,s.getToolState)(e.currentTarget,g);if(n){var o=a.default.cornerstone,r=t.image,v=t.element,m=i.default.getToolWidth(),h=T.getConfiguration(),E=o.metaData.get(\"generalSeriesModule\",r.imageId),y=o.metaData.get(\"imagePlaneModule\",r.imageId),M=void 0,_=void 0,S=void 0;y?(_=y.rowPixelSpacing||y.rowImagePixelSpacing,S=y.columnPixelSpacing||y.colImagePixelSpacing):(_=r.rowPixelSpacing,S=r.columnPixelSpacing),E&&(M=E.modality);for(var x=(0,f.getNewContext)(t.canvasContext.canvas),O=function(e){var a=n.data[e];if(!1===a.visible)return\"continue\";(0,f.draw)(x,function(e){(0,f.setShadow)(e,h);var n=l.default.getColorIfActive(a);if((0,f.drawRect)(e,v,a.handles.start,a.handles.end,{color:n}),h&&h.drawHandlesOnHover)if(!0===a.active)(0,u.default)(e,t,a.handles,n);else{(0,u.default)(e,t,a.handles,n,{drawHandlesIfActive:!0})}else(0,u.default)(e,t,a.handles,n);var i=void 0,s=void 0,g=void 0;if(!1===a.invalidated)s=a.meanStdDev,g=a.meanStdDevSUV,i=a.area;else{var E={left:Math.min(a.handles.start.x,a.handles.end.x),top:Math.min(a.handles.start.y,a.handles.end.y),width:Math.abs(a.handles.start.x-a.handles.end.x),height:Math.abs(a.handles.start.y-a.handles.end.y)};if(!r.color)s=function(e,t){for(var n=0,a=0,o=0,r=0,i=t.top;i<t.top+t.height;i++)for(var l=t.left;l<t.left+t.width;l++)n+=e[r],a+=e[r]*e[r],o++,r++;if(0===o)return{count:o,mean:0,variance:0,stdDev:0};var u=n/o,d=a/o-u*u;return{count:o,mean:u,variance:d,stdDev:Math.sqrt(d)}}(o.getPixels(v,E.left,E.top,E.width,E.height),E),\"PT\"===M&&(g={mean:(0,d.default)(r,(s.mean-r.intercept)/r.slope),stdDev:(0,d.default)(r,(s.stdDev-r.intercept)/r.slope)}),s&&!isNaN(s.mean)&&(a.meanStdDev=s,a.meanStdDevSUV=g);i=E.width*(S||1)*(E.height*(_||1)),isNaN(i)||(a.area=i),a.invalidated=!1}var T=function(e){var t=e.meanStdDev,n=e.meanStdDevSUV,a=e.area,o=[];if(t&&t.mean){var r=\"\";\"CT\"===M&&(r=\" HU\");var i=\"Mean: \"+p(t.mean.toFixed(2))+r,l=\"StdDev: \"+p(t.stdDev.toFixed(2))+r;if(n&&void 0!==n.mean){i+=\" SUV: \"+p(n.mean.toFixed(2)),l+=\" SUV: \"+p(n.stdDev.toFixed(2))}o.push(i),o.push(l)}if(a){var u=\" mm\"+String.fromCharCode(178);_&&S||(u=\" pixels\"+String.fromCharCode(178));var d=\"Area: \"+p(a.toFixed(2))+u;o.push(d)}return o}(a);a.handles.textBox.hasMoved||(a.handles.textBox.x=Math.max(a.handles.start.x,a.handles.end.x),a.handles.textBox.y=(a.handles.start.y+a.handles.end.y)/2),(0,c.default)(e,v,a.handles.textBox,T,a.handles,C,n,m,0,!0)})},b=0;b<n.data.length;b++)O(b)}function C(e){var t=Math.min(e.start.x,e.end.x),n=Math.min(e.start.y,e.end.y),a=Math.abs(e.start.x-e.end.x),o=Math.abs(e.start.y-e.end.y);return[{x:t+a/2,y:n},{x:t,y:n+o/2},{x:t+a/2,y:n+o},{x:t+a,y:n+o/2}]}}var T=(0,o.default)({createNewMeasurement:m,onImageRendered:E,pointNearTool:h,toolType:g}),y=(0,r.default)({createNewMeasurement:m,onImageRendered:E,pointNearTool:h,toolType:g});t.rectangleRoi=T,t.rectangleRoiTouch=y},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.probeTouch=t.probe=void 0;var a=g(n(0)),o=g(n(10)),r=g(n(12)),i=g(n(7)),l=g(n(21)),u=g(n(9)),d=g(n(11)),s=g(n(41)),c=g(n(20)),f=n(2),v=n(3);function g(e){return e&&e.__esModule?e:{default:e}}var m=\"probe\";function h(e){return{visible:!0,active:!0,color:void 0,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}}}function p(e,t,n){if(!1===t.visible)return!1;var o=a.default.cornerstone.pixelToCanvas(e,t.handles.end);return a.default.cornerstoneMath.point.distance(o,n)<5}function E(e){var t=e.detail,n=(0,f.getToolState)(e.currentTarget,m);if(n)for(var o=a.default.cornerstone,r=(0,v.getNewContext)(t.canvasContext.canvas),g=l.default.getFontSize(),h=function(e){var a=n.data[e];if(!1===a.visible)return\"continue\";(0,v.draw)(r,function(e){var n=i.default.getColorIfActive(a);(0,u.default)(e,t,a.handles,n);var r=Math.round(a.handles.end.x),l=Math.round(a.handles.end.y),f=void 0,v=void 0,m=void 0;if(r>=0&&l>=0&&r<t.image.columns&&l<t.image.rows){if(t.image.color)v=r+\", \"+l,m=\"R: \"+(f=(0,s.default)(t.element,r,l,1,1))[0]+\" G: \"+f[1]+\" B: \"+f[2];else{var h=(f=o.getStoredPixels(t.element,r,l,1,1))[0],p=h*t.image.slope+t.image.intercept,E=(0,c.default)(t.image,h);v=r+\", \"+l,m=\"SP: \"+h+\" MO: \"+parseFloat(p.toFixed(3)),E&&(m+=\" SUV: \"+parseFloat(E.toFixed(3)))}var T={x:a.handles.end.x+3,y:a.handles.end.y-3},y=o.pixelToCanvas(t.element,T);(0,d.default)(e,m,y.x,y.y+g+5,n),(0,d.default)(e,v,y.x,y.y,n)}})},p=0;p<n.data.length;p++)h(p)}var T=(0,o.default)({createNewMeasurement:h,onImageRendered:E,pointNearTool:p,toolType:m}),y=(0,r.default)({createNewMeasurement:h,onImageRendered:E,pointNearTool:p,toolType:m});t.probe=T,t.probeTouch=y},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var r=(0,o(n(36)).default)(function(e){var t=e.detail,n=r.getConfiguration();n&&n.testPointers(t)&&(t.viewport.translation.x+=t.deltaPoints.page.x/t.viewport.scale,t.viewport.translation.y+=t.deltaPoints.page.y/t.viewport.scale,a.default.cornerstone.setViewport(t.element,t.viewport),e.preventDefault(),e.stopPropagation())});r.setConfiguration({testPointers:function(e){return e.numPointers>=2}}),t.default=r},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.panTouchDrag=t.pan=void 0;var a=d(n(1)),o=d(n(0)),r=d(n(16)),i=d(n(18)),l=d(n(5)),u=n(4);function d(e){return e&&e.__esModule?e:{default:e}}var s=\"pan\";function c(e){var t=e.detail.element;t.removeEventListener(a.default.MOUSE_DRAG,f),t.removeEventListener(a.default.MOUSE_UP,c),t.removeEventListener(a.default.MOUSE_CLICK,c)}function f(e){var t=e.detail,n=t.viewport.scale,a=t.viewport.scale,r=t.image.columnPixelSpacing||1,i=t.image.rowPixelSpacing||1;i<r?n*=r/i:r<i&&(a*=i/r),t.viewport.translation.x+=t.deltaPoints.page.x/n,t.viewport.translation.y+=t.deltaPoints.page.y/a,o.default.cornerstone.setViewport(t.element,t.viewport),e.preventDefault(),e.stopPropagation()}var v=(0,r.default)(function(e){var t=e.detail,n=t.element,o=(0,u.getToolOptions)(s,n);(0,l.default)(t.which,o.mouseButtonMask)&&(n.addEventListener(a.default.MOUSE_DRAG,f),n.addEventListener(a.default.MOUSE_UP,c),n.addEventListener(a.default.MOUSE_CLICK,c),e.preventDefault(),e.stopPropagation())},s),g=(0,i.default)(f,s);t.pan=v,t.panTouchDrag=g},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=s(n(0)),o=s(n(66)),r=s(n(24)),i=s(n(7)),l=n(11),u=s(l),d=n(3);function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)(function(e){var t=e.detail,n=t.element,r=function(e){var t=a.default.cornerstone,n=t.getEnabledElement(e),r=t.metaData.get(\"imagePlaneModule\",n.image.imageId);if(r&&r.rowCosines&&r.columnCosines){var i=o.default.getOrientationString(r.rowCosines),l=o.default.getOrientationString(r.columnCosines),u=o.default.invertOrientationString(i);return{top:o.default.invertOrientationString(l),bottom:l,left:u,right:i}}}(n);if(r){var s=function(e){var t=a.default.cornerstone,n=t.getEnabledElement(e),o=void 0;o={x:n.image.width/2,y:5};var r=t.pixelToCanvas(e,o);o={x:n.image.width/2,y:n.image.height-5};var i=t.pixelToCanvas(e,o);o={x:5,y:n.image.height/2};var l=t.pixelToCanvas(e,o);return o={x:n.image.width-10,y:n.image.height/2},{top:r,bottom:i,left:l,right:t.pixelToCanvas(e,o)}}(n),f=(0,d.getNewContext)(t.canvasContext.canvas),v=i.default.getToolColor(),g=(0,l.textBoxWidth)(f,r.top,0),m=(0,l.textBoxWidth)(f,r.left,0),h=(0,l.textBoxWidth)(f,r.right,0),p=(0,l.textBoxWidth)(f,r.bottom,0);(0,u.default)(f,r.top,s.top.x-g/2,s.top.y,v),(0,u.default)(f,r.left,s.left.x-m/2,s.left.y,v);var E=c.getConfiguration();E&&E.drawAllMarkers&&((0,u.default)(f,r.right,s.right.x-h/2,s.right.y,v),(0,u.default)(f,r.bottom,s.bottom.x-p/2,s.bottom.y,v))}});t.default=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.magnifyTouchDrag=t.magnify=void 0;var a=s(n(1)),o=s(n(0)),r=n(33),i=s(n(5)),l=n(4),u=n(8),d=n(3);function s(e){return e&&e.__esModule?e:{default:e}}var c=\"magnify\",f={magnifySize:300,magnificationLevel:5},v=void 0,g=void 0,m=void 0,h=void 0;function p(e){var t=e.detail,n=t.element;n.removeEventListener(a.default.MOUSE_DRAG,_),n.removeEventListener(a.default.MOUSE_UP,p),n.removeEventListener(a.default.MOUSE_CLICK,p),E(t)}function E(e){e.element.querySelector(\".magnifyTool\").style.display=\"none\",document.body.style.cursor=\"default\",O()}function T(e){var t=e.detail,n=t.element,r=(0,l.getToolOptions)(c,n);(e.isTouchEvent||(0,i.default)(t.which,r.mouseButtonMask))&&(n.addEventListener(a.default.MOUSE_DRAG,_),n.addEventListener(a.default.TOUCH_DRAG,_),n.addEventListener(a.default.MOUSE_UP,p),n.addEventListener(a.default.TOUCH_END,p),n.addEventListener(a.default.MOUSE_CLICK,p),n.addEventListener(o.default.cornerstone.EVENTS.NEW_IMAGE,y),function(e){O();var t=e.enabledElement;void 0===t&&(t=o.default.cornerstone.getEnabledElement(e.element));var n=C.getConfiguration().magnificationLevel,a=t.canvas,r=t.image;(h=document.createElement(\"div\")).width=a.width*n,h.height=a.height*n,o.default.cornerstone.enable(h);var i=o.default.cornerstone.getEnabledElement(h),l=o.default.cornerstone.getViewport(t.element);(m=i.canvas).width=a.width*n,m.height=a.height*n,i.viewport=Object.assign({},l),l.scale*=n,o.default.cornerstone.displayImage(h,r),o.default.cornerstone.setViewport(h,l)}(t),window.requestAnimationFrame(function(){return S(t)}),e.preventDefault(),e.stopPropagation())}function y(e){var t=e.detail;t.currentPoints=g,S(t)}function M(e){var t=e.detail,n=t.element;n.removeEventListener(a.default.TOUCH_DRAG_END,M),n.removeEventListener(a.default.TOUCH_END,M),n.removeEventListener(o.default.cornerstone.EVENTS.NEW_IMAGE,y),E(t)}function _(e){var t=e.detail,n=t.element;S(t),!0===t.isTouchEvent&&(n.addEventListener(a.default.TOUCH_DRAG_END,M),n.addEventListener(a.default.TOUCH_END,M)),e.preventDefault(),e.stopPropagation()}function S(e){var t=e.element,n=t.querySelector(\".magnifyTool\");if(n||x(e.element),void 0!==m){var a=C.getConfiguration(),r=a.magnifySize,i=a.magnificationLevel,l=t.querySelector(\"canvas:not(.magnifyTool)\"),s=(0,d.getNewContext)(n),c=r,f=o.default.cornerstone.pixelToCanvas(e.element,e.currentPoints.image);(0,u.clipToBox)(f,l),s.clearRect(0,0,r,r);var g={left:0,top:0,width:r,height:r};(0,d.fillBox)(s,g,\"transparent\");var h={x:f.x*i-.5*c,y:f.y*i-.5*c};\"Safari\"===v&&(h.x=Math.max(h.x,0),h.y=Math.max(h.y,0)),h.x=Math.min(h.x,m.width),h.y=Math.min(h.y,m.height),s.drawImage(m,h.x,h.y,c,c,0,0,c,c),n.style.top=f.y-.5*r+\"px\",n.style.left=f.x-.5*r+\"px\",e.isTouchEvent&&(n.style.top=f.y-.5*r-120+\"px\"),n.style.display=\"block\",document.body.style.cursor=\"none\"}}function x(e){if(null===e.querySelector(\".magnifyTool\")){var t=document.createElement(\"canvas\");t.classList.add(\"magnifyTool\");var n=C.getConfiguration();t.width=n.magnifySize,t.height=n.magnifySize,t.style.position=\"absolute\",t.style.display=\"none\",e.appendChild(t)}}function O(){void 0!==h&&(o.default.cornerstone.disable(h),h=void 0,m=void 0)}function b(e){e.removeEventListener(a.default.MOUSE_DOWN,T),function(e){var t=e.querySelector(\".magnifyTool\");t&&e.removeChild(t)}(e)}var C={enable:function(e){var t=C.getConfiguration(t);if(!v){var n=(0,r.getBrowserInfo)().split(\" \");v=n[0]}x(e)},activate:function(e,t){(0,l.setToolOptions)(c,e,{mouseButtonMask:t}),e.removeEventListener(a.default.MOUSE_DOWN,T),e.addEventListener(a.default.MOUSE_DOWN,T),x(e)},deactivate:b,disable:b,getConfiguration:function(){return f},setConfiguration:function(e){f=e}};function P(e){e.removeEventListener(a.default.TOUCH_START,T),e.addEventListener(a.default.TOUCH_START,T)}function I(e){e.removeEventListener(a.default.TOUCH_START,T)}var L={activate:P,deactivate:I,enable:P,disable:I};t.magnify=C,t.magnifyTouchDrag=L},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.lengthTouch=t.length=void 0;var a=v(n(0)),o=v(n(10)),r=v(n(12)),i=v(n(17)),l=v(n(14)),u=v(n(7)),d=v(n(9)),s=n(2),c=v(n(27)),f=n(3);function v(e){return e&&e.__esModule?e:{default:e}}var g=\"length\";function m(e){return{visible:!0,active:!0,color:void 0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}function h(e,t,n){return!1!==t.visible&&(0,c.default)(e,t.handles.start,t.handles.end,n)<25}function p(e){var t=e.detail,n=(0,s.getToolState)(e.currentTarget,g);if(n){var o=a.default.cornerstone,r=(0,f.getNewContext)(t.canvasContext.canvas),c=t.image,v=t.element,m=l.default.getToolWidth(),h=E.getConfiguration(),p=o.metaData.get(\"imagePlaneModule\",c.imageId),T=void 0,y=void 0;p?(T=p.rowPixelSpacing||p.rowImagePixelSpacing,y=p.columnPixelSpacing||p.colImagePixelSpacing):(T=c.rowPixelSpacing,y=c.columnPixelSpacing);for(var M=function(e){var a=n.data[e];if(!1===a.visible)return\"continue\";(0,f.draw)(r,function(e){(0,f.setShadow)(e,h);var n=u.default.getColorIfActive(a);(0,f.drawLine)(e,v,a.handles.start,a.handles.end,{color:n});var o={drawHandlesIfActive:h&&h.drawHandlesOnHover};(0,d.default)(e,t,a.handles,n,o);var r=(a.handles.end.x-a.handles.start.x)*(y||1),l=(a.handles.end.y-a.handles.start.y)*(T||1),s=Math.sqrt(r*r+l*l);if(a.length=s,!a.handles.textBox.hasMoved){var c={x:Math.max(a.handles.start.x,a.handles.end.x)};c.x===a.handles.start.x?c.y=a.handles.start.y:c.y=a.handles.end.y,a.handles.textBox.x=c.x,a.handles.textBox.y=c.y}var g=function(e,t,n){var a=\" mm\";t&&n||(a=\" pixels\");return\"\"+e.length.toFixed(2)+a}(a,T,y);(0,i.default)(e,v,a.handles.textBox,g,a.handles,S,n,m,10,!0)})},_=0;_<n.data.length;_++)M(_)}function S(e){var t={x:(e.start.x+e.end.x)/2,y:(e.start.y+e.end.y)/2};return[e.start,t,e.end]}}var E=(0,o.default)({createNewMeasurement:m,onImageRendered:p,pointNearTool:h,toolType:g}),T=(0,r.default)({createNewMeasurement:m,onImageRendered:p,pointNearTool:h,toolType:g});t.length=E,t.lengthTouch=T},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=i(n(24)),o=i(n(11)),r=n(3);function i(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default)(function(e){var t=e.detail,n=t.image.stats,a=(0,r.getNewContext)(t.canvasContext.canvas),i=[];Object.keys(n).forEach(function(e){var t=e+\" : \"+n[e];i.push(t)}),(0,o.default)(a,i,0,0,\"orange\"),i.forEach(function(e){console.log(e)})});t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.highlightTouch=t.highlight=void 0;var a=s(n(0)),o=s(n(51)),r=s(n(12)),i=s(n(7)),l=s(n(9)),u=n(2),d=n(3);function s(e){return e&&e.__esModule?e:{default:e}}var c=\"highlight\";function f(e){var t=(0,u.getToolState)(e.event.currentTarget,c);if(!(t&&t.data&&t.data.length>0))return{visible:!0,active:!0,color:void 0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}}}function v(e,t,n){var o=a.default.cornerstone,r=o.pixelToCanvas(e,t.handles.start),i=o.pixelToCanvas(e,t.handles.end),l=Math.min(r.x,i.x),u=Math.min(r.y,i.y),d=Math.abs(r.x-i.x),s=Math.abs(r.y-i.y),c=!1;return n.x>=l&&n.x<=l+d&&n.y>=u&&n.y<=u+s&&(c=!0),c}function g(e,t,n){if(!1===t.visible)return!1;var o=a.default.cornerstone,r=o.pixelToCanvas(e,t.handles.start),i=o.pixelToCanvas(e,t.handles.end),l={left:Math.min(r.x,i.x),top:Math.min(r.y,i.y),width:Math.abs(r.x-i.x),height:Math.abs(r.y-i.y)};return a.default.cornerstoneMath.rect.distanceToPoint(l,n)<5}function m(e){var t=e.detail,n=(0,u.getToolState)(e.currentTarget,c);if(void 0!==n){var a=(0,d.getNewContext)(t.canvasContext.canvas),o=n.data[0];!1!==o.visible&&o&&(0,d.draw)(a,function(e){var n={color:\"transparent\",fillStyle:\"rgba(0,0,0,0.7)\"};(0,d.fillOutsideRect)(e,t.element,o.handles.start,o.handles.end,n);var a=i.default.getColorIfActive(o);n={color:a,lineDash:[4]},(0,d.drawRect)(e,t.element,o.handles.start,o.handles.end,n),(0,l.default)(e,t,o.handles,a)})}}var h=(0,o.default)({createNewMeasurement:f,onImageRendered:m,pointNearTool:g,pointInsideRect:v,toolType:c},!0),p=(0,r.default)({createNewMeasurement:f,onImageRendered:m,pointNearTool:g,pointInsideRect:v,toolType:c},!0);t.highlight=h,t.highlightTouch=p},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Sculpter=void 0;var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),i=(a=r)&&a.__esModule?a:{default:a},l=n(52),u=n(35),d=n(8);t.Sculpter=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return o(e,[{key:\"sculpt\",value:function(e,t){this._setData(e,t),this._pushHandles(),this._insertNewHandles(),this._consolidateHandles()}},{key:\"_setData\",value:function(e,t){var n=l.freehandSculpter.getConfiguration();this._eventData=e,this._element=e.element,this._image=e.image,this._mousePoint=e.currentPoints.image,this._dataHandles=t,this._toolSize=n.toolSizeImage,this._minSpacing=n.minSpacing,this._maxSpacing=n.maxSpacing}},{key:\"_pushHandles\",value:function(){for(var e=this._dataHandles,t=this._mousePoint,n=this._toolSize,a=0;a<e.length;a++){var o=i.default.cornerstoneMath.point.distance(e[a],t);o<n&&this._pushOneHandle(a,o)}}},{key:\"_pushOneHandle\",value:function(t,n){var a=this._dataHandles,o=a[t],r=this._mousePoint,i=this._toolSize,l=(o.x-r.x)/n,u=(o.y-r.y)/n,s={x:r.x+i*l,y:r.y+i*u};(0,d.clipToBox)(s,this._image),o.x=s.x,o.y=s.y;var c=e.getPreviousHandleIndex(t,a.length);a[c].lines.pop(),a[c].lines.push(o)}},{key:\"_insertNewHandles\",value:function(){for(var e=this._findNewHandleIndicies(),t=0,n=0;n<e.length;n++){var a=e[n]+1+t;this._insertHandleRadially(a),t++}}},{key:\"_findNewHandleIndicies\",value:function(){for(var t=this._dataHandles,n=[],a=0;a<t.length;a++){var o=i.default.cornerstone.pixelToCanvas(this._element,t[a]),r=e.getNextHandleIndex(a,t.length),l=i.default.cornerstone.pixelToCanvas(this._element,t[r]);i.default.cornerstoneMath.point.distance(o,l)>this._maxSpacing&&n.push(a)}return n}},{key:\"_insertHandleRadially\",value:function(t){var n=this._dataHandles,a=t-1,o=e.getNextHandleIndexBeforeInsert(t,n.length),r=this._getInsertPosition(t,a,o),i=new u.FreehandHandleData(r);n.splice(t,0,i),n[a].lines.pop(),n[a].lines.push(n[t]),t===n.length-1?n[t].lines.push(n[0]):n[t].lines.push(n[t+1])}},{key:\"_getInsertPosition\",value:function(e,t,n){var a=this._toolSize,o=this._mousePoint,r=this._dataHandles,l={x:(r[t].x+r[n].x)/2,y:(r[t].y+r[n].y)/2},u=i.default.cornerstoneMath.point.distance(o,l),s=void 0;if(u<a){var c={x:(l.x-o.x)/u,y:(l.y-o.y)/u};s={x:o.x+a*c.x,y:o.y+a*c.y}}else s=l;return(0,d.clipToBox)(s,this._image),s}},{key:\"_consolidateHandles\",value:function(){if(this._dataHandles.length>3){var e=this._findCloseHandlePairs();this._mergeCloseHandles(e)}}},{key:\"_mergeCloseHandles\",value:function(t){for(var n=0,a=0;a<t.length;a++){var o=e.getCorrectedPair(t[a],n);this._combineHandles(o),n++}var r=this._findCloseHandlePairs();r.length&&this._mergeCloseHandles(r)}},{key:\"_findCloseHandlePairs\",value:function(){for(var t=this._dataHandles,n=this._element,a=[],o=t.length,r=0;r<o;r++){var l=i.default.cornerstone.pixelToCanvas(n,t[r]),u=e.getNextHandleIndex(r,t.length),d=i.default.cornerstone.pixelToCanvas(n,t[u]);if(i.default.cornerstoneMath.point.distance(l,d)<this._minSpacing){var s=[r,u];a.push(s),0===r&&(o-=1),r++}}return a}},{key:\"_combineHandles\",value:function(t){var n=this._dataHandles,a={x:(n[t[0]].x+n[t[1]].x)/2,y:(n[t[0]].y+n[t[1]].y)/2};(0,d.clipToBox)(a,this._image),n[t[0]].x=a.x,n[t[0]].y=a.y;var o=e.getNextHandleIndex(t[1],n.length);n[t[0]].lines.pop(),n[t[0]].lines.push(n[o]),n.splice(t[1],1)}}],[{key:\"getNextHandleIndex\",value:function(e,t){return e===t-1?0:e+1}},{key:\"getNextHandleIndexBeforeInsert\",value:function(e,t){return e===t?0:e}},{key:\"getPreviousHandleIndex\",value:function(e,t){return 0===e?t-1:e-1}},{key:\"getCorrectedPair\",value:function(e,t){var n=[e[0]-t,e[1]-t];return n[1]<0&&(n[1]=0),n}}]),e}()},function(e,t,n){\"use strict\";function a(e,t,n){return a=e.y,o=t.y,r=n.y,!(!(o<a&&a<r||r<a&&a<o)||!function(e,t,n){if(t.x>e.x&&n.x>e.x)return!0;if(t.x===n.x)return e.x<t.x;if(t.x>n.x){var a=t;t=n,n=a}var o=function(e,t,n){var a=(n.y-t.y)/(n.x-t.x);return{value:t.x+a*(e.x-t.x),gradient:a}}(e,t,n);return Math.sign(o.gradient)*e.y>o.value}(e,t,n));var a,o,r}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){for(var n=!1,o=e.length-1,r=0;r<e.length;r++)a(t,e[r],e[o])&&(n=!n),o=r;return n}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){var a={count:0,mean:0,variance:0,stdDev:0},o=function(e,t,n){for(var a={value:0,squared:0,count:0},o=0,r=t.top;r<t.top+t.height;r++)for(var l=t.left;l<t.left+t.width;l++){var u={x:l,y:r};i(n,u,a,e[o]),o++}return a}(e,t,n);return 0===o.count?a:(a.count=o.count,a.mean=o.value/o.count,a.variance=o.squared/o.count-a.mean*a.mean,a.stdDev=Math.sqrt(a.variance),a)};var a,o=n(94),r=(a=o)&&a.__esModule?a:{default:a};function i(e,t,n,a){(0,r.default)(e,t)&&(n.value+=a,n.squared+=a*a,n.count++)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=0,a=e.length-1;t=t||1;for(var o=0;o<e.length;o++)n+=(e[a].x+e[o].x)*(e[a].y-e[o].y),a=o;return Math.abs(n*t/2)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.ClickedLineData=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.toolIndex=t,this.handleIndexArray=n}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=e.detail;if(t&&null!==t.handleNearby){!function(e,t){var n=(0,i.getToolState)(e.element,d);if(void 0===n)return;var a=t.handleIndex,o=t.toolIndex,r=n.data[o];if(r.handles.length<=3)return;a===r.handles.length-1?(r.handles[a-1].lines.pop(),r.handles[a-1].lines.push(r.handles[0])):0===a?(r.handles[r.handles.length-1].lines.pop(),r.handles[r.handles.length-1].lines.push(r.handles[a+1])):(r.handles[a-1].lines.pop(),r.handles[a-1].lines.push(r.handles[a+1]));r.handles.splice(a,1),r.invalidated=!0,r.active=!0,r.highlight=!0,u.default.cornerstone.updateImage(e.element)}(n,{toolIndex:t.toolIndex,handleIndex:t.handleNearby})}else{var a=new o.FreehandLineFinder(n).findLine();a&&function(e,t){var n=(0,i.getToolState)(e.element,d);if(void 0===n)return;var a=n.data[t.toolIndex],o=function(e){for(var t=e.handleIndexArray,n=1/0,a=t.includes(0),o=0;o<t.length;o++){var r=t[o];0!==r&&r<n&&(n=r)}a&&1===n&&(n=0);return++n}(t);if(o===1/0)return;var l=new r.FreehandHandleData(e.currentPoints.image);a.handles.splice(o,0,l),a.handles[o-1].lines.pop(),a.handles[o-1].lines.push(e.currentPoints.image),o===a.handles.length-1?a.handles[o].lines.push(a.handles[0]):a.handles[o].lines.push(a.handles[o+1]);a.active=!0,a.highlight=!0,a.invalidated=!0,u.default.cornerstone.updateImage(e.element)}(n,a)}e.preventDefault(),e.stopPropagation()};var a,o=n(53),r=n(35),i=n(2),l=n(0),u=(a=l)&&a.__esModule?a:{default:a};var d=\"freehand\"},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){e.detail;var n=a.freehand.getConfiguration();return!0===n.movingTextBox?(function(e,t){var n=a.freehand.getConfiguration();n.movingTextBox=!1,t.data[n.currentTool].invalidated=!0,n.currentHandle=0,n.currentTool=-1}(0,t),\"textBox\"):n.modifying?(function(e,t){var n=a.freehand.getConfiguration(),o=n.currentTool,r=t.data[o].handles;if(r.invalidHandlePlacement){var i=n.currentHandle,l=r[i],u=void 0;if(0===i){var d=r.length-1;u=r[d]}else u=r[i-1];l.x=n.dragOrigin.x,l.y=n.dragOrigin.y,u.lines[0]=l,r.invalidHandlePlacement=!1}}(0,t),\"handle\"):null};var a=n(23)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var n=o.freehand.getConfiguration();n.movingTextBox&&function(e){var t=o.freehand.getConfiguration();e.hasMoved=!0,e.x=t.mouseLocation.handles.start.x,e.y=t.mouseLocation.handles.start.y}(e),n.modifying&&function(e,t){var n=o.freehand.getConfiguration();if(t.handles.invalidHandlePlacement=i.default.modify(t.handles,e),t.active=!0,t.highlight=!0,t.handles[e].x=n.mouseLocation.handles.start.x,t.handles[e].y=n.mouseLocation.handles.start.y,e){var a=t.handles[e-1].lines.length-1,r=t.handles[e-1].lines[a];r.x=n.mouseLocation.handles.start.x,r.y=n.mouseLocation.handles.start.y}}(e,t)};var a,o=n(23),r=n(54),i=(a=r)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.eraserTouch=t.eraser=void 0;var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(47)),r=u(n(0)),i=u(n(1)),l=n(4);function u(e){return e&&e.__esModule?e:{default:e}}var d={supportedTools:{}};function s(e){var t=e.detail.currentPoints.canvas,n=e.detail.element,i=!1,l=!1;Object.entries(d.supportedTools).forEach(function(e){var r=a(e,2),u=r[0],d=r[1],s=o.getToolState(n,u);s&&s.data.forEach(function(e){!i&&d.pointNearTool(n,e,t)&&(o.removeToolState(n,u,e),i=!0,l=!0)})}),l&&r.default.cornerstone.updateImage(n)}function c(e){var t=e.detail.currentPoints.canvas,n=e.detail.element,i=!1,l=!1;Object.entries(d.supportedTools).forEach(function(e){var r=a(e,2),u=r[0],d=r[1],s=o.getToolState(n,u);s&&s.data.forEach(function(e){e.active&&(e.active=!1,i=!0),!l&&d.pointNearTool(n,e,t)&&(e.active=!0,i=!0,l=!0)})}),i&&r.default.cornerstone.updateImage(n)}var f={activate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.mouseButtonMask=t,(0,l.setToolOptions)(\"eraser\",e,n),e.removeEventListener(i.default.MOUSE_DOWN_ACTIVATE,s),e.removeEventListener(i.default.MOUSE_MOVE,c),e.addEventListener(i.default.MOUSE_DOWN_ACTIVATE,s),e.addEventListener(i.default.MOUSE_MOVE,c),d.supportedTools={},Object.keys(o).forEach(function(e){var t=o[e];\"function\"==typeof t.pointNearTool&&(d.supportedTools[e]=t)})},disable:function(e){e.removeEventListener(i.default.MOUSE_DOWN_ACTIVATE,s),e.removeEventListener(i.default.MOUSE_MOVE,c)},enable:function(e){e.removeEventListener(i.default.MOUSE_DOWN_ACTIVATE,s),e.removeEventListener(i.default.MOUSE_MOVE,c)},deactivate:function(e){e.removeEventListener(i.default.MOUSE_DOWN_ACTIVATE,s),e.removeEventListener(i.default.MOUSE_MOVE,c)},getConfiguration:function(){return d},setConfiguration:function(e){d=e}},v=(0,u(n(56)).default)(s,\"eraser\");t.eraser=f,t.eraserTouch=v},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ellipticalRoiTouch=t.ellipticalRoi=void 0;var a=m(n(0)),o=m(n(10)),r=m(n(12)),i=m(n(14)),l=m(n(7)),u=m(n(9)),d=m(n(42)),s=m(n(62)),c=m(n(20)),f=m(n(17)),v=n(2),g=n(3);function m(e){return e&&e.__esModule?e:{default:e}}var h=\"ellipticalRoi\";function p(e){return{visible:!0,active:!0,invalidated:!0,color:void 0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}function E(e,t,n,o){if(!1===t.visible)return!1;var r=a.default.cornerstone,i=r.pixelToCanvas(e,t.handles.start),l=r.pixelToCanvas(e,t.handles.end),u={left:Math.min(i.x,l.x)+o/2,top:Math.min(i.y,l.y)+o/2,width:Math.abs(i.x-l.x)-o,height:Math.abs(i.y-l.y)-o},s={left:Math.min(i.x,l.x)-o/2,top:Math.min(i.y,l.y)-o/2,width:Math.abs(i.x-l.x)+o,height:Math.abs(i.y-l.y)+o},c=(0,d.default)(u,n);return!(!(0,d.default)(s,n)||c)}function T(e){var t=e.toString().split(\".\");return t[0]=t[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"),t.join(\".\")}function y(e){var t=e.detail,n=(0,v.getToolState)(e.currentTarget,h);if(n){var o=a.default.cornerstone,r=t.image,d=t.element,m=i.default.getToolWidth(),p=M.getConfiguration(),E=o.metaData.get(\"generalSeriesModule\",r.imageId),y=o.metaData.get(\"imagePlaneModule\",r.imageId),_=void 0,S=void 0,x=void 0;y?(S=y.rowPixelSpacing||y.rowImagePixelSpacing,x=y.columnPixelSpacing||y.colImagePixelSpacing):(S=r.rowPixelSpacing,x=r.columnPixelSpacing),E&&(_=E.modality);for(var O=(0,g.getNewContext)(t.canvasContext.canvas),b=function(e){var a=n.data[e];if(!1===a.visible)return\"continue\";(0,g.draw)(O,function(e){(0,g.setShadow)(e,p);var n=l.default.getColorIfActive(a);if((0,g.drawEllipse)(e,d,a.handles.start,a.handles.end,{color:n}),p&&p.drawHandlesOnHover)if(!0===a.active)(0,u.default)(e,t,a.handles,n);else{(0,u.default)(e,t,a.handles,n,{drawHandlesIfActive:!0})}else(0,u.default)(e,t,a.handles,n);var i=void 0,v=void 0,h=void 0;if(!1===a.invalidated)v=a.meanStdDev,h=a.meanStdDevSUV,i=a.area;else{var E={left:Math.round(Math.min(a.handles.start.x,a.handles.end.x)),top:Math.round(Math.min(a.handles.start.y,a.handles.end.y)),width:Math.round(Math.abs(a.handles.start.x-a.handles.end.x)),height:Math.round(Math.abs(a.handles.start.y-a.handles.end.y))};if(!r.color){var y=o.getPixels(d,E.left,E.top,E.width,E.height);v=(0,s.default)(y,E),\"PT\"===_&&(h={mean:(0,c.default)(r,(v.mean-r.intercept)/r.slope),stdDev:(0,c.default)(r,(v.stdDev-r.intercept)/r.slope)}),v&&!isNaN(v.mean)&&(a.meanStdDev=v,a.meanStdDevSUV=h)}i=Math.PI*(E.width*(x||1)/2)*(E.height*(S||1)/2),isNaN(i)||(a.area=i),a.invalidated=!1}a.handles.textBox.hasMoved||(a.handles.textBox.x=Math.max(a.handles.start.x,a.handles.end.x),a.handles.textBox.y=(a.handles.start.y+a.handles.end.y)/2);var M=function(e){var t=e.meanStdDev,n=e.meanStdDevSUV,a=e.area,o=[];if(t&&void 0!==t.mean){var r=\"\";\"CT\"===_&&(r=\" HU\");var i=\"Mean: \"+T(t.mean.toFixed(2))+r,l=\"StdDev: \"+T(t.stdDev.toFixed(2))+r;if(n&&void 0!==n.mean){i+=\" SUV: \"+T(n.mean.toFixed(2)),l+=\" SUV: \"+T(n.stdDev.toFixed(2))}o.push(i),o.push(l)}if(a){var u=\" mm\"+String.fromCharCode(178);S&&x||(u=\" pixels\"+String.fromCharCode(178));var d=\"Area: \"+T(a.toFixed(2))+u;o.push(d)}return o}(a);(0,f.default)(e,d,a.handles.textBox,M,a.handles,P,n,m,0,!0)})},C=0;C<n.data.length;C++)b(C)}function P(e){var t=Math.min(e.start.x,e.end.x),n=Math.min(e.start.y,e.end.y),a=Math.abs(e.start.x-e.end.x),o=Math.abs(e.start.y-e.end.y);return[{x:t+a/2,y:n},{x:t,y:n+o/2},{x:t+a/2,y:n+o},{x:t+a,y:n+o/2}]}}var M=(0,o.default)({createNewMeasurement:p,onImageRendered:y,pointNearTool:function(e,t,n){return E(e,t,n,15)},toolType:h}),_=(0,r.default)({createNewMeasurement:p,onImageRendered:y,pointNearTool:function(e,t,n){return E(e,t,n,25)},toolType:h});t.ellipticalRoi=M,t.ellipticalRoiTouch=_},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.dragProbeTouch=t.dragProbe=void 0;var a=h(n(1)),o=h(n(0)),r=h(n(16)),i=h(n(18)),l=h(n(21)),u=h(n(7)),d=n(11),s=h(d),c=h(n(41)),f=h(n(20)),v=h(n(5)),g=n(4),m=n(3);function h(e){return e&&e.__esModule?e:{default:e}}var p=\"dragProbe\",E=void 0;function T(e){var t=o.default.cornerstone,n=t.getEnabledElement(e.element),a=(0,m.getNewContext)(n.canvas),r=u.default.getActiveColor(),i=l.default.getFontSize(),d=S.getConfiguration(),v=Math.round(e.currentPoints.image.x),g=Math.round(e.currentPoints.image.y);v<0||g<0||v>=e.image.columns||g>=e.image.rows||(0,m.draw)(a,function(n){(0,m.setShadow)(n,d);var a=void 0,o=void 0,l=void 0;if(e.image.color)a=(0,c.default)(e.element,v,g,1,1),o=v+\", \"+g,l=\"R: \"+a[0]+\" G: \"+a[1]+\" B: \"+a[2]+\" A: \"+a[3];else{var u=(a=t.getStoredPixels(e.element,v,g,1,1))[0],h=u*e.image.slope+e.image.intercept,p=(0,f.default)(e.image,u);o=v+\", \"+g,l=\"SP: \"+u+\" MO: \"+parseFloat(h.toFixed(3)),p&&(l+=\" SUV: \"+parseFloat(p.toFixed(3)))}var E={x:e.currentPoints.image.x+3,y:e.currentPoints.image.y-3},T=t.pixelToCanvas(e.element,E);(0,s.default)(n,l,T.x,T.y+i+5,r),(0,s.default)(n,o,T.x,T.y,r)})}function y(e){var t=e.detail,n=t.element;n.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,M),n.removeEventListener(a.default.MOUSE_DRAG,_),n.removeEventListener(a.default.MOUSE_UP,y),n.removeEventListener(a.default.MOUSE_CLICK,y),o.default.cornerstone.updateImage(t.element)}function M(){E&&(S.strategy(E),E=null)}function _(e){var t=e.detail,n=t.element;E=t,o.default.cornerstone.updateImage(n),e.preventDefault(),e.stopPropagation()}var S=(0,r.default)(function(e){var t=e.detail,n=t.element,r=(0,g.getToolOptions)(p,n);(0,v.default)(t.which,r.mouseButtonMask)&&(n.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,M),n.addEventListener(a.default.MOUSE_DRAG,_),n.addEventListener(a.default.MOUSE_UP,y),n.addEventListener(a.default.MOUSE_CLICK,y),S.strategy(t),e.preventDefault(),e.stopPropagation())},p);S.strategies={default:T,minimal:function(e){var t=o.default.cornerstone,n=e.element,a=t.getEnabledElement(n),r=a.image,i=(0,m.getNewContext)(a.canvas),v=u.default.getActiveColor(),g=S.getConfiguration(),h=void 0;(h=!0===e.isTouchEvent?t.pageToPixel(n,e.currentPoints.page.x,e.currentPoints.page.y-4*l.default.getFontSize()):t.pageToPixel(n,e.currentPoints.page.x,e.currentPoints.page.y-l.default.getFontSize()/2)).x<0||h.y<0||h.x>=r.columns||h.y>=r.rows||(0,m.draw)(i,function(a){(0,m.setShadow)(a,g);var o=t.metaData.get(\"generalSeriesModule\",r.imageId),i=void 0;o&&(i=o.modality);var u=void 0,p=\"\";if(r.color)p=\"R: \"+(u=(0,c.default)(n,h.x,h.y,1,1))[0]+\" G: \"+u[1]+\" B: \"+u[2];else{var E=(u=t.getStoredPixels(n,h.x,h.y,1,1))[0],T=E*e.image.slope+e.image.intercept,y=parseFloat(T.toFixed(2));if(\"CT\"===i)p+=\"HU: \"+y;else if(\"PT\"===i){p+=y;var M=(0,f.default)(e.image,E);M&&(p+=\" SUV: \"+parseFloat(M.toFixed(2)))}else p+=y}var _=t.pixelToCanvas(n,h),S=void 0,x=(0,d.textBoxWidth)(a,p,5);S=!0===e.isTouchEvent?{x:-x/2,y:-l.default.getFontSize()-10-12}:{x:12,y:-(l.default.getFontSize()+10)/2},(0,m.drawCircle)(a,n,_,6,{color:v},\"canvas\"),(0,s.default)(a,p,_.x+S.x,_.y+S.y,v)})}},S.strategy=T;var x={fireOnTouchStart:!0,touchStartCallback:function(e){e.detail.element.addEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,M)},touchEndCallback:function(e){var t=e.detail.element;t.removeEventListener(o.default.cornerstone.EVENTS.IMAGE_RENDERED,M),o.default.cornerstone.updateImage(t)}},O=(0,i.default)(_,p,x);t.dragProbe=S,t.dragProbeTouch=O},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){a.default.cornerstone.fitToWindow(e.element)}var i=(0,o(n(57)).default)(function(e){var t=e.detail;i.strategy(t),e.preventDefault(),e.stopPropagation()});i.strategies={default:r},i.strategy=r,t.default=i},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.crosshairsTouch=t.crosshairs=void 0;var a=c(n(1)),o=c(n(0)),r=c(n(13)),i=n(2),l=c(n(5)),u=n(46),d=c(n(19)),s=n(4);function c(e){return e&&e.__esModule?e:{default:e}}var f=\"crosshairs\";function v(e){var t=e.detail;e.stopImmediatePropagation();var n=(0,i.getToolState)(e.currentTarget,f);if(n){var a=o.default.cornerstone,l=e.currentTarget,s=a.getEnabledElement(l).image.imageId,c=a.metaData.get(\"imagePlaneModule\",s);if(c){var v=t.currentPoints.image,g=(0,u.imagePointToPatientPoint)(v,c);n.data[0].synchronizationContext.getSourceElements().forEach(function(e){if(e!==l){var t=Number.MAX_VALUE,n=-1,o=(0,i.getToolState)(e,\"stack\");if(void 0!==o){var u=o.data[0];if(u.imageIds.forEach(function(e,o){var r=a.metaData.get(\"imagePlaneModule\",e);if(r&&r.imagePositionPatient&&r.rowCosines&&r.columnCosines){var i=(0,d.default)(r.imagePositionPatient),l=(0,d.default)(r.rowCosines),u=(0,d.default)(r.columnCosines).clone().cross(l.clone()),s=Math.abs(u.clone().dot(i)-u.clone().dot(g));s<t&&(t=s,n=o)}}),n!==u.currentImageIdIndex&&-1!==n&&void 0!==u.imageIds[n]){var s=r.default.getStartLoadHandler(),c=r.default.getEndLoadHandler(),f=r.default.getErrorLoadingHandler();s&&s(e);(!0===u.preventCache?a.loadImage(u.imageIds[n]):a.loadAndCacheImage(u.imageIds[n])).then(function(t){var o=a.getViewport(e);u.currentImageIdIndex=n,a.displayImage(e,t,o),c&&c(e,t)},function(t){var a=u.imageIds[n];f&&f(e,a,t)})}}}})}}}function g(e){var t=e.detail.element;t.removeEventListener(a.default.MOUSE_DRAG,h),t.removeEventListener(a.default.MOUSE_UP,g)}function m(e){var t=e.detail,n=t.element,o=(0,s.getToolOptions)(f,n);(0,l.default)(t.which,o.mouseButtonMask)&&(n.addEventListener(a.default.MOUSE_DRAG,h),n.addEventListener(a.default.MOUSE_UP,g),v(e),e.preventDefault(),e.stopPropagation())}function h(e){v(e),e.preventDefault(),e.stopPropagation()}function p(e,t,n){(0,s.setToolOptions)(f,e,{mouseButtonMask:t}),(0,i.clearToolState)(e,f),(0,i.addToolState)(e,f,{synchronizationContext:n}),e.removeEventListener(a.default.MOUSE_DOWN,m),e.addEventListener(a.default.MOUSE_DOWN,m)}function E(e){e.removeEventListener(a.default.MOUSE_DOWN,m)}var T={activate:p,deactivate:E,enable:p,disable:E};function y(e){var t=e.detail.element;t.removeEventListener(a.default.TOUCH_DRAG,_),t.removeEventListener(a.default.TOUCH_DRAG_END,y)}function M(e){var t=e.detail.element;return t.addEventListener(a.default.TOUCH_DRAG,_),t.addEventListener(a.default.TOUCH_DRAG_END,y),v(e),!1}function _(e){v(e),e.preventDefault(),e.stopPropagation()}function S(e,t){(0,i.clearToolState)(e,f),(0,i.addToolState)(e,f,{synchronizationContext:t}),e.removeEventListener(a.default.TOUCH_START,M),e.addEventListener(a.default.TOUCH_START,M)}function x(e){e.removeEventListener(a.default.TOUCH_START,M)}var O={activate:S,deactivate:x,enable:S,disable:x};t.crosshairs=T,t.crosshairsTouch=O},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,a,o,l){var u=e.length>0?r.default.cornerstoneMath.point.findClosestPoint(e,t):t,d=[{x:n.left+n.width/2,y:n.top},{x:n.left,y:n.top+n.height/2},{x:n.left+n.width/2,y:n.top+n.height},{x:n.left+n.width,y:n.top+n.height/2}],s=r.default.cornerstoneMath.point.findClosestPoint(d,u),c={color:o,lineWidth:l,lineDash:[2,3]};(0,i.drawLine)(a,void 0,u,s,c,\"canvas\")};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},i=n(3)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.arrowAnnotateTouch=t.arrowAnnotate=void 0;var a=x(n(1)),o=x(n(0)),r=x(n(10)),i=x(n(12)),l=x(n(14)),u=x(n(21)),d=x(n(7)),s=x(n(9)),c=x(n(63)),f=x(n(30)),v=x(n(28)),g=x(n(15)),m=x(n(5)),h=x(n(22)),p=x(n(17)),E=n(2),T=n(4),y=x(n(27)),M=n(3),_=n(11),S=x(n(6));function x(e){return e&&e.__esModule?e:{default:e}}var O=\"arrowAnnotate\";var b={getTextCallback:function(e){e(prompt(\"Enter your annotation:\"))},changeTextCallback:function(e,t,n){n(prompt(\"Change your annotation:\"))},drawHandles:!1,drawHandlesOnHover:!0,arrowFirst:!0};function C(e){return{visible:!0,active:!0,color:void 0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!1},textBox:{active:!1,hasMoved:!1,movesIndependently:!1,drawnIndependently:!0,allowedOutsideImage:!0,hasBoundingBox:!0}}}}function P(e,t,n){return!1!==t.visible&&(0,y.default)(e,t.handles.start,t.handles.end,n)<25}function I(e){var t=e.detail,n=(0,E.getToolState)(e.currentTarget,O);if(n)for(var a=t.enabledElement,r=o.default.cornerstone,i=(0,M.getNewContext)(t.canvasContext.canvas),f=l.default.getToolWidth(),v=L.getConfiguration(),g=function(e){var o=n.data[e];if(!1===o.visible)return\"continue\";(0,M.draw)(i,function(e){(0,M.setShadow)(e,v);var n=d.default.getColorIfActive(o),i=r.pixelToCanvas(t.element,o.handles.start),l=r.pixelToCanvas(t.element,o.handles.end);v.arrowFirst?(0,c.default)(e,l,i,n,f):(0,c.default)(e,i,l,n,f);var g={drawHandlesIfActive:v&&v.drawHandlesOnHover};v.drawHandles&&(0,s.default)(e,t,o.handles,n,g);var m=function(e){return e.text}(o);if(m&&\"\"!==m){var E=(0,_.textBoxWidth)(e,m,5),T=u.default.getFontSize()+10,y=Math.max(E,T)/2+5;if(l.x<i.x&&(y=-y),!o.handles.textBox.hasMoved){var S=void 0;S=v.arrowFirst?{x:l.x-E/2+y,y:l.y-T/2}:{x:i.x-E/2-y,y:i.y-T/2};var x=r.internal.getTransform(a);x.invert();var O=x.transformPoint(S.x,S.y);o.handles.textBox.x=O.x,o.handles.textBox.y=O.y}(0,p.default)(e,t.element,o.handles.textBox,m,o.handles,h,n,f,0,!1)}})},m=0;m<n.data.length;m++)g(m);function h(e){var t={x:(e.start.x+e.end.x)/2,y:(e.start.y+e.end.y)/2};return[e.start,t,e.end]}}var L=(0,r.default)({addNewMeasurement:function(e){var t=e.element,n=C(e),r=o.default.cornerstone;function i(e){null===e?(0,E.removeToolState)(t,O,n):n.text=e,n.active=!1,r.updateImage(t);var o=a.default.MEASUREMENT_MODIFIED,i={toolType:O,element:t,measurementData:n};(0,S.default)(t,o,i),t.addEventListener(a.default.MOUSE_MOVE,L.mouseMoveCallback),t.addEventListener(a.default.MOUSE_DOWN,L.mouseDownCallback),t.addEventListener(a.default.MOUSE_DOWN_ACTIVATE,L.mouseDownActivateCallback),t.addEventListener(a.default.MOUSE_DOUBLE_CLICK,L.mouseDoubleClickCallback)}(0,E.addToolState)(t,O,n),t.removeEventListener(a.default.MOUSE_MOVE,L.mouseMoveCallback),t.removeEventListener(a.default.MOUSE_DOWN,L.mouseDownCallback),t.removeEventListener(a.default.MOUSE_DOWN_ACTIVATE,L.mouseDownActivateCallback),t.removeEventListener(a.default.MOUSE_DOUBLE_CLICK,L.mouseDoubleClickCallback),r.updateImage(t),(0,f.default)(e,O,n,n.handles.end,function(){(0,g.default)(e,n.handles)&&(0,E.removeToolState)(t,O,n);var a=L.getConfiguration();void 0===n.text&&a.getTextCallback(i),r.updateImage(t)})},createNewMeasurement:C,onImageRendered:I,pointNearTool:P,toolType:O,mouseDoubleClickCallback:function(e){var t=e.detail,n=t.element,a=o.default.cornerstone,r=(0,T.getToolOptions)(O,n),i=void 0;if((0,m.default)(t.which,r.mouseButtonMask)){var l=L.getConfiguration(),u=t.currentPoints.canvas,d=(0,E.getToolState)(n,O);if(d)for(var s=0;s<d.data.length;s++)if(i=d.data[s],P(n,i,u)||(0,h.default)(i.handles.textBox,u))return i.active=!0,a.updateImage(n),l.changeTextCallback(i,t,c),e.stopImmediatePropagation(),!1}function c(e,t,o){!0===o?(0,E.removeToolState)(n,O,e):e.text=t,e.active=!1,a.updateImage(n)}}});L.setConfiguration(b);var w=(0,i.default)({addNewMeasurement:function(e){var t=e.element,n=C(e),r=o.default.cornerstone;function i(e){null===e?(0,E.removeToolState)(t,O,n):n.text=e,n.active=!1,r.updateImage(t);var o=a.default.MEASUREMENT_MODIFIED,i={toolType:O,element:t,measurementData:n};(0,S.default)(t,o,i),t.addEventListener(a.default.TOUCH_PRESS,w.pressCallback),t.addEventListener(a.default.TOUCH_START_ACTIVE,w.touchDownActivateCallback),t.addEventListener(a.default.TAP,w.tapCallback)}(0,E.addToolState)(t,O,n),t.removeEventListener(a.default.TOUCH_PRESS,w.pressCallback),t.removeEventListener(a.default.TOUCH_START_ACTIVE,w.touchDownActivateCallback),t.removeEventListener(a.default.TAP,w.tapCallback),r.updateImage(t),(0,v.default)(e,O,n,n.handles.end,function(){r.updateImage(t),(0,g.default)(e,n.handles)&&(0,E.removeToolState)(t,O,n);var a=L.getConfiguration();void 0===n.text&&a.getTextCallback(i)})},createNewMeasurement:C,onImageRendered:I,pointNearTool:P,toolType:O,pressCallback:function(e){var t=e.detail,n=t.element,r=o.default.cornerstone,i=void 0;function l(e,t,o){console.log(\"pressCallback doneChangingTextCallback\"),!0===o?(0,E.removeToolState)(n,O,e):e.text=t,e.active=!1,r.updateImage(n),n.addEventListener(a.default.TOUCH_START,w.touchStartCallback),n.addEventListener(a.default.TOUCH_START_ACTIVE,w.touchDownActivateCallback),n.addEventListener(a.default.TAP,w.tapCallback)}var u=L.getConfiguration(),d=t.currentPoints.canvas,s=(0,E.getToolState)(n,O);if(s){if(t.handlePressed)return n.removeEventListener(a.default.TOUCH_START,w.touchStartCallback),n.removeEventListener(a.default.TOUCH_START_ACTIVE,w.touchDownActivateCallback),n.removeEventListener(a.default.TAP,w.tapCallback),u.changeTextCallback(t.handlePressed,t,l),e.stopImmediatePropagation(),!1;for(var c=0;c<s.data.length;c++)if(i=s.data[c],P(n,i,d)||(0,h.default)(i.handles.textBox,d))return i.active=!0,r.updateImage(n),n.removeEventListener(a.default.TOUCH_START,w.touchStartCallback),n.removeEventListener(a.default.TOUCH_START_ACTIVE,w.touchDownActivateCallback),n.removeEventListener(a.default.TAP,w.tapCallback),u.changeTextCallback(i,t,l),e.stopImmediatePropagation(),!1;e.preventDefault(),e.stopPropagation()}}});t.arrowAnnotate=L,t.arrowAnnotateTouch=w},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.angleTouch=t.angle=void 0;var a=v(n(0)),o=v(n(10)),r=v(n(12)),i=v(n(11)),l=v(n(43)),u=v(n(7)),d=v(n(9)),s=n(2),c=v(n(27)),f=n(3);function v(e){return e&&e.__esModule?e:{default:e}}var g=\"angle\";function m(e){return{visible:!0,active:!0,color:void 0,handles:{start:{x:e.currentPoints.image.x-20,y:e.currentPoints.image.y+10,highlight:!0,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0},start2:{x:e.currentPoints.image.x-20,y:e.currentPoints.image.y+10,highlight:!0,active:!1},end2:{x:e.currentPoints.image.x,y:e.currentPoints.image.y+20,highlight:!0,active:!1}}}}function h(e,t,n){return!1!==t.visible&&((0,c.default)(e,t.handles.start,t.handles.end,n)<5||(0,c.default)(e,t.handles.start2,t.handles.end2,n)<5)}function p(e){var t=e.detail,n=(0,s.getToolState)(e.currentTarget,g);if(void 0!==n)for(var o=(0,f.getNewContext)(t.canvasContext.canvas),r=E.getConfiguration(),c=a.default.cornerstone,v=function(e){var a=n.data[e];if(!1===a.visible)return\"continue\";(0,f.draw)(o,function(e){(0,f.setShadow)(e,r);var n=u.default.getColorIfActive(a);(0,f.drawJoinedLines)(e,t.element,a.handles.end,[a.handles.start,a.handles.end2],{color:n}),(0,d.default)(e,t,a.handles);var o=t.image.columnPixelSpacing||1,s=t.image.rowPixelSpacing||1,v=(Math.ceil(a.handles.start.x)-Math.ceil(a.handles.end.x))*o,g=(Math.ceil(a.handles.start.y)-Math.ceil(a.handles.end.y))*s,m=(Math.ceil(a.handles.start2.x)-Math.ceil(a.handles.end2.x))*o,h=(Math.ceil(a.handles.start2.y)-Math.ceil(a.handles.end2.y))*s,p=Math.acos(Math.abs((v*m+g*h)/(Math.sqrt(v*v+g*g)*Math.sqrt(m*m+h*h))));p*=180/Math.PI;var E=(0,l.default)(p,2).toString()+String.fromCharCode(parseInt(\"00B0\",16)),T=c.pixelToCanvas(t.element,a.handles.start2),y=c.pixelToCanvas(t.element,a.handles.end2),M=(T.x+y.x)/2,_=(T.y+y.y)/2;(0,i.default)(e,E,M,_,n)})},m=0;m<n.data.length;m++)v(m)}var E=(0,o.default)({createNewMeasurement:m,onImageRendered:p,pointNearTool:h,toolType:g}),T=(0,r.default)({createNewMeasurement:m,onImageRendered:p,pointNearTool:h,toolType:g});t.angle=E,t.angleTouch=T},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=d(n(1)),o=d(n(0)),r=d(n(40)),i=d(n(58)),l=d(n(6)),u=n(4);function d(e){return e&&e.__esModule?e:{default:e}}var s=void 0,c=void 0,f=void 0,v=void 0,g=void 0,m=void 0,h=void 0,p=void 0,E=1,T=0,y=!1,M=!1,_=void 0,S=700,x=5,O=\"touchInput\";function b(e){var t=o.default.cornerstone,n=e.currentTarget||e.srcEvent.currentTarget,i=t.getEnabledElement(n);if(i.image){var u=void 0,d=void 0,O=void 0,b=void 0;switch(e.preventDefault(),(e.pointers&&e.pointers.length>1||e.touches&&e.touches.length>1)&&(M=!1,clearTimeout(h)),e.type){case\"tap\":M=!1,clearTimeout(h),(c={page:o.default.cornerstoneMath.point.pageToPoint(e.pointers[0]),image:t.pageToPixel(n,e.pointers[0].pageX,e.pointers[0].pageY),client:{x:e.pointers[0].clientX,y:e.pointers[0].clientY}}).canvas=t.pixelToCanvas(n,c.image),u=a.default.TAP,g={event:e,viewport:t.getViewport(n),image:i.image,element:n,currentPoints:c,type:u,isTouchEvent:!0},(0,l.default)(n,u,g);break;case\"doubletap\":M=!1,clearTimeout(h),(c={page:o.default.cornerstoneMath.point.pageToPoint(e.pointers[0]),image:t.pageToPixel(n,e.pointers[0].pageX,e.pointers[0].pageY),client:{x:e.pointers[0].clientX,y:e.pointers[0].clientY}}).canvas=t.pixelToCanvas(n,c.image),u=a.default.DOUBLE_TAP,g={event:e,viewport:t.getViewport(n),image:i.image,element:n,currentPoints:c,type:u,isTouchEvent:!0},(0,l.default)(n,u,g);break;case\"pinchstart\":M=!1,clearTimeout(h),E=1;break;case\"pinchmove\":if(M=!1,clearTimeout(h),!0===y){E=e.scale,y=!1;break}d=(e.scale-E)/E,(s={page:e.center,image:t.pageToPixel(n,e.center.x,e.center.y)}).canvas=t.pixelToCanvas(n,s.image),u=a.default.TOUCH_PINCH,g={event:e,startPoints:s,viewport:t.getViewport(n),image:i.image,element:n,direction:e.scale<1?1:-1,scaleChange:d,type:u,isTouchEvent:!0},(0,l.default)(n,u,g),E=e.scale;break;case\"touchstart\":E=1,clearTimeout(h),clearTimeout(m),m=setTimeout(function(){(s={page:o.default.cornerstoneMath.point.pageToPoint(e.touches[0]),image:t.pageToPixel(n,e.touches[0].pageX,e.touches[0].pageY),client:{x:e.touches[0].clientX,y:e.touches[0].clientY}}).canvas=t.pixelToCanvas(n,s.image),u=a.default.TOUCH_START,e.touches.length>1&&(u=a.default.MULTI_TOUCH_START),g={event:e,viewport:t.getViewport(n),image:i.image,element:n,startPoints:s,currentPoints:s,type:u,isTouchEvent:!0},!0===(0,l.default)(n,u,g)&&(u=a.default.TOUCH_START_ACTIVE,e.touches.length>1&&(u=a.default.MULTI_TOUCH_START_ACTIVE),g.type=u,(0,l.default)(n,u,g)),f=(0,r.default)(s)},50),M=!0,p=0,h=setTimeout(function(){M&&((c={page:o.default.cornerstoneMath.point.pageToPoint(e.touches[0]),image:t.pageToPixel(n,e.touches[0].pageX,e.touches[0].pageY),client:{x:e.touches[0].clientX,y:e.touches[0].clientY}}).canvas=t.pixelToCanvas(n,s.image),u=a.default.TOUCH_PRESS,g={event:e,viewport:t.getViewport(n),image:i.image,element:n,currentPoints:c,type:u,isTouchEvent:!0},(0,l.default)(n,u,g))},S);break;case\"touchend\":E=1,M=!1,clearTimeout(h),setTimeout(function(){(s={page:o.default.cornerstoneMath.point.pageToPoint(e.changedTouches[0]),image:t.pageToPixel(n,e.changedTouches[0].pageX,e.changedTouches[0].pageY),client:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}}).canvas=t.pixelToCanvas(n,s.image),u=a.default.TOUCH_END,g={event:e,viewport:t.getViewport(n),image:i.image,element:n,startPoints:s,currentPoints:s,type:u,isTouchEvent:!0},(0,l.default)(n,u,g)},50);break;case\"panmove\":O={x:e.deltaX-_.x,y:e.deltaY-_.y},_={x:e.deltaX,y:e.deltaY},(c={page:{x:f.page.x+O.x,y:f.page.y+O.y},image:t.pageToPixel(n,f.page.x+O.x,f.page.y+O.y),client:{x:f.client.x+O.x,y:f.client.y+O.y}}).canvas=t.pixelToCanvas(n,c.image),v={page:o.default.cornerstoneMath.point.subtract(c.page,f.page),image:o.default.cornerstoneMath.point.subtract(c.image,f.image),client:o.default.cornerstoneMath.point.subtract(c.client,f.client),canvas:o.default.cornerstoneMath.point.subtract(c.canvas,f.canvas)},(p+=Math.sqrt(v.page.x*v.page.x+v.page.y*v.page.y))>x&&(M=!1,clearTimeout(h)),u=a.default.TOUCH_DRAG,e.pointers.length>1&&(u=a.default.MULTI_TOUCH_DRAG),g={viewport:t.getViewport(n),image:i.image,element:n,startPoints:s,lastPoints:f,currentPoints:c,deltaPoints:v,numPointers:e.pointers.length,type:u,isTouchEvent:!0},(0,l.default)(n,u,g),f=(0,r.default)(c);break;case\"panstart\":_={x:e.deltaX,y:e.deltaY},(c={page:o.default.cornerstoneMath.point.pageToPoint(e.pointers[0]),image:t.pageToPixel(n,e.pointers[0].pageX,e.pointers[0].pageY),client:{x:e.pointers[0].clientX,y:e.pointers[0].clientY}}).canvas=t.pixelToCanvas(n,c.image),f=(0,r.default)(c);break;case\"panend\":if(M=!1,clearTimeout(h),!f)return!1;(c={page:o.default.cornerstoneMath.point.pageToPoint(e.pointers[0]),image:t.pageToPixel(n,e.pointers[0].pageX,e.pointers[0].pageY),client:{x:e.pointers[0].clientX,y:e.pointers[0].clientY}}).canvas=t.pixelToCanvas(n,c.image),v={page:o.default.cornerstoneMath.point.subtract(c.page,f.page),image:o.default.cornerstoneMath.point.subtract(c.image,f.image),client:o.default.cornerstoneMath.point.subtract(c.client,f.client),canvas:o.default.cornerstoneMath.point.subtract(c.canvas,f.canvas)},u=a.default.TOUCH_DRAG_END,g={event:e.srcEvent,viewport:t.getViewport(n),image:i.image,element:n,startPoints:s,lastPoints:f,currentPoints:c,deltaPoints:v,type:u,isTouchEvent:!0},(0,l.default)(n,u,g),2===e.pointers.length-e.changedPointers.length&&(y=!0);break;case\"rotatemove\":M=!1,clearTimeout(h),b=e.rotation-T,T=e.rotation,u=a.default.TOUCH_ROTATE,g={event:e.srcEvent,viewport:t.getViewport(n),image:i.image,element:n,rotation:b,type:u},(0,l.default)(n,u,g)}return!1}}function C(e){i.default.disable(e);[\"touchstart\",\"touchend\"].forEach(function(t){e.removeEventListener(t,b)});var t=(0,u.getToolOptions)(O,e).hammer;t&&t.off(\"tap doubletap panstart panmove panend pinchstart pinchmove rotatemove\",b)}var P={enable:function(e){C(e);var t=o.default.Hammer,n={inputClass:t.SUPPORT_POINTER_EVENTS?t.PointerEventInput:t.TouchInput},a=new t.Manager(e,n),r={pointers:0,direction:t.DIRECTION_ALL,threshold:0},l=new t.Pan(r),d=new t.Pinch({threshold:0}),s=new t.Rotate({threshold:0});d.recognizeWith(l),d.recognizeWith(s),s.recognizeWith(l);var c=new t.Tap({event:\"doubletap\",taps:2,interval:1500,threshold:50,posThreshold:50});c.recognizeWith(l),a.add([c,l,s,d]),a.on(\"tap doubletap panstart panmove panend pinchstart pinchmove rotatemove\",b),i.default.enable(e),[\"touchstart\",\"touchend\"].forEach(function(t){e.addEventListener(t,b)});var f=(0,u.getToolOptions)(O,e);f.hammer=a,(0,u.setToolOptions)(O,e,f)},disable:C};t.default=P},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=i(n(1)),o=i(n(0)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=o.default.cornerstone,n=e.currentTarget,i=t.getEnabledElement(n);if(i.image&&!(\"mousewheel\"===e.type&&0===e.wheelDeltaY||\"DOMMouseScroll\"===e.type&&1===e.axis)){e.preventDefault();var l=void 0,u=void 0;void 0!==e.pageX&&void 0!==e.pageY?(l=e.pageX,u=e.pageY):(l=e.x,u=e.y);var d=t.pageToPixel(n,l,u),s=((e=window.event&&window.event.wheelDelta?window.event:e).wheelDelta?e.wheelDelta:e.deltaY?-e.deltaY:e.detail?-e.detail:e.wheelDelta)<0?-1:1,c={element:n,viewport:t.getViewport(n),image:i.image,direction:s,pageX:l,pageY:u,imageX:d.x,imageY:d.y};(0,r.default)(n,a.default.MOUSE_WHEEL,c)}}var u=[\"mousewheel\",\"DOMMouseScroll\"];function d(e){u.forEach(function(t){e.removeEventListener(t,l)})}var s={enable:function(e){d(e),u.forEach(function(t){e.addEventListener(t,l)})},disable:d};t.default=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=l(n(1)),o=l(n(0)),r=l(n(40)),i=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var u=!0,d=void 0,s=200;function c(e){return\"number\"!=typeof e.buttons?e.which:0===e.buttons?0:e.buttons%2==1?1:e.buttons%4==2?3:e.buttons%8==4?2:0}function f(){u=!1}function v(e){var t=o.default.cornerstone,n=e.currentTarget,l=t.getEnabledElement(n);if(l.image){var u=a.default.MOUSE_DOUBLE_CLICK,d={page:o.default.cornerstoneMath.point.pageToPoint(e),image:t.pageToPixel(n,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};d.canvas=t.pixelToCanvas(n,d.image);var s=(0,r.default)(d),c={event:e,which:e.which,viewport:t.getViewport(n),image:l.image,element:n,startPoints:d,lastPoints:s,currentPoints:d,deltaPoints:{x:0,y:0},type:u};(0,i.default)(n,u,c)}}function g(e){var t=o.default.cornerstone,n=e.currentTarget,l=t.getEnabledElement(n);if(l.image){d=setTimeout(f,s);var v=a.default.MOUSE_DOWN;n.removeEventListener(\"mousemove\",m);var g={page:o.default.cornerstoneMath.point.pageToPoint(e),image:t.pageToPixel(n,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};g.canvas=t.pixelToCanvas(n,g.image);var h=(0,r.default)(g),p={event:e,which:c(e),viewport:t.getViewport(n),image:l.image,element:n,startPoints:g,lastPoints:h,currentPoints:g,deltaPoints:{x:0,y:0},type:v};(0,i.default)(p.element,v,p)&&(p.type=a.default.MOUSE_DOWN_ACTIVATE,(0,i.default)(p.element,a.default.MOUSE_DOWN_ACTIVATE,p));var E=c(e);document.addEventListener(\"mousemove\",T),document.addEventListener(\"mouseup\",function e(r){clearTimeout(d);var s=a.default.MOUSE_UP;u&&(s=a.default.MOUSE_CLICK);var c={page:o.default.cornerstoneMath.point.pageToPoint(r),image:t.pageToPixel(n,r.pageX,r.pageY),client:{x:r.clientX,y:r.clientY}};c.canvas=t.pixelToCanvas(n,c.image);var f={page:o.default.cornerstoneMath.point.subtract(c.page,h.page),image:o.default.cornerstoneMath.point.subtract(c.image,h.image),client:o.default.cornerstoneMath.point.subtract(c.client,h.client),canvas:o.default.cornerstoneMath.point.subtract(c.canvas,h.canvas)},v={event:r,which:E,viewport:t.getViewport(n),image:l.image,element:n,startPoints:g,lastPoints:h,currentPoints:c,deltaPoints:f,type:s};(0,i.default)(v.element,s,v),document.removeEventListener(\"mousemove\",T),document.removeEventListener(\"mouseup\",e),n.addEventListener(\"mousemove\",m),u=!0})}function T(e){var u=a.default.MOUSE_DRAG,d={page:o.default.cornerstoneMath.point.pageToPoint(e),image:t.pageToPixel(n,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};d.canvas=t.pixelToCanvas(n,d.image);var s={page:o.default.cornerstoneMath.point.subtract(d.page,h.page),image:o.default.cornerstoneMath.point.subtract(d.image,h.image),client:o.default.cornerstoneMath.point.subtract(d.client,h.client),canvas:o.default.cornerstoneMath.point.subtract(d.canvas,h.canvas)},c={which:E,viewport:t.getViewport(n),image:l.image,element:n,startPoints:g,lastPoints:h,currentPoints:d,deltaPoints:s,type:u,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey};(0,i.default)(c.element,u,c),h=(0,r.default)(d)}}function m(e){var t=o.default.cornerstone,n=e.currentTarget,l=t.getEnabledElement(n);if(l.image){var u=a.default.MOUSE_MOVE,d={page:o.default.cornerstoneMath.point.pageToPoint(e),image:t.pageToPixel(n,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};d.canvas=t.pixelToCanvas(n,d.image);var s=(0,r.default)(d),c={page:o.default.cornerstoneMath.point.pageToPoint(e),image:t.pageToPixel(n,e.pageX,e.pageY),client:{x:e.clientX,y:e.clientY}};c.canvas=t.pixelToCanvas(n,c.image);var f={page:o.default.cornerstoneMath.point.subtract(c.page,s.page),image:o.default.cornerstoneMath.point.subtract(c.image,s.image),client:o.default.cornerstoneMath.point.subtract(c.client,s.client),canvas:o.default.cornerstoneMath.point.subtract(c.canvas,s.canvas)},v={viewport:t.getViewport(n),image:l.image,element:n,startPoints:d,lastPoints:s,currentPoints:c,deltaPoints:f,type:u};(0,i.default)(n,u,v),s=(0,r.default)(c)}}function h(e){e.removeEventListener(\"mousedown\",g),e.removeEventListener(\"mousemove\",m),e.removeEventListener(\"dblclick\",v)}var p={enable:function(e){h(e),e.addEventListener(\"mousedown\",g),e.addEventListener(\"mousemove\",m),e.addEventListener(\"dblclick\",v)},disable:h};t.default=p},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=i(n(1)),o=i(n(0)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var l=void 0,u=void 0;function d(e){var t=o.default.cornerstone,n=e.currentTarget,i=t.getEnabledElement(n);if(i.image){var d={event:window.event||e,element:n,viewport:t.getViewport(n),image:i.image,currentPoints:{page:{x:l,y:u},image:t.pageToPixel(n,l,u)},keyCode:e.keyCode,which:e.which};d.currentPoints.canvas=t.pixelToCanvas(n,d.currentPoints.image);var s={keydown:a.default.KEY_DOWN,keypress:a.default.KEY_PRESS,keyup:a.default.KEY_UP};(0,r.default)(n,s[e.type],d)}}function s(e){l=e.pageX,u=e.pageY}var c=[\"keydown\",\"keypress\",\"keyup\"];var f={enable:function(e){c.forEach(function(t){e.removeEventListener(t,d),e.addEventListener(t,d)}),e.removeEventListener(\"mousemove\",s),e.addEventListener(\"mousemove\",s)},disable:function(e){c.forEach(function(t){e.removeEventListener(t,d)}),e.removeEventListener(\"mousemove\",s)}};t.default=f},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.stopClip=t.playClip=void 0;var a=u(n(1)),o=u(n(0)),r=u(n(13)),i=n(2),l=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}var d=\"playClip\";function s(e){var t=e.intervalId;void 0!==t&&(e.intervalId=void 0,e.usingFrameTimeVector?clearTimeout(t):clearInterval(t))}t.playClip=function(e,t){var n=void 0,u=void 0;if(void 0===e)throw new Error(\"playClip: element must not be undefined\");var c=(0,i.getToolState)(e,\"stack\");if(c&&c.data&&c.data.length){var f=o.default.cornerstone,v=void 0;if(c.data.length>1){var g=(0,i.getToolState)(e,\"stackRenderer\");g&&g.data&&g.data.length&&(v=g.data[0])}var m=c.data[0],h=(0,i.getToolState)(e,d);h&&h.data&&h.data.length?s(n=h.data[0]):(n={intervalId:void 0,framesPerSecond:30,lastFrameTimeStamp:void 0,frameRate:0,frameTimeVector:void 0,ignoreFrameTimeVector:!1,usingFrameTimeVector:!1,speed:1,reverse:!1,loop:!0},(0,i.addToolState)(e,d,n)),(t<0||t>0)&&(n.framesPerSecond=Number(t),n.reverse=n.framesPerSecond<0,n.ignoreFrameTimeVector=!0),!0!==n.ignoreFrameTimeVector&&n.frameTimeVector&&n.frameTimeVector.length===m.imageIds.length&&(u=function(e,t){var n=void 0,a=void 0,o=void 0,r=0,i=e.length,l=[];for(l.isTimeVarying=!1,(\"number\"!=typeof t||t<=0)&&(t=1),n=1;n<i;n++)o=Number(e[n])/t|0,l.push(o),1===n?a=o:o!==a&&(l.isTimeVarying=!0),r+=o;return l.length>0&&(o=l.isTimeVarying?r/l.length|0:l[0],l.push(o)),l}(n.frameTimeVector,n.speed));var p=function(){var t=void 0,o=void 0,i=void 0,u=m.currentImageIdIndex,d=m.imageIds.length;if(n.reverse?u--:u++,!n.loop&&(u<0||u>=d))return s(n),void function(e){var t={element:e};(0,l.default)(e,a.default.CLIP_STOPPED,t)}(e);u>=d&&(u=0),u<0&&(u=d-1),u!==m.currentImageIdIndex&&(t=r.default.getStartLoadHandler(),o=r.default.getEndLoadHandler(),i=r.default.getErrorLoadingHandler(),t&&t(e),(!0===m.preventCache?f.loadImage(m.imageIds[u]):f.loadAndCacheImage(m.imageIds[u])).then(function(t){try{m.currentImageIdIndex=u,v?(v.currentImageIdIndex=u,v.render(e,c.data)):f.displayImage(e,t),o&&o(e,t)}catch(e){return}},function(t){var n=m.imageIds[u];i&&i(e,n,t)}))};u&&u.length>0&&u.isTimeVarying?(n.usingFrameTimeVector=!0,n.intervalId=setTimeout(function e(){n.intervalId=setTimeout(e,u[m.currentImageIdIndex]),p()},0)):(n.usingFrameTimeVector=!1,n.intervalId=setInterval(p,1e3/Math.abs(n.framesPerSecond)))}},t.stopClip=function(e){var t=(0,i.getToolState)(e,d);t&&t.data&&t.data.length&&s(t.data[0])}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),i=(a=r)&&a.__esModule?a:{default:a},l=n(2);var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.currentImageIdIndex=0,this.layerIds=[],this.findImageFn=void 0}return o(e,[{key:\"render\",value:function(e,t){var n=this;if(!Number.isInteger(this.currentImageIdIndex))throw new Error(\"FusionRenderer: render - Image ID Index is not an integer\");if(!this.findImageFn)throw new Error(\"No findImage function has been defined\");t||(t=(0,l.getToolState)(e,\"stack\").data);var a=i.default.cornerstone,o=t[0],r=o.imageIds[this.currentImageIdIndex],u=t.slice(1,t.length);a.loadAndCacheImage(r).then(function(t){var i=n.layerIds[0];i?a.setLayerImage(e,t,i):(i=a.addLayer(e,t,o.options),n.layerIds.push(i)),a.displayImage(e,t),u.forEach(function(t,o){var l=n.findImageFn(t.imageIds,r),u=o+1,d=n.layerIds[u];d||(d=a.addLayer(e,void 0,t.options),n.layerIds.push(d)),l?a.loadAndCacheImage(l).then(function(t){a.setLayerImage(e,t,d),a.updateImage(e)}):(a.setLayerImage(e,void 0,d),a.setActiveLayer(e,i),a.updateImage(e))})})}}]),e}();t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,o=n(114),r=(a=o)&&a.__esModule?a:{default:a};var i={};i.FusionRenderer=r.default,t.default=i},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,o=n(24),r=(a=o)&&a.__esModule?a:{default:a},i=n(2),l=n(3);var u=6;var d=(0,r.default)(function(e){var t=e.detail,n=t.element,a=t.enabledElement.canvas.width,o=t.enabledElement.canvas.height;if(!a||!o)return!1;var r=(0,l.getNewContext)(t.enabledElement.canvas);(0,l.draw)(r,function(e){var t=d.getConfiguration(),r=void 0;r=\"horizontal\"===t.orientation?{left:0,top:o-u,width:a,height:u}:{left:0,top:0,width:u,height:o},(0,l.fillBox)(e,r,t.backgroundColor);var s=(0,i.getToolState)(n,\"stack\");if(s&&s.data&&s.data.length){var c=s.data[0].imageIds,f=s.data[0].currentImageIdIndex,v=a/c.length,g=o/c.length,m=v*f,h=g*f;r=\"horizontal\"===t.orientation?{left:m,top:o-u,width:v,height:u}:{left:0,top:h,width:u,height:g},(0,l.fillBox)(e,r,t.fillColor)}})});d.setConfiguration({backgroundColor:\"rgb(19, 63, 141)\",fillColor:\"white\",orientation:\"horizontal\"}),t.default=d},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=u(n(0)),o=u(n(45)),r=u(n(13)),i=n(2),l=n(33);function u(e){return e&&e.__esModule?e:{default:e}}var d=\"stackPrefetch\",s=\"prefetch\",c={maxImagesToPrefetch:1/0,preserveExistingPool:!1},f=void 0,v=10;var g=function(e){return Math.max.apply(null,e)},m=function(e){return Math.min.apply(null,e)};function h(e){var t=(0,i.getToolState)(e,\"stack\");if(t&&t.data&&t.data.length){var n=t.data[0],l=(0,i.getToolState)(e,d);if(l){var u=l.data[0]||{};if(u.indicesToRequest&&u.indicesToRequest.length||(u.enabled=!1),!1!==u.enabled)if(l.data[0].indicesToRequest.sort(function(e,t){return e-t}),u.indicesToRequest.slice().forEach(function(e){var t=n.imageIds[e];t&&(a.default.cornerstone.imageCache.getImageLoadObject(t)&&R(e))}),u.indicesToRequest.length){c.preserveExistingPool||o.default.clearRequestStack(s);for(var f,v,h,p,E=(f=u.indicesToRequest,v=n.currentImageIdIndex,h=[],p=[],f.forEach(function(e){e<v?h.push(e):e>v&&p.push(e)}),{low:f.indexOf(g(h)),high:f.indexOf(m(p))}),T=void 0,y=void 0,M=r.default.getErrorLoadingHandler(),_=E.low,S=E.high,x=[];_>=0||S<u.indicesToRequest.length;){var O=n.currentImageIdIndex,b=O-u.indicesToRequest[_]>c.maxImagesToPrefetch,C=u.indicesToRequest[S]-O>c.maxImagesToPrefetch,P=!b&&_>=0,I=!C&&S<u.indicesToRequest.length;if(!I&&!P)break;P&&(y=u.indicesToRequest[_--],T=n.imageIds[y],x.push(T)),I&&(y=u.indicesToRequest[S++],T=n.imageIds[y],x.push(T))}var L=!0,w=!1,D=void 0;try{for(var U,A=x.reverse()[Symbol.iterator]();!(L=(U=A.next()).done);L=!0){var k=U.value;o.default.addRequest(e,k,s,!1,N,H,!0)}}catch(e){w=!0,D=e}finally{try{!L&&A.return&&A.return()}finally{if(w)throw D}}o.default.startGrabbing()}}}function R(e){var t=u.indicesToRequest.indexOf(e);t>-1&&u.indicesToRequest.splice(t,1)}function N(e){R(n.imageIds.indexOf(e.imageId))}function H(t){console.log(\"prefetch errored: \"+t),M&&M(e,T,t,\"stackPrefetch\")}}function p(e){return function(t){var n=t.detail,a=void 0;try{a=(0,i.getToolState)(e,\"stack\")}catch(e){return}if(a&&a.data&&a.data.length){var o=a.data[0].imageIds.indexOf(n.imageId);if(!(o<0)){var r=(0,i.getToolState)(e,d);r&&r.data&&r.data.length&&r.data[0].indicesToRequest.push(o)}}}}function E(e){clearTimeout(f),f=setTimeout(function(){var t=e.target;try{h(t)}catch(e){return}},v)}var T={enable:function(e){(0,i.getToolState)(e,d).data=[];var t=(0,i.getToolState)(e,\"stack\");if(t&&t.data&&t.data.length){var n=t.data[0];if(!0!==n.preventCache){var o={indicesToRequest:function(e,t){e=Math.round(e)||0;var n=[],a=(t=Math.round(t)||0)-e+1;if(a<=0)return n;for(;a--;)n[a]=t--;return n}(0,n.imageIds.length-1),enabled:!0,direction:1},r=o.indicesToRequest.indexOf(n.currentImageIdIndex);o.indicesToRequest.splice(r,1),(0,i.addToolState)(e,d,o),h(e),e.removeEventListener(a.default.cornerstone.EVENTS.NEW_IMAGE,E),e.addEventListener(a.default.cornerstone.EVENTS.NEW_IMAGE,E);var l=p(e);a.default.cornerstone.events.removeEventListener(a.default.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,l),a.default.cornerstone.events.addEventListener(a.default.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,l)}else console.warn(\"A stack that should not be cached was given the stackPrefetch\")}},disable:function(e){clearTimeout(f),e.removeEventListener(a.default.cornerstone.EVENTS.NEW_IMAGE,E);var t=p(e);a.default.cornerstone.events.removeEventListener(a.default.cornerstone.EVENTS.IMAGE_CACHE_PROMISE_REMOVED,t);var n=(0,i.getToolState)(e,d);n&&n.data.length&&(n.data[0].enabled=!1,o.default.clearRequestStack(s))},getConfiguration:function(){return c},setConfiguration:function(e){c=e,e.maxSimultaneousRequests&&(0,l.setMaxSimultaneousRequests)(e.maxSimultaneousRequests)}};t.default=T},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.stackScrollMultiTouch=t.stackScrollTouchDrag=t.stackScrollWheel=t.stackScroll=void 0;var a=f(n(1)),o=f(n(18)),r=f(n(36)),i=f(n(16)),l=f(n(29)),u=f(n(5)),d=f(n(44)),s=n(2),c=n(4);function f(e){return e&&e.__esModule?e:{default:e}}var v=\"stackScroll\";function g(e){var t=e.detail.element;t.removeEventListener(a.default.MOUSE_DRAG,m),t.removeEventListener(a.default.MOUSE_UP,g),t.removeEventListener(a.default.MOUSE_CLICK,g)}function m(e){var t=e.detail,n=t.element,a=(0,s.getToolState)(n,\"stack\");if(a&&a.data&&a.data.length){var o=a.data[0],r=h.getConfiguration(),i=!0;r&&void 0!==r.allowSkipping&&(i=r.allowSkipping);var l=Math.max(2,n.offsetHeight/Math.max(o.imageIds.length,8));r&&r.stackScrollSpeed&&(l=r.stackScrollSpeed);var u=(0,c.getToolOptions)(v,n),f=u.deltaY||0;if(f+=t.deltaPoints.page.y,Math.abs(f)>=l){var g=Math.round(f/l);(0,d.default)(n,g,!1,i),u.deltaY=f%l}else u.deltaY=f;(0,c.setToolOptions)(v,n,u),e.preventDefault(),e.stopPropagation()}}var h=(0,i.default)(function(e){var t=e.detail,n=t.element,o=(0,c.getToolOptions)(v,n);if((0,u.default)(t.which,o.mouseButtonMask))return o.deltaY=0,(0,c.setToolOptions)(v,n,o),n.addEventListener(a.default.MOUSE_DRAG,m),n.addEventListener(a.default.MOUSE_UP,g),n.addEventListener(a.default.MOUSE_CLICK,g),e.stopImmediatePropagation(),!1},v),p=(0,l.default)(function(e){var t=e.detail,n=-t.direction,a=h.getConfiguration(),o=!1,r=!0;a&&(o=void 0!==a.loop&&a.loop,r=void 0===a.allowSkipping||a.allowSkipping),(0,d.default)(t.element,n,o,r)}),E={eventData:{deltaY:0}},T=(0,o.default)(m,\"stackScrollTouchDrag\",E);var y=(0,r.default)(function(e){var t=e.detail,n=y.getConfiguration();n&&n.testPointers(t)&&m(e)},E);y.setConfiguration({testPointers:function(e){return e.numPointers>=3}}),t.stackScroll=h,t.stackScrollWheel=p,t.stackScrollTouchDrag=T,t.stackScrollMultiTouch=y},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=o(n(44));function o(e){return e&&e.__esModule?e:{default:e}}var r={UP:38,DOWN:40};var i=(0,o(n(61)).default)(function(e){var t=e.detail,n=t.keyCode;if(n===r.UP||n===r.DOWN){var o=1;n===r.DOWN&&(o=-1),(0,a.default)(t.element,o)}});t.default=i},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a},i=n(26),l=n(2);var u={save:function(e){var t={imageIdToolState:i.globalImageIdSpecificToolStateManager.saveToolState(),elementToolState:{},elementViewport:{}};return e.forEach(function(e){var n=(0,l.getElementToolStateManager)(e);n!==i.globalImageIdSpecificToolStateManager&&(t.elementToolState[e.id]=n.saveToolState(),t.elementViewport[e.id]=r.default.cornerstone.getViewport(e))}),t},restore:function(e){if(e.hasOwnProperty(\"imageIdToolState\")&&e.hasOwnProperty(\"elementToolState\")&&e.hasOwnProperty(\"elementViewport\")){var t=r.default.cornerstone;return i.globalImageIdSpecificToolStateManager.restoreToolState(e.imageIdToolState),Object.keys(e.elementViewport).forEach(function(n){var a=document.getElementById(n);if(a&&e.elementToolState.hasOwnProperty(n)){var o=(0,l.getElementToolStateManager)(a);if(o!==i.globalImageIdSpecificToolStateManager){o.restoreToolState(e.elementToolState[n]);var r=e.elementViewport[n];t.setViewport(a,r),t.updateImage(a)}}}),e}}};t.default=u},function(e,t,n){\"use strict\";function a(){var e={};return{get:function(t,n){if(!1!==e.hasOwnProperty(t)){var a=e[t];if(!1!==a.hasOwnProperty(n))return a[n]}},add:function(t,n,a){!1===e.hasOwnProperty(t)&&(e[t]={});var o=e[t];!1===o.hasOwnProperty(n)&&(o[n]={data:[]}),o[n].data.push(a)},remove:function(t,n,a){if(!1!==e.hasOwnProperty(t)){var o=e[t];if(!1!==o.hasOwnProperty(n)){for(var r=o[n],i=-1,l=0;l<r.data.length;l++)r.data[l]===a&&(i=l);-1!==i&&r.data.splice(i,1)}}}}}Object.defineProperty(t,\"__esModule\",{value:!0});var o=a();t.newFrameOfReferenceSpecificToolStateManager=a,t.globalFrameOfReferenceSpecificToolStateManager=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.addStackStateManager=t.newStackSpecificToolStateManager=t.stackSpecificStateManager=void 0;var a=n(26),o=n(2);function r(e,t){var n={};return{get:function(a,o){return e.indexOf(o)>=0?(!1===n.hasOwnProperty(o)&&(n[o]={data:[]}),n[o]):t.get(a,o)},add:function(a,o,r){if(!(e.indexOf(o)>=0))return t.add(a,o,r);!1===n.hasOwnProperty(o)&&(n[o]={data:[]}),n[o].data.push(r)},saveToolState:function(){return n},restoreToolState:function(e){n=e},toolState:n}}var i=[];function l(e,t){var n=(0,o.getElementToolStateManager)(e);n||(n=a.globalImageIdSpecificToolStateManager);var l=[\"stack\",\"stackPrefetch\",\"playClip\",\"volume\",\"slab\",\"referenceLines\",\"crosshairs\",\"stackRenderer\"];t&&(l=l.concat(t));var u=r(l,n);i.push(u),(0,o.setElementToolStateManager)(e,u)}var u={newStackSpecificToolStateManager:r,addStackStateManager:l};t.stackSpecificStateManager=u,t.newStackSpecificToolStateManager=r,t.addStackStateManager=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.newTimeSeriesSpecificToolStateManager=t.addTimeSeriesStateManager=void 0;var a=n(26),o=n(2);function r(e,t){var n={};return{get:function(a,o){return e.indexOf(o)>=0?(!1===n.hasOwnProperty(o)&&(n[o]={data:[]}),n[o]):t.get(a,o)},add:function(a,o,r){if(!(e.indexOf(o)>=0))return t.add(a,o,r);!1===n.hasOwnProperty(o)&&(n[o]={data:[]}),n[o].data.push(r)}}}var i=[];t.addTimeSeriesStateManager=function(e,t){t=t||[\"timeSeries\"];var n=(0,o.getElementToolStateManager)(e);void 0===n&&(n=a.globalImageIdSpecificToolStateManager);var l=r(t,n);i.push(l),(0,o.setElementToolStateManager)(e,l)},t.newTimeSeriesSpecificToolStateManager=r},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){if(n!==t){var a=r.default.cornerstone,o=a.getViewport(t),i=a.getViewport(n);i.scale===o.scale&&i.translation.x===o.translation.x&&i.translation.y===o.translation.y||(i.scale=o.scale,i.translation.x=o.translation.x,i.translation.y=o.translation.y,e.setViewport(n,i))}};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){if(n!==t){var l=a.default.cornerstone,u=(0,o.getToolState)(t,\"stack\").data[0],d=(0,o.getToolState)(n,\"stack\").data[0],s=u.currentImageIdIndex;if((s=(0,i.default)(s,0,d.imageIds.length-1))!==d.currentImageIdIndex){var c=r.default.getStartLoadHandler(),f=r.default.getEndLoadHandler(),v=r.default.getErrorLoadingHandler();c&&c(n);(!0===d.preventCache?l.loadImage(d.imageIds[s]):l.loadAndCacheImage(d.imageIds[s])).then(function(t){var a=l.getViewport(n);d.currentImageIdIndex=s,e.displayImage(n,t,a),f&&f(n,t)},function(e){var t=d.imageIds[s];v&&v(n,t,e)})}}};var a=l(n(0)),o=n(2),r=l(n(13)),i=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,l,u){if(n!==t){var d=a.default.cornerstone,s=d.getEnabledElement(t),c=d.metaData.get(\"imagePlaneModule\",s.image.imageId);if(void 0!==c&&void 0!==c.imagePositionPatient){var f=(0,i.default)(c.imagePositionPatient),v=(0,o.getToolState)(n,\"stack\").data[0],g=Number.MAX_VALUE,m=-1;if(u){var h=f.clone().add(u);if(v.imageIds.forEach(function(e,t){var n=d.metaData.get(\"imagePlaneModule\",e);if(void 0!==n&&void 0!==n.imagePositionPatient){var a=(0,i.default)(n.imagePositionPatient),o=h.distanceToSquared(a);o<g&&(g=o,m=t)}}),m!==v.currentImageIdIndex&&-1!==m){var p=r.default.getStartLoadHandler(),E=r.default.getEndLoadHandler(),T=r.default.getErrorLoadingHandler();v.currentImageIdIndex=m;var y=v.imageIds[m];p&&p(n);(!0===v.preventCache?d.loadImage(y):d.loadAndCacheImage(y)).then(function(t){var a=d.getViewport(n);v.currentImageIdIndex===m&&(e.displayImage(n,t,a),E&&E(n,t))},function(e){var t=v.imageIds[m];T&&T(n,t,e)})}}}}};var a=l(n(0)),o=n(2),r=l(n(13)),i=l(n(19));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){if(n!==t){var l=a.default.cornerstone,u=l.getEnabledElement(t).image,d=l.metaData.get(\"imagePlaneModule\",u.imageId);if(void 0!==d&&void 0!==d.imagePositionPatient){var s=(0,i.default)(d.imagePositionPatient),c=(0,o.getToolState)(n,\"stack\").data[0],f=Number.MAX_VALUE,v=-1;if(c.imageIds.forEach(function(e,t){var n=l.metaData.get(\"imagePlaneModule\",e);if(void 0!==n&&void 0!==n.imagePositionPatient){var a=(0,i.default)(n.imagePositionPatient).distanceToSquared(s);a<f&&(f=a,v=t)}}),v!==c.currentImageIdIndex){var g=r.default.getStartLoadHandler(),m=r.default.getEndLoadHandler(),h=r.default.getErrorLoadingHandler();c.currentImageIdIndex=v;var p=c.imageIds[v];if(g&&g(n),-1!==v){(!0===c.preventCache?l.loadImage(p):l.loadAndCacheImage(p)).then(function(t){var a=l.getViewport(n);c.currentImageIdIndex===v&&(e.displayImage(n,t,a),m&&m(n,t))},function(e){var t=c.imageIds[v];h&&h(n,t,e)})}}}}};var a=l(n(0)),o=n(2),r=l(n(13)),i=l(n(19));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,l){if(t!==n&&l&&l.direction){var u=a.default.cornerstone,d=(0,o.getToolState)(n,\"stack\").data[0],s=d.currentImageIdIndex+l.direction;if(s=(0,i.default)(s,0,d.imageIds.length-1),d.currentImageIdIndex!==s){var c=r.default.getStartLoadHandler(),f=r.default.getEndLoadHandler(),v=r.default.getErrorLoadingHandler();d.currentImageIdIndex=s;var g=d.imageIds[s];c&&c(n);(!0===d.preventCache?u.loadImage(g):u.loadAndCacheImage(g)).then(function(t){var a=u.getViewport(n);d.currentImageIdIndex===s&&(e.displayImage(n,t,a),f&&f(n,t))},function(e){var t=d.imageIds[s];v&&v(n,t,e)})}}};var a=l(n(0)),o=n(2),r=l(n(13)),i=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=i(n(0)),o=i(n(19)),r=n(4);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}t.default=function(e,t){var n=a.default.cornerstone,i=this,u=[],d=[],s=!1,c={},f=t;function v(e,t){i.enabled&&u.length&&d.length&&(s=!0,d.forEach(function(n){var a=d.indexOf(n);if(-1!==a){var o=c.imageIds.targetElements[a],r=u.indexOf(e);if(-1!==r){var l=c.imageIds.sourceElements[r],s=void 0;l===o?s=0:void 0!==c.distances[l]&&(s=c.distances[l][o]),f(i,e,n,t,s)}}}),s=!1)}function g(e){var t=e.detail;!0!==s&&v(e.currentTarget,t)}function m(e){var t=e.detail.element;i.remove(t),(0,r.clearToolOptionsByElement)(t)}this.enabled=!0,this.setHandler=function(e){f=e},this.getHandler=function(){return f},this.getDistances=function(){u.length&&d.length&&(c.distances={},c.imageIds={sourceElements:[],targetElements:[]},u.forEach(function(e){var t=n.getEnabledElement(e);if(t&&t.image){var a=t.image.imageId,r=n.metaData.get(\"imagePlaneModule\",a);if(r&&r.imagePositionPatient){var i=(0,o.default)(r.imagePositionPatient);c.hasOwnProperty(t)||(c.distances[a]={},c.imageIds.sourceElements.push(a),d.forEach(function(t){var r=n.getEnabledElement(t);if(r&&r.image){var l=r.image.imageId;if(c.imageIds.targetElements.push(l),e!==t&&a!==l&&!c.distances[a].hasOwnProperty(l)){var u=n.metaData.get(\"imagePlaneModule\",l);if(u&&u.imagePositionPatient){var d=(0,o.default)(u.imagePositionPatient);c.distances[a][l]=d.clone().sub(i)}}}}),Object.keys(c.distances[a]).length||delete c.distances[a])}}}))},this.addSource=function(t){-1===u.indexOf(t)&&(u.push(t),e.split(\" \").forEach(function(e){t.addEventListener(e,g)}),i.getDistances(),i.updateDisableHandlers())},this.addTarget=function(e){-1===d.indexOf(e)&&(d.push(e),i.getDistances(),f(i,e,e,0),i.updateDisableHandlers())},this.add=function(e){i.addSource(e),i.addTarget(e)},this.removeSource=function(t){var n=u.indexOf(t);-1!==n&&(u.splice(n,1),e.split(\" \").forEach(function(e){t.removeEventListener(e,g)}),i.getDistances(),v(t),i.updateDisableHandlers())},this.removeTarget=function(e){var t=d.indexOf(e);-1!==t&&(d.splice(t,1),i.getDistances(),f(i,e,e,0),i.updateDisableHandlers())},this.remove=function(e){i.removeTarget(e),i.removeSource(e)},this.getSourceElements=function(){return u},this.getTargetElements=function(){return d},this.displayImage=function(e,t,a){s=!0,n.displayImage(e,t,a),s=!1},this.setViewport=function(e,t){s=!0,n.setViewport(e,t),s=!1},this.updateDisableHandlers=function(){l(u.concat(d)).forEach(function(e){e.removeEventListener(a.default.cornerstone.EVENTS.ELEMENT_DISABLED,m),e.addEventListener(a.default.cornerstone.EVENTS.ELEMENT_DISABLED,m)})},this.destroy=function(){l(u.concat(d)).forEach(function(e){i.remove(e)})}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){n!==t&&r.default.cornerstone.updateImage(n)};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){if(n!==t){var a=r.default.cornerstone,o=a.getViewport(t),i=a.getViewport(n);i.voi.windowWidth===o.voi.windowWidth&&i.voi.windowCenter===o.voi.windowCenter&&i.invert===o.invert||(i.voi.windowWidth=o.voi.windowWidth,i.voi.windowCenter=o.voi.windowCenter,i.invert=o.invert,e.setViewport(n,i))}};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.timeSeriesScrollTouchDrag=t.timeSeriesScrollWheel=t.timeSeriesScroll=void 0;var a=c(n(1)),o=c(n(16)),r=c(n(18)),i=c(n(29)),l=c(n(37)),u=c(n(5)),d=n(2),s=n(4);function c(e){return e&&e.__esModule?e:{default:e}}var f=\"timeSeriesScroll\";function v(e){var t=e.detail.element;t.removeEventListener(a.default.MOUSE_DRAG,g),t.removeEventListener(a.default.MOUSE_UP,v),t.removeEventListener(a.default.MOUSE_CLICK,v)}function g(e){var t=e.detail,n=t.element;e.data.deltaY+=t.deltaPoints.page.y;var a=(0,d.getToolState)(t.element,\"timeSeries\");if(void 0!==a&&void 0!==a.data&&0!==a.data.length){var o=a.data[0],r=n.offsetHeight/o.stacks.length;if(void 0!==e.data.options&&void 0!==e.data.options.timeSeriesScrollSpeed&&(r=e.data.options.timeSeriesScrollSpeed),e.data.deltaY>=r||e.data.deltaY<=-r){var i=Math.round(e.data.deltaY/r),u=e.data.deltaY%r;(0,l.default)(t.element,i),e.data.deltaY=u}return!1}}var m=(0,o.default)(function(e){var t=e.detail,n=t.element,o=(0,s.getToolOptions)(f,n);if((0,u.default)(t.which,o.mouseButtonMask))return o.deltaY=0,(0,s.setToolOptions)(f,n,o),n.addEventListener(a.default.MOUSE_DRAG,g),n.addEventListener(a.default.MOUSE_UP,v),n.addEventListener(a.default.MOUSE_CLICK,v),e.stopImmediatePropagation(),!1},f),h=(0,i.default)(function(e){var t=e.detail,n=-t.direction;(0,l.default)(t.element,n)}),p=(0,r.default)(function(e){var t=e.originalEvent.detail,n={deltaY:0};n.deltaY+=t.deltaPoints.page.y;var a=(0,d.getToolState)(t.element,\"stack\");if(void 0!==a&&void 0!==a.data&&0!==a.data.length){if(n.deltaY>=3||n.deltaY<=-3){var o=n.deltaY/3,r=n.deltaY%3;(0,l.default)(n.element,o),n.deltaY=r}return!1}});t.timeSeriesScroll=m,t.timeSeriesScrollWheel=h,t.timeSeriesScrollTouchDrag=p},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,o=n(2),r=n(37),i=(a=r)&&a.__esModule?a:{default:a};var l=\"timeSeriesPlayer\";var u={start:function(e,t){if(void 0===e)throw new Error(\"playClip: element must not be undefined\");void 0===t&&(t=30);var n=(0,o.getToolState)(e,\"timeSeries\");if(void 0!==n&&void 0!==n.data&&0!==n.data.length){var a=(0,o.getToolState)(e,l),r=void 0;void 0===a||0===a.data.length?(r={intervalId:void 0,framesPerSecond:t,lastFrameTimeStamp:void 0,frameRate:0},(0,o.addToolState)(e,l,r)):(r=a.data[0]).framesPerSecond=t,void 0===r.intervalId&&(r.intervalId=setInterval(function(){r.framesPerSecond>0?(0,i.default)(e,1,!0):(0,i.default)(e,-1,!0)},1e3/Math.abs(r.framesPerSecond)))}},stop:function(e){var t=(0,o.getToolState)(e,l);if(t&&t.data&&t.data.length){var n=t.data[0];clearInterval(n.intervalId),n.intervalId=void 0}}};t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){var e=o.default.cornerstone,t=this;t.samples=[],this.set=function(n){t.samples=n,(0,r.default)(e.events,a.default.LINE_SAMPLE_UPDATED)}};var a=i(n(1)),o=i(n(0)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=i(n(1)),o=i(n(0)),r=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var l=new function(){var e=o.default.cornerstone,t=this;t.measurements=[],this.add=function(n){var o={index:t.measurements.push(n),measurement:n};(0,r.default)(e.events,a.default.MEASUREMENT_ADDED,o)},this.remove=function(n){var o=t.measurements[n];t.measurements.splice(n,1);var i={index:n,measurement:o};(0,r.default)(e.events,a.default.MEASUREMENT_REMOVED,i)}};t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=c(n(0)),o=c(n(10)),r=c(n(9)),i=n(2),l=c(n(135)),u=c(n(134)),d=c(n(11)),s=n(3);function c(e){return e&&e.__esModule?e:{default:e}}var f=\"probe4D\";var v=(0,o.default)({createNewMeasurement:function(e){var t=(0,i.getToolState)(e.element,\"timeSeries\");if(void 0!==t&&void 0!==t.data&&0!==t.data.length){var n=t.data[0],o={timeSeries:n,lineSample:new u.default,imageIdIndex:n.stacks[n.currentStackIndex].currentImageIdIndex,visible:!0,handles:{end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!0,active:!0}}};return function(e){var t=a.default.cornerstone,n=[];e.timeSeries.stacks.forEach(function(a){(!0===a.preventCache?t.loadImage(a.imageIds[e.imageIdIndex]):t.loadAndCacheImage(a.imageIds[e.imageIdIndex])).then(function(t){var a=Math.round(e.handles.end.x)+Math.round(e.handles.end.y)*t.width,o=t.getPixelData()[a];n.push(o)})}),e.lineSample.set(n)}(o),l.default.add(o),o}},onImageRendered:function(e){var t=a.default.cornerstone,n=e.detail,o=(0,i.getToolState)(e.currentTarget,f);if(o){var l=n.canvasContext;l.setTransform(1,0,0,1,0,0);for(var u=function(e){(0,s.draw)(l,function(a){var i=o.data[e];(0,r.default)(a,n,i.handles,\"white\");var l={x:i.handles.end.x+3,y:i.handles.end.y-3},u=t.pixelToCanvas(n.element,l);(0,d.default)(a,i.handles.end.x+\", \"+i.handles.end.y,u.x,u.y,\"white\")})},c=0;c<o.data.length;c++)u(c)}},toolType:f});t.default=v},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,o){var r={color:n,lineWidth:o};(0,a.drawCircle)(e,void 0,t,6,r,\"canvas\")};var a=n(3)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n,o,r){var i={x:t,y:n},l={x:t+o,y:n+r};(0,a.drawEllipse)(e,void 0,i,l,{},\"canvas\")};var a=n(3)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){e.style.webkitUserSelect=\"none\",e.style.webkitTouchCallout=\"none\",e.style.mozUserSelect=\"none\",e.style.msUserSelect=\"none\",e.style.oUserSelect=\"none\",e.style.khtmlUserSelect=\"none\",e.style.userSelect=\"none\",e.unselectable=\"on\",e.oncontextmenu=function(){return!1},!0===t&&(e.style.pointerEvents=\"none\")}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,n){return r.default.cornerstone.setToPixelCoordinateSystem(e,t,.1),{fontSize:n/e.viewport.scale/.1,lineHeight:n/e.viewport.scale/.1,fontScale:.1}};var a,o=n(0),r=(a=o)&&a.__esModule?a:{default:a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=e.replace(\"H\",\"f\");return t=(t=(t=(t=(t=(t=t.replace(\"F\",\"h\")).replace(\"R\",\"l\")).replace(\"L\",\"r\")).replace(\"A\",\"p\")).replace(\"P\",\"a\")).toUpperCase()}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){for(var t=(0,o.default)(e),n=\"\",r=t.x<0?\"R\":\"L\",i=t.y<0?\"A\":\"P\",l=t.z<0?\"F\":\"H\",u=new a.default.cornerstoneMath.Vector3(Math.abs(t.x),Math.abs(t.y),Math.abs(t.z)),d=0;d<3;d++)if(u.x>1e-4&&u.x>u.y&&u.x>u.z)n+=r,u.x=0;else if(u.y>1e-4&&u.y>u.x&&u.y>u.z)n+=i,u.y=0;else{if(!(u.z>1e-4&&u.z>u.x&&u.z>u.y))break;n+=l,u.z=0}return n};var a=r(n(0)),o=r(n(19));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=i(n(0)),o=n(2),r=i(n(67));function i(e){return e&&e.__esModule?e:{default:e}}var l=\"referenceLines\";function u(e){var t=e.detail,n=(0,o.getToolState)(e.currentTarget,l);if(void 0!==n){var r=n.data[0].synchronizationContext.getSourceElements(),i=n.data[0].renderer,u=t.canvasContext.canvas.getContext(\"2d\");a.default.cornerstone.setToPixelCoordinateSystem(t.enabledElement,u),r.forEach(function(n){n!==e.currentTarget&&i(u,t,e.currentTarget,n)})}}var d={enable:function(e,t,n){n=n||r.default,(0,o.addToolState)(e,l,{synchronizationContext:t,renderer:n}),e.removeEventListener(a.default.cornerstone.EVENTS.IMAGE_RENDERED,u),e.addEventListener(a.default.cornerstone.EVENTS.IMAGE_RENDERED,u),a.default.cornerstone.updateImage(e)},disable:function(e){e.removeEventListener(a.default.cornerstone.EVENTS.IMAGE_RENDERED,u),a.default.cornerstone.updateImage(e)}};t.default=d},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=i(n(68)),o=i(n(143)),r=i(n(67));function i(e){return e&&e.__esModule?e:{default:e}}var l={calculateReferenceLine:a.default,tool:o.default,renderActiveReferenceLine:r.default};t.default=l}])});\n//# sourceMappingURL=cornerstoneTools.min.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2Nvcm5lcnN0b25lLXRvb2xzL2Rpc3QvY29ybmVyc3RvbmVUb29scy5taW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2Nvcm5lcnN0b25lLXRvb2xzL2Rpc3QvY29ybmVyc3RvbmVUb29scy5taW4uanM/ZjA1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgY29ybmVyc3RvbmUtdG9vbHMgLSAyLjQuMCAtIDIwMTgtMTAtMjUgfCAoYykgMjAxNyBDaHJpcyBIYWZleSB8IGh0dHBzOi8vZ2l0aHViLmNvbS9jb3JuZXJzdG9uZWpzL2Nvcm5lcnN0b25lVG9vbHMgKi9cbiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiY29ybmVyc3RvbmVUb29sc1wiLFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuY29ybmVyc3RvbmVUb29scz10KCk6ZS5jb3JuZXJzdG9uZVRvb2xzPXQoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4oYSl7aWYodFthXSlyZXR1cm4gdFthXS5leHBvcnRzO3ZhciBvPXRbYV09e2k6YSxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW2FdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQsYSl7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDphfSl9LG4ucj1mdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTQ3KX0oW2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT13aW5kb3cuY29ybmVyc3RvbmUsbz13aW5kb3cuY29ybmVyc3RvbmVNYXRoLHI9d2luZG93LkhhbW1lcjt0LmRlZmF1bHQ9e3NldCBjb3JuZXJzdG9uZShlKXthPWV9LGdldCBjb3JuZXJzdG9uZSgpe3JldHVybiBhfSxzZXQgY29ybmVyc3RvbmVNYXRoKGUpe289ZX0sZ2V0IGNvcm5lcnN0b25lTWF0aCgpe3JldHVybiBvfSxzZXQgSGFtbWVyKGUpe3I9ZX0sZ2V0IEhhbW1lcigpe3JldHVybiByfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt0LmRlZmF1bHQ9e01PVVNFX0RPV046XCJjb3JuZXJzdG9uZXRvb2xzbW91c2Vkb3duXCIsTU9VU0VfVVA6XCJjb3JuZXJzdG9uZXRvb2xzbW91c2V1cFwiLE1PVVNFX0RPV05fQUNUSVZBVEU6XCJjb3JuZXJzdG9uZXRvb2xzbW91c2Vkb3duYWN0aXZhdGVcIixNT1VTRV9EUkFHOlwiY29ybmVyc3RvbmV0b29sc21vdXNlZHJhZ1wiLE1PVVNFX01PVkU6XCJjb3JuZXJzdG9uZXRvb2xzbW91c2Vtb3ZlXCIsTU9VU0VfQ0xJQ0s6XCJjb3JuZXJzdG9uZXRvb2xzbW91c2VjbGlja1wiLE1PVVNFX0RPVUJMRV9DTElDSzpcImNvcm5lcnN0b25ldG9vbHNtb3VzZWRvdWJsZWNsaWNrXCIsTU9VU0VfV0hFRUw6XCJjb3JuZXJzdG9uZXRvb2xzbW91c2V3aGVlbFwiLFRPVUNIX1NUQVJUOlwiY29ybmVyc3RvbmV0b29sc3RvdWNoc3RhcnRcIixUT1VDSF9TVEFSVF9BQ1RJVkU6XCJjb3JuZXJzdG9uZXRvb2xzdG91Y2hzdGFydGFjdGl2ZVwiLFRPVUNIX0VORDpcImNvcm5lcnN0b25ldG9vbHN0b3VjaGVuZFwiLFRPVUNIX0RSQUc6XCJjb3JuZXJzdG9uZXRvb2xzdG91Y2hkcmFnXCIsVE9VQ0hfRFJBR19FTkQ6XCJjb3JuZXJzdG9uZXRvb2xzdG91Y2hkcmFnZW5kXCIsVE9VQ0hfUElOQ0g6XCJjb3JuZXJzdG9uZXRvb2xzdG91Y2hwaW5jaFwiLFRPVUNIX1JPVEFURTpcImNvcm5lcnN0b25ldG9vbHN0b3VjaHJvdGF0ZVwiLFRPVUNIX1BSRVNTOlwiY29ybmVyc3RvbmV0b29sc3RvdWNocHJlc3NcIixUQVA6XCJjb3JuZXJzdG9uZXRvb2xzdGFwXCIsRE9VQkxFX1RBUDpcImNvcm5lcnN0b25ldG9vbHNkb3VibGV0YXBcIixNVUxUSV9UT1VDSF9TVEFSVDpcImNvcm5lcnN0b25ldG9vbHNtdWx0aXRvdWNoc3RhcnRcIixNVUxUSV9UT1VDSF9TVEFSVF9BQ1RJVkU6XCJjb3JuZXJzdG9uZXRvb2xzbXVsdGl0b3VjaHN0YXJ0YWN0aXZlXCIsTVVMVElfVE9VQ0hfRFJBRzpcImNvcm5lcnN0b25ldG9vbHNtdWx0aXRvdWNoZHJhZ1wiLEtFWV9ET1dOOlwiY29ybmVyc3RvbmV0b29sc2tleWRvd25cIixLRVlfVVA6XCJjb3JuZXJzdG9uZXRvb2xza2V5dXBcIixLRVlfUFJFU1M6XCJjb3JuZXJzdG9uZXRvb2xza2V5cHJlc3NcIixNRUFTVVJFTUVOVF9BRERFRDpcImNvcm5lcnN0b25ldG9vbHNtZWFzdXJlbWVudGFkZGVkXCIsTUVBU1VSRU1FTlRfTU9ESUZJRUQ6XCJjb3JuZXJzdG9uZXRvb2xzbWVhc3VyZW1lbnRtb2RpZmllZFwiLE1FQVNVUkVNRU5UX1JFTU9WRUQ6XCJjb3JuZXJzdG9uZW1lYXN1cmVtZW50cmVtb3ZlZFwiLFRPT0xfREVBQ1RJVkFURUQ6XCJjb3JuZXJzdG9uZXRvb2xzdG9vbGRlYWN0aXZhdGVkXCIsQ0xJUF9TVE9QUEVEOlwiY29ybmVyc3RvbmV0b29sc2NsaXBzdG9wcGVkXCIsU1RBQ0tfU0NST0xMOlwiY29ybmVyc3RvbmVzdGFja3Njcm9sbFwiLExJTkVfU0FNUExFX1VQREFURUQ6XCJjb3JuZXJzdG9uZWxpbmVzYW1wbGV1cGRhdGVkXCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRFbGVtZW50VG9vbFN0YXRlTWFuYWdlcj10LnNldEVsZW1lbnRUb29sU3RhdGVNYW5hZ2VyPXQuY2xlYXJUb29sU3RhdGU9dC5yZW1vdmVUb29sU3RhdGU9dC5nZXRUb29sU3RhdGU9dC5hZGRUb29sU3RhdGU9dm9pZCAwO3ZhciBhPWwobigxKSksbz1sKG4oMCkpLHI9bigyNiksaT1sKG4oNikpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9by5kZWZhdWx0LmNvcm5lcnN0b25lLmdldEVuYWJsZWRFbGVtZW50KGUpO3JldHVybiB2b2lkIDA9PT10LnRvb2xTdGF0ZU1hbmFnZXImJih0LnRvb2xTdGF0ZU1hbmFnZXI9ci5nbG9iYWxJbWFnZUlkU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyKSx0LnRvb2xTdGF0ZU1hbmFnZXJ9dC5hZGRUb29sU3RhdGU9ZnVuY3Rpb24oZSx0LG4pe3UoZSkuYWRkKGUsdCxuKTt2YXIgbz1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfQURERUQscj17dG9vbFR5cGU6dCxlbGVtZW50OmUsbWVhc3VyZW1lbnREYXRhOm59OygwLGkuZGVmYXVsdCkoZSxvLHIpfSx0LmdldFRvb2xTdGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiB1KGUpLmdldChlLHQpfSx0LnJlbW92ZVRvb2xTdGF0ZT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBvPXUoZSkuZ2V0KGUsdCkscj0tMSxsPTA7bDxvLmRhdGEubGVuZ3RoO2wrKylvLmRhdGFbbF09PT1uJiYocj1sKTtpZigtMSE9PXIpe28uZGF0YS5zcGxpY2UociwxKTt2YXIgZD1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfUkVNT1ZFRCxzPXt0b29sVHlwZTp0LGVsZW1lbnQ6ZSxtZWFzdXJlbWVudERhdGE6bn07KDAsaS5kZWZhdWx0KShlLGQscyl9fSx0LmNsZWFyVG9vbFN0YXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dShlKS5nZXQoZSx0KTt2b2lkIDAhPT1uJiYobi5kYXRhPVtdKX0sdC5zZXRFbGVtZW50VG9vbFN0YXRlTWFuYWdlcj1mdW5jdGlvbihlLHQpe28uZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRFbmFibGVkRWxlbWVudChlKS50b29sU3RhdGVNYW5hZ2VyPXR9LHQuZ2V0RWxlbWVudFRvb2xTdGF0ZU1hbmFnZXI9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2V0TmV3Q29udGV4dD1mdW5jdGlvbihlKXt2YXIgdD1lLmdldENvbnRleHQoXCIyZFwiKTtyZXR1cm4gdC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHR9LHQuZHJhdz1mdW5jdGlvbihlLHQpe2Uuc2F2ZSgpLHQoZSksZS5yZXN0b3JlKCl9LHQucGF0aD1sLHQuc2V0U2hhZG93PWZ1bmN0aW9uKGUsdCl7dC5zaGFkb3cmJihlLnNoYWRvd0NvbG9yPXQuc2hhZG93Q29sb3J8fFwiIzAwMDAwMFwiLGUuc2hhZG93T2Zmc2V0WD10LnNoYWRvd09mZnNldFh8fDEsZS5zaGFkb3dPZmZzZXRZPXQuc2hhZG93T2Zmc2V0WXx8MSl9LHQuZHJhd0xpbmU9ZnVuY3Rpb24oZSx0LG4sYSxvKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06XCJwaXhlbFwiO2woZSxvLGZ1bmN0aW9uKGUpe2lmKFwicGl4ZWxcIj09PWkpe3ZhciBvPXIuZGVmYXVsdC5jb3JuZXJzdG9uZTtuPW8ucGl4ZWxUb0NhbnZhcyh0LG4pLGE9by5waXhlbFRvQ2FudmFzKHQsYSl9ZS5tb3ZlVG8obi54LG4ueSksZS5saW5lVG8oYS54LGEueSl9KX0sdC5kcmF3TGluZXM9ZnVuY3Rpb24oZSx0LG4sYSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOlwicGl4ZWxcIjtsKGUsYSxmdW5jdGlvbihlKXtuLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGE9bi5zdGFydCxpPW4uZW5kO2lmKFwicGl4ZWxcIj09PW8pe3ZhciBsPXIuZGVmYXVsdC5jb3JuZXJzdG9uZTthPWwucGl4ZWxUb0NhbnZhcyh0LGEpLGk9bC5waXhlbFRvQ2FudmFzKHQsaSl9ZS5tb3ZlVG8oYS54LGEueSksZS5saW5lVG8oaS54LGkueSl9KX0pfSx0LmRyYXdKb2luZWRMaW5lcz1mdW5jdGlvbihlLHQsbixhLG8pe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTpcInBpeGVsXCI7bChlLG8sZnVuY3Rpb24oZSl7aWYoXCJwaXhlbFwiPT09aSl7dmFyIG89ci5kZWZhdWx0LmNvcm5lcnN0b25lO249by5waXhlbFRvQ2FudmFzKHQsbiksYT1hLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gby5waXhlbFRvQ2FudmFzKHQsZSl9KX1lLm1vdmVUbyhuLngsbi55KSxhLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dC54LGE9dC55O2UubGluZVRvKG4sYSl9KX0pfSx0LmRyYXdDaXJjbGU9ZnVuY3Rpb24oZSx0LG4sYSxvKXtcInBpeGVsXCI9PT0oYXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOlwicGl4ZWxcIikmJihuPXIuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKHQsbikpO2woZSxvLGZ1bmN0aW9uKGUpe2UuYXJjKG4ueCxuLnksYSwwLDIqTWF0aC5QSSl9KX0sdC5kcmF3RWxsaXBzZT1mdW5jdGlvbihlLHQsbixhLG8pe1wicGl4ZWxcIj09PShhcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06XCJwaXhlbFwiKSYmKG49ci5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXModCxuKSxhPXIuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKHQsYSkpO3ZhciBpPU1hdGgubWluKG4ueCxhLngpLHU9TWF0aC5taW4obi55LGEueSksZD1NYXRoLmFicyhuLngtYS54KSxzPU1hdGguYWJzKG4ueS1hLnkpLGM9ZC8yKi41NTIyODQ4LGY9cy8yKi41NTIyODQ4LHY9aStkLGc9dStzLG09aStkLzIsaD11K3MvMjtsKGUsbyxmdW5jdGlvbihlKXtlLm1vdmVUbyhpLGgpLGUuYmV6aWVyQ3VydmVUbyhpLGgtZixtLWMsdSxtLHUpLGUuYmV6aWVyQ3VydmVUbyhtK2MsdSx2LGgtZix2LGgpLGUuYmV6aWVyQ3VydmVUbyh2LGgrZixtK2MsZyxtLGcpLGUuYmV6aWVyQ3VydmVUbyhtLWMsZyxpLGgrZixpLGgpLGUuY2xvc2VQYXRoKCl9KX0sdC5kcmF3UmVjdD1mdW5jdGlvbihlLHQsbixhLG8pe2lmKFwicGl4ZWxcIj09PShhcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06XCJwaXhlbFwiKSl7dmFyIGk9ci5kZWZhdWx0LmNvcm5lcnN0b25lO249aS5waXhlbFRvQ2FudmFzKHQsbiksYT1pLnBpeGVsVG9DYW52YXModCxhKX12YXIgdT1NYXRoLm1pbihuLngsYS54KSxkPU1hdGgubWluKG4ueSxhLnkpLHM9TWF0aC5hYnMobi54LWEueCksYz1NYXRoLmFicyhuLnktYS55KTtsKGUsbyxmdW5jdGlvbihlKXtlLnJlY3QodSxkLHMsYyl9KX0sdC5maWxsT3V0c2lkZVJlY3Q9ZnVuY3Rpb24oZSx0LG4sYSxvKXtpZihcInBpeGVsXCI9PT0oYXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOlwicGl4ZWxcIikpe3ZhciBpPXIuZGVmYXVsdC5jb3JuZXJzdG9uZTtuPWkucGl4ZWxUb0NhbnZhcyh0LG4pLGE9aS5waXhlbFRvQ2FudmFzKHQsYSl9dmFyIHU9TWF0aC5taW4obi54LGEueCksZD1NYXRoLm1pbihuLnksYS55KSxzPU1hdGguYWJzKG4ueC1hLngpLGM9TWF0aC5hYnMobi55LWEueSk7bChlLG8sZnVuY3Rpb24oZSl7ZS5yZWN0KDAsMCxlLmNhbnZhcy5jbGllbnRXaWR0aCxlLmNhbnZhcy5jbGllbnRIZWlnaHQpLGUucmVjdCh1K3MsZCwtcyxjKX0pfSx0LmZpbGxCb3g9ZnVuY3Rpb24oZSx0LG4pe2UuZmlsbFN0eWxlPW4sZS5maWxsUmVjdCh0LmxlZnQsdC50b3AsdC53aWR0aCx0LmhlaWdodCl9LHQuZmlsbFRleHRMaW5lcz1mdW5jdGlvbihlLHQsbixhLG8pe3ZhciByPWkudGV4dFN0eWxlLmdldEZvbnRTaXplKCk7ZS5mb250PWkudGV4dFN0eWxlLmdldEZvbnQoKSxlLnRleHRCYXNlbGluZT1cInRvcFwiLGUuZmlsbFN0eWxlPWEsbi5mb3JFYWNoKGZ1bmN0aW9uKG4sYSl7ZS5maWxsVGV4dChuLHQubGVmdCtvLHQudG9wK28rYSoocitvKSl9KX07dmFyIGEsbz1uKDApLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9LGk9big0Nyk7ZnVuY3Rpb24gbChlLHQsbil7dmFyIGE9dC5jb2xvcixvPXQubGluZVdpZHRoLHI9dC5maWxsU3R5bGUsbD10LmxpbmVEYXNoO2UuYmVnaW5QYXRoKCksZS5zdHJva2VTdHlsZT1hfHxlLnN0cm9rZVN0eWxlLGUubGluZVdpZHRoPW98fHZvaWQgMD09PW8mJmkudG9vbFN0eWxlLmdldFRvb2xXaWR0aCgpfHxlLmxpbmVXaWR0aCxsJiZlLnNldExpbmVEYXNoKGwpLG4oZSksciYmKGUuZmlsbFN0eWxlPXIsZS5maWxsKCkpLGUuc3Ryb2tlKCksbCYmZS5zZXRMaW5lRGFzaChbXSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9e307dC5nZXRUb29sT3B0aW9ucz1mdW5jdGlvbihlLHQpe2lmKCFhW2VdKXJldHVybnt9O3ZhciBuPWFbZV0uZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5lbGVtZW50PT09dH0pO3JldHVybiBuP24ub3B0aW9uczp7fX0sdC5zZXRUb29sT3B0aW9ucz1mdW5jdGlvbihlLHQsbil7aWYoYVtlXSl7dmFyIG89YVtlXS5maW5kSW5kZXgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWxlbWVudD09PXR9KTtpZigtMT09PW8pYVtlXS5wdXNoKHtlbGVtZW50OnQsb3B0aW9uczpufSk7ZWxzZXt2YXIgcj1hW2VdW29dLm9wdGlvbnN8fHt9O2FbZV1bb10ub3B0aW9ucz1PYmplY3QuYXNzaWduKHIsbil9fWVsc2UgYVtlXT1be2VsZW1lbnQ6dCxvcHRpb25zOm59XX0sdC5jbGVhclRvb2xPcHRpb25zPWZ1bmN0aW9uKGUsdCl7dmFyIG49YVtlXTtuJiYoYVtlXT1uLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5lbGVtZW50IT09dH0pKX0sdC5jbGVhclRvb2xPcHRpb25zQnlUb29sVHlwZT1mdW5jdGlvbihlKXtkZWxldGUgYVtlXX0sdC5jbGVhclRvb2xPcHRpb25zQnlFbGVtZW50PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBhKWFbdF09YVt0XS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuZWxlbWVudCE9PWV9KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMCE9KHQmMTw8ZS0xKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxhPXZvaWQgMDtcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQ/YT1uZXcgQ3VzdG9tRXZlbnQodCx7ZGV0YWlsOm4sY2FuY2VsYWJsZTohMH0pOihhPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIikpLmluaXRDdXN0b21FdmVudCh0LCEwLCEwLG4pO3JldHVybiBlLmRpc3BhdGNoRXZlbnQoYSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9XCJ3aGl0ZVwiLG89XCJncmVlbnllbGxvd1wiLHI9XCJ0cmFuc3BhcmVudFwiO3ZhciBpPXtzZXRGaWxsQ29sb3I6ZnVuY3Rpb24oZSl7cj1lfSxnZXRGaWxsQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sc2V0VG9vbENvbG9yOmZ1bmN0aW9uKGUpe2E9ZX0sZ2V0VG9vbENvbG9yOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHNldEFjdGl2ZUNvbG9yOmZ1bmN0aW9uKGUpe289ZX0sZ2V0QWN0aXZlQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZ2V0Q29sb3JJZkFjdGl2ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2xvcj9lLmNvbG9yOmUuYWN0aXZlP286YX19O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShlLHQsbil7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHQsZSksbil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWEsdC5jbGlwVG9Cb3g9ZnVuY3Rpb24oZSx0KXtlLng9YShlLngsMCx0LndpZHRoKSxlLnk9YShlLnksMCx0LmhlaWdodCl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLGEsbyl7T2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbih1KXt2YXIgZD1uW3VdO2lmKCEwIT09ZC5kcmF3bkluZGVwZW5kZW50bHkmJighb3x8ITAhPT1vLmRyYXdIYW5kbGVzSWZBY3RpdmV8fGQuYWN0aXZlKSl7dmFyIHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwO3Q9ZSYmZS5oYW5kbGVSYWRpdXM/ZS5oYW5kbGVSYWRpdXM6bDtyZXR1cm4gdH0obyksYz17Y29sb3I6YSxsaW5lV2lkdGg6ZC5hY3RpdmU/ci5kZWZhdWx0LmdldEFjdGl2ZVdpZHRoKCk6ci5kZWZhdWx0LmdldFRvb2xXaWR0aCgpLGZpbGxTdHlsZTpvJiZvLmZpbGx9OygwLGkuZHJhd0NpcmNsZSkoZSx0LmVsZW1lbnQsZCxzLGMpfX0pfTt2YXIgYSxvPW4oMTQpLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9LGk9bigzKTt2YXIgbD02fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49ZS50b29sVHlwZTtmdW5jdGlvbiBoKHQpe3ZhciByPXQuZGV0YWlsLGk9ci5lbGVtZW50LGw9KDAsbS5nZXRUb29sT3B0aW9ucykobixpKTsoMCxmLmRlZmF1bHQpKHIud2hpY2gsbC5tb3VzZUJ1dHRvbk1hc2spJiYoZS5hZGROZXdNZWFzdXJlbWVudD9lLmFkZE5ld01lYXN1cmVtZW50KHIpOmZ1bmN0aW9uKHQpe3ZhciByPW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxpPXQuZWxlbWVudCxsPWUuY3JlYXRlTmV3TWVhc3VyZW1lbnQodCk7aWYoIWwpcmV0dXJuOygwLHYuYWRkVG9vbFN0YXRlKSh0LmVsZW1lbnQsbixsKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsVCksaS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLHkpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxNKSxfJiZpLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPVUJMRV9DTElDSyxfKTtyLnVwZGF0ZUltYWdlKGkpO3ZhciBzPXZvaWQgMDtzPTE9PT1PYmplY3Qua2V5cyhsLmhhbmRsZXMpLmxlbmd0aD91LmRlZmF1bHQ6ZC5kZWZhdWx0O3ZhciBmPXZvaWQgMDtmPSEoIWUub3B0aW9uc3x8dm9pZCAwPT09ZS5vcHRpb25zLnByZXZlbnRIYW5kbGVPdXRzaWRlSW1hZ2UpJiZlLm9wdGlvbnMucHJldmVudEhhbmRsZU91dHNpZGVJbWFnZTtzKHQsbixsLGwuaGFuZGxlcy5lbmQsZnVuY3Rpb24oKXtsLmFjdGl2ZT0hMSxsLmludmFsaWRhdGVkPSEwLCgwLGMuZGVmYXVsdCkodCxsLmhhbmRsZXMpJiYoMCx2LnJlbW92ZVRvb2xTdGF0ZSkoaSxuLGwpLGkuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxUKSxpLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04seSksaS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLE0pLF8mJmkuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9VQkxFX0NMSUNLLF8pLHIudXBkYXRlSW1hZ2UoaSl9LGYpfShyKSx0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSl9ZnVuY3Rpb24gcCh0KXt2YXIgYT10LmRldGFpbDtyLmRlZmF1bHQuc2V0Q29vcmRzKGEpO3ZhciBpPSgwLHYuZ2V0VG9vbFN0YXRlKShhLmVsZW1lbnQsbik7aWYoaSl7Zm9yKHZhciB1PSExLGQ9MDtkPGkuZGF0YS5sZW5ndGg7ZCsrKXt2YXIgcz1hLmN1cnJlbnRQb2ludHMuY2FudmFzLGM9aS5kYXRhW2RdOyEwPT09KDAsbC5kZWZhdWx0KShhLmVsZW1lbnQsYy5oYW5kbGVzLHMpJiYodT0hMCksKGUucG9pbnROZWFyVG9vbChhLmVsZW1lbnQsYyxzKSYmIWMuYWN0aXZlfHwhZS5wb2ludE5lYXJUb29sKGEuZWxlbWVudCxjLHMpJiZjLmFjdGl2ZSkmJihjLmFjdGl2ZT0hYy5hY3RpdmUsdT0hMCl9ITA9PT11JiZvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoYS5lbGVtZW50KX19ZnVuY3Rpb24gRSh0KXt2YXIgcj10LmRldGFpbCxsPXZvaWQgMCxkPXIuZWxlbWVudCxnPSgwLG0uZ2V0VG9vbE9wdGlvbnMpKG4sZCk7aWYoKDAsZi5kZWZhdWx0KShyLndoaWNoLGcubW91c2VCdXR0b25NYXNrKSl7dmFyIGg9ci5zdGFydFBvaW50cy5jYW52YXMscD0oMCx2LmdldFRvb2xTdGF0ZSkodC5jdXJyZW50VGFyZ2V0LG4pO2lmKHApe3ZhciBFPXZvaWQgMCx5PXZvaWQgMDtmb3IoeT0hKCFlLm9wdGlvbnN8fHZvaWQgMD09PWUub3B0aW9ucy5wcmV2ZW50SGFuZGxlT3V0c2lkZUltYWdlKSYmZS5vcHRpb25zLnByZXZlbnRIYW5kbGVPdXRzaWRlSW1hZ2UsRT0wO0U8cC5kYXRhLmxlbmd0aDtFKyspe2w9cC5kYXRhW0VdO3ZhciBNPSgwLGkuZGVmYXVsdCkoZCxsLmhhbmRsZXMsaCw2KTtpZihNKXJldHVybiBkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsVCksbC5hY3RpdmU9ITAsKDAsdS5kZWZhdWx0KShyLG4sbCxNLFMseSksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0LnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgdC5wcmV2ZW50RGVmYXVsdCgpfWlmKGUucG9pbnROZWFyVG9vbCl7dmFyIF89ZS5vcHRpb25zfHx7ZGVsZXRlSWZIYW5kbGVPdXRzaWRlSW1hZ2U6ITAscHJldmVudEhhbmRsZU91dHNpZGVJbWFnZTohMX07Zm9yKEU9MDtFPHAuZGF0YS5sZW5ndGg7RSsrKWlmKChsPXAuZGF0YVtFXSkuYWN0aXZlPSExLGUucG9pbnROZWFyVG9vbChkLGwsaCkpcmV0dXJuIGwuYWN0aXZlPSEwLGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxUKSwoMCxzLmRlZmF1bHQpKHQsbCxwLG4sXyxTKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQuc3RvcFByb3BhZ2F0aW9uKCksdm9pZCB0LnByZXZlbnREZWZhdWx0KCl9fX1mdW5jdGlvbiBTKCl7bC5pbnZhbGlkYXRlZD0hMCwoMCxjLmRlZmF1bHQpKHIsbC5oYW5kbGVzKSYmKDAsdi5yZW1vdmVUb29sU3RhdGUpKGQsbixsKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoZCksZC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLFQpfX12YXIgVD1lLm1vdXNlTW92ZUNhbGxiYWNrfHxwLHk9ZS5tb3VzZURvd25DYWxsYmFja3x8RSxNPWUubW91c2VEb3duQWN0aXZhdGVDYWxsYmFja3x8aCxfPWUubW91c2VEb3VibGVDbGlja0NhbGxiYWNrO3ZhciBTPXtlbmFibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxUKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04seSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLE0pLF8mJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9VQkxFX0NMSUNLLF8pLHQuYWRkRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELGUub25JbWFnZVJlbmRlcmVkKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UodCl9LGRpc2FibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxUKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04seSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLE0pLF8mJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9VQkxFX0NMSUNLLF8pLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0KX0sYWN0aXZhdGU6ZnVuY3Rpb24odCxyKXsoMCxtLnNldFRvb2xPcHRpb25zKShuLHQse21vdXNlQnV0dG9uTWFzazpyfSksdC5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxUKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04seSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLE0pLHQuYWRkRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELGUub25JbWFnZVJlbmRlcmVkKSx0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsVCksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLHkpLHQuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxNKSxfJiYodC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1VCTEVfQ0xJQ0ssXyksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1VCTEVfQ0xJQ0ssXykpLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0KX0sZGVhY3RpdmF0ZTpmdW5jdGlvbih0LHIpeygwLG0uc2V0VG9vbE9wdGlvbnMpKG4sdCx7bW91c2VCdXR0b25NYXNrOnJ9KTt2YXIgaT1hLmRlZmF1bHQuVE9PTF9ERUFDVElWQVRFRCxsPXttb3VzZUJ1dHRvbk1hc2s6cix0b29sVHlwZTpuLHR5cGU6aX07KDAsZy5kZWZhdWx0KSh0LGksbCksdC5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxUKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04seSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLE0pLHQuYWRkRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELGUub25JbWFnZVJlbmRlcmVkKSx0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsVCksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLHkpLF8mJih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPVUJMRV9DTElDSyxfKSx0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPVUJMRV9DTElDSyxfKSksZS5kZWFjdGl2YXRlJiZlLmRlYWN0aXZhdGUodCxyKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UodCl9LGdldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdH0sc2V0Q29uZmlndXJhdGlvbjpmdW5jdGlvbihlKXt0PWV9LG1vdXNlRG93bkNhbGxiYWNrOkUsbW91c2VNb3ZlQ2FsbGJhY2s6cCxtb3VzZURvd25BY3RpdmF0ZUNhbGxiYWNrOmh9O3JldHVybiBlLnBvaW50TmVhclRvb2wmJihTLnBvaW50TmVhclRvb2w9ZS5wb2ludE5lYXJUb29sKSxfJiYoUy5tb3VzZURvdWJsZUNsaWNrQ2FsbGJhY2s9XyksZS5hZGROZXdNZWFzdXJlbWVudCYmKFMuYWRkTmV3TWVhc3VyZW1lbnQ9ZS5hZGROZXdNZWFzdXJlbWVudCksU307dmFyIGE9aChuKDEpKSxvPWgobigwKSkscj1oKG4oMzkpKSxpPWgobigyNSkpLGw9aChuKDMyKSksdT1oKG4oMzEpKSxkPWgobigzMCkpLHM9aChuKDM4KSksYz1oKG4oMTUpKSxmPWgobig1KSksdj1uKDIpLGc9aChuKDYpKSxtPW4oNCk7ZnVuY3Rpb24gaChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC50ZXh0Qm94V2lkdGg9bCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4sYSxvLHUpe1wiW29iamVjdCBBcnJheV1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSYmKHQ9W3RdKTt2YXIgZD1yLmRlZmF1bHQuZ2V0Rm9udFNpemUoKSxzPXIuZGVmYXVsdC5nZXRCYWNrZ3JvdW5kQ29sb3IoKSxjPTA7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWwoZSx0LDUpO2M9TWF0aC5tYXgoYyxuKX0pO3ZhciBmPXt3aWR0aDpjLGhlaWdodDo1K3QubGVuZ3RoKihkKzUpfTtyZXR1cm4oMCxpLmRyYXcpKGUsZnVuY3Rpb24oZSl7ZS5zdHJva2VTdHlsZT1vLHUmJnUuY2VudGVyaW5nJiYhMD09PXUuY2VudGVyaW5nLngmJihuLT1mLndpZHRoLzIpLHUmJnUuY2VudGVyaW5nJiYhMD09PXUuY2VudGVyaW5nLnkmJihhLT1mLmhlaWdodC8yKSxmLmxlZnQ9bixmLnRvcD1hO3ZhciByPXUmJiEwPT09dS5kZWJ1Zz9cIiNGRjAwMDBcIjpzOygwLGkuZmlsbEJveCkoZSxmLHIpLCgwLGkuZmlsbFRleHRMaW5lcykoZSxmLHQsbyw1KX0pLGZ9O3ZhciBhLG89bigyMSkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX0saT1uKDMpO2Z1bmN0aW9uIGwoZSx0LG4pe3ZhciBhPXIuZGVmYXVsdC5nZXRGb250KCksbz1lLmZvbnQ7YSYmYSE9PW8mJihlLmZvbnQ9YSk7dmFyIGk9ZS5tZWFzdXJlVGV4dCh0KS53aWR0aDtyZXR1cm4gYSYmYSE9PW8mJihlLmZvbnQ9byksaSsyKm59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9ZihuKDEpKSxvPWYobigwKSkscj1mKG4oMTUpKSxpPWYobigyNSkpLGw9ZihuKDU5KSksdT1mKG4oMjgpKSxkPWYobig2MCkpLHM9bigyKSxjPWYobig2KSk7ZnVuY3Rpb24gZihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gdihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF0uYWN0aXZlPSExfSl9ZnVuY3Rpb24gZyhlKXtpZihlKWZvcih2YXIgdD0wO3Q8ZS5kYXRhLmxlbmd0aDt0Kyspe3ZhciBuPWUuZGF0YVt0XTtuLmFjdGl2ZT0hMSxuLmhhbmRsZXMmJnYobi5oYW5kbGVzKX19dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoaSl7dmFyIGw9aS5kZXRhaWw7ZS5hZGROZXdNZWFzdXJlbWVudD9lLmFkZE5ld01lYXN1cmVtZW50KGwpOmZ1bmN0aW9uKGkpe3ZhciBsPW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxkPWkuZWxlbWVudCxjPWUuY3JlYXRlTmV3TWVhc3VyZW1lbnQoaSk7aWYoYyl7aWYoKDAscy5hZGRUb29sU3RhdGUpKGQsZS50b29sVHlwZSxjKSwxPT09T2JqZWN0LmtleXMoYy5oYW5kbGVzKS5sZW5ndGgmJmkudHlwZT09PWEuZGVmYXVsdC5UQVApcmV0dXJuIGMuYWN0aXZlPSExLGMuaGFuZGxlcy5lbmQuYWN0aXZlPSExLGMuaGFuZGxlcy5lbmQuaGlnaGxpZ2h0PSExLGMuaW52YWxpZGF0ZWQ9ITAsKDAsci5kZWZhdWx0KShpLGMuaGFuZGxlcykmJigwLHMucmVtb3ZlVG9vbFN0YXRlKShkLGUudG9vbFR5cGUsYyksdm9pZCBsLnVwZGF0ZUltYWdlKGQpO2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGUudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFja3x8dCksZC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksZC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxlLnRvdWNoU3RhcnRDYWxsYmFja3x8ZiksbC51cGRhdGVJbWFnZShkKSwoMCx1LmRlZmF1bHQpKGksZS50b29sVHlwZSxjLGMuaGFuZGxlcy5lbmQsZnVuY3Rpb24oKXtjLmFjdGl2ZT0hMSxjLmludmFsaWRhdGVkPSEwLCgwLHIuZGVmYXVsdCkoaSxjLmhhbmRsZXMpJiYoMCxzLnJlbW92ZVRvb2xTdGF0ZSkoZCxlLnRvb2xUeXBlLGMpLGQuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGUudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFja3x8dCksZC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksZC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxlLnRvdWNoU3RhcnRDYWxsYmFja3x8ZiksbC51cGRhdGVJbWFnZShkKX0pfX0obCksaS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxpLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gbih1KXt2YXIgYz11LmRldGFpbCx2PW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxtPWMuZWxlbWVudCxoPWMuY3VycmVudFBvaW50cy5jYW52YXMscD0oMCxzLmdldFRvb2xTdGF0ZSkodS5jdXJyZW50VGFyZ2V0LGUudG9vbFR5cGUpLEU9dm9pZCAwLFQ9dm9pZCAwO2Z1bmN0aW9uIHkoKXtnKHApLCgwLHIuZGVmYXVsdCkoYyxFLmhhbmRsZXMpJiYoMCxzLnJlbW92ZVRvb2xTdGF0ZSkobSxlLnRvb2xUeXBlLEUpLHYudXBkYXRlSW1hZ2UobSksbS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxlLnRvdWNoU3RhcnRDYWxsYmFja3x8ZiksbS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8bil9aWYoZyhwKSxwKWZvcihUPTA7VDxwLmRhdGEubGVuZ3RoO1QrKyl7RT1wLmRhdGFbVF07dmFyIE09KDAsaS5kZWZhdWx0KShtLEUuaGFuZGxlcyxoLDI1KTtpZihNKXJldHVybiBtLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULGUudG91Y2hTdGFydENhbGxiYWNrfHxmKSxtLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRBUCxlLnRhcENhbGxiYWNrfHxuKSxFLmFjdGl2ZT0hMCxNLmFjdGl2ZT0hMCx2LnVwZGF0ZUltYWdlKG0pLCgwLGwuZGVmYXVsdCkodSxlLnRvb2xUeXBlLEUsTSx5KSx1LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHZvaWQgdS5wcmV2ZW50RGVmYXVsdCgpfWlmKHAmJmUucG9pbnROZWFyVG9vbClmb3IoVD0wO1Q8cC5kYXRhLmxlbmd0aDtUKyspaWYoRT1wLmRhdGFbVF0sZS5wb2ludE5lYXJUb29sKG0sRSxoKSlyZXR1cm4gbS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxlLnRvdWNoU3RhcnRDYWxsYmFja3x8ZiksbS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksRS5hY3RpdmU9ITAsdi51cGRhdGVJbWFnZShtKSwoMCxkLmRlZmF1bHQpKHUsRSxwLGUudG9vbFR5cGUsITAseSksdS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx2b2lkIHUucHJldmVudERlZmF1bHQoKTtyZXR1cm4gZS50b3VjaERvd25BY3RpdmF0ZUNhbGxiYWNrP2UudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFjayh1KTp0KHUpLCExfWZ1bmN0aW9uIGYodCl7dmFyIHU9dC5kZXRhaWwsdj1vLmRlZmF1bHQuY29ybmVyc3RvbmUsZz11LmVsZW1lbnQsbT11LnN0YXJ0UG9pbnRzLmNhbnZhcyxoPXZvaWQgMCxwPSgwLHMuZ2V0VG9vbFN0YXRlKSh0LmN1cnJlbnRUYXJnZXQsZS50b29sVHlwZSksRT12b2lkIDA7ZnVuY3Rpb24gVCh0LG8pe2guYWN0aXZlPSExLGguaW52YWxpZGF0ZWQ9ITAsKDAsci5kZWZhdWx0KSh1LGguaGFuZGxlcykmJigwLHMucmVtb3ZlVG9vbFN0YXRlKSh1LmVsZW1lbnQsZS50b29sVHlwZSxoKSx2LnVwZGF0ZUltYWdlKHUuZWxlbWVudCksZy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxlLnRvdWNoU3RhcnRDYWxsYmFja3x8ZiksZy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksZS5wcmVzc0NhbGxiYWNrJiZnLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1BSRVNTLGUucHJlc3NDYWxsYmFjayksdCYmdC50eXBlPT09YS5kZWZhdWx0LlRPVUNIX1BSRVNTJiYoMCxjLmRlZmF1bHQpKGcsdC50eXBlLG8pfWlmKHApe2ZvcihFPTA7RTxwLmRhdGEubGVuZ3RoO0UrKyl7aD1wLmRhdGFbRV07dmFyIHk9KDAsaS5kZWZhdWx0KSh1LmVsZW1lbnQsaC5oYW5kbGVzLG0sMjgpO2lmKHkpcmV0dXJuIGcucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZS50b3VjaFN0YXJ0Q2FsbGJhY2t8fGYpLGcucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVEFQLGUudGFwQ2FsbGJhY2t8fG4pLGUucHJlc3NDYWxsYmFjayYmZy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9QUkVTUyxlLnByZXNzQ2FsbGJhY2spLGguYWN0aXZlPSEwLCgwLGwuZGVmYXVsdCkodCxlLnRvb2xUeXBlLGgseSxUKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSx2b2lkIHQuc3RvcFByb3BhZ2F0aW9uKCl9aWYoZS5wb2ludE5lYXJUb29sKWZvcihFPTA7RTxwLmRhdGEubGVuZ3RoO0UrKylpZihoPXAuZGF0YVtFXSxlLnBvaW50TmVhclRvb2wodS5lbGVtZW50LGgsbSkpcmV0dXJuIGcucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZS50b3VjaFN0YXJ0Q2FsbGJhY2t8fGYpLGcucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVEFQLGUudGFwQ2FsbGJhY2t8fG4pLGUucHJlc3NDYWxsYmFjayYmZy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9QUkVTUyxlLnByZXNzQ2FsbGJhY2spLCgwLGQuZGVmYXVsdCkodCxoLHAsZS50b29sVHlwZSwhMCxUKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSx2b2lkIHQuc3RvcFByb3BhZ2F0aW9uKCl9fXZhciB2PXtlbmFibGU6ZnVuY3Rpb24ocil7ci5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZS50b3VjaFN0YXJ0Q2FsbGJhY2t8fGYpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGUudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFja3x8dCksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksci5hZGRFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLGUuZG91YmxlVGFwQ2FsbGJhY2smJnIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuRE9VQkxFX1RBUCxlLmRvdWJsZVRhcENhbGxiYWNrKSxlLnByZXNzQ2FsbGJhY2smJnIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfUFJFU1MsZS5wcmVzc0NhbGxiYWNrKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2Uocil9LGRpc2FibGU6ZnVuY3Rpb24ocil7ci5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZS50b3VjaFN0YXJ0Q2FsbGJhY2t8fGYpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGUudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFja3x8dCksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksZS5kb3VibGVUYXBDYWxsYmFjayYmci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5ET1VCTEVfVEFQLGUuZG91YmxlVGFwQ2FsbGJhY2spLGUucHJlc3NDYWxsYmFjayYmci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9QUkVTUyxlLnByZXNzQ2FsbGJhY2spLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShyKX0sYWN0aXZhdGU6ZnVuY3Rpb24ocil7ci5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZS50b3VjaFN0YXJ0Q2FsbGJhY2t8fGYpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGUudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFja3x8dCksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksci5hZGRFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZS50b3VjaFN0YXJ0Q2FsbGJhY2t8fGYpLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGUudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFja3x8dCksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksZS5kb3VibGVUYXBDYWxsYmFjayYmKHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuRE9VQkxFX1RBUCxlLmRvdWJsZVRhcENhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LkRPVUJMRV9UQVAsZS5kb3VibGVUYXBDYWxsYmFjaykpLGUucHJlc3NDYWxsYmFjayYmKHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfUFJFU1MsZS5wcmVzc0NhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1BSRVNTLGUucHJlc3NDYWxsYmFjaykpLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShyKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbihyKXt2YXIgaT1hLmRlZmF1bHQuVE9PTF9ERUFDVElWQVRFRCxsPXt0b29sVHlwZTplLnRvb2xUeXBlLHR5cGU6aX07KDAsYy5kZWZhdWx0KShyLGksbCksci5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZS50b3VjaFN0YXJ0Q2FsbGJhY2t8fGYpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGUudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFja3x8dCksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZS50YXBDYWxsYmFja3x8biksci5hZGRFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZS50b3VjaFN0YXJ0Q2FsbGJhY2t8fGYpLGUuZG91YmxlVGFwQ2FsbGJhY2smJnIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuRE9VQkxFX1RBUCxlLmRvdWJsZVRhcENhbGxiYWNrKSxlLnByZXNzQ2FsbGJhY2smJnIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfUFJFU1MsZS5wcmVzc0NhbGxiYWNrKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2Uocil9LHRvdWNoU3RhcnRDYWxsYmFjazplLnRvdWNoU3RhcnRDYWxsYmFja3x8Zix0b3VjaERvd25BY3RpdmF0ZUNhbGxiYWNrOmUudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFja3x8dCx0YXBDYWxsYmFjazplLnRhcENhbGxiYWNrfHxufTtyZXR1cm4gZS5wb2ludE5lYXJUb29sJiYodi5wb2ludE5lYXJUb29sPWUucG9pbnROZWFyVG9vbCksZS5kb3VibGVUYXBDYWxsYmFjayYmKHYuZG91YmxlVGFwQ2FsbGJhY2s9ZS5kb3VibGVUYXBDYWxsYmFjayksZS5wcmVzc0NhbGxiYWNrJiYodi5wcmVzc0NhbGxiYWNrPWUucHJlc3NDYWxsYmFjayksZS5hZGROZXdNZWFzdXJlbWVudCYmKHYuYWRkTmV3TWVhc3VyZW1lbnQ9ZS5hZGROZXdNZWFzdXJlbWVudCksdn19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT12b2lkIDAsbz12b2lkIDAscj12b2lkIDA7dmFyIGk9e3NldFN0YXJ0TG9hZEhhbmRsZXI6ZnVuY3Rpb24oZSl7YT1lfSxnZXRTdGFydExvYWRIYW5kbGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHNldEVuZExvYWRIYW5kbGVyOmZ1bmN0aW9uKGUpe289ZX0sZ2V0RW5kTG9hZEhhbmRsZXI6ZnVuY3Rpb24oKXtyZXR1cm4gb30sc2V0RXJyb3JMb2FkaW5nSGFuZGxlcjpmdW5jdGlvbihlKXtyPWV9LGdldEVycm9yTG9hZGluZ0hhbmRsZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcn19O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9MSxvPTI7dmFyIHI9e3NldFRvb2xXaWR0aDpmdW5jdGlvbihlKXthPWV9LGdldFRvb2xXaWR0aDpmdW5jdGlvbigpe3JldHVybiBhfSxzZXRBY3RpdmVXaWR0aDpmdW5jdGlvbihlKXtvPWV9LGdldEFjdGl2ZVdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIG99fTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuaW1hZ2UsYT17bGVmdDowLHRvcDowLHdpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0fSxvPSExO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV07ITAhPT1uLmFsbG93ZWRPdXRzaWRlSW1hZ2UmJiExPT09ci5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5pbnNpZGVSZWN0KG4sYSkmJihvPSEwKX0pLG99O3ZhciBhLG89bigwKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcInNpbXBsZU1vdXNlQnV0dG9uVG9vbDogdG9vbFR5cGUgaXMgcmVxdWlyZWRcIik7dmFyIG49e307cmV0dXJue2FjdGl2YXRlOmZ1bmN0aW9uKG4sYSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O28ubW91c2VCdXR0b25NYXNrPWEsKDAsaS5zZXRUb29sT3B0aW9ucykodCxuLG8pLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxlKSxuLmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUsZSl9LGRpc2FibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLGUpfSxlbmFibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLGUpfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxlKX0sZ2V0Q29uZmlndXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiBufSxzZXRDb25maWd1cmF0aW9uOmZ1bmN0aW9uKGUpe249ZX19fTt2YXIgYSxvPW4oMSkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX0saT1uKDQpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLGksbCx1LGQscyxjLGYpe3ZhciB2PWEuZGVmYXVsdC5jb3JuZXJzdG9uZSxnPXYucGl4ZWxUb0NhbnZhcyh0LG4pO2MmJihnLngrPWMpO3ZhciBtPXtjZW50ZXJpbmc6e3g6ITEseTpmfX07aWYobi5ib3VuZGluZ0JveD0oMCxvLmRlZmF1bHQpKGUsaSxnLngsZy55LGQsbSksbi5oYXNNb3ZlZCl7dmFyIGg9dShsKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHYucGl4ZWxUb0NhbnZhcyh0LGUpfSk7KDAsci5kZWZhdWx0KShoLGcsbi5ib3VuZGluZ0JveCxlLGQscyl9fTt2YXIgYT1pKG4oMCkpLG89aShuKDExKSkscj1pKG4oMTA2KSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1bci5kZWZhdWx0LlRPVUNIX0RSQUddO3JldHVybiBuJiYhMD09PW4uZmlyZU9uVG91Y2hTdGFydCYmYS5wdXNoKHIuZGVmYXVsdC5UT1VDSF9TVEFSVCkse2FjdGl2YXRlOmZ1bmN0aW9uKG8pe24mJm4uZXZlbnREYXRhJiYoMCxpLnNldFRvb2xPcHRpb25zKSh0LG8sbi5ldmVudERhdGEpLGEuZm9yRWFjaChmdW5jdGlvbih0KXtvLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKSxvLmFkZEV2ZW50TGlzdGVuZXIodCxlKX0pLG4mJm4uYWN0aXZhdGVDYWxsYmFjayYmbi5hY3RpdmF0ZUNhbGxiYWNrKG8pLG4mJm4udG91Y2hTdGFydENhbGxiYWNrJiZvLmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LlRPVUNIX1NUQVJULG4udG91Y2hTdGFydENhbGxiYWNrKSxuJiZuLnRvdWNoRW5kQ2FsbGJhY2smJm8uYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuVE9VQ0hfRU5ELG4udG91Y2hFbmRDYWxsYmFjayl9LGRpc2FibGU6ZnVuY3Rpb24odCl7YS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGUpfSksbiYmbi5kaXNhYmxlQ2FsbGJhY2smJm4uZGlzYWJsZUNhbGxiYWNrKHQpLG4mJm4udG91Y2hTdGFydENhbGxiYWNrJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LlRPVUNIX1NUQVJULG4udG91Y2hTdGFydENhbGxiYWNrKSxuJiZuLnRvdWNoRW5kQ2FsbGJhY2smJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuVE9VQ0hfRU5ELG4udG91Y2hFbmRDYWxsYmFjayl9LGVuYWJsZTpmdW5jdGlvbih0KXthLmZvckVhY2goZnVuY3Rpb24obil7dC5yZW1vdmVFdmVudExpc3RlbmVyKG4sZSl9KSxuJiZuLmVuYWJsZUNhbGxiYWNrJiZuLmVuYWJsZUNhbGxiYWNrKHQpLG4mJm4udG91Y2hTdGFydENhbGxiYWNrJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LlRPVUNIX1NUQVJULG4udG91Y2hTdGFydENhbGxiYWNrKSxuJiZuLnRvdWNoRW5kQ2FsbGJhY2smJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuVE9VQ0hfRU5ELG4udG91Y2hFbmRDYWxsYmFjayl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24odCl7YS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGUpfSksbiYmbi5kZWFjdGl2YXRlQ2FsbGJhY2smJm4uZGVhY3RpdmF0ZUNhbGxiYWNrKHQpLG4mJm4udG91Y2hTdGFydENhbGxiYWNrJiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LlRPVUNIX1NUQVJULG4udG91Y2hTdGFydENhbGxiYWNrKSxuJiZuLnRvdWNoRW5kQ2FsbGJhY2smJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuVE9VQ0hfRU5ELG4udG91Y2hFbmRDYWxsYmFjayl9fX07dmFyIGEsbz1uKDEpLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9LGk9big0KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1yLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoO2lmKGUgaW5zdGFuY2VvZiB0LlZlY3RvcjMpcmV0dXJuIGU7cmV0dXJuIG5ldyB0LlZlY3RvcjMoZVswXSxlWzFdLGVbMl0pfTt2YXIgYSxvPW4oMCkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLmRlZmF1bHQuY29ybmVyc3RvbmUsYT1uLm1ldGFEYXRhLmdldChcInBhdGllbnRTdHVkeU1vZHVsZVwiLGUuaW1hZ2VJZCksbz1uLm1ldGFEYXRhLmdldChcImdlbmVyYWxTZXJpZXNNb2R1bGVcIixlLmltYWdlSWQpO2lmKGEmJm8mJlwiUFRcIj09PW8ubW9kYWxpdHkpe3ZhciBsPXQqZS5zbG9wZStlLmludGVyY2VwdCx1PWEucGF0aWVudFdlaWdodDtpZih1KXt2YXIgZD1uLm1ldGFEYXRhLmdldChcInBldElzb3RvcGVNb2R1bGVcIixlLmltYWdlSWQpO2lmKGQpe3ZhciBzPWQucmFkaW9waGFybWFjZXV0aWNhbEluZm8sYz1zLnJhZGlvcGhhcm1hY2V1dGljYWxTdGFydFRpbWUsZj1zLnJhZGlvbnVjbGlkZVRvdGFsRG9zZSx2PXMucmFkaW9udWNsaWRlSGFsZkxpZmUsZz1vLnNlcmllc1RpbWU7aWYoYyYmZiYmdiYmZyl7dmFyIG09aShnLmZyYWN0aW9uYWxTZWNvbmRzfHwwKStnLnNlY29uZHMrNjAqZy5taW51dGVzKzYwKmcuaG91cnMqNjAtKGkoYy5mcmFjdGlvbmFsU2Vjb25kcykrYy5zZWNvbmRzKzYwKmMubWludXRlcys2MCpjLmhvdXJzKjYwKTtyZXR1cm4gbCp1LyhmKk1hdGguZXhwKC1tKk1hdGgubG9nKDIpL3YpKSoxZTN9fX19fTt2YXIgYSxvPW4oMCkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX07ZnVuY3Rpb24gaShlKXtyZXR1cm4gcGFyc2VGbG9hdChcIi5cIitlKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT0xNSxvPWErXCJweCBBcmlhbFwiLHI9XCJ0cmFuc3BhcmVudFwiO3ZhciBpPXtzZXRGb250OmZ1bmN0aW9uKGUpe289ZX0sZ2V0Rm9udDpmdW5jdGlvbigpe3JldHVybiBvfSxzZXRGb250U2l6ZTpmdW5jdGlvbihlKXthPWV9LGdldEZvbnRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHNldEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbihlKXtyPWV9LGdldEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbigpe3JldHVybiByfX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZihlLmJvdW5kaW5nQm94KXJldHVybiByLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50Lmluc2lkZVJlY3QodCxlLmJvdW5kaW5nQm94KX07dmFyIGEsbz1uKDApLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5mcmVlaGFuZD12b2lkIDA7dmFyIGE9YihuKDEpKSxvPWIobigwKSkscj1iKG4oMTQpKSxpPWIobig3KSksbD1iKG4oOSkpLHU9YihuKDMyKSksZD1iKG4oMjIpKSxzPWIobigyMCkpLGM9YihuKDYpKSxmPWIobig1KSksdj1iKG4oMTcpKSxnPW4oMiksbT1uKDQpLGg9big4KSxwPW4oNTUpLEU9YihuKDEwMCkpLFQ9YihuKDk5KSkseT1iKG4oOTgpKSxNPWIobig5NikpLF89YihuKDk1KSksUz1iKG4oNTQpKSx4PW4oMzUpLE89bigzKTtmdW5jdGlvbiBiKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBDKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLG49QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1yZXR1cm4gQXJyYXkuZnJvbShlKX12YXIgUD1cImZyZWVoYW5kXCIsST17bW91c2VMb2NhdGlvbjp7aGFuZGxlczp7c3RhcnQ6e2hpZ2hsaWdodDohMCxhY3RpdmU6ITB9fX0sa2V5RG93bjp7c2hpZnQ6ITEsY3RybDohMSxhbHQ6ITF9LGFjdGl2ZVBlbmNpbE1vZGU6ITEsc3BhY2luZzo1LGFjdGl2ZUhhbmRsZVJhZGl1czozLGNvbXBsZXRlSGFuZGxlUmFkaXVzOjYsYWx3YXlzU2hvd0hhbmRsZXM6ITEsaW52YWxpZENvbG9yOlwiY3JpbXNvblwiLG1vZGlmeWluZzohMSxtb3ZpbmdUZXh0Qm94OiExLGN1cnJlbnRIYW5kbGU6MCxjdXJyZW50VG9vbDotMX07ZnVuY3Rpb24gTChlLHQsbil7cmV0dXJuIG51bGwhPT13KGUsdCxuKX1mdW5jdGlvbiB3KGUsdCxuKXt2YXIgYT1GLmdldENvbmZpZ3VyYXRpb24oKTtpZih2b2lkIDA9PT10LmhhbmRsZXMpcmV0dXJuIG51bGw7aWYoITE9PT10LnZpc2libGUpcmV0dXJuIG51bGw7Zm9yKHZhciByPTA7cjx0LmhhbmRsZXMubGVuZ3RoO3IrKyl7dmFyIGk9by5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXMoZSx0LmhhbmRsZXNbcl0pO2lmKG8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuZGlzdGFuY2UoaSxuKTxhLnNwYWNpbmcpcmV0dXJuIHJ9cmV0dXJuIHQudGV4dEJveCYmKDAsZC5kZWZhdWx0KSh0LnRleHRCb3gsbik/dC50ZXh0Qm94Om51bGx9ZnVuY3Rpb24gRChlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxvPUYuZ2V0Q29uZmlndXJhdGlvbigpLHI9KDAsbS5nZXRUb29sT3B0aW9ucykoUCxuKTsoMCxmLmRlZmF1bHQpKHQud2hpY2gsci5tb3VzZUJ1dHRvbk1hc2spJiYodC5ldmVudC5zaGlmdEtleSYmKG8uYWN0aXZlUGVuY2lsTW9kZT0hMCksZnVuY3Rpb24oZSl7ZS5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsUik7dmFyIHQ9e3Zpc2libGU6ITAsYWN0aXZlOiEwLGludmFsaWRhdGVkOiEwLGNvbG9yOnZvaWQgMCxoYW5kbGVzOltdLHRleHRCb3g6e2FjdGl2ZTohMSxoYXNNb3ZlZDohMSxtb3Zlc0luZGVwZW5kZW50bHk6ITEsZHJhd25JbmRlcGVuZGVudGx5OiEwLGFsbG93ZWRPdXRzaWRlSW1hZ2U6ITAsaGFzQm91bmRpbmdCb3g6ITB9fSxuPUYuZ2V0Q29uZmlndXJhdGlvbigpO24ubW91c2VMb2NhdGlvbi5oYW5kbGVzLnN0YXJ0Lng9ZS5jdXJyZW50UG9pbnRzLmltYWdlLngsbi5tb3VzZUxvY2F0aW9uLmhhbmRsZXMuc3RhcnQueT1lLmN1cnJlbnRQb2ludHMuaW1hZ2UueSwoMCxnLmFkZFRvb2xTdGF0ZSkoZS5lbGVtZW50LFAsdCk7dmFyIG89KDAsZy5nZXRUb29sU3RhdGUpKGUuZWxlbWVudCxQKTtuLmN1cnJlbnRUb29sPW8uZGF0YS5sZW5ndGgtMX0odCksVSh0KSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSl9ZnVuY3Rpb24gVShlKXt2YXIgdD0oMCxnLmdldFRvb2xTdGF0ZSkoZS5lbGVtZW50LFApO2lmKHZvaWQgMCE9PXQpe3ZhciBuPUYuZ2V0Q29uZmlndXJhdGlvbigpLGE9dC5kYXRhW24uY3VycmVudFRvb2xdO2lmKCFhLmhhbmRsZXMuaW52YWxpZEhhbmRsZVBsYWNlbWVudCl7dmFyIHI9bmV3IHguRnJlZWhhbmRIYW5kbGVEYXRhKGUuY3VycmVudFBvaW50cy5pbWFnZSk7YS5oYW5kbGVzLmxlbmd0aCYmYS5oYW5kbGVzW24uY3VycmVudEhhbmRsZS0xXS5saW5lcy5wdXNoKGUuY3VycmVudFBvaW50cy5pbWFnZSksYS5oYW5kbGVzLnB1c2gociksbi5jdXJyZW50SGFuZGxlKz0xLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShlLmVsZW1lbnQpfX19ZnVuY3Rpb24gQShlLHQpe3ZhciBuPSgwLGcuZ2V0VG9vbFN0YXRlKShlLmVsZW1lbnQsUCk7aWYobil7dmFyIGE9Ri5nZXRDb25maWd1cmF0aW9uKCkscj1uLmRhdGFbYS5jdXJyZW50VG9vbF07ci5hY3RpdmU9ITEsci5oaWdobGlnaHQ9ITEsci5oYW5kbGVzLmludmFsaWRIYW5kbGVQbGFjZW1lbnQ9ITEsdm9pZCAwIT09dCYmci5oYW5kbGVzW2EuY3VycmVudEhhbmRsZS0xXS5saW5lcy5wdXNoKHIuaGFuZGxlc1swXSksYS5tb2RpZnlpbmcmJihhLm1vZGlmeWluZz0hMSxyLmludmFsaWRhdGVkPSEwKSxhLmN1cnJlbnRIYW5kbGU9MCxhLmN1cnJlbnRUb29sPS0xLGEuYWN0aXZlUGVuY2lsTW9kZT0hMSxyLmNhbkNvbXBsZXRlPSExLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShlLmVsZW1lbnQpfX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuZGV0YWlsLG49dC5lbGVtZW50LG89KDAsbS5nZXRUb29sT3B0aW9ucykoUCxuKTtpZigoMCxmLmRlZmF1bHQpKHQud2hpY2gsby5tb3VzZUJ1dHRvbk1hc2spKXt2YXIgcj1GLmdldENvbmZpZ3VyYXRpb24oKS5jdXJyZW50VG9vbDtpZihyPDApIWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbGVtZW50LG49ZS5jdXJyZW50UG9pbnRzLmNhbnZhcyxhPSgwLGcuZ2V0VG9vbFN0YXRlKSh0LFApO2lmKGEpZm9yKHZhciBvPXZvaWQgMCxyPTA7cjxhLmRhdGEubGVuZ3RoO3IrKylpZihudWxsIT09KG89dyh0LGEuZGF0YVtyXSxuKSkpcmV0dXJue2hhbmRsZU5lYXJieTpvLHRvb2xJbmRleDpyfX0odCk7dC5ldmVudC5jdHJsS2V5PygwLHkuZGVmYXVsdCkoZSxuKTp2b2lkIDAhPT1uJiZmdW5jdGlvbihlLHQpe3ZhciBuPWUuZGV0YWlsLG89bi5lbGVtZW50LHI9KDAsZy5nZXRUb29sU3RhdGUpKG4uZWxlbWVudCxQKSxpPXQuaGFuZGxlTmVhcmJ5O2kuaGFzQm91bmRpbmdCb3g/ZnVuY3Rpb24oZSx0KXt2YXIgbj1GLmdldENvbmZpZ3VyYXRpb24oKSxvPXQuaGFuZGxlTmVhcmJ5LHI9dC50b29sSW5kZXg7ZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxIKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsTiksbi5tb3ZpbmdUZXh0Qm94PSEwLG4uY3VycmVudEhhbmRsZT1vLG4uY3VycmVudFRvb2w9cn0obyx0KTp2b2lkIDAhPT1pJiZmdW5jdGlvbihlLHQsbil7dmFyIG89Ri5nZXRDb25maWd1cmF0aW9uKCkscj10LmhhbmRsZU5lYXJieSxpPXQudG9vbEluZGV4O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxSKSxvLmRyYWdPcmlnaW49e3g6bi5kYXRhW2ldLmhhbmRsZXNbcl0ueCx5Om4uZGF0YVtpXS5oYW5kbGVzW3JdLnl9LGUuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsSCksZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxIKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsTiksby5tb2RpZnlpbmc9ITAsby5jdXJyZW50SGFuZGxlPXIsby5jdXJyZW50VG9vbD1pfShvLHQscik7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9KGUsbil9KGUpO2Vsc2V7dmFyIGk9KDAsZy5nZXRUb29sU3RhdGUpKHQuZWxlbWVudCxQKTtyPj0wJiZpLmRhdGFbcl0uYWN0aXZlJiZmdW5jdGlvbihlLHQsbil7dmFyIGE9ZS5kZXRhaWwsbz1GLmdldENvbmZpZ3VyYXRpb24oKSxyPWEuZWxlbWVudCxpPXQuZGF0YVtuXSxsPXcocixpLGEuY3VycmVudFBvaW50cy5jYW52YXMpOyFTLmRlZmF1bHQuZW5kKGkuaGFuZGxlcykmJmkuY2FuQ29tcGxldGU/QShhLG8uY3VycmVudEhhbmRsZSk6bnVsbD09PWwmJlUoYSksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9KGUsaSxyKX19fWZ1bmN0aW9uIFIoZSl7dmFyIHQ9ZS5kZXRhaWwsbj0oMCxnLmdldFRvb2xTdGF0ZSkodC5lbGVtZW50LFApO2lmKG4pe2lmKEYuZ2V0Q29uZmlndXJhdGlvbigpLmN1cnJlbnRUb29sPDApe2lmKCFmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0hMSxhPTA7YTx0LmRhdGEubGVuZ3RoO2ErKyl7dmFyIG89ZS5lbGVtZW50LHI9dC5kYXRhW2FdLGk9ZS5jdXJyZW50UG9pbnRzLmNhbnZhczshMD09PSgwLHUuZGVmYXVsdCkobyxyLmhhbmRsZXMsaSkmJihuPSEwKSwoTChvLHIsaSkmJiFyLmFjdGl2ZXx8IUwobyxyLGkpJiZyLmFjdGl2ZSkmJihyLmFjdGl2ZT0hci5hY3RpdmUsbj0hMCksITA9PT1yLnRleHRCb3gmJigwLGQuZGVmYXVsdCkoci50ZXh0Qm94LGkpJiYoci5hY3RpdmU9IXIuYWN0aXZlLHIuaGlnaGxpZ2h0PSFyLmhpZ2hsaWdodCxuPSEwKX1yZXR1cm4gbn0odCxuKSlyZXR1cm59ZWxzZSFmdW5jdGlvbihlLHQpe3ZhciBuPUYuZ2V0Q29uZmlndXJhdGlvbigpLGE9bi5jdXJyZW50VG9vbCxyPWUuZWxlbWVudCxpPXQuZGF0YVthXSxsPWUuY3VycmVudFBvaW50cy5jYW52YXM7aWYoaihlKSxmdW5jdGlvbihlKXt2YXIgdD1GLmdldENvbmZpZ3VyYXRpb24oKTtpZihlLmhhbmRsZXMubGVuZ3RoPDIpcmV0dXJuITA7dmFyIG49dm9pZCAwO249dC5hY3RpdmVQZW5jaWxNb2RlP2Z1bmN0aW9uKGUpe3ZhciB0PUYuZ2V0Q29uZmlndXJhdGlvbigpLm1vdXNlTG9jYXRpb24uaGFuZGxlcy5zdGFydCxuPWUuaGFuZGxlcyxhPVMuZGVmYXVsdC5uZXdIYW5kbGUodCxuKTtyZXR1cm4hMT09PWEmJihhPWZ1bmN0aW9uKGUsdCl7dmFyIG49Ri5nZXRDb25maWd1cmF0aW9uKCksYT1lLmhhbmRsZXM7aWYoby5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5kaXN0YW5jZShhWzBdLHQpPG4uc3BhY2luZylyZXR1cm4gZS5jYW5Db21wbGV0ZT0hMCwhMTtlLmNhbkNvbXBsZXRlPSExO2Zvcih2YXIgcj0xO3I8YS5sZW5ndGgtMTtyKyspaWYoby5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5kaXN0YW5jZShhW3JdLHQpPG4uc3BhY2luZylyZXR1cm4hMDtyZXR1cm4hMX0oZSx0KSksYX0oZSk6ZnVuY3Rpb24oZSl7dmFyIHQ9Ri5nZXRDb25maWd1cmF0aW9uKCksbj10Lm1vdXNlTG9jYXRpb24uaGFuZGxlcy5zdGFydCxhPWUuaGFuZGxlcyxyPSExO3JldHVybiBlLmNhbkNvbXBsZXRlPSExLG8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuZGlzdGFuY2UoYVswXSxuKTx0LnNwYWNpbmcmJiFTLmRlZmF1bHQuZW5kKGEpPyhlLmNhbkNvbXBsZXRlPSEwLHI9ITEpOnI9Uy5kZWZhdWx0Lm5ld0hhbmRsZShuLGEpLHJ9KGUpLGUuaGFuZGxlcy5pbnZhbGlkSGFuZGxlUGxhY2VtZW50PW59KGkpLG4uYWN0aXZlUGVuY2lsTW9kZSkhZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49Ri5nZXRDb25maWd1cmF0aW9uKCksYT1uLm1vdXNlTG9jYXRpb24uaGFuZGxlcy5zdGFydCxyPTA7cjx0Lmxlbmd0aDtyKyspaWYoby5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5kaXN0YW5jZSh0W3JdLGEpPG4uc3BhY2luZylyZXR1cm47VShlKX0oZSxpLmhhbmRsZXMpO2Vsc2V7dmFyIHU9dyhyLGksbCk7bnVsbCE9PXUmJiF1Lmhhc0JvdW5kaW5nQm94JiZ1PGkuaGFuZGxlcy5sZW5ndGgtMSYmKG4ubW91c2VMb2NhdGlvbi5oYW5kbGVzLnN0YXJ0Lng9aS5oYW5kbGVzW3VdLngsbi5tb3VzZUxvY2F0aW9uLmhhbmRsZXMuc3RhcnQueT1pLmhhbmRsZXNbdV0ueSl9fSh0LG4pO28uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0LmVsZW1lbnQpfX1mdW5jdGlvbiBOKGUpe3ZhciB0PWUuZGV0YWlsLG49KDAsZy5nZXRUb29sU3RhdGUpKHQuZWxlbWVudCxQKTtpZihuKXt2YXIgYT1GLmdldENvbmZpZ3VyYXRpb24oKSxyPW4uZGF0YVthLmN1cnJlbnRUb29sXSxpPWEuY3VycmVudEhhbmRsZTtqKHQpLGEuY3VycmVudFRvb2w+PTAmJigwLEUuZGVmYXVsdCkoaSxyKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UodC5lbGVtZW50KX19ZnVuY3Rpb24gSChlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxyPSgwLGcuZ2V0VG9vbFN0YXRlKSh0LmVsZW1lbnQsUCk7KG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsSCksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLE4pLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssSCksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLFIpLHZvaWQgMCE9PXIpJiYoXCJoYW5kbGVcIj09PSgwLFQuZGVmYXVsdCkoZSxyKSYmQSh0KSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UodC5lbGVtZW50KSl9ZnVuY3Rpb24gaihlKXt2YXIgdD1GLmdldENvbmZpZ3VyYXRpb24oKTt0Lm1vdXNlTG9jYXRpb24uaGFuZGxlcy5zdGFydC54PWUuY3VycmVudFBvaW50cy5pbWFnZS54LHQubW91c2VMb2NhdGlvbi5oYW5kbGVzLnN0YXJ0Lnk9ZS5jdXJyZW50UG9pbnRzLmltYWdlLnksKDAsaC5jbGlwVG9Cb3gpKHQubW91c2VMb2NhdGlvbi5oYW5kbGVzLnN0YXJ0LGUuaW1hZ2UpfWZ1bmN0aW9uIFYoZSl7dmFyIHQ9ZS50b1N0cmluZygpLnNwbGl0KFwiLlwiKTtyZXR1cm4gdFswXT10WzBdLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csXCIsXCIpLHQuam9pbihcIi5cIil9ZnVuY3Rpb24gQihlKXt2YXIgdD1lLmRldGFpbCxuPSgwLGcuZ2V0VG9vbFN0YXRlKShlLmN1cnJlbnRUYXJnZXQsUCk7aWYodm9pZCAwIT09bil7dmFyIGE9by5kZWZhdWx0LmNvcm5lcnN0b25lLHU9dC5pbWFnZSxkPXQuZWxlbWVudCxjPUYuZ2V0Q29uZmlndXJhdGlvbigpLGY9YS5tZXRhRGF0YS5nZXQoXCJnZW5lcmFsU2VyaWVzTW9kdWxlXCIsdS5pbWFnZUlkKSxtPXZvaWQgMDtmJiYobT1mLm1vZGFsaXR5KTtmb3IodmFyIGg9KDAsTy5nZXROZXdDb250ZXh0KSh0LmNhbnZhc0NvbnRleHQuY2FudmFzKSxwPXIuZGVmYXVsdC5nZXRUb29sV2lkdGgoKSxFPWZ1bmN0aW9uKGUpe3ZhciBvPW4uZGF0YVtlXTtpZighMT09PW8udmlzaWJsZSlyZXR1cm5cImNvbnRpbnVlXCI7KDAsTy5kcmF3KShoLGZ1bmN0aW9uKGUpe3ZhciBuPWkuZGVmYXVsdC5nZXRDb2xvcklmQWN0aXZlKG8pLHI9dm9pZCAwO2lmKG8uYWN0aXZlP28uaGFuZGxlcy5pbnZhbGlkSGFuZGxlUGxhY2VtZW50PyhuPWMuaW52YWxpZENvbG9yLHI9Yy5pbnZhbGlkQ29sb3IpOihuPWkuZGVmYXVsdC5nZXRDb2xvcklmQWN0aXZlKG8pLHI9aS5kZWZhdWx0LmdldEZpbGxDb2xvcigpKTpyPWkuZGVmYXVsdC5nZXRUb29sQ29sb3IoKSxvLmhhbmRsZXMubGVuZ3RoKWZvcih2YXIgZj0wO2Y8by5oYW5kbGVzLmxlbmd0aDtmKyspe3ZhciBnPVtdLmNvbmNhdChDKG8uaGFuZGxlc1tmXS5saW5lcykpO2YhPT1vLmhhbmRsZXMubGVuZ3RoLTF8fG8ucG9seUJvdW5kaW5nQm94fHxnLnB1c2goYy5tb3VzZUxvY2F0aW9uLmhhbmRsZXMuc3RhcnQpLCgwLE8uZHJhd0pvaW5lZExpbmVzKShlLHQuZWxlbWVudCxvLmhhbmRsZXNbZl0sZyx7Y29sb3I6bn0pfXZhciBoPXtmaWxsOnJ9OyhjLmFsd2F5c1Nob3dIYW5kbGVzfHxjLmtleURvd24uY3RybHx8by5hY3RpdmUmJm8ucG9seUJvdW5kaW5nQm94KSYmKGguaGFuZGxlUmFkaXVzPWMuYWN0aXZlSGFuZGxlUmFkaXVzLCgwLGwuZGVmYXVsdCkoZSx0LG8uaGFuZGxlcyxuLGgpKSxvLmNhbkNvbXBsZXRlJiYoaC5oYW5kbGVSYWRpdXM9Yy5jb21wbGV0ZUhhbmRsZVJhZGl1cywoMCxsLmRlZmF1bHQpKGUsdCxbby5oYW5kbGVzWzBdXSxuLGgpKSxvLmFjdGl2ZSYmIW8ucG9seUJvdW5kaW5nQm94JiYoaC5oYW5kbGVSYWRpdXM9Yy5hY3RpdmVIYW5kbGVSYWRpdXMsKDAsbC5kZWZhdWx0KShlLHQsYy5tb3VzZUxvY2F0aW9uLmhhbmRsZXMsbixoKSwoMCxsLmRlZmF1bHQpKGUsdCxbby5oYW5kbGVzWzBdXSxuLGgpKTt2YXIgRT12b2lkIDAsVD12b2lkIDAsUz12b2lkIDA7aWYoITE9PT1vLmludmFsaWRhdGVkKVQ9by5tZWFuU3RkRGV2LFM9by5tZWFuU3RkRGV2U1VWLEU9by5hcmVhO2Vsc2UgaWYoIW8uYWN0aXZlKXtmb3IodmFyIHg9e2xlZnQ6by5oYW5kbGVzWzBdLngscmlnaHQ6by5oYW5kbGVzWzBdLngsYm90dG9tOm8uaGFuZGxlc1swXS55LHRvcDpvLmhhbmRsZXNbMF0ueH0sYj0wO2I8by5oYW5kbGVzLmxlbmd0aDtiKyspeC5sZWZ0PU1hdGgubWluKHgubGVmdCxvLmhhbmRsZXNbYl0ueCkseC5yaWdodD1NYXRoLm1heCh4LnJpZ2h0LG8uaGFuZGxlc1tiXS54KSx4LmJvdHRvbT1NYXRoLm1pbih4LmJvdHRvbSxvLmhhbmRsZXNbYl0ueSkseC50b3A9TWF0aC5tYXgoeC50b3Asby5oYW5kbGVzW2JdLnkpO3ZhciBQPXtsZWZ0OngubGVmdCx0b3A6eC5ib3R0b20sd2lkdGg6TWF0aC5hYnMoeC5yaWdodC14LmxlZnQpLGhlaWdodDpNYXRoLmFicyh4LnRvcC14LmJvdHRvbSl9O2lmKG8ucG9seUJvdW5kaW5nQm94PVAsIXUuY29sb3Ipe3ZhciBJPWEuZ2V0UGl4ZWxzKGQsUC5sZWZ0LFAudG9wLFAud2lkdGgsUC5oZWlnaHQpO1Q9KDAsXy5kZWZhdWx0KShJLFAsby5oYW5kbGVzKSxcIlBUXCI9PT1tJiYoUz17bWVhbjooMCxzLmRlZmF1bHQpKHUsKFQubWVhbi11LmludGVyY2VwdCkvdS5zbG9wZSksc3RkRGV2OigwLHMuZGVmYXVsdCkodSwoVC5zdGREZXYtdS5pbnRlcmNlcHQpL3Uuc2xvcGUpfSksVCYmIWlzTmFOKFQubWVhbikmJihvLm1lYW5TdGREZXY9VCxvLm1lYW5TdGREZXZTVVY9Uyl9dmFyIEw9KHUuY29sdW1uUGl4ZWxTcGFjaW5nfHwxKSoodS5yb3dQaXhlbFNwYWNpbmd8fDEpO0U9KDAsTS5kZWZhdWx0KShvLmhhbmRsZXMsTCksaXNOYU4oRSl8fChvLmFyZWE9RSksby5pbnZhbGlkYXRlZD0hMX1pZihvLnBvbHlCb3VuZGluZ0JveCYmIW8udGV4dEJveC5mcmVlaGFuZCl7by50ZXh0Qm94Lmhhc01vdmVkfHwoby50ZXh0Qm94Lng9by5wb2x5Qm91bmRpbmdCb3gubGVmdCtvLnBvbHlCb3VuZGluZ0JveC53aWR0aCxvLnRleHRCb3gueT1vLnBvbHlCb3VuZGluZ0JveC50b3Arby5wb2x5Qm91bmRpbmdCb3guaGVpZ2h0LzIpO3ZhciB3PWZ1bmN0aW9uKGUpe3ZhciB0PWUubWVhblN0ZERldixuPWUubWVhblN0ZERldlNVVixhPWUuYXJlYSxvPVtdO2lmKHQmJnZvaWQgMCE9PXQubWVhbil7dmFyIHI9XCJcIjtcIkNUXCI9PT1tJiYocj1cIiBIVVwiKTt2YXIgaT1cIk1lYW46IFwiK1YodC5tZWFuLnRvRml4ZWQoMikpK3IsbD1cIlN0ZERldjogXCIrVih0LnN0ZERldi50b0ZpeGVkKDIpKStyO2lmKG4mJnZvaWQgMCE9PW4ubWVhbil7aSs9XCIgU1VWOiBcIitWKG4ubWVhbi50b0ZpeGVkKDIpKSxsKz1cIiBTVVY6IFwiK1Yobi5zdGREZXYudG9GaXhlZCgyKSl9by5wdXNoKGkpLG8ucHVzaChsKX1pZihhKXt2YXIgZD1cIiBtbVwiK1N0cmluZy5mcm9tQ2hhckNvZGUoMTc4KTt1LnJvd1BpeGVsU3BhY2luZyYmdS5jb2x1bW5QaXhlbFNwYWNpbmd8fChkPVwiIHBpeGVsc1wiK1N0cmluZy5mcm9tQ2hhckNvZGUoMTc4KSk7dmFyIHM9XCJBcmVhOiBcIitWKGEudG9GaXhlZCgyKSkrZDtvLnB1c2gocyl9cmV0dXJuIG99KG8pOygwLHYuZGVmYXVsdCkoZSxkLG8udGV4dEJveCx3LG8uaGFuZGxlcyx5LG4scCwwLCEwKX19KX0sVD0wO1Q8bi5kYXRhLmxlbmd0aDtUKyspRShUKX1mdW5jdGlvbiB5KGUpe3JldHVybiBlfX1mdW5jdGlvbiBXKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixrKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUsRCksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLE4pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsSCksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLFIpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELEIpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuS0VZX0RPV04scC5rZXlEb3duQ2FsbGJhY2spLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuS0VZX1VQLHAua2V5VXBDYWxsYmFjayl9ZnVuY3Rpb24gRyhlKXt2YXIgdD1GLmdldENvbmZpZ3VyYXRpb24oKTt0LmN1cnJlbnRUb29sPj0wJiZBKGUsdC5jdXJyZW50SGFuZGxlKX12YXIgRj17ZW5hYmxlOmZ1bmN0aW9uKGUpe0coZSksVyhlKSxlLmFkZEV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxCKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoZSl9LGRpc2FibGU6ZnVuY3Rpb24oZSl7RyhlKSxXKGUpLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShlKX0sYWN0aXZhdGU6ZnVuY3Rpb24oZSx0KXsoMCxtLnNldFRvb2xPcHRpb25zKShQLGUse21vdXNlQnV0dG9uTWFzazp0fSksVyhlKSxlLmFkZEV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxCKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsUiksZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLGspLGUuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxEKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LktFWV9ET1dOLHAua2V5RG93bkNhbGxiYWNrKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LktFWV9VUCxwLmtleVVwQ2FsbGJhY2spLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShlKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbihlLHQpeygwLG0uc2V0VG9vbE9wdGlvbnMpKFAsZSx7bW91c2VCdXR0b25NYXNrOnR9KTt2YXIgbj1hLmRlZmF1bHQuVE9PTF9ERUFDVElWQVRFRCxyPXttb3VzZUJ1dHRvbk1hc2s6dCx0b29sVHlwZTpQLHR5cGU6bn07KDAsYy5kZWZhdWx0KShlLG4sciksRyhlKSxXKGUpLGUuYWRkRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELEIpLGUuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxSKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04sayksZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5LRVlfRE9XTixwLmtleURvd25DYWxsYmFjayksZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5LRVlfVVAscC5rZXlVcENhbGxiYWNrKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoZSl9LGdldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gSX0sc2V0Q29uZmlndXJhdGlvbjpmdW5jdGlvbihlKXtJPWV9LHBvaW50TmVhclRvb2w6TH07dC5mcmVlaGFuZD1GfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybntkaXNhYmxlOmZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELGUpfSxlbmFibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZSksdC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZSksci5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKHQpfSxnZXRDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LHNldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oZSl7dD1lfX19O3ZhciBhLG89bigwKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT12b2lkIDA7aWYodClyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihsKXt2YXIgdT10W2xdO2lmKHUuaGFzT3duUHJvcGVydHkoXCJwb2ludE5lYXJIYW5kbGVcIikpe2lmKHUucG9pbnROZWFySGFuZGxlKGUsdSxuKSlyZXR1cm4gdm9pZChpPXUpfWVsc2UgaWYoITA9PT11Lmhhc0JvdW5kaW5nQm94KXtpZigoMCxvLmRlZmF1bHQpKHUsbikpcmV0dXJuIHZvaWQoaT11KX1lbHNle3ZhciBkPWEuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKGUsdSk7aWYoYS5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5kaXN0YW5jZShkLG4pPD1yKXJldHVybiB2b2lkKGk9dSl9fSksaX07dmFyIGE9cihuKDApKSxvPXIobigyMikpO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZ2xvYmFsSW1hZ2VJZFNwZWNpZmljVG9vbFN0YXRlTWFuYWdlcj10Lm5ld0ltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI9dm9pZCAwO3ZhciBhLG89bigwKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfTtmdW5jdGlvbiBpKCl7dmFyIGU9e307cmV0dXJue2dldDpmdW5jdGlvbih0LG4pe3ZhciBhPXIuZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRFbmFibGVkRWxlbWVudCh0KTtpZihhLmltYWdlJiYhMSE9PWUuaGFzT3duUHJvcGVydHkoYS5pbWFnZS5pbWFnZUlkKSl7dmFyIG89ZVthLmltYWdlLmltYWdlSWRdO2lmKCExIT09by5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm4gb1tuXX19LGFkZDpmdW5jdGlvbih0LG4sYSl7dmFyIG89ci5kZWZhdWx0LmNvcm5lcnN0b25lLmdldEVuYWJsZWRFbGVtZW50KHQpO28uaW1hZ2UmJiExIT09ZS5oYXNPd25Qcm9wZXJ0eShvLmltYWdlLmltYWdlSWQpfHwoZVtvLmltYWdlLmltYWdlSWRdPXt9KTt2YXIgaT1lW28uaW1hZ2UuaW1hZ2VJZF07ITE9PT1pLmhhc093blByb3BlcnR5KG4pJiYoaVtuXT17ZGF0YTpbXX0pLGlbbl0uZGF0YS5wdXNoKGEpfSxjbGVhcjpmdW5jdGlvbih0KXt2YXIgbj1yLmRlZmF1bHQuY29ybmVyc3RvbmUuZ2V0RW5hYmxlZEVsZW1lbnQodCk7bi5pbWFnZSYmITEhPT1lLmhhc093blByb3BlcnR5KG4uaW1hZ2UuaW1hZ2VJZCkmJmRlbGV0ZSBlW24uaW1hZ2UuaW1hZ2VJZF19LHNhdmVJbWFnZUlkVG9vbFN0YXRlOmZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSxyZXN0b3JlSW1hZ2VJZFRvb2xTdGF0ZTpmdW5jdGlvbih0LG4pe2VbdF09bn0sc2F2ZVRvb2xTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBlfSxyZXN0b3JlVG9vbFN0YXRlOmZ1bmN0aW9uKHQpe2U9dH0sdG9vbFN0YXRlOmV9fXZhciBsPWkoKTt0Lm5ld0ltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI9aSx0Lmdsb2JhbEltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI9bH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbixhKXt2YXIgbz1yLmRlZmF1bHQuY29ybmVyc3RvbmUsaT17c3RhcnQ6by5waXhlbFRvQ2FudmFzKGUsdCksZW5kOm8ucGl4ZWxUb0NhbnZhcyhlLG4pfTtyZXR1cm4gci5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5saW5lU2VnbWVudC5kaXN0YW5jZVRvUG9pbnQoaSxhKX07dmFyIGEsbz1uKDApLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLGwsdSxkKXt2YXIgcz1vLmRlZmF1bHQuY29ybmVyc3RvbmUsYz1lLmVsZW1lbnQsZj1zLnBhZ2VUb1BpeGVsKGMsZS5jdXJyZW50UG9pbnRzLnBhZ2UueCxlLmN1cnJlbnRQb2ludHMucGFnZS55KzUwKSx2PXt4OmwueC1mLngseTpsLnktZi55fTtmdW5jdGlvbiBnKGUpe3ZhciBvPWUuZGV0YWlsO2wueD1vLmN1cnJlbnRQb2ludHMuaW1hZ2UueCt2LngsbC55PW8uY3VycmVudFBvaW50cy5pbWFnZS55K3YueSxkJiYoMCxpLmNsaXBUb0JveCkobCxvLmltYWdlKSxzLnVwZGF0ZUltYWdlKGMpO3ZhciB1PWEuZGVmYXVsdC5NRUFTVVJFTUVOVF9NT0RJRklFRCxmPXt0b29sVHlwZTp0LGVsZW1lbnQ6YyxtZWFzdXJlbWVudERhdGE6bn07KDAsci5kZWZhdWx0KShjLHUsZil9ZnVuY3Rpb24gbShlKXt2YXIgdD1lLmRldGFpbDtpZihjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcsZyksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9QSU5DSCxtKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0VORCxtKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRBUCxtKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULGgpLGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9PTF9ERUFDVElWQVRFRCxwKSxlLnR5cGU9PT1hLmRlZmF1bHQuVE9VQ0hfUElOQ0h8fGUudHlwZT09PWEuZGVmYXVsdC5UT1VDSF9QUkVTUylyZXR1cm4gbC5hY3RpdmU9ITEscy51cGRhdGVJbWFnZShjKSx2b2lkIHUoKTtsLmFjdGl2ZT0hMSxuLmFjdGl2ZT0hMSxsLng9dC5jdXJyZW50UG9pbnRzLmltYWdlLngrdi54LGwueT10LmN1cnJlbnRQb2ludHMuaW1hZ2UueSt2LnksZCYmKDAsaS5jbGlwVG9Cb3gpKGwsdC5pbWFnZSkscy51cGRhdGVJbWFnZShjKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB1JiZ1KCl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMX1mdW5jdGlvbiBwKCl7Yy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHLGcpLGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfUElOQ0gsbSksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9FTkQsbSksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsbSksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxoKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPT0xfREVBQ1RJVkFURUQscCksbC5hY3RpdmU9ITEsbi5hY3RpdmU9ITEsbC54PWUuY3VycmVudFBvaW50cy5pbWFnZS54K3YueCxsLnk9ZS5jdXJyZW50UG9pbnRzLmltYWdlLnkrdi55LGQmJigwLGkuY2xpcFRvQm94KShsLGUuaW1hZ2UpLHMudXBkYXRlSW1hZ2UoYyl9bC5hY3RpdmU9ITAsbi5hY3RpdmU9ITAsYy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHLGcpLGMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfUElOQ0gsbSksYy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9FTkQsbSksYy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsbSksYy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxoKSxjLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPT0xfREVBQ1RJVkFURUQscCl9O3ZhciBhPWwobigxKSksbz1sKG4oMCkpLHI9bChuKDYpKSxpPW4oOCk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybnthY3RpdmF0ZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0Lk1PVVNFX1dIRUVMLGUpLHQuYWRkRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuTU9VU0VfV0hFRUwsZSl9LGRpc2FibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5NT1VTRV9XSEVFTCxlKX0sZW5hYmxlOmZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuTU9VU0VfV0hFRUwsZSl9LGRlYWN0aXZhdGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5NT1VTRV9XSEVFTCxlKX19fTt2YXIgYSxvPW4oMSkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4sbCx1LGQpe3ZhciBzPW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxjPWUuZWxlbWVudDtmdW5jdGlvbiBmKGUpe3ZhciBvPWUuZGV0YWlsO2wuYWN0aXZlPSEwLGwueD1vLmN1cnJlbnRQb2ludHMuaW1hZ2UueCxsLnk9by5jdXJyZW50UG9pbnRzLmltYWdlLnksZCYmKDAsaS5jbGlwVG9Cb3gpKGwsby5pbWFnZSkscy51cGRhdGVJbWFnZShjKTt2YXIgdT1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfTU9ESUZJRUQsZj17dG9vbFR5cGU6dCxlbGVtZW50OmMsbWVhc3VyZW1lbnREYXRhOm59OygwLHIuZGVmYXVsdCkoYyx1LGYpfWZ1bmN0aW9uIHYoZSl7Yy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLHYpLGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyx2KSxjLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsZiksYy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLGYpLGMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssaCksZS50eXBlPT09YS5kZWZhdWx0Lk1PVVNFX0RSQUcmJmMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsaCl9ZnVuY3Rpb24gZyhlKXtlLmRldGFpbC5tZWFzdXJlbWVudERhdGE9PT1uJiZoKCl9ZnVuY3Rpb24gbShlKXtlLmRldGFpbC50b29sVHlwZT09PXQmJihjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsZiksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLGYpLGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssaCksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxoKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1FQVNVUkVNRU5UX1JFTU9WRUQsZyksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT09MX0RFQUNUSVZBVEVELG0pLGwuYWN0aXZlPSExLHMudXBkYXRlSW1hZ2UoYykpfWZ1bmN0aW9uIGgoKXtjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsZiksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLGYpLGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssaCksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxoKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1FQVNVUkVNRU5UX1JFTU9WRUQsZyksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT09MX0RFQUNUSVZBVEVELG0pLGwuYWN0aXZlPSExLHMudXBkYXRlSW1hZ2UoYyksXCJmdW5jdGlvblwiPT10eXBlb2YgdSYmdSgpfWMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyx2KSxjLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsdiksYy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NRUFTVVJFTUVOVF9SRU1PVkVELGcpLGMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9PTF9ERUFDVElWQVRFRCxtKX07dmFyIGE9bChuKDEpKSxvPWwobigwKSkscj1sKG4oNikpLGk9big4KTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4sbCx1LGQpe3ZhciBzPW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxjPWUuZWxlbWVudCxmPXt4OmwueC1lLmN1cnJlbnRQb2ludHMuaW1hZ2UueCx5OmwueS1lLmN1cnJlbnRQb2ludHMuaW1hZ2UueX07ZnVuY3Rpb24gdihlKXt2YXIgbz1lLmRldGFpbDshMT09PWwuaGFzTW92ZWQmJihsLmhhc01vdmVkPSEwKSxsLmFjdGl2ZT0hMCxsLng9by5jdXJyZW50UG9pbnRzLmltYWdlLngrZi54LGwueT1vLmN1cnJlbnRQb2ludHMuaW1hZ2UueStmLnksZCYmKDAsaS5jbGlwVG9Cb3gpKGwsby5pbWFnZSkscy51cGRhdGVJbWFnZShjKTt2YXIgdT1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfTU9ESUZJRUQsdj17dG9vbFR5cGU6dCxlbGVtZW50OmMsbWVhc3VyZW1lbnREYXRhOm59OygwLHIuZGVmYXVsdCkoYyx1LHYpfWZ1bmN0aW9uIGcoKXtsLmFjdGl2ZT0hMSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsdiksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxnKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0NMSUNLLGcpLHMudXBkYXRlSW1hZ2UoYyksXCJmdW5jdGlvblwiPT10eXBlb2YgdSYmdSgpfWMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyx2KSxjLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLGcpLGMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssZyl9O3ZhciBhPWwobigxKSksbz1sKG4oMCkpLHI9bChuKDYpKSxpPW4oOCk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLGEpe2F8fChhPTYpO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgYT1lW25dOyEwIT09YS5hY3RpdmV8fCh0PWEpfSksdH0odCksaT0oMCxyLmRlZmF1bHQpKGUsdCxuLGEpO3JldHVybiBvIT09aSYmKHZvaWQgMCE9PWkmJihpLmFjdGl2ZT0hMCksdm9pZCAwIT09byYmKG8uYWN0aXZlPSExKSwhMCl9O3ZhciBhLG89bigyNSkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT12b2lkIDAsbz17ZGVmYXVsdDo2LElFOns5OjYsMTA6OCxkZWZhdWx0Ojh9LEZpcmVmb3g6e2RlZmF1bHQ6Nn0sT3BlcmE6ezEwOjgsMTE6NiwxMjo2LGRlZmF1bHQ6Nn0sQ2hyb21lOntkZWZhdWx0OjZ9LFNhZmFyaTp7ZGVmYXVsdDo2fX07ZnVuY3Rpb24gcigpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQsdD1lLm1hdGNoKC8ob3BlcmF8Y2hyb21lfHNhZmFyaXxmaXJlZm94fG1zaWV8dHJpZGVudCg/PVxcLykpXFwvP1xccyooXFxkKykvaSl8fFtdLG49dm9pZCAwO3JldHVybi90cmlkZW50L2kudGVzdCh0WzFdKT9cIklFIFwiKygobj0vXFxicnZbIDpdKyhcXGQrKS9nLmV4ZWMoZSl8fFtdKVsxXXx8XCJcIik6XCJDaHJvbWVcIj09PXRbMV0mJm51bGwhPT0obj1lLm1hdGNoKC9cXGIoT1BSfEVkZ2UpXFwvKFxcZCspLykpP24uc2xpY2UoMSkuam9pbihcIiBcIikucmVwbGFjZShcIk9QUlwiLFwiT3BlcmFcIik6KHQ9dFsyXT9bdFsxXSx0WzJdXTpbbmF2aWdhdG9yLmFwcE5hbWUsbmF2aWdhdG9yLmFwcFZlcnNpb24sXCItP1wiXSxudWxsIT09KG49ZS5tYXRjaCgvdmVyc2lvblxcLyhcXGQrKS9pKSkmJnQuc3BsaWNlKDEsMSxuWzFdKSx0LmpvaW4oXCIgXCIpKX1mdW5jdGlvbiBpKCl7dmFyIGU9cigpLnNwbGl0KFwiIFwiKSx0PWVbMF0sbj1lWzFdLGE9b1t0XTtyZXR1cm4gYT9hW25dP2Fbbl06YS5kZWZhdWx0Om8uZGVmYXVsdH10LmdldERlZmF1bHRTaW11bHRhbmVvdXNSZXF1ZXN0cz1pLHQuZ2V0TWF4U2ltdWx0YW5lb3VzUmVxdWVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gYXx8aSgpfSx0LnNldE1heFNpbXVsdGFuZW91c1JlcXVlc3RzPWZ1bmN0aW9uKGUpe2E9ZX0sdC5nZXRCcm93c2VySW5mbz1yLHQuaXNNb2JpbGVEZXZpY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJlZ0V4cChcIkFuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmlcIikudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRyYXdCcnVzaE9uQ2FudmFzPXQuZHJhd0JydXNoUGl4ZWxzPXZvaWQgMDt2YXIgYSxvPW4oMCkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX0saT1uKDMpO3QuZHJhd0JydXNoUGl4ZWxzPWZ1bmN0aW9uKGUsdCxuLGEpe2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbyxyPShvPWVbMF0sZVsxXSphK28pO3Rbcl09bn0pfSx0LmRyYXdCcnVzaE9uQ2FudmFzPWZ1bmN0aW9uKGUsdCxuLGEpe3ZhciBvPXIuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKGEse3g6MCx5OjB9KSxsPXIuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKGEse3g6MSx5OjF9KSx1PWwueC1vLngsZD1sLnktby55OygwLGkuZHJhdykodCxmdW5jdGlvbih0KXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG89ci5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXMoYSx7eDplWzBdLHk6ZVsxXX0pLGw9e2xlZnQ6by54LHRvcDpvLnksd2lkdGg6dSxoZWlnaHQ6ZH07KDAsaS5maWxsQm94KSh0LGwsbil9KX0pfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3QuRnJlZWhhbmRIYW5kbGVEYXRhPWZ1bmN0aW9uIGUodCl7dmFyIG49IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxhPSEoYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0pfHxhcmd1bWVudHNbMl07IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy5oaWdobGlnaHQ9bix0aGlzLmFjdGl2ZT1hLHRoaXMubGluZXM9W119fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e30sYT1bci5kZWZhdWx0Lk1VTFRJX1RPVUNIX0RSQUddO3JldHVybiB0JiYhMD09PXQuZmlyZU9uVG91Y2hTdGFydCYmYS5wdXNoKHIuZGVmYXVsdC5NVUxUSV9UT1VDSF9TVEFSVCkse2FjdGl2YXRlOmZ1bmN0aW9uKG4pe2EuZm9yRWFjaChmdW5jdGlvbih0KXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKSxuLmFkZEV2ZW50TGlzdGVuZXIodCxlKX0pLHQmJnQuYWN0aXZhdGVDYWxsYmFjayYmdC5hY3RpdmF0ZUNhbGxiYWNrKG4pfSxkaXNhYmxlOmZ1bmN0aW9uKG4pe2EuZm9yRWFjaChmdW5jdGlvbih0KXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKX0pLHQmJnQuZGlzYWJsZUNhbGxiYWNrJiZ0LmRpc2FibGVDYWxsYmFjayhuKX0sZW5hYmxlOmZ1bmN0aW9uKG4pe2EuZm9yRWFjaChmdW5jdGlvbih0KXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKX0pLHQmJnQuZW5hYmxlQ2FsbGJhY2smJnQuZW5hYmxlQ2FsbGJhY2sobil9LGRlYWN0aXZhdGU6ZnVuY3Rpb24obil7YS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpfSksdCYmdC5kZWFjdGl2YXRlQ2FsbGJhY2smJnQuZGVhY3RpdmF0ZUNhbGxiYWNrKG4pfSxnZXRDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG59LHNldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oZSl7bj1lfX19O3ZhciBhLG89bigxKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbil7dmFyIGw9KDAsby5nZXRUb29sU3RhdGUpKGUsXCJ0aW1lU2VyaWVzXCIpO2lmKGwmJmwuZGF0YSYmbC5kYXRhLmxlbmd0aCl7dmFyIHU9YS5kZWZhdWx0LmNvcm5lcnN0b25lLGQ9bC5kYXRhWzBdLHM9ZC5zdGFja3NbZC5jdXJyZW50U3RhY2tJbmRleF0uY3VycmVudEltYWdlSWRJbmRleCxjPWQuY3VycmVudFN0YWNrSW5kZXgrdDtpZihuPyhjPj1kLnN0YWNrcy5sZW5ndGgmJihjPTApLGM8MCYmKGM9ZC5zdGFja3MubGVuZ3RoLTEpKTpjPSgwLGkuZGVmYXVsdCkoYywwLGQuc3RhY2tzLmxlbmd0aC0xKSxjIT09ZC5jdXJyZW50U3RhY2tJbmRleCl7dmFyIGY9dS5nZXRWaWV3cG9ydChlKSx2PWQuc3RhY2tzW2NdLGc9ci5kZWZhdWx0LmdldFN0YXJ0TG9hZEhhbmRsZXIoKSxtPXIuZGVmYXVsdC5nZXRFbmRMb2FkSGFuZGxlcigpLGg9ci5kZWZhdWx0LmdldEVycm9yTG9hZGluZ0hhbmRsZXIoKTtnJiZnKGUpOyghMD09PXYucHJldmVudENhY2hlP3UubG9hZEltYWdlKHYuaW1hZ2VJZHNbc10pOnUubG9hZEFuZENhY2hlSW1hZ2Uodi5pbWFnZUlkc1tzXSkpLnRoZW4oZnVuY3Rpb24odCl7ZC5jdXJyZW50SW1hZ2VJZEluZGV4IT09cyYmKHYuY3VycmVudEltYWdlSWRJbmRleD1zLGQuY3VycmVudFN0YWNrSW5kZXg9Yyx1LmRpc3BsYXlJbWFnZShlLHQsZiksbSYmbShlLHQpKX0sZnVuY3Rpb24odCl7dmFyIG49di5pbWFnZUlkc1tzXTtoJiZoKGUsbix0KX0pfX19O3ZhciBhPWwobigwKSksbz1uKDIpLHI9bChuKDEzKSksaT1sKG4oOCkpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbixkLHMsYyl7dmFyIGY9by5kZWZhdWx0LmNvcm5lcnN0b25lLHY9ZS5kZXRhaWwuZWxlbWVudDtmdW5jdGlvbiBnKGUpe3ZhciBuPWUuZGV0YWlsO3QuYWN0aXZlPSEwLE9iamVjdC5rZXlzKHQuaGFuZGxlcykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgYT10LmhhbmRsZXNbZV07ITAhPT1hLm1vdmVzSW5kZXBlbmRlbnRseSYmKGEueCs9bi5kZWx0YVBvaW50cy5pbWFnZS54LGEueSs9bi5kZWx0YVBvaW50cy5pbWFnZS55LHMucHJldmVudEhhbmRsZU91dHNpZGVJbWFnZSYmKDAsdS5jbGlwVG9Cb3gpKGEsbi5pbWFnZSkpfSksZi51cGRhdGVJbWFnZSh2KTt2YXIgbz1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfTU9ESUZJRUQscj17dG9vbFR5cGU6ZCxlbGVtZW50OnYsbWVhc3VyZW1lbnREYXRhOnR9OygwLGwuZGVmYXVsdCkodixvLHIpLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpfWZ1bmN0aW9uIG0oZSl7dmFyIG49ZS5kZXRhaWw7dC5pbnZhbGlkYXRlZD0hMCx2LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsZyksdi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxtKSx2LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0NMSUNLLG0pLCEwPT09cy5kZWxldGVJZkhhbmRsZU91dHNpZGVJbWFnZSYmKDAsci5kZWZhdWx0KShuLHQuaGFuZGxlcykmJigwLGkucmVtb3ZlVG9vbFN0YXRlKSh2LGQsdCksZi51cGRhdGVJbWFnZSh2KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiZjKCl9cmV0dXJuIHYuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxnKSx2LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLG0pLHYuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssbSksITB9O3ZhciBhPWQobigxKSksbz1kKG4oMCkpLHI9ZChuKDE1KSksaT1uKDIpLGw9ZChuKDYpKSx1PW4oOCk7ZnVuY3Rpb24gZChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9dm9pZCAwO3ZhciBvPXtzZXRDb29yZHM6ZnVuY3Rpb24oZSl7YT1lLmN1cnJlbnRQb2ludHMuY2FudmFzfSxnZXRDb29yZHM6ZnVuY3Rpb24oKXtyZXR1cm4gYX19O3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybntwYWdlOnIuZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuY29weShlLnBhZ2UpLGltYWdlOnIuZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuY29weShlLmltYWdlKSxjbGllbnQ6ci5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5jb3B5KGUuY2xpZW50KSxjYW52YXM6ci5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5jb3B5KGUuY2FudmFzKX19O3ZhciBhLG89bigwKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbixhLG8pe2lmKCFlKXRocm93IG5ldyBFcnJvcihcImdldFJHQlBpeGVsczogcGFyYW1ldGVyIGVsZW1lbnQgbXVzdCBub3QgYmUgdW5kZWZpbmVkXCIpO3Q9TWF0aC5yb3VuZCh0KSxuPU1hdGgucm91bmQobik7dmFyIGk9ci5kZWZhdWx0LmNvcm5lcnN0b25lLmdldEVuYWJsZWRFbGVtZW50KGUpLGw9W10sdT0wLGQ9aS5pbWFnZS5nZXRQaXhlbERhdGEoKSxzPXZvaWQgMCxjPXZvaWQgMCxmPXZvaWQgMDtpZihpLmltYWdlLmNvbG9yKWZvcihjPTA7YzxvO2MrKylmb3IoZj0wO2Y8YTtmKyspe3ZhciB2PWRbcz00KigoYytuKSppLmltYWdlLmNvbHVtbnMrKGYrdCkpXSxnPWRbcysxXSxtPWRbcysyXSxoPWRbcyszXTtsW3UrK109dixsW3UrK109ZyxsW3UrK109bSxsW3UrK109aH1yZXR1cm4gbH07dmFyIGEsbz1uKDApLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS53aWR0aC8yLGE9ZS5oZWlnaHQvMjtpZihuPD0wfHxhPD0wKXJldHVybiExO3ZhciBvPWUubGVmdCtuLHI9ZS50b3ArYSxpPXQueC1vLGw9dC55LXI7cmV0dXJuIGkqaS8obipuKStsKmwvKGEqYSk8PTF9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5wb3coMTAsdCk7cmV0dXJuIE1hdGgucm91bmQoZSpuKS9ufX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0saT0hKGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdKXx8YXJndW1lbnRzWzNdLGw9KDAsby5nZXRUb29sU3RhdGUpKGUsXCJzdGFja1wiKTtpZihsJiZsLmRhdGEmJmwuZGF0YS5sZW5ndGgpe3ZhciB1PWwuZGF0YVswXTt1LnBlbmRpbmd8fCh1LnBlbmRpbmc9W10pO3ZhciBkPXUuY3VycmVudEltYWdlSWRJbmRleCt0O2lmKG4pZCU9dS5pbWFnZUlkcy5sZW5ndGg7ZWxzZSBkPSgwLHIuZGVmYXVsdCkoZCwwLHUuaW1hZ2VJZHMubGVuZ3RoLTEpO2lmKGkpKDAsYS5kZWZhdWx0KShlLGQpO2Vsc2V7dmFyIHM9e2luZGV4OmR9O3UucGVuZGluZy5wdXNoKHMpLGZ1bmN0aW9uIGUodCxuLG8pe2lmKHQucGVuZGluZ1swXT09PW4pe2lmKHQuY3VycmVudEltYWdlSWRJbmRleD09PW4uaW5kZXgpcmV0dXJuIHQucGVuZGluZy5zcGxpY2UodC5wZW5kaW5nLmluZGV4T2YobiksMSksdm9pZCh0LnBlbmRpbmcubGVuZ3RoPjAmJmUodCx0LnBlbmRpbmdbMF0sbykpO28uYWRkRXZlbnRMaXN0ZW5lcihleHRlcm5hbC5jb3JuZXJzdG9uZS5FVkVOVFMuTkVXX0lNQUdFLGZ1bmN0aW9uIGUocil7dC5pbWFnZUlkcy5pbmRleE9mKHIuZGV0YWlsLmltYWdlLmltYWdlSWQpPT09bi5pbmRleCYmKHQucGVuZGluZy5zcGxpY2UodC5wZW5kaW5nLmluZGV4T2YobiksMSksby5yZW1vdmVFdmVudExpc3RlbmVyKGV4dGVybmFsLmNvcm5lcnN0b25lLkVWRU5UUy5ORVdfSU1BR0UsZSksdC5wZW5kaW5nLmxlbmd0aD4wJiZmdW5jdGlvbiBlKHQsbixvKXtpZih0LnBlbmRpbmdbMF09PT1uKXtpZih0LmN1cnJlbnRJbWFnZUlkSW5kZXg9PT1uLmluZGV4KXJldHVybiB0LnBlbmRpbmcuc3BsaWNlKHQucGVuZGluZy5pbmRleE9mKG4pLDEpLHZvaWQodC5wZW5kaW5nLmxlbmd0aD4wJiZlKHQsdC5wZW5kaW5nWzBdLG8pKTtvLmFkZEV2ZW50TGlzdGVuZXIoZXh0ZXJuYWwuY29ybmVyc3RvbmUuRVZFTlRTLk5FV19JTUFHRSxmdW5jdGlvbiBhKHIpe3QuaW1hZ2VJZHMuaW5kZXhPZihyLmRldGFpbC5pbWFnZS5pbWFnZUlkKT09PW4uaW5kZXgmJih0LnBlbmRpbmcuc3BsaWNlKHQucGVuZGluZy5pbmRleE9mKG4pLDEpLG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihleHRlcm5hbC5jb3JuZXJzdG9uZS5FVkVOVFMuTkVXX0lNQUdFLGEpLHQucGVuZGluZy5sZW5ndGg+MCYmZSh0LHQucGVuZGluZ1swXSxvKSl9KSwoMCxhLmRlZmF1bHQpKG8sbi5pbmRleCl9fSh0LHQucGVuZGluZ1swXSxvKSl9KSwoMCxhLmRlZmF1bHQpKG8sbi5pbmRleCl9fSh1LHMsZSl9fX07dmFyIGE9aShuKDY1KSksbz1uKDIpLHI9aShuKDgpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBsKGUsdCxuKXtpZihlLnBlbmRpbmdbMF09PT10KXtpZihlLmN1cnJlbnRJbWFnZUlkSW5kZXg9PT10LmluZGV4KXtlLnBlbmRpbmcuc3BsaWNlKGUucGVuZGluZy5pbmRleE9mKHQpLDEpO2lmKGUucGVuZGluZy5sZW5ndGg+MCl7bChlLGUucGVuZGluZ1swXSxuKX1yZXR1cm59dmFyIG89ZnVuY3Rpb24gYShvKXt2YXIgcjtpZihlLmltYWdlSWRzLmluZGV4T2Yoby5kZXRhaWwuaW1hZ2UuaW1hZ2VJZCk9PT10LmluZGV4KXtlLnBlbmRpbmcuc3BsaWNlKGUucGVuZGluZy5pbmRleE9mKHQpLDEpO24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihleHRlcm5hbC5jb3JuZXJzdG9uZS5FVkVOVFMuTkVXX0lNQUdFLGEpO2lmKGUucGVuZGluZy5sZW5ndGg+MCl7bChlLGUucGVuZGluZ1swXSxuKX19fTtuLmFkZEV2ZW50TGlzdGVuZXIoZXh0ZXJuYWwuY29ybmVyc3RvbmUuRVZFTlRTLk5FV19JTUFHRSxvKTsoMCxhLmRlZmF1bHQpKG4sdC5pbmRleCl9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhLG89bigwKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfSxpPW4oMzMpO3ZhciBsPXtpbnRlcmFjdGlvbjpbXSx0aHVtYm5haWw6W10scHJlZmV0Y2g6W119LHU9e2ludGVyYWN0aW9uOjAsdGh1bWJuYWlsOjAscHJlZmV0Y2g6MH0sZD17aW50ZXJhY3Rpb246Nix0aHVtYm5haWw6NixwcmVmZXRjaDo1fSxzPSExLGM9MjA7ZnVuY3Rpb24gZigpe3MmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtnKCl9LGMpfWZ1bmN0aW9uIHYoZSl7dmFyIHQ9ci5kZWZhdWx0LmNvcm5lcnN0b25lLG49ZS50eXBlO3Vbbl0rKyxzPSEwO3ZhciBhPWUuaW1hZ2VJZCxvPWUuZG9uZUNhbGxiYWNrLGk9ZS5mYWlsQ2FsbGJhY2ssbD10LmltYWdlQ2FjaGUuZ2V0SW1hZ2VMb2FkT2JqZWN0KGEpO2lmKGwpbC5wcm9taXNlLnRoZW4oZnVuY3Rpb24oZSl7dVtuXS0tLG8oZSksZigpfSxmdW5jdGlvbihlKXt1W25dLS0saShlKSxmKCl9KTtlbHNle3ZhciBkPWZ1bmN0aW9uKGUpe3JldHVyblwicHJlZmV0Y2hcIj09PWUudHlwZT8tNTpcImludGVyYWN0aXZlXCI9PT1lLnR5cGU/MDpcInRodW1ibmFpbFwiPT09ZS50eXBlPzU6dm9pZCAwfShlKTsoITA9PT1lLnByZXZlbnRDYWNoZT90LmxvYWRJbWFnZShhLHtwcmlvcml0eTpkLHR5cGU6ZS50eXBlfSk6dC5sb2FkQW5kQ2FjaGVJbWFnZShhLHtwcmlvcml0eTpkLHR5cGU6ZS50eXBlfSkpLnRoZW4oZnVuY3Rpb24oZSl7dVtuXS0tLG8oZSksZigpfSxmdW5jdGlvbihlKXt1W25dLS0saShlKSxmKCl9KX19ZnVuY3Rpb24gZygpe3ZhciBlPSgwLGkuZ2V0TWF4U2ltdWx0YW5lb3VzUmVxdWVzdHMpKCk7ZD17aW50ZXJhY3Rpb246TWF0aC5tYXgoZSwxKSx0aHVtYm5haWw6TWF0aC5tYXgoZS0yLDEpLHByZWZldGNoOk1hdGgubWF4KGUtMSwxKX07Zm9yKHZhciB0PWUtKHUuaW50ZXJhY3Rpb24rdS50aHVtYm5haWwrdS5wcmVmZXRjaCksbj0wO248dDtuKyspe3ZhciBhPW0oKTthJiZ2KGEpfX1mdW5jdGlvbiBtKCl7cmV0dXJuIGwuaW50ZXJhY3Rpb24ubGVuZ3RoJiZ1LmludGVyYWN0aW9uPGQuaW50ZXJhY3Rpb24/bC5pbnRlcmFjdGlvbi5zaGlmdCgpOmwudGh1bWJuYWlsLmxlbmd0aCYmdS50aHVtYm5haWw8ZC50aHVtYm5haWw/bC50aHVtYm5haWwuc2hpZnQoKTpsLnByZWZldGNoLmxlbmd0aCYmdS5wcmVmZXRjaDxkLnByZWZldGNoP2wucHJlZmV0Y2guc2hpZnQoKToobC5pbnRlcmFjdGlvbi5sZW5ndGh8fGwudGh1bWJuYWlsLmxlbmd0aHx8bC5wcmVmZXRjaC5sZW5ndGh8fChzPSExKSwhMSl9dC5kZWZhdWx0PXthZGRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxuLGEsbyxpLHUpe2lmKCFsLmhhc093blByb3BlcnR5KG4pKXRocm93IG5ldyBFcnJvcihcIlJlcXVlc3QgdHlwZSBtdXN0IGJlIG9uZSBvZiBpbnRlcmFjdGlvbiwgdGh1bWJuYWlsLCBvciBwcmVmZXRjaFwiKTtpZihlJiZ0KXt2YXIgZD17dHlwZTpuLGltYWdlSWQ6dCxwcmV2ZW50Q2FjaGU6YSxkb25lQ2FsbGJhY2s6byxmYWlsQ2FsbGJhY2s6aX0sYz1yLmRlZmF1bHQuY29ybmVyc3RvbmUuaW1hZ2VDYWNoZS5nZXRJbWFnZUxvYWRPYmplY3QodCk7Yz9jLnByb21pc2UudGhlbihmdW5jdGlvbihlKXtvKGUpfSxmdW5jdGlvbihlKXtpKGUpfSk6KHU/bFtuXS51bnNoaWZ0KGQpOmxbbl0ucHVzaChkKSxzPSEwKX19LGNsZWFyUmVxdWVzdFN0YWNrOmZ1bmN0aW9uKGUpe2lmKCFsLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcihcIlJlcXVlc3QgdHlwZSBtdXN0IGJlIG9uZSBvZiBpbnRlcmFjdGlvbiwgdGh1bWJuYWlsLCBvciBwcmVmZXRjaFwiKTtsW2VdPVtdfSxzdGFydEdyYWJiaW5nOmcsZ2V0UmVxdWVzdFBvb2w6ZnVuY3Rpb24oKXtyZXR1cm4gbH19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wcm9qZWN0UGF0aWVudFBvaW50VG9JbWFnZVBsYW5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49KDAsby5kZWZhdWx0KSh0LnJvd0Nvc2luZXMpLGE9KDAsby5kZWZhdWx0KSh0LmNvbHVtbkNvc2luZXMpLHI9KDAsby5kZWZhdWx0KSh0LmltYWdlUG9zaXRpb25QYXRpZW50KSxpPWUuY2xvbmUoKS5zdWIociksbD1uLmRvdChpKS90LmNvbHVtblBpeGVsU3BhY2luZyx1PWEuZG90KGkpL3Qucm93UGl4ZWxTcGFjaW5nO3JldHVybnt4OmwseTp1fX0sdC5pbWFnZVBvaW50VG9QYXRpZW50UG9pbnQ9aSx0LnBsYW5lUGxhbmVJbnRlcnNlY3Rpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj0oMCxvLmRlZmF1bHQpKGUucm93Q29zaW5lcykscj0oMCxvLmRlZmF1bHQpKGUuY29sdW1uQ29zaW5lcyksbD0oMCxvLmRlZmF1bHQpKGUuaW1hZ2VQb3NpdGlvblBhdGllbnQpLHU9KDAsby5kZWZhdWx0KSh0LnJvd0Nvc2luZXMpLGQ9KDAsby5kZWZhdWx0KSh0LmNvbHVtbkNvc2luZXMpLHM9KDAsby5kZWZhdWx0KSh0LmltYWdlUG9zaXRpb25QYXRpZW50KSxjPW4uY2xvbmUoKS5jcm9zcyhyKSxmPW5ldyBhLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLlBsYW5lO2Yuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoYyxsKTt2YXIgdj11LmNsb25lKCkuY3Jvc3MoZCksZz1uZXcgYS5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5QbGFuZTtnLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KHYscyk7dmFyIG09Zy5jbG9uZSgpLmludGVyc2VjdFBsYW5lKGYpLGg9bS5vcmlnaW4scD1tLmRpcmVjdGlvbixFPWkoe3g6dC5jb2x1bW5zLHk6dC5yb3dzfSx0KSxUPXMuZGlzdGFuY2VUbyhFKSx5PW5ldyBhLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLkxpbmUzO3kuc3RhcnQ9aCx5LmVuZD1oLmNsb25lKCkuYWRkKHAubXVsdGlwbHlTY2FsYXIoVCkpO3ZhciBNPWZ1bmN0aW9uKGUpe3ZhciB0PWkoe3g6MCx5OjB9LGUpLG49aSh7eDplLmNvbHVtbnMseTowfSxlKSxvPWkoe3g6MCx5OmUucm93c30sZSkscj1pKHt4OmUuY29sdW1ucyx5OmUucm93c30sZSk7cmV0dXJue3RvcDpuZXcgYS5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5MaW5lMyh0LG4pLGxlZnQ6bmV3IGEuZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGguTGluZTModCxvKSxyaWdodDpuZXcgYS5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5MaW5lMyhuLHIpLGJvdHRvbTpuZXcgYS5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5MaW5lMyhvLHIpfX0odCksXz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBvPXRbYV0scj1lLmludGVyc2VjdExpbmUobyk7ciYmbi5wdXNoKHIpfSksbn0oeSxNKTtpZigyIT09Xy5sZW5ndGgpcmV0dXJuO3JldHVybntzdGFydDpfWzBdLGVuZDpfWzFdfX07dmFyIGE9cihuKDApKSxvPXIobigxOSkpO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj0oMCxvLmRlZmF1bHQpKHQucm93Q29zaW5lcyksYT0oMCxvLmRlZmF1bHQpKHQuY29sdW1uQ29zaW5lcykscj0oMCxvLmRlZmF1bHQpKHQuaW1hZ2VQb3NpdGlvblBhdGllbnQpLGk9bi5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKGUueCk7aS5tdWx0aXBseVNjYWxhcih0LmNvbHVtblBpeGVsU3BhY2luZ3x8MSk7dmFyIGw9YS5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKGUueSk7bC5tdWx0aXBseVNjYWxhcih0LnJvd1BpeGVsU3BhY2luZ3x8MSk7dmFyIHU9aS5hZGQobCk7cmV0dXJuIHUuYWRkKHIpLHV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRUb29sT3B0aW9ucz10LnNldFRvb2xPcHRpb25zPXQudmVyc2lvbj10LmFkYXB0aXZlQnJ1c2g9dC5icnVzaD10Lnpvb21Ub3VjaERyYWc9dC56b29tVG91Y2hQaW5jaD10Lnpvb21XaGVlbD10Lnpvb209dC53d3djUmVnaW9uVG91Y2g9dC53d3djUmVnaW9uPXQud3d3Y1RvdWNoRHJhZz10Lnd3d2M9dC50b3VjaFRvb2w9dC50b3VjaFBpbmNoVG9vbD10LnRvdWNoRHJhZ1Rvb2w9dC50ZXh0TWFya2VyVG91Y2g9dC50ZXh0TWFya2VyPXQuc2ltcGxlTW91c2VCdXR0b25Ub29sPXQuc2ltcGxlQW5nbGVUb3VjaD10LnNpbXBsZUFuZ2xlPXQuc2VlZEFubm90YXRlVG91Y2g9dC5zZWVkQW5ub3RhdGU9dC5zY2FsZU92ZXJsYXlUb29sPXQuc2F2ZUFzPXQucm90YXRlVG91Y2g9dC5yb3RhdGVUb3VjaERyYWc9dC5yb3RhdGU9dC5yZWN0YW5nbGVSb2lUb3VjaD10LnJlY3RhbmdsZVJvaT10LnByb2JlVG91Y2g9dC5wcm9iZT10LnBhbk11bHRpVG91Y2g9dC5wYW5Ub3VjaERyYWc9dC5wYW49dC5vcmllbnRhdGlvbk1hcmtlcnM9dC5tdWx0aVRvdWNoRHJhZ1Rvb2w9dC5tb3VzZVdoZWVsVG9vbD10Lm1vdXNlQnV0dG9uVG9vbD10Lm1vdXNlQnV0dG9uUmVjdGFuZ2xlVG9vbD10Lm1hZ25pZnlUb3VjaERyYWc9dC5tYWduaWZ5PXQubGVuZ3RoVG91Y2g9dC5sZW5ndGg9dC5rZXlib2FyZFRvb2w9dC5pbWFnZVN0YXRzPXQuaGlnaGxpZ2h0VG91Y2g9dC5oaWdobGlnaHQ9dC5mcmVlaGFuZFNjdWxwdGVyPXQuZnJlZWhhbmQ9dC5lcmFzZXJUb3VjaD10LmVyYXNlcj10LmVsbGlwdGljYWxSb2lUb3VjaD10LmVsbGlwdGljYWxSb2k9dC5kcmFnUHJvYmVUb3VjaD12b2lkIDAsdC5kcmFnUHJvYmU9dC5kb3VibGVUYXBab29tPXQuZG91YmxlVGFwVG9vbD10LmRpc3BsYXlUb29sPXQuY3Jvc3NoYWlyc1RvdWNoPXQuY3Jvc3NoYWlycz10LmFycm93QW5ub3RhdGVUb3VjaD10LmFycm93QW5ub3RhdGU9dC5hbmdsZVRvdWNoPXQuYW5nbGU9dC50b3VjaElucHV0PXQucHJldmVudEdob3N0Q2xpY2s9dC5tb3VzZVdoZWVsSW5wdXQ9dC5tb3VzZUlucHV0PXQua2V5Ym9hcmRJbnB1dD10LnRvdWNoTW92ZUhhbmRsZT10LnRvdWNoTW92ZUFsbEhhbmRsZXM9dC5tb3ZlTmV3SGFuZGxlVG91Y2g9dC5tb3ZlTmV3SGFuZGxlPXQubW92ZUhhbmRsZT10Lm1vdmVBbGxIYW5kbGVzPXQuaGFuZGxlQWN0aXZhdG9yPXQuZ2V0SGFuZGxlTmVhckltYWdlUG9pbnQ9dC5kcmF3SGFuZGxlcz10LmFueUhhbmRsZXNPdXRzaWRlSW1hZ2U9dC5zdG9wQ2xpcD10LnBsYXlDbGlwPXQuc3RhY2tSZW5kZXJlcnM9dC5zY3JvbGxJbmRpY2F0b3I9dC5zdGFja1ByZWZldGNoPXQuc3RhY2tTY3JvbGxNdWx0aVRvdWNoPXQuc3RhY2tTY3JvbGxUb3VjaERyYWc9dC5zdGFja1Njcm9sbFdoZWVsPXQuc3RhY2tTY3JvbGw9dC5zdGFja1Njcm9sbEtleWJvYXJkPXQuYXBwU3RhdGU9dC5nbG9iYWxGcmFtZU9mUmVmZXJlbmNlU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyPXQubmV3RnJhbWVPZlJlZmVyZW5jZVNwZWNpZmljVG9vbFN0YXRlTWFuYWdlcj10Lmdsb2JhbEltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI9dC5uZXdJbWFnZUlkU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyPXQubG9hZEhhbmRsZXJNYW5hZ2VyPXQuYWRkU3RhY2tTdGF0ZU1hbmFnZXI9dC5uZXdTdGFja1NwZWNpZmljVG9vbFN0YXRlTWFuYWdlcj10LnN0YWNrU3BlY2lmaWNTdGF0ZU1hbmFnZXI9dC50ZXh0U3R5bGU9dC5uZXdUaW1lU2VyaWVzU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyPXQuYWRkVGltZVNlcmllc1N0YXRlTWFuYWdlcj10LnRvb2xDb2xvcnM9dC50b29sQ29vcmRpbmF0ZXM9dC5nZXRFbGVtZW50VG9vbFN0YXRlTWFuYWdlcj10LnNldEVsZW1lbnRUb29sU3RhdGVNYW5hZ2VyPXQuY2xlYXJUb29sU3RhdGU9dC5yZW1vdmVUb29sU3RhdGU9dC5nZXRUb29sU3RhdGU9dC5hZGRUb29sU3RhdGU9dC50b29sU3R5bGU9dC5wYW5ab29tU3luY2hyb25pemVyPXQuc3RhY2tJbWFnZUluZGV4U3luY2hyb25pemVyPXQuc3RhY2tJbWFnZVBvc2l0aW9uT2Zmc2V0U3luY2hyb25pemVyPXQuc3RhY2tJbWFnZVBvc2l0aW9uU3luY2hyb25pemVyPXQuc3RhY2tTY3JvbGxTeW5jaHJvbml6ZXI9dC5TeW5jaHJvbml6ZXI9dC51cGRhdGVJbWFnZVN5bmNocm9uaXplcj10Lnd3d2NTeW5jaHJvbml6ZXI9dC50aW1lU2VyaWVzU2Nyb2xsVG91Y2hEcmFnPXQudGltZVNlcmllc1Njcm9sbFdoZWVsPXQudGltZVNlcmllc1Njcm9sbD10LnRpbWVTZXJpZXNQbGF5ZXI9dC5pbmNyZW1lbnRUaW1lUG9pbnQ9dC5wcm9iZVRvb2w0RD10LmNhbGN1bGF0ZUVsbGlwc2VTdGF0aXN0aWNzPXQuY2FsY3VsYXRlU1VWPXQuY29weVBvaW50cz10LmRyYXdBcnJvdz10LmRyYXdDaXJjbGU9dC5kcmF3RWxsaXBzZT10LmRyYXdUZXh0Qm94PXQuZ2V0THVtaW5hbmNlPXQuaXNNb2JpbGVEZXZpY2U9dC5nZXRCcm93c2VySW5mbz10LmdldE1heFNpbXVsdGFuZW91c1JlcXVlc3RzPXQuZ2V0RGVmYXVsdFNpbXVsdGFuZW91c1JlcXVlc3RzPXQuZ2V0UkdCUGl4ZWxzPXQuaXNNb3VzZUJ1dHRvbkVuYWJsZWQ9dC5tYWtlVW5zZWxlY3RhYmxlPXQucG9pbnRJbkVsbGlwc2U9dC5wb2ludEluc2lkZUJvdW5kaW5nQm94PXQucGxhbmVQbGFuZUludGVyc2VjdGlvbj10LmltYWdlUG9pbnRUb1BhdGllbnRQb2ludD10LnByb2plY3RQYXRpZW50UG9pbnRUb0ltYWdlUGxhbmU9dC5yb3VuZFRvRGVjaW1hbD10LnNjcm9sbD10LnNjcm9sbFRvSW5kZXg9dC5zZXRDb250ZXh0VG9EaXNwbGF5Rm9udFNpemU9dC5yZXF1ZXN0UG9vbE1hbmFnZXI9dC5vcmllbnRhdGlvbj10LnJlZmVyZW5jZUxpbmVzPXQuRVZFTlRTPXQuZXh0ZXJuYWw9dC5kcmF3aW5nPXZvaWQgMDt2YXIgYT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZXh0ZXJuYWxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoYSkuZGVmYXVsdH19KTt2YXIgbz1uKDEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiRVZFTlRTXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KG8pLmRlZmF1bHR9fSk7dmFyIHI9bigxNDQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicmVmZXJlbmNlTGluZXNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQocikuZGVmYXVsdH19KTt2YXIgaT1uKDY2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm9yaWVudGF0aW9uXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGkpLmRlZmF1bHR9fSk7dmFyIGw9big0NSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJyZXF1ZXN0UG9vbE1hbmFnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQobCkuZGVmYXVsdH19KTt2YXIgdT1uKDE0MCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzZXRDb250ZXh0VG9EaXNwbGF5Rm9udFNpemVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQodSkuZGVmYXVsdH19KTt2YXIgZD1uKDY1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNjcm9sbFRvSW5kZXhcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoZCkuZGVmYXVsdH19KTt2YXIgcz1uKDQ0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNjcm9sbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChzKS5kZWZhdWx0fX0pO3ZhciBjPW4oNDMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicm91bmRUb0RlY2ltYWxcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoYykuZGVmYXVsdH19KTt2YXIgZj1uKDQ2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb2plY3RQYXRpZW50UG9pbnRUb0ltYWdlUGxhbmVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5wcm9qZWN0UGF0aWVudFBvaW50VG9JbWFnZVBsYW5lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiaW1hZ2VQb2ludFRvUGF0aWVudFBvaW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGYuaW1hZ2VQb2ludFRvUGF0aWVudFBvaW50fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicGxhbmVQbGFuZUludGVyc2VjdGlvblwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmLnBsYW5lUGxhbmVJbnRlcnNlY3Rpb259fSk7dmFyIHY9bigyMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwb2ludEluc2lkZUJvdW5kaW5nQm94XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KHYpLmRlZmF1bHR9fSk7dmFyIGc9big0Mik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwb2ludEluRWxsaXBzZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChnKS5kZWZhdWx0fX0pO3ZhciBtPW4oMTM5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm1ha2VVbnNlbGVjdGFibGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQobSkuZGVmYXVsdH19KTt2YXIgaD1uKDUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiaXNNb3VzZUJ1dHRvbkVuYWJsZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoaCkuZGVmYXVsdH19KTt2YXIgcD1uKDQxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImdldFJHQlBpeGVsc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChwKS5kZWZhdWx0fX0pO3ZhciBFPW4oMzMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0RGVmYXVsdFNpbXVsdGFuZW91c1JlcXVlc3RzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEUuZ2V0RGVmYXVsdFNpbXVsdGFuZW91c1JlcXVlc3RzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0TWF4U2ltdWx0YW5lb3VzUmVxdWVzdHNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRS5nZXRNYXhTaW11bHRhbmVvdXNSZXF1ZXN0c319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImdldEJyb3dzZXJJbmZvXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEUuZ2V0QnJvd3NlckluZm99fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJpc01vYmlsZURldmljZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBFLmlzTW9iaWxlRGV2aWNlfX0pO3ZhciBUPW4oNjQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0THVtaW5hbmNlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KFQpLmRlZmF1bHR9fSk7dmFyIHk9bigxMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkcmF3VGV4dEJveFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdCh5KS5kZWZhdWx0fX0pO3ZhciBNPW4oMTM4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRyYXdFbGxpcHNlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KE0pLmRlZmF1bHR9fSk7dmFyIF89bigxMzcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZHJhd0NpcmNsZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChfKS5kZWZhdWx0fX0pO3ZhciBTPW4oNjMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZHJhd0Fycm93XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KFMpLmRlZmF1bHR9fSk7dmFyIHg9big0MCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjb3B5UG9pbnRzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KHgpLmRlZmF1bHR9fSk7dmFyIE89bigyMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjYWxjdWxhdGVTVVZcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoTykuZGVmYXVsdH19KTt2YXIgYj1uKDYyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNhbGN1bGF0ZUVsbGlwc2VTdGF0aXN0aWNzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGIpLmRlZmF1bHR9fSk7dmFyIEM9bigxMzYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvYmVUb29sNERcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoQykuZGVmYXVsdH19KTt2YXIgUD1uKDM3KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImluY3JlbWVudFRpbWVQb2ludFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChQKS5kZWZhdWx0fX0pO3ZhciBJPW4oMTMzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRpbWVTZXJpZXNQbGF5ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoSSkuZGVmYXVsdH19KTt2YXIgTD1uKDEzMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ0aW1lU2VyaWVzU2Nyb2xsXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwudGltZVNlcmllc1Njcm9sbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRpbWVTZXJpZXNTY3JvbGxXaGVlbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBMLnRpbWVTZXJpZXNTY3JvbGxXaGVlbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRpbWVTZXJpZXNTY3JvbGxUb3VjaERyYWdcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC50aW1lU2VyaWVzU2Nyb2xsVG91Y2hEcmFnfX0pO3ZhciB3PW4oMTMxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInd3d2NTeW5jaHJvbml6ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQodykuZGVmYXVsdH19KTt2YXIgRD1uKDEzMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ1cGRhdGVJbWFnZVN5bmNocm9uaXplclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChEKS5kZWZhdWx0fX0pO3ZhciBVPW4oMTI5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlN5bmNocm9uaXplclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChVKS5kZWZhdWx0fX0pO3ZhciBBPW4oMTI4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInN0YWNrU2Nyb2xsU3luY2hyb25pemVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KEEpLmRlZmF1bHR9fSk7dmFyIGs9bigxMjcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3RhY2tJbWFnZVBvc2l0aW9uU3luY2hyb25pemVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGspLmRlZmF1bHR9fSk7dmFyIFI9bigxMjYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3RhY2tJbWFnZVBvc2l0aW9uT2Zmc2V0U3luY2hyb25pemVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KFIpLmRlZmF1bHR9fSk7dmFyIE49bigxMjUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3RhY2tJbWFnZUluZGV4U3luY2hyb25pemVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KE4pLmRlZmF1bHR9fSk7dmFyIEg9bigxMjQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicGFuWm9vbVN5bmNocm9uaXplclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChIKS5kZWZhdWx0fX0pO3ZhciBqPW4oMTQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidG9vbFN0eWxlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGopLmRlZmF1bHR9fSk7dmFyIFY9bigyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImFkZFRvb2xTdGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBWLmFkZFRvb2xTdGF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImdldFRvb2xTdGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBWLmdldFRvb2xTdGF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInJlbW92ZVRvb2xTdGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBWLnJlbW92ZVRvb2xTdGF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNsZWFyVG9vbFN0YXRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFYuY2xlYXJUb29sU3RhdGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzZXRFbGVtZW50VG9vbFN0YXRlTWFuYWdlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBWLnNldEVsZW1lbnRUb29sU3RhdGVNYW5hZ2VyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0RWxlbWVudFRvb2xTdGF0ZU1hbmFnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVi5nZXRFbGVtZW50VG9vbFN0YXRlTWFuYWdlcn19KTt2YXIgQj1uKDM5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRvb2xDb29yZGluYXRlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChCKS5kZWZhdWx0fX0pO3ZhciBXPW4oNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ0b29sQ29sb3JzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KFcpLmRlZmF1bHR9fSk7dmFyIEc9bigxMjMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiYWRkVGltZVNlcmllc1N0YXRlTWFuYWdlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBHLmFkZFRpbWVTZXJpZXNTdGF0ZU1hbmFnZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJuZXdUaW1lU2VyaWVzU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEcubmV3VGltZVNlcmllc1NwZWNpZmljVG9vbFN0YXRlTWFuYWdlcn19KTt2YXIgRj1uKDIxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRleHRTdHlsZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChGKS5kZWZhdWx0fX0pO3ZhciB6PW4oMTIyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInN0YWNrU3BlY2lmaWNTdGF0ZU1hbmFnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gei5zdGFja1NwZWNpZmljU3RhdGVNYW5hZ2VyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibmV3U3RhY2tTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gei5uZXdTdGFja1NwZWNpZmljVG9vbFN0YXRlTWFuYWdlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImFkZFN0YWNrU3RhdGVNYW5hZ2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHouYWRkU3RhY2tTdGF0ZU1hbmFnZXJ9fSk7dmFyIEs9bigxMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJsb2FkSGFuZGxlck1hbmFnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoSykuZGVmYXVsdH19KTt2YXIgWT1uKDI2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm5ld0ltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gWS5uZXdJbWFnZUlkU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2xvYmFsSW1hZ2VJZFNwZWNpZmljVG9vbFN0YXRlTWFuYWdlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBZLmdsb2JhbEltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXJ9fSk7dmFyIHE9bigxMjEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibmV3RnJhbWVPZlJlZmVyZW5jZVNwZWNpZmljVG9vbFN0YXRlTWFuYWdlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBxLm5ld0ZyYW1lT2ZSZWZlcmVuY2VTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJnbG9iYWxGcmFtZU9mUmVmZXJlbmNlU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHEuZ2xvYmFsRnJhbWVPZlJlZmVyZW5jZVNwZWNpZmljVG9vbFN0YXRlTWFuYWdlcn19KTt2YXIgWD1uKDEyMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJhcHBTdGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChYKS5kZWZhdWx0fX0pO3ZhciBKPW4oMTE5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInN0YWNrU2Nyb2xsS2V5Ym9hcmRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoSikuZGVmYXVsdH19KTt2YXIgWj1uKDExOCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzdGFja1Njcm9sbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBaLnN0YWNrU2Nyb2xsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3RhY2tTY3JvbGxXaGVlbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBaLnN0YWNrU2Nyb2xsV2hlZWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzdGFja1Njcm9sbFRvdWNoRHJhZ1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBaLnN0YWNrU2Nyb2xsVG91Y2hEcmFnfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3RhY2tTY3JvbGxNdWx0aVRvdWNoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFouc3RhY2tTY3JvbGxNdWx0aVRvdWNofX0pO3ZhciBRPW4oMTE3KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInN0YWNrUHJlZmV0Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoUSkuZGVmYXVsdH19KTt2YXIgJD1uKDExNik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzY3JvbGxJbmRpY2F0b3JcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoJCkuZGVmYXVsdH19KTt2YXIgZWU9bigxMTUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3RhY2tSZW5kZXJlcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoZWUpLmRlZmF1bHR9fSk7dmFyIHRlPW4oMTEzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInBsYXlDbGlwXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRlLnBsYXlDbGlwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic3RvcENsaXBcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGUuc3RvcENsaXB9fSk7dmFyIG5lPW4oMTUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiYW55SGFuZGxlc091dHNpZGVJbWFnZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChuZSkuZGVmYXVsdH19KTt2YXIgYWU9big5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRyYXdIYW5kbGVzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGFlKS5kZWZhdWx0fX0pO3ZhciBvZT1uKDI1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImdldEhhbmRsZU5lYXJJbWFnZVBvaW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KG9lKS5kZWZhdWx0fX0pO3ZhciByZT1uKDMyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImhhbmRsZUFjdGl2YXRvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChyZSkuZGVmYXVsdH19KTt2YXIgaWU9bigzOCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJtb3ZlQWxsSGFuZGxlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChpZSkuZGVmYXVsdH19KTt2YXIgbGU9bigzMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJtb3ZlSGFuZGxlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGxlKS5kZWZhdWx0fX0pO3ZhciB1ZT1uKDMwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm1vdmVOZXdIYW5kbGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQodWUpLmRlZmF1bHR9fSk7dmFyIGRlPW4oMjgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibW92ZU5ld0hhbmRsZVRvdWNoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGRlKS5kZWZhdWx0fX0pO3ZhciBzZT1uKDYwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRvdWNoTW92ZUFsbEhhbmRsZXNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoc2UpLmRlZmF1bHR9fSk7dmFyIGNlPW4oNTkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidG91Y2hNb3ZlSGFuZGxlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGNlKS5kZWZhdWx0fX0pO3ZhciBmZT1uKDExMik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJrZXlib2FyZElucHV0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGZlKS5kZWZhdWx0fX0pO3ZhciB2ZT1uKDExMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJtb3VzZUlucHV0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KHZlKS5kZWZhdWx0fX0pO3ZhciBnZT1uKDExMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJtb3VzZVdoZWVsSW5wdXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoZ2UpLmRlZmF1bHR9fSk7dmFyIG1lPW4oNTgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJldmVudEdob3N0Q2xpY2tcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQobWUpLmRlZmF1bHR9fSk7dmFyIGhlPW4oMTA5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRvdWNoSW5wdXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoaGUpLmRlZmF1bHR9fSk7dmFyIHBlPW4oMTA4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImFuZ2xlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBlLmFuZ2xlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiYW5nbGVUb3VjaFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwZS5hbmdsZVRvdWNofX0pO3ZhciBFZT1uKDEwNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJhcnJvd0Fubm90YXRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEVlLmFycm93QW5ub3RhdGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJhcnJvd0Fubm90YXRlVG91Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRWUuYXJyb3dBbm5vdGF0ZVRvdWNofX0pO3ZhciBUZT1uKDEwNSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjcm9zc2hhaXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFRlLmNyb3NzaGFpcnN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjcm9zc2hhaXJzVG91Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVGUuY3Jvc3NoYWlyc1RvdWNofX0pO3ZhciB5ZT1uKDI0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRpc3BsYXlUb29sXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KHllKS5kZWZhdWx0fX0pO3ZhciBNZT1uKDU3KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRvdWJsZVRhcFRvb2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoTWUpLmRlZmF1bHR9fSk7dmFyIF9lPW4oMTA0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRvdWJsZVRhcFpvb21cIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoX2UpLmRlZmF1bHR9fSk7dmFyIFNlPW4oMTAzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRyYWdQcm9iZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBTZS5kcmFnUHJvYmV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkcmFnUHJvYmVUb3VjaFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBTZS5kcmFnUHJvYmVUb3VjaH19KTt2YXIgeGU9bigxMDIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZWxsaXB0aWNhbFJvaVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB4ZS5lbGxpcHRpY2FsUm9pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZWxsaXB0aWNhbFJvaVRvdWNoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHhlLmVsbGlwdGljYWxSb2lUb3VjaH19KTt2YXIgT2U9bigxMDEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZXJhc2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9lLmVyYXNlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImVyYXNlclRvdWNoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9lLmVyYXNlclRvdWNofX0pO3ZhciBiZT1uKDIzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImZyZWVoYW5kXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGJlLmZyZWVoYW5kfX0pO3ZhciBDZT1uKDUyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImZyZWVoYW5kU2N1bHB0ZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ2UuZnJlZWhhbmRTY3VscHRlcn19KTt2YXIgUGU9big5Mik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJoaWdobGlnaHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUGUuaGlnaGxpZ2h0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiaGlnaGxpZ2h0VG91Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUGUuaGlnaGxpZ2h0VG91Y2h9fSk7dmFyIEllPW4oOTEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiaW1hZ2VTdGF0c1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChJZSkuZGVmYXVsdH19KTt2YXIgTGU9big2MSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJrZXlib2FyZFRvb2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoTGUpLmRlZmF1bHR9fSk7dmFyIHdlPW4oOTApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibGVuZ3RoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHdlLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImxlbmd0aFRvdWNoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHdlLmxlbmd0aFRvdWNofX0pO3ZhciBEZT1uKDg5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm1hZ25pZnlcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRGUubWFnbmlmeX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm1hZ25pZnlUb3VjaERyYWdcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRGUubWFnbmlmeVRvdWNoRHJhZ319KTt2YXIgVWU9big1MSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJtb3VzZUJ1dHRvblJlY3RhbmdsZVRvb2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoVWUpLmRlZmF1bHR9fSk7dmFyIEFlPW4oMTApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibW91c2VCdXR0b25Ub29sXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KEFlKS5kZWZhdWx0fX0pO3ZhciBrZT1uKDI5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm1vdXNlV2hlZWxUb29sXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGtlKS5kZWZhdWx0fX0pO3ZhciBSZT1uKDM2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm11bHRpVG91Y2hEcmFnVG9vbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChSZSkuZGVmYXVsdH19KTt2YXIgTmU9big4OCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJvcmllbnRhdGlvbk1hcmtlcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoTmUpLmRlZmF1bHR9fSk7dmFyIEhlPW4oODcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicGFuXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhlLnBhbn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInBhblRvdWNoRHJhZ1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBIZS5wYW5Ub3VjaERyYWd9fSk7dmFyIGplPW4oODYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicGFuTXVsdGlUb3VjaFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChqZSkuZGVmYXVsdH19KTt2YXIgVmU9big4NSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm9iZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBWZS5wcm9iZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb2JlVG91Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVmUucHJvYmVUb3VjaH19KTt2YXIgQmU9big4NCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJyZWN0YW5nbGVSb2lcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQmUucmVjdGFuZ2xlUm9pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicmVjdGFuZ2xlUm9pVG91Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQmUucmVjdGFuZ2xlUm9pVG91Y2h9fSk7dmFyIFdlPW4oODMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicm90YXRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFdlLnJvdGF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInJvdGF0ZVRvdWNoRHJhZ1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBXZS5yb3RhdGVUb3VjaERyYWd9fSk7dmFyIEdlPW4oODIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicm90YXRlVG91Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoR2UpLmRlZmF1bHR9fSk7dmFyIEZlPW4oODEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic2F2ZUFzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KEZlKS5kZWZhdWx0fX0pO3ZhciB6ZT1uKDgwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNjYWxlT3ZlcmxheVRvb2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoemUpLmRlZmF1bHR9fSk7dmFyIEtlPW4oNzkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic2VlZEFubm90YXRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEtlLnNlZWRBbm5vdGF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNlZWRBbm5vdGF0ZVRvdWNoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEtlLnNlZWRBbm5vdGF0ZVRvdWNofX0pO3ZhciBZZT1uKDc4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNpbXBsZUFuZ2xlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFllLnNpbXBsZUFuZ2xlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic2ltcGxlQW5nbGVUb3VjaFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBZZS5zaW1wbGVBbmdsZVRvdWNofX0pO3ZhciBxZT1uKDE2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNpbXBsZU1vdXNlQnV0dG9uVG9vbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChxZSkuZGVmYXVsdH19KTt2YXIgWGU9big3Nyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ0ZXh0TWFya2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFhlLnRleHRNYXJrZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ0ZXh0TWFya2VyVG91Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gWGUudGV4dE1hcmtlclRvdWNofX0pO3ZhciBKZT1uKDE4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInRvdWNoRHJhZ1Rvb2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoSmUpLmRlZmF1bHR9fSk7dmFyIFplPW4oNTApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidG91Y2hQaW5jaFRvb2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbHQoWmUpLmRlZmF1bHR9fSk7dmFyIFFlPW4oMTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidG91Y2hUb29sXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx0KFFlKS5kZWZhdWx0fX0pO3ZhciAkZT1uKDc2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInd3d2NcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJGUud3d3Y319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInd3d2NUb3VjaERyYWdcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJGUud3d3Y1RvdWNoRHJhZ319KTt2YXIgZXQ9big3NSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3d3djUmVnaW9uXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV0Lnd3d2NSZWdpb259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3d3djUmVnaW9uVG91Y2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZXQud3d3Y1JlZ2lvblRvdWNofX0pO3ZhciB0dD1uKDc0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInpvb21cIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdHQuem9vbX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInpvb21XaGVlbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0dC56b29tV2hlZWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ6b29tVG91Y2hQaW5jaFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0dC56b29tVG91Y2hQaW5jaH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInpvb21Ub3VjaERyYWdcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdHQuem9vbVRvdWNoRHJhZ319KTt2YXIgbnQ9big3Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJicnVzaFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBudC5icnVzaH19KTt2YXIgYXQ9big3MCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJhZGFwdGl2ZUJydXNoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF0LmFkYXB0aXZlQnJ1c2h9fSk7dmFyIG90PW4oNjkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidmVyc2lvblwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdChvdCkuZGVmYXVsdH19KTt2YXIgcnQ9big0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNldFRvb2xPcHRpb25zXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ0LnNldFRvb2xPcHRpb25zfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0VG9vbE9wdGlvbnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcnQuZ2V0VG9vbE9wdGlvbnN9fSk7dmFyIGl0PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0obigzKSk7ZnVuY3Rpb24gbHQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZHJhd2luZz1pdH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbil7dmFyIGE9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjAsbz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06MCxyPU1hdGgucm91bmQoYSksaT1NYXRoLnJvdW5kKG8pO2lmKDE9PT1lKXJldHVybltbcixpXV07Zm9yKHZhciBsPVtdLHU9MCxkPS1lO2Q8PWU7ZCsrKXt2YXIgcz1pK2Q7aWYoIShzPnR8fHM8MCkpZm9yKHZhciBjPS1lO2M8PWU7YysrKXt2YXIgZj1yK2M7Zj5ufHxmPDB8fGMqYytkKmQ8ZSplJiYobFt1KytdPVtyK2MsaStkXSl9fXJldHVybiBsfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnRvb2xUeXBlO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9ZS5kZXRhaWwsbj0hMTtuPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZSxuPSExOzEwOT09PXR8fDE3Mz09PXQ/KG0oKSxuPSEwKTo2MSE9PXQmJjEwNyE9PXR8fChnKCksbj0hMCk7cmV0dXJuIG59KHQpfHxuLChuPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZSxuPSExOzIxOT09PXQ/KHAoKSxuPSEwKToyMjE9PT10JiYoaCgpLG49ITApO3JldHVybiBufSh0KXx8bikmJm8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0LmVsZW1lbnQpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9Ty5nZXRDb25maWd1cmF0aW9uKCksbj1vLmRlZmF1bHQuY29ybmVyc3RvbmUuY29sb3JzLmdldENvbG9ybWFwKHQuY29sb3JtYXBJZCk7dC5kcmF3PWU7dmFyIGE9bi5nZXRDb2xvcih0LmRyYXcpO3QuaG92ZXJDb2xvcj1cInJnYmEoXCIrYVtbMF1dK1wiLCBcIithW1sxXV0rXCIsIFwiK2FbWzJdXStcIiwgMS4wIClcIix0LmRyYWdDb2xvcj1cInJnYmEoXCIrYVtbMF1dK1wiLCBcIithW1sxXV0rXCIsIFwiK2FbWzJdXStcIiwgMC44IClcIn1mdW5jdGlvbiBnKCl7dmFyIGU9Ty5nZXRDb25maWd1cmF0aW9uKCk7ZS5yYWRpdXM9KDAsZC5kZWZhdWx0KShlLnJhZGl1cysxLGUubWluUmFkaXVzLGUubWF4UmFkaXVzKX1mdW5jdGlvbiBtKCl7dmFyIGU9Ty5nZXRDb25maWd1cmF0aW9uKCk7ZS5yYWRpdXM9KDAsZC5kZWZhdWx0KShlLnJhZGl1cy0xLGUubWluUmFkaXVzLGUubWF4UmFkaXVzKX1mdW5jdGlvbiBoKCl7dmFyIGU9Ty5nZXRDb25maWd1cmF0aW9uKCksdD1FKCksbj1lLmRyYXcrMTtuPT09dCYmKG49MCkscyhuKX1mdW5jdGlvbiBwKCl7dmFyIGU9Ty5nZXRDb25maWd1cmF0aW9uKCksdD1FKCksbj1lLmRyYXctMTtuPDAmJihuPXQtMSkscyhuKX1mdW5jdGlvbiBFKCl7dmFyIGU9Ty5nZXRDb25maWd1cmF0aW9uKCksdD1vLmRlZmF1bHQuY29ybmVyc3RvbmUuY29sb3JzLmdldENvbG9ybWFwKGUuY29sb3JtYXBJZCk7cmV0dXJuIHQuZ2V0TnVtYmVyT2ZDb2xvcnMoKX1mdW5jdGlvbiBUKHQpe2Uub25Nb3VzZU1vdmUodCl9ZnVuY3Rpb24geSh0KXt2YXIgbj10LmRldGFpbCxvPW4uZWxlbWVudDtlLm9uTW91c2VVcCh0KSxvLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsVCksby5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLE0pLG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAseSksby5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyx5KX1mdW5jdGlvbiBNKHQpe3JldHVybiBlLm9uRHJhZyh0KSwhMX1mdW5jdGlvbiBfKHQpe2Uub25Nb3VzZURvdWJsZUNsaWNrKHQpfWZ1bmN0aW9uIFMobil7dmFyIG89bi5kZXRhaWwscj1vLmVsZW1lbnQsaT0oMCx1LmdldFRvb2xPcHRpb25zKSh0LHIpO2lmKCgwLGwuZGVmYXVsdCkoby53aGljaCxpLm1vdXNlQnV0dG9uTWFzaykpcmV0dXJuIHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxNKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLHkpLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0sseSksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1VCTEVfQ0xJQ0ssXyksZS5vbk1vdXNlRG93bihuKSwhMTtyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsVCksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCx5KX1mdW5jdGlvbiB4KHQpe3ZhciBuPXQuZGV0YWlsLGE9bi5lbGVtZW50LGk9KDAsci5nZXRUb29sU3RhdGUpKGEsYyksbD12b2lkIDA7aT9sPWkuZGF0YVswXS5waXhlbERhdGE6KGw9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KG4uaW1hZ2Uud2lkdGgqbi5pbWFnZS5oZWlnaHQpLCgwLHIuYWRkVG9vbFN0YXRlKShhLGMse3BpeGVsRGF0YTpsfSkpO3ZhciB1PW8uZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRMYXllcihuLmVsZW1lbnQsZik7dS5pbWFnZS5zZXRQaXhlbERhdGEobCksdS5pbnZhbGlkPSEwLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShhKSxlLm9uSW1hZ2VSZW5kZXJlZCh0KX12YXIgTz0oMCxpLmRlZmF1bHQpKHttb3VzZU1vdmVDYWxsYmFjazpULG1vdXNlRG93bkFjdGl2YXRlQ2FsbGJhY2s6UyxvbkltYWdlUmVuZGVyZWQ6eCxkZWFjdGl2YXRlOmZ1bmN0aW9uKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELHgpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxTKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsVCksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1VCTEVfQ0xJQ0ssXyksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5LRVlfRE9XTixuKSxlLmFkZEV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCx4KSxPLmdldENvbmZpZ3VyYXRpb24oKS5hY3RpdmU9ITF9fSk7cmV0dXJuIE8ua2V5RG93bkNhbGxiYWNrPW4sTy5hY3RpdmF0ZT1mdW5jdGlvbihlLGkpeygwLHUuc2V0VG9vbE9wdGlvbnMpKHQsZSx7bW91c2VCdXR0b25NYXNrOml9KSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCx4KSxlLmFkZEV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCx4KSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUsUyksZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLFMpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxUKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsVCksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5LRVlfRE9XTixuKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LktFWV9ET1dOLG4pO3ZhciBsPW8uZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRFbmFibGVkRWxlbWVudChlKSxkPWwuaW1hZ2Uscz1kLndpZHRoLGc9ZC5oZWlnaHQsbT1uZXcgVWludDhDbGFtcGVkQXJyYXkocypnKSxoPU8uZ2V0Q29uZmlndXJhdGlvbigpO2guYWN0aXZlPSEwO3ZhciBwPWguY29sb3JtYXBJZDtpZighcCl7dmFyIEU9Ty5nZXRDb25maWd1cmF0aW9uKCk7KGZ1bmN0aW9uKGUpe3ZhciB0PW8uZGVmYXVsdC5jb3JuZXJzdG9uZS5jb2xvcnMuZ2V0Q29sb3JtYXAoZSk7dC5zZXROdW1iZXJPZkNvbG9ycygyMCksdC5zZXRDb2xvcigwLFsyNTUsMjU1LDI1NSwwXSksdC5zZXRDb2xvcigxLFsyMzAsMjUsNzUsMTAyXSksdC5zZXRDb2xvcigyLFs2MCwxODAsMTc1LDEwMl0pLHQuc2V0Q29sb3IoMyxbMjU1LDIyNSwyNSwxMDJdKSx0LnNldENvbG9yKDQsWzAsMTMwLDIwMCwxMDJdKSx0LnNldENvbG9yKDUsWzI0NSwxMzAsNDgsMTAyXSksdC5zZXRDb2xvcig2LFsxNDUsMzAsMTgwLDEwMl0pLHQuc2V0Q29sb3IoNyxbNzAsMjQwLDI0MCwxMDJdKSx0LnNldENvbG9yKDgsWzI0MCw1MCwyMzAsMTAyXSksdC5zZXRDb2xvcig5LFsyMTAsMjQ1LDYwLDEwMl0pLHQuc2V0Q29sb3IoMTAsWzI1MCwxOTAsMTkwLDEwMl0pLHQuc2V0Q29sb3IoMTEsWzAsMTI4LDEyOCwxMDJdKSx0LnNldENvbG9yKDEyLFsyMzAsMTkwLDI1NSwxMDJdKSx0LnNldENvbG9yKDEzLFsxNzAsMTEwLDQwLDEwMl0pLHQuc2V0Q29sb3IoMTQsWzI1NSwyNTAsMjAwLDEwMl0pLHQuc2V0Q29sb3IoMTUsWzEyOCwwLDAsMTAyXSksdC5zZXRDb2xvcigxNixbMTcwLDI1NSwxOTUsMTAyXSksdC5zZXRDb2xvcigxNyxbMTI4LDEyOCwwLDEwMl0pLHQuc2V0Q29sb3IoMTgsWzI1NSwyMTUsMTgwLDEwMl0pLHQuc2V0Q29sb3IoMTksWzAsMCwxMjgsMTAyXSl9KShwPVwiQnJ1c2hDb2xvck1hcFwiKSxFLmNvbG9ybWFwSWQ9cH12YXIgeT17bWluUGl4ZWxWYWx1ZTowLG1heFBpeGVsVmFsdWU6MSxzbG9wZToxLGludGVyY2VwdDowLGdldFBpeGVsRGF0YTpmdW5jdGlvbigpe3JldHVybiBtfSxyb3dzOmwuaW1hZ2UuaGVpZ2h0LGNvbHVtbnM6bC5pbWFnZS53aWR0aCxoZWlnaHQ6Zyx3aWR0aDpzLHBpeGVsRGF0YTptLHNldFBpeGVsRGF0YTpmdW5jdGlvbihlKXttPWV9LGNvbG9ybWFwOnAsY29sb3I6ITEscmdiYTohMSxsYWJlbG1hcDohMCxpbnZlcnQ6ITEsY29sdW1uUGl4ZWxTcGFjaW5nOjEscm93UGl4ZWxTcGFjaW5nOjEsc2l6ZUluQnl0ZXM6bC5pbWFnZS53aWR0aCpsLmltYWdlLmhlaWdodH0sTT12b2lkIDA7dnx8KHY9by5kZWZhdWx0LmNvcm5lcnN0b25lLmFkZExheWVyKGUsby5kZWZhdWx0LmNvcm5lcnN0b25lLmdldEVuYWJsZWRFbGVtZW50KGUpLmltYWdlKSksZiYmKE09by5kZWZhdWx0LmNvcm5lcnN0b25lLmdldExheWVyKGUsZikpLE18fChmPW8uZGVmYXVsdC5jb3JuZXJzdG9uZS5hZGRMYXllcihlLHkse3ZpZXdwb3J0OntwaXhlbFJlcGxpY2F0aW9uOiEwfX0pKSwoMCxyLmFkZFRvb2xTdGF0ZSkoZSxjLHtwaXhlbERhdGE6bX0pLGguYnJ1c2hMYXllcklkPWYsTy5zZXRDb25maWd1cmF0aW9uKGgpLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShlKX0sTy5jaGFuZ2VEcmF3Q29sb3I9cyxPLmluY3JlYXNlUmFkaXVzPWcsTy5kZWNyZWFzZVJhZGl1cz1tLE8ubmV4dFNlZ21lbnRhdGlvbj1oLE8ucHJldmlvdXNTZWdtZW50YXRpb249cCxPfTt2YXIgYT1zKG4oMSkpLG89cyhuKDApKSxyPW4oMiksaT1zKG4oMTApKSxsPXMobig1KSksdT1uKDQpLGQ9cyhuKDgpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz1cImJydXNoXCIsZj12b2lkIDAsdj12b2lkIDB9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJue2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuVE9VQ0hfUElOQ0gsZSksdC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5UT1VDSF9QSU5DSCxlKX0sZGlzYWJsZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LlRPVUNIX1BJTkNILGUpfSxlbmFibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5UT1VDSF9QSU5DSCxlKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LlRPVUNIX1BJTkNILGUpfX19O3ZhciBhLG89bigxKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPWUudG9vbFR5cGU7ZnVuY3Rpb24gZyhvKXt2YXIgcj1vLmRldGFpbCxpPXIuZWxlbWVudCxsPSgwLHYuZ2V0VG9vbE9wdGlvbnMpKG4saSk7aWYoKDAsYy5kZWZhdWx0KShyLndoaWNoLGwubW91c2VCdXR0b25NYXNrKSlyZXR1cm4gZnVuY3Rpb24obyl7dmFyIHI9by5lbGVtZW50LGk9ZS5jcmVhdGVOZXdNZWFzdXJlbWVudChvKTtpJiYoKDAsZi5hZGRUb29sU3RhdGUpKG8uZWxlbWVudCxuLGkpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxtKSwoMCx1LmRlZmF1bHQpKG8sbixpLGkuaGFuZGxlcy5lbmQsZnVuY3Rpb24oKXtpLmFjdGl2ZT0hMSwoMCxzLmRlZmF1bHQpKG8saS5oYW5kbGVzKSYmKDAsZi5yZW1vdmVUb29sU3RhdGUpKG8uZWxlbWVudCxuLGkpLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxtKX0sdCkpfShyKSwhMX1mdW5jdGlvbiBtKHQpe3ZhciBhPXQuZGV0YWlsO3IuZGVmYXVsdC5zZXRDb29yZHMoYSk7dmFyIGk9KDAsZi5nZXRUb29sU3RhdGUpKGEuZWxlbWVudCxuKTtpZih2b2lkIDAhPT1pKXtmb3IodmFyIHU9ITEsZD1hLmN1cnJlbnRQb2ludHMuY2FudmFzLHM9MDtzPGkuZGF0YS5sZW5ndGg7cysrKXt2YXIgYz1pLmRhdGFbc107ITA9PT0oMCxsLmRlZmF1bHQpKGEuZWxlbWVudCxjLmhhbmRsZXMsZCkmJih1PSEwKSwoZS5wb2ludEluc2lkZVJlY3QoYS5lbGVtZW50LGMsZCkmJiFjLmFjdGl2ZXx8IWUucG9pbnRJbnNpZGVSZWN0KGEuZWxlbWVudCxjLGQpJiZjLmFjdGl2ZSkmJihjLmFjdGl2ZT0hYy5hY3RpdmUsdT0hMCl9ITA9PT11JiZvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoYS5lbGVtZW50KX19ZnVuY3Rpb24gaChyKXt2YXIgbD1yLmRldGFpbCxnPWwuZWxlbWVudCxoPW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxwPXZvaWQgMCxFPSgwLHYuZ2V0VG9vbE9wdGlvbnMpKG4sZyk7aWYoKDAsYy5kZWZhdWx0KShsLndoaWNoLEUubW91c2VCdXR0b25NYXNrKSl7dmFyIFQ9bC5zdGFydFBvaW50cy5jYW52YXMseT0oMCxmLmdldFRvb2xTdGF0ZSkoci5jdXJyZW50VGFyZ2V0LG4pLE09dm9pZCAwO2lmKHZvaWQgMCE9PXkpZm9yKE09MDtNPHkuZGF0YS5sZW5ndGg7TSsrKXtwPXkuZGF0YVtNXTt2YXIgXz0oMCxpLmRlZmF1bHQpKGwuZWxlbWVudCxwLmhhbmRsZXMsVCwyNSk7aWYodm9pZCAwIT09XylyZXR1cm4gZy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLG0pLHAuYWN0aXZlPSEwLCgwLHUuZGVmYXVsdCkobCxuLHAsXyx4LHQpLHIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITF9dmFyIFM9e2RlbGV0ZUlmSGFuZGxlT3V0c2lkZUltYWdlOiEwLHByZXZlbnRIYW5kbGVPdXRzaWRlSW1hZ2U6dH07aWYodm9pZCAwIT09eSYmdm9pZCAwIT09ZS5wb2ludEluc2lkZVJlY3QpZm9yKE09MDtNPHkuZGF0YS5sZW5ndGg7TSsrKWlmKHA9eS5kYXRhW01dLGUucG9pbnRJbnNpZGVSZWN0KGwuZWxlbWVudCxwLFQpKXJldHVybiBnLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsbSksKDAsZC5kZWZhdWx0KShyLHAseSxuLFMseCksZy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLG0pLHIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITF9ZnVuY3Rpb24geCgpe3AuYWN0aXZlPSExLCgwLHMuZGVmYXVsdCkobCxwLmhhbmRsZXMpJiYoMCxmLnJlbW92ZVRvb2xTdGF0ZSkobC5lbGVtZW50LG4scCksaC51cGRhdGVJbWFnZShsLmVsZW1lbnQpLGcuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxtKX19cmV0dXJue2VuYWJsZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxlLm9uSW1hZ2VSZW5kZXJlZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLG0pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixoKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUsZyksdC5hZGRFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0KX0sZGlzYWJsZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxlLm9uSW1hZ2VSZW5kZXJlZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLG0pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixoKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUsZyksby5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKHQpfSxhY3RpdmF0ZTpmdW5jdGlvbih0LHIpeygwLHYuc2V0VG9vbE9wdGlvbnMpKG4sdCx7bW91c2VCdXR0b25NYXNrOnJ9KSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxlLm9uSW1hZ2VSZW5kZXJlZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLG0pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixoKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUsZyksdC5hZGRFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxtKSx0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04saCksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLGcpLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0KX0sZGVhY3RpdmF0ZTpmdW5jdGlvbih0LHIpeygwLHYuc2V0VG9vbE9wdGlvbnMpKG4sdCx7bW91c2VCdXR0b25NYXNrOnJ9KSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxlLm9uSW1hZ2VSZW5kZXJlZCksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLG0pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixoKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUsZyksdC5hZGRFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsZS5vbkltYWdlUmVuZGVyZWQpLHQuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxtKSx0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04saCksby5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKHQpfX19O3ZhciBhPWcobigxKSksbz1nKG4oMCkpLHI9ZyhuKDM5KSksaT1nKG4oMjUpKSxsPWcobigzMikpLHU9ZyhuKDMxKSksZD1nKG4oMzgpKSxzPWcobigxNSkpLGM9ZyhuKDUpKSxmPW4oMiksdj1uKDQpO2Z1bmN0aW9uIGcoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZnJlZWhhbmRTY3VscHRlcj12b2lkIDA7dmFyIGE9ZyhuKDEpKSxvPWcobigwKSkscj1uKDIzKSxpPWcobig3KSksbD1nKG4oOSkpLHU9ZyhuKDUpKSxkPW4oMikscz1uKDQpLGM9big4KSxmPW4oNTUpLHY9big1Myk7ZnVuY3Rpb24gZyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIG09bmV3KG4oOTMpLlNjdWxwdGVyKSxoPVwiZnJlZWhhbmRTY3VscHRlclwiLHA9XCJmcmVlaGFuZFwiLEU9e21vdXNlTG9jYXRpb246e2hhbmRsZXM6e3N0YXJ0OntoaWdobGlnaHQ6ITAsYWN0aXZlOiEwfX19LGtleURvd246e3NoaWZ0OiExLGN0cmw6ITEsYWx0OiExfSxhY3RpdmU6ITEsbWluU3BhY2luZzo1LG1heFNwYWNpbmc6MjAsdG9vbFNpemVJbWFnZTpudWxsLHRvb2xTaXplQ2FudmFzOm51bGwsY3VycmVudFRvb2w6bnVsbCxjb2xvcjppLmRlZmF1bHQuZ2V0QWN0aXZlQ29sb3IoKX07ZnVuY3Rpb24gVChlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxyPSgwLHMuZ2V0VG9vbE9wdGlvbnMpKGgsbiksaT1QLmdldENvbmZpZ3VyYXRpb24oKSxsPSExO2lmKCEoMCx1LmRlZmF1bHQpKHQud2hpY2gsci5tb3VzZUJ1dHRvbk1hc2spKXJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO3QuZXZlbnQuY3RybEtleT8oIWZ1bmN0aW9uKGUpe3ZhciB0PVAuZ2V0Q29uZmlndXJhdGlvbigpLG49ZS5lbGVtZW50LGE9bmV3IHYuRnJlZWhhbmRMaW5lRmluZGVyKGUpLmZpbmRUb29sKCk7dC5jdXJyZW50VG9vbD1hLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSgwLGQuZ2V0VG9vbFN0YXRlKShlLHApLGE9MDthPG4uZGF0YS5sZW5ndGg7YSsrKW4uZGF0YVthXS5hY3RpdmU9YT09PXR9KG4sYSl9KHQpLGw9ITApOm51bGwhPT1pLmN1cnJlbnRUb29sJiYoIWZ1bmN0aW9uKGUpe3ZhciB0PVAuZ2V0Q29uZmlndXJhdGlvbigpLG49ZS5lbGVtZW50OyhmdW5jdGlvbihlKXtmb3IodmFyIHQ9UC5nZXRDb25maWd1cmF0aW9uKCksbj10LmN1cnJlbnRUb29sLGE9KDAsZC5nZXRUb29sU3RhdGUpKGUuZWxlbWVudCxwKS5kYXRhW25dLmhhbmRsZXMscj1lLmN1cnJlbnRQb2ludHMuaW1hZ2UsaT1lLmN1cnJlbnRQb2ludHMuY2FudmFzLGw9MS8wLHU9MS8wLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGM9YVtzXSxmPW8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuZGlzdGFuY2UoYyxyKTtpZihmPGwpe2w9Zjt2YXIgdj1vLmRlZmF1bHQuY29ybmVyc3RvbmUucGl4ZWxUb0NhbnZhcyhlLmVsZW1lbnQsYVtzXSk7dT1vLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LmRpc3RhbmNlKHYsaSl9fXQudG9vbFNpemVJbWFnZT1sLHQudG9vbFNpemVDYW52YXM9dX0pKGUpLHQuYWN0aXZlPSEwLHgoZSksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxNKSxuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0NMSUNLLE0pLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyx5KX0odCksbD0hMCksbCYmby5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKHQuZWxlbWVudCl9ZnVuY3Rpb24geShlKXt2YXIgdD1lLmRldGFpbCxuPSgwLGQuZ2V0VG9vbFN0YXRlKSh0LmVsZW1lbnQscCk7aWYobil7dmFyIGE9UC5nZXRDb25maWd1cmF0aW9uKCkscj1uLmRhdGFbYS5jdXJyZW50VG9vbF0uaGFuZGxlczt4KHQpLG0uc2N1bHB0KHQsciksby5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKHQuZWxlbWVudCl9fWZ1bmN0aW9uIE0oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQscj1QLmdldENvbmZpZ3VyYXRpb24oKTtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLE0pLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyx5KSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0NMSUNLLE0pLHIuYWN0aXZlPSExLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGZ1bmN0aW9uKGUpe3ZhciB0PVAuZ2V0Q29uZmlndXJhdGlvbigpLG49ZS5lbGVtZW50OygwLGQuZ2V0VG9vbFN0YXRlKShuLHApLmRhdGFbdC5jdXJyZW50VG9vbF0uaW52YWxpZGF0ZWQ9ITAsby5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKG4pfSh0KX1mdW5jdGlvbiBfKGUpe1MoZS5kZXRhaWwuZWxlbWVudCl9ZnVuY3Rpb24gUyhlKXt2YXIgdD1QLmdldENvbmZpZ3VyYXRpb24oKSxuPSgwLGQuZ2V0VG9vbFN0YXRlKShlLHApO2lmKHQuY3VycmVudFRvb2w9bnVsbCxuKWZvcih2YXIgYT0wO2E8bi5kYXRhLmxlbmd0aDthKyspbi5kYXRhW2FdLmFjdGl2ZT0hMTtvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoZSl9ZnVuY3Rpb24geChlKXt2YXIgdD1QLmdldENvbmZpZ3VyYXRpb24oKTt0Lm1vdXNlTG9jYXRpb24uaGFuZGxlcy5zdGFydC54PWUuY3VycmVudFBvaW50cy5pbWFnZS54LHQubW91c2VMb2NhdGlvbi5oYW5kbGVzLnN0YXJ0Lnk9ZS5jdXJyZW50UG9pbnRzLmltYWdlLnksKDAsYy5jbGlwVG9Cb3gpKHQubW91c2VMb2NhdGlvbi5oYW5kbGVzLnN0YXJ0LGUuaW1hZ2UpfWZ1bmN0aW9uIE8oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmNhbnZhc0NvbnRleHQuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxhPVAuZ2V0Q29uZmlndXJhdGlvbigpO2lmKGEuYWN0aXZlKXt2YXIgbz17ZmlsbDpudWxsLGhhbmRsZVJhZGl1czphLnRvb2xTaXplQ2FudmFzfTsoMCxsLmRlZmF1bHQpKG4sdCxhLm1vdXNlTG9jYXRpb24uaGFuZGxlcyxhLmNvbG9yLG8pfX1mdW5jdGlvbiBiKGUpe1MoZSksQyhlKX1mdW5jdGlvbiBDKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELE8pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixUKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcseSksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxNKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LktFWV9ET1dOLGYua2V5RG93bkNhbGxiYWNrKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LktFWV9VUCxmLmtleVVwQ2FsbGJhY2spLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLk5FV19JTUFHRSxfKX12YXIgUD17ZW5hYmxlOmZ1bmN0aW9uKGUpe2IoZSl9LGRpc2FibGU6YixhY3RpdmF0ZTpmdW5jdGlvbihlLHQpeygwLHMuc2V0VG9vbE9wdGlvbnMpKGgsZSx7bW91c2VCdXR0b25NYXNrOnR9KSxyLmZyZWVoYW5kLmVuYWJsZShlKSxDKGUpLGUuYWRkRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELE8pLGUuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixUKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LktFWV9ET1dOLGYua2V5RG93bkNhbGxiYWNrKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LktFWV9VUCxmLmtleVVwQ2FsbGJhY2spLGUuYWRkRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLk5FV19JTUFHRSxfKSxlLmZvY3VzKCksby5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKGUpfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKGUpe2IoZSl9LGdldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gRX0sc2V0Q29uZmlndXJhdGlvbjpmdW5jdGlvbihlKXtFPWV9fTt0LmZyZWVoYW5kU2N1bHB0ZXI9UH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuRnJlZWhhbmRMaW5lRmluZGVyPXZvaWQgMDt2YXIgYSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgYT10W25dO2EuZW51bWVyYWJsZT1hLmVudW1lcmFibGV8fCExLGEuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGEmJihhLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxhLmtleSxhKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxhJiZlKHQsYSksdH19KCkscj1uKDIpLGk9bigwKSxsPShhPWkpJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfSx1PW4oOTcpO3QuRnJlZWhhbmRMaW5lRmluZGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuX2V2ZW50RGF0YT10fXJldHVybiBvKGUsW3trZXk6XCJmaW5kTGluZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5maW5kVG9vbCgpO2lmKG51bGw9PT1lKXJldHVybiBudWxsO3ZhciB0PXRoaXMuX2dldENsb3NlTGluZXNJblRvb2woZSk7cmV0dXJuIHQ/dGhpcy5fZmluZENvcnJlY3RMaW5lKGUsdCk6bnVsbH19LHtrZXk6XCJmaW5kVG9vbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rvb2xEYXRhPSgwLHIuZ2V0VG9vbFN0YXRlKSh0aGlzLl9ldmVudERhdGEuZWxlbWVudCxcImZyZWVoYW5kXCIpLHRoaXMuX21vdXNlUG9pbnQ9dGhpcy5fZXZlbnREYXRhLmN1cnJlbnRQb2ludHMuY2FudmFzLHRoaXMuX3Rvb2xEYXRhP3RoaXMuX25lYXJlc3RIYW5kbGVUb1BvaW50QWxsVG9vbHMoKS50b29sSW5kZXg6bnVsbH19LHtrZXk6XCJfbmVhcmVzdEhhbmRsZVRvUG9pbnRBbGxUb29sc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX3Rvb2xEYXRhLHQ9e3Rvb2xJbmRleDpudWxsLGhhbmRsZUluZGV4Om51bGwsZGlzdGFuY2U6MS8wfSxuPTA7bjxlLmRhdGEubGVuZ3RoO24rKyl7dmFyIGE9dGhpcy5fbmVhcmVzdEhhbmRsZVRvUG9pbnQobik7bnVsbCE9PWEmJihhLmRpc3RhbmNlPHQuZGlzdGFuY2UmJih0PWEpKX1yZXR1cm4gdH19LHtrZXk6XCJfbmVhcmVzdEhhbmRsZVRvUG9pbnRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9ldmVudERhdGEsbj10aGlzLl90b29sRGF0YS5kYXRhW2VdO2lmKHZvaWQgMD09PW4uaGFuZGxlcylyZXR1cm4gbnVsbDtpZighMT09PW4udmlzaWJsZSlyZXR1cm4gbnVsbDtmb3IodmFyIGE9e3Rvb2xJbmRleDplLGhhbmRsZUluZGV4Om51bGwsZGlzdGFuY2U6MS8wfSxvPTA7bzxuLmhhbmRsZXMubGVuZ3RoO28rKyl7dmFyIHI9bC5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXModC5lbGVtZW50LG4uaGFuZGxlc1tvXSksaT1sLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LmRpc3RhbmNlKHIsdGhpcy5fbW91c2VQb2ludCk7aTxhLmRpc3RhbmNlJiYoYS5oYW5kbGVJbmRleD1vLGEuZGlzdGFuY2U9aSl9cmV0dXJuIGF9fSx7a2V5OlwiX2dldENsb3NlTGluZXNJblRvb2xcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcy5fdG9vbERhdGEuZGF0YVt0XS5oYW5kbGVzLGE9W10sbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcj1lLmdldE5leHRIYW5kbGVJbmRleChvLG4ubGVuZ3RoKTt0aGlzLl9kaXN0YW5jZU9mUG9pbnRmcm9tTGluZShuW29dLG5bcl0pPDEwJiZhLnB1c2goW28scl0pfXJldHVybiBhfX0se2tleTpcIl9maW5kQ29ycmVjdExpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRoaXMuX3BvaW50UHJvamVjdHNUb0xpbmVTZWdtZW50KGUsdFtuXSkpcmV0dXJuIG5ldyB1LkNsaWNrZWRMaW5lRGF0YShlLHRbbl0pO3JldHVybiBudWxsfX0se2tleTpcIl9wb2ludFByb2plY3RzVG9MaW5lU2VnbWVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsbil7dmFyIGE9dGhpcy5fZXZlbnREYXRhLG89dGhpcy5fdG9vbERhdGEuZGF0YVt0XTtpZih2b2lkIDAhPT1vLmhhbmRsZXMpe2lmKCExPT09by52aXNpYmxlKXJldHVybiExO3ZhciByPW8uaGFuZGxlc1tuWzBdXSxpPW8uaGFuZGxlc1tuWzFdXSxsPWUuZ2V0Q2FudmFzUG9pbnRzRnJvbUhhbmRsZXMocixpLGEuZWxlbWVudCksdT1lLmdldExpbmVBc1ZlY3RvcihsKSxkPXRoaXMuX2dldExpbmVPcmlnaW5Ub01vdXNlQXNWZWN0b3IobCkscz0oZFswXSp1WzBdK2RbMV0qdVsxXSkvdS5tYWduaXR1ZGU7cmV0dXJuIHM+MCYmczx1Lm1hZ25pdHVkZX19fSx7a2V5OlwiX2dldExpbmVPcmlnaW5Ub01vdXNlQXNWZWN0b3JcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm5bdGhpcy5fbW91c2VQb2ludC54LWVbMF0ueCx0aGlzLl9tb3VzZVBvaW50LnktZVswXS55XX19LHtrZXk6XCJfZGlzdGFuY2VPZlBvaW50ZnJvbUxpbmVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2V2ZW50RGF0YSxhPWwuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKG4uZWxlbWVudCxlKSxvPWwuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKG4uZWxlbWVudCx0KSxyPXRoaXMuX21vdXNlUG9pbnQ7cmV0dXJuIE1hdGguYWJzKChvLnktYS55KSpyLngtKG8ueC1hLngpKnIueStvLngqYS55LW8ueSphLngpL2wuZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuZGlzdGFuY2UoYSxvKX19XSxbe2tleTpcImdldENhbnZhc1BvaW50c0Zyb21IYW5kbGVzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPVtdO3JldHVybiBlLng8dC54PyhhLnB1c2gobC5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXMobixlKSksYS5wdXNoKGwuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKG4sdCkpKTooYS5wdXNoKGwuZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKG4sdCkpLGEucHVzaChsLmRlZmF1bHQuY29ybmVyc3RvbmUucGl4ZWxUb0NhbnZhcyhuLGUpKSksYX19LHtrZXk6XCJnZXRMaW5lQXNWZWN0b3JcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bZVsxXS54LWVbMF0ueCxlWzFdLnktZVswXS55XTtyZXR1cm4gdC5tYWduaXR1ZGU9bC5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5kaXN0YW5jZShlWzBdLGVbMV0pLHR9fSx7a2V5OlwiZ2V0TmV4dEhhbmRsZUluZGV4XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTx0LTE/ZSsxOjB9fV0pLGV9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUsdCxuLGEpe2Zvcih2YXIgaT1lLmxlbmd0aC0xLGw9MDtsPGUubGVuZ3RoO2wrKylpZigtMT09PWEuaW5kZXhPZihsKSYmLTE9PT1hLmluZGV4T2YoaSkpe2lmKG8odCxuLHIoZVtpXSkscihlW2xdKSkpcmV0dXJuITA7aT1sfWVsc2UgaT1sO3JldHVybiExfWZ1bmN0aW9uIG8oZSx0LG4sYSl7dmFyIG89ITEscj1baShlLHQsbiksaShlLHQsYSksaShuLGEsZSksaShuLGEsdCldO3JldHVybiByWzBdIT09clsxXSYmclsyXSE9PXJbM118fCgwPT09clswXSYmbChlLG4sdCk/bz0hMDowPT09clsxXSYmbChlLGEsdCk/bz0hMDowPT09clsyXSYmbChuLGUsYSk/bz0hMDowPT09clszXSYmbChuLHQsYSkmJihvPSEwKSxvKX1mdW5jdGlvbiByKGUpe3JldHVybnt4OmUueCx5OmUueX19ZnVuY3Rpb24gaShlLHQsbil7dmFyIGE9KHQueS1lLnkpKihuLngtdC54KS0odC54LWUueCkqKG4ueS10LnkpO3JldHVybiAwPT09YT8wOmE+MD8xOjJ9ZnVuY3Rpb24gbChlLHQsbil7cmV0dXJuIHQueDw9TWF0aC5tYXgoZS54LG4ueCkmJnQueD49TWF0aC5taW4oZS54LG4ueCkmJnQueTw9TWF0aC5tYXgoZS55LG4ueSkmJnQueT49TWF0aC5taW4oZS55LG4ueSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHU9e25ld0hhbmRsZTpmdW5jdGlvbihlLHQpe3ZhciBuPXQubGVuZ3RoLTE7cmV0dXJuIGEodCxyKHRbbl0pLHIoZSksW25dKX0sZW5kOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoLTE7cmV0dXJuIGEoZSxyKGVbdF0pLHIoZVswXSksW3QsMF0pfSxtb2RpZnk6ZnVuY3Rpb24oZSx0KXt2YXIgbj1yKGVbdF0pLG89dC0xOzA9PT10JiYobz1lLmxlbmd0aC0xKTt2YXIgaT1yKGVbb10pO3JldHVybiEhYShlLG4saSxbdCxvXSl8fGEoZSxuLGk9cihlW289dD09PWUubGVuZ3RoLTE/MDp0KzFdKSxbdCxvXSl9fTt0LmRlZmF1bHQ9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQua2V5RG93bkNhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49aS5mcmVlaGFuZC5nZXRDb25maWd1cmF0aW9uKCksYT10LmtleUNvZGUsbz0hMTthPT09bC5DVFJMJiYobi5rZXlEb3duLmN0cmw9ITAsbz0hMCk7YT09PWwuU0hJRlQmJihuLmtleURvd24uc2hpZnQ9ITApO2E9PT1sLkFMVCYmKG4ua2V5RG93bi5hbHQ9ITApO28mJnIuZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0LmVsZW1lbnQpfSx0LmtleVVwQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj1pLmZyZWVoYW5kLmdldENvbmZpZ3VyYXRpb24oKSxhPXQua2V5Q29kZSxvPSExO2E9PT1sLkNUUkwmJihuLmtleURvd24uY3RybD0hMSxvPSEwKTthPT09bC5TSElGVCYmKG4ua2V5RG93bi5zaGlmdD0hMSk7YT09PWwuQUxUJiYobi5rZXlEb3duLmFsdD0hMSk7byYmci5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKHQuZWxlbWVudCl9O3ZhciBhLG89bigwKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfSxpPW4oMjMpO3ZhciBsPXtTSElGVDoxNixDVFJMOjE3LEFMVDoxOH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJzaW1wbGVUb3VjaFRvb2w6IHRvb2xUeXBlIGlzIHJlcXVpcmVkXCIpO3ZhciBuPXt9O3JldHVybnthY3RpdmF0ZTpmdW5jdGlvbihuKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307KDAsaS5zZXRUb29sT3B0aW9ucykodCxuLGEpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuVE9VQ0hfU1RBUlQsZSksbi5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5UT1VDSF9TVEFSVCxlKX0sZGlzYWJsZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LlRPVUNIX1NUQVJULGUpfSxlbmFibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5UT1VDSF9TVEFSVCxlKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LlRPVUNIX1NUQVJULGUpfSxnZXRDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG59LHNldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oZSl7bj1lfX19O3ZhciBhLG89bigxKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfSxpPW4oNCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJue2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuRE9VQkxFX1RBUCxlKSx0LmFkZEV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LkRPVUJMRV9UQVAsZSl9LGRpc2FibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5ET1VCTEVfVEFQLGUpfSxlbmFibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5ET1VCTEVfVEFQLGUpfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuRE9VQkxFX1RBUCxlKX19fTt2YXIgYSxvPW4oMSkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT0yZTMsbz17bW91c2U6MCx0b3VjaDoxfSxyPXZvaWQgMCxpPXZvaWQgMDtmdW5jdGlvbiBsKGUsdCl7dmFyIG49RGF0ZS5ub3coKTtpZihlIT09cil7aWYobi1pPD1hKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExO3I9ZX1pPW59dmFyIHU9bC5iaW5kKG51bGwsby5tb3VzZSksZD1sLmJpbmQobnVsbCxvLnRvdWNoKTtmdW5jdGlvbiBzKGUsdCxuKXt2YXIgYT1uP3U6ZDt0LmZvckVhY2goZnVuY3Rpb24odCl7ZS5hZGRFdmVudExpc3RlbmVyKHQsYSl9KX1mdW5jdGlvbiBjKGUsdCxuKXt2YXIgYT1uP3U6ZDt0LmZvckVhY2goZnVuY3Rpb24odCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsYSl9KX12YXIgZj1bXCJtb3VzZWRvd25cIixcIm1vdXNldXBcIl0sdj1bXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaGVuZFwiXTtmdW5jdGlvbiBnKGUpe2MoZSxmLG8ubW91c2UpLGMoZSx2LG8udG91Y2gpfXZhciBtPXtlbmFibGU6ZnVuY3Rpb24oZSl7ZyhlKSxzKGUsZixvLm1vdXNlKSxzKGUsdixvLnRvdWNoKX0sZGlzYWJsZTpnfTt0LmRlZmF1bHQ9bX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbixpLGQpe2wudmFsdWU9ITA7dmFyIHM9ZS5kZXRhaWwsYz1vLmRlZmF1bHQuY29ybmVyc3RvbmUsZj1zLmVsZW1lbnQsdj1jLmdldEVuYWJsZWRFbGVtZW50KGYpLGc9KChuZXcgRGF0ZSkuZ2V0VGltZSgpLC01NyksbT17eDpzLmN1cnJlbnRQb2ludHMucGFnZS54LHk6cy5jdXJyZW50UG9pbnRzLnBhZ2UueStnfSxoPWMucGFnZVRvUGl4ZWwoZixtLngsbS55KTtmdW5jdGlvbiBwKGUpe3ZhciBvPWUuZGV0YWlsO2wudmFsdWU9ITEsITE9PT1pLmhhc01vdmVkJiYoaS5oYXNNb3ZlZD0hMCksaS5hY3RpdmU9ITA7dmFyIHU9by5jdXJyZW50UG9pbnRzLGQ9e3g6dS5wYWdlLngseTp1LnBhZ2UueStnfTtoPWMucGFnZVRvUGl4ZWwoZixkLngsZC55KSxpLng9aC54LGkueT1oLnksYy51cGRhdGVJbWFnZShmKTt2YXIgcz1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfTU9ESUZJRUQsdj17dG9vbFR5cGU6dCxlbGVtZW50OmYsbWVhc3VyZW1lbnREYXRhOm59OygwLHIuZGVmYXVsdCkoZixzLHYpfWZ1bmN0aW9uIEUoZSl7dmFyIHQ9ZS5kZXRhaWw7bC52YWx1ZT0hMSxpLmFjdGl2ZT0hMSxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcscCksdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2YucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLEUpfSksYy51cGRhdGVJbWFnZShmKSxlLnR5cGU9PT1hLmRlZmF1bHQuVE9VQ0hfUFJFU1MmJih0LmhhbmRsZVByZXNzZWQ9bixpLng9cy5jdXJyZW50UG9pbnRzLmltYWdlLngsaS55PXMuY3VycmVudFBvaW50cy5pbWFnZS55KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkJiZkKGUpfWYuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBRyxwKSx1LmZvckVhY2goZnVuY3Rpb24oZSl7Zi5hZGRFdmVudExpc3RlbmVyKGUsRSl9KSxmdW5jdGlvbiBlKHQsbixhLHIsaSl7aWYoIWEudmFsdWUpcmV0dXJuO3ZhciBsPW8uZGVmYXVsdC5jb3JuZXJzdG9uZTt2YXIgdT0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgZD1NYXRoLmFicyhuLnktaS55KTt2YXIgcz1kLzEwO2lmKGQ8MSlyZXR1cm4gbi55PWkueSx2b2lkKGEudmFsdWU9ITEpO24ueT5pLnk/bi55LT1zOm4ueTxpLnkmJihuLnkrPXMpO2wudXBkYXRlSW1hZ2Uoci5lbGVtZW50KTtsLnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2UodSxuLGEscixpKX0pfSgwLGksbCx2LGgpfTt2YXIgYT1pKG4oMSkpLG89aShuKDApKSxyPWkobig2KSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGw9e3ZhbHVlOiExfSx1PVthLmRlZmF1bHQuVE9VQ0hfRU5ELGEuZGVmYXVsdC5UT1VDSF9EUkFHX0VORCxhLmRlZmF1bHQuVE9VQ0hfUElOQ0gsYS5kZWZhdWx0LlRPVUNIX1BSRVNTLGEuZGVmYXVsdC5UQVBdfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLHUsZCxzKXt2YXIgYz1lLmRldGFpbC5lbGVtZW50LGY9by5kZWZhdWx0LmNvcm5lcnN0b25lO2Z1bmN0aW9uIHYoZSl7dmFyIG49ZS5kZXRhaWw7dC5hY3RpdmU9ITAsT2JqZWN0LmtleXModC5oYW5kbGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBhPXQuaGFuZGxlc1tlXTshMCE9PWEubW92ZXNJbmRlcGVuZGVudGx5JiYoYS54Kz1uLmRlbHRhUG9pbnRzLmltYWdlLngsYS55Kz1uLmRlbHRhUG9pbnRzLmltYWdlLnkpfSksZi51cGRhdGVJbWFnZShjKTt2YXIgbz1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfTU9ESUZJRUQscj17dG9vbFR5cGU6dSxlbGVtZW50OmMsbWVhc3VyZW1lbnREYXRhOnR9OygwLGwuZGVmYXVsdCkoYyxvLHIpLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpfWZ1bmN0aW9uIGcoZSl7dmFyIG49ZS5kZXRhaWw7dC5hY3RpdmU9ITEsdC5pbnZhbGlkYXRlZD0hMSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcsdiksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9QSU5DSCxnKSxjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1BSRVNTLGcpLGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRU5ELGcpLGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBR19FTkQsZyksYy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZyk7dmFyIG89KDAsci5kZWZhdWx0KShuLHQuaGFuZGxlcyk7ITA9PT1kJiYhMD09PW8mJigwLGkucmVtb3ZlVG9vbFN0YXRlKShjLHUsdCksZi51cGRhdGVJbWFnZShjKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiZzKGUpfXJldHVybiBjLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcsdiksYy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9QSU5DSCxnKSxjLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1BSRVNTLGcpLGMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRU5ELGcpLGMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBR19FTkQsZyksYy5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsZyksITB9O3ZhciBhPXUobigxKSksbz11KG4oMCkpLHI9dShuKDE1KSksaT1uKDIpLGw9dShuKDYpKTtmdW5jdGlvbiB1KGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJue2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLmRlZmF1bHQuS0VZX0RPV04sZSksdC5hZGRFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5LRVlfRE9XTixlKX0sZGlzYWJsZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LktFWV9ET1dOLGUpfSxlbmFibGU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHIuZGVmYXVsdC5LRVlfRE9XTixlKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5kZWZhdWx0LktFWV9ET1dOLGUpfSxnZXRDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LHNldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oZSl7dD1lfX19O3ZhciBhLG89bigxKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLGE9MCxvPTAsaT0wLGw9dC50b3A7bDx0LnRvcCt0LmhlaWdodDtsKyspZm9yKHZhciB1PXQubGVmdDt1PHQubGVmdCt0LndpZHRoO3UrKyl7dmFyIGQ9e3g6dSx5Omx9OygwLHIuZGVmYXVsdCkodCxkKSYmKG4rPWVbaV0sYSs9ZVtpXSplW2ldLG8rKyksaSsrfWlmKDA9PT1vKXJldHVybntjb3VudDpvLG1lYW46MCx2YXJpYW5jZTowLHN0ZERldjowfTt2YXIgcz1uL28sYz1hL28tcypzO3JldHVybntjb3VudDpvLG1lYW46cyx2YXJpYW5jZTpjLHN0ZERldjpNYXRoLnNxcnQoYyl9fTt2YXIgYSxvPW4oNDIpLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLG8scil7dmFyIGk9TWF0aC5hdGFuMihuLnktdC55LG4ueC10LngpLGw9e2NvbG9yOm8sbGluZVdpZHRoOnJ9OygwLGEuZHJhd0xpbmUpKGUsdm9pZCAwLHQsbixsLFwiY2FudmFzXCIpLGw9e2NvbG9yOm8sbGluZVdpZHRoOnIsZmlsbFN0eWxlOm99O3ZhciB1PVt7eDpuLngtMTAqTWF0aC5jb3MoaS1NYXRoLlBJLzcpLHk6bi55LTEwKk1hdGguc2luKGktTWF0aC5QSS83KX0se3g6bi54LTEwKk1hdGguY29zKGkrTWF0aC5QSS83KSx5Om4ueS0xMCpNYXRoLnNpbihpK01hdGguUEkvNyl9LG5dOygwLGEuZHJhd0pvaW5lZExpbmVzKShlLHZvaWQgMCxuLHUsbCxcImNhbnZhc1wiKX07dmFyIGE9bigzKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbixhLG8pe2lmKCFlKXRocm93IG5ldyBFcnJvcihcImdldEx1bWluYW5jZTogcGFyYW1ldGVyIGVsZW1lbnQgbXVzdCBub3QgYmUgdW5kZWZpbmVkXCIpO3Q9TWF0aC5yb3VuZCh0KSxuPU1hdGgucm91bmQobik7dmFyIGk9ci5kZWZhdWx0LmNvcm5lcnN0b25lLmdldEVuYWJsZWRFbGVtZW50KGUpLmltYWdlLGw9W10sdT0wLGQ9aS5nZXRQaXhlbERhdGEoKSxzPXZvaWQgMCxjPXZvaWQgMCxmPXZvaWQgMDtpZihpLmNvbG9yKWZvcihjPTA7YzxvO2MrKylmb3IoZj0wO2Y8YTtmKyspe3ZhciB2PWRbcz00KigoYytuKSppLmNvbHVtbnMrKGYrdCkpXSxnPWRbcysxXSxtPWRbcysyXTtsW3UrK109LjIxMjYqdisuNzE1MipnKy4wNzIyKm19ZWxzZSBmb3IoYz0wO2M8bztjKyspZm9yKGY9MDtmPGE7ZisrKXM9KGMrbikqaS5jb2x1bW5zKyhmK3QpLGxbdSsrXT1kW3NdKmkuc2xvcGUraS5pbnRlcmNlcHQ7cmV0dXJuIGx9O3ZhciBhLG89bigwKSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPSgwLHIuZ2V0VG9vbFN0YXRlKShlLFwic3RhY2tcIik7aWYobiYmbi5kYXRhJiZuLmRhdGEubGVuZ3RoKXt2YXIgZD1vLmRlZmF1bHQuY29ybmVyc3RvbmUscz12b2lkIDA7aWYobi5kYXRhLmxlbmd0aD4xKXt2YXIgYz0oMCxyLmdldFRvb2xTdGF0ZSkoZSxcInN0YWNrUmVuZGVyZXJcIik7YyYmYy5kYXRhJiZjLmRhdGEubGVuZ3RoJiYocz1jLmRhdGFbMF0pfXZhciBmPW4uZGF0YVswXTt0PDAmJih0Kz1mLmltYWdlSWRzLmxlbmd0aCk7dmFyIHY9bC5kZWZhdWx0LmdldFN0YXJ0TG9hZEhhbmRsZXIoKSxnPWwuZGVmYXVsdC5nZXRFbmRMb2FkSGFuZGxlcigpLG09bC5kZWZhdWx0LmdldEVycm9yTG9hZGluZ0hhbmRsZXIoKTtpZih0IT09Zi5jdXJyZW50SW1hZ2VJZEluZGV4KXt2JiZ2KGUpO3ZhciBoPXtuZXdJbWFnZUlkSW5kZXg6dCxkaXJlY3Rpb246dC1mLmN1cnJlbnRJbWFnZUlkSW5kZXh9O2YuY3VycmVudEltYWdlSWRJbmRleD10O3ZhciBwPWYuaW1hZ2VJZHNbdF07KEJvb2xlYW4oZi5wcmV2ZW50Q2FjaGUpP2QubG9hZEltYWdlKHApOmQubG9hZEFuZENhY2hlSW1hZ2UocCkpLnRoZW4oZnVuY3Rpb24oYSl7aWYoZi5jdXJyZW50SW1hZ2VJZEluZGV4PT09dCl7dHJ5e2QuZ2V0RW5hYmxlZEVsZW1lbnQoZSl9Y2F0Y2goZSl7cmV0dXJufXM/KHMuY3VycmVudEltYWdlSWRJbmRleD10LHMucmVuZGVyKGUsbi5kYXRhKSk6ZC5kaXNwbGF5SW1hZ2UoZSxhKSxnJiZnKGUsYSl9fSxmdW5jdGlvbihuKXt2YXIgYT1mLmltYWdlSWRzW3RdO20mJm0oZSxhLG4pfSksaS5kZWZhdWx0LnN0YXJ0R3JhYmJpbmcoKSwoMCx1LmRlZmF1bHQpKGUsYS5kZWZhdWx0LlNUQUNLX1NDUk9MTCxoKX19fTt2YXIgYT1kKG4oMSkpLG89ZChuKDApKSxyPW4oMiksaT1kKG4oNDUpKSxsPWQobigxMykpLHU9ZChuKDYpKTtmdW5jdGlvbiBkKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1yKG4oMTQyKSksbz1yKG4oMTQxKSk7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGk9e2dldE9yaWVudGF0aW9uU3RyaW5nOmEuZGVmYXVsdCxpbnZlcnRPcmllbnRhdGlvblN0cmluZzpvLmRlZmF1bHR9O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLHUpe3ZhciBkPWEuZGVmYXVsdC5jb3JuZXJzdG9uZSxzPWQuZ2V0RW5hYmxlZEVsZW1lbnQobikuaW1hZ2UsYz1kLmdldEVuYWJsZWRFbGVtZW50KHUpLmltYWdlO2lmKHMmJmMpe3ZhciBmPWQubWV0YURhdGEuZ2V0KFwiaW1hZ2VQbGFuZU1vZHVsZVwiLHMuaW1hZ2VJZCksdj1kLm1ldGFEYXRhLmdldChcImltYWdlUGxhbmVNb2R1bGVcIixjLmltYWdlSWQpO2lmKGYmJnYmJmYucm93Q29zaW5lcyYmZi5jb2x1bW5Db3NpbmVzJiZmLmltYWdlUG9zaXRpb25QYXRpZW50JiZ2LnJvd0Nvc2luZXMmJnYuY29sdW1uQ29zaW5lcyYmdi5pbWFnZVBvc2l0aW9uUGF0aWVudCYmZi5mcmFtZU9mUmVmZXJlbmNlVUlEPT09di5mcmFtZU9mUmVmZXJlbmNlVUlEKXtmLnJvd0Nvc2luZXM9KDAsaS5kZWZhdWx0KShmLnJvd0Nvc2luZXMpLGYuY29sdW1uQ29zaW5lcz0oMCxpLmRlZmF1bHQpKGYuY29sdW1uQ29zaW5lcyksZi5pbWFnZVBvc2l0aW9uUGF0aWVudD0oMCxpLmRlZmF1bHQpKGYuaW1hZ2VQb3NpdGlvblBhdGllbnQpLHYucm93Q29zaW5lcz0oMCxpLmRlZmF1bHQpKHYucm93Q29zaW5lcyksdi5jb2x1bW5Db3NpbmVzPSgwLGkuZGVmYXVsdCkodi5jb2x1bW5Db3NpbmVzKSx2LmltYWdlUG9zaXRpb25QYXRpZW50PSgwLGkuZGVmYXVsdCkodi5pbWFnZVBvc2l0aW9uUGF0aWVudCk7dmFyIGc9Zi5yb3dDb3NpbmVzLmNsb25lKCkuY3Jvc3MoZi5jb2x1bW5Db3NpbmVzKSxtPXYucm93Q29zaW5lcy5jbG9uZSgpLmNyb3NzKHYuY29sdW1uQ29zaW5lcyksaD1nLmFuZ2xlVG8obSk7aWYoISgoaD1NYXRoLmFicyhoKSk8LjUpKXt2YXIgcD0oMCxvLmRlZmF1bHQpKGYsdik7aWYocCl7dmFyIEU9ci5kZWZhdWx0LmdldEFjdGl2ZUNvbG9yKCk7ZS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLCgwLGwuZHJhdykoZSxmdW5jdGlvbihlKXsoMCxsLmRyYXdMaW5lKShlLHQuZWxlbWVudCxwLnN0YXJ0LHAuZW5kLHtjb2xvcjpFfSl9KX19fX19O3ZhciBhPXUobigwKSksbz11KG4oNjgpKSxyPXUobig3KSksaT11KG4oMTkpKSxsPW4oMyk7ZnVuY3Rpb24gdShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG49KDAsYS5wbGFuZVBsYW5lSW50ZXJzZWN0aW9uKShlLHQpO2lmKG4pcmV0dXJue3N0YXJ0OigwLGEucHJvamVjdFBhdGllbnRQb2ludFRvSW1hZ2VQbGFuZSkobi5zdGFydCxlKSxlbmQ6KDAsYS5wcm9qZWN0UGF0aWVudFBvaW50VG9JbWFnZVBsYW5lKShuLmVuZCxlKX19O3ZhciBhPW4oNDYpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PVwiMi40LjBcIn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuYWRhcHRpdmVCcnVzaD12b2lkIDA7dmFyIGE9dShuKDApKSxvPW4oMikscj11KG4oNDkpKSxpPXUobig0OCkpLGw9bigzNCk7ZnVuY3Rpb24gdShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGQ9XCJicnVzaFwiLHM9e2RyYXc6MSxyYWRpdXM6NSx0b2xlcmFuY2U6NSxtaW5SYWRpdXM6MSxtYXhSYWRpdXM6MjAsaG92ZXJDb2xvcjpcInJnYmEoMjMwLCAyNSwgNzUsIDEuMClcIixkcmFnQ29sb3I6XCJyZ2JhKDIzMCwgMjUsIDc1LCAwLjgpXCIsYWN0aXZlOiExfSxjPXZvaWQgMCxmPXZvaWQgMCx2PXZvaWQgMCxnPXZvaWQgMCxtPXZvaWQgMDtmdW5jdGlvbiBoKGUpe3ZhciB0PUUuZ2V0Q29uZmlndXJhdGlvbigpLG49ZS5lbGVtZW50LHI9YS5kZWZhdWx0LmNvcm5lcnN0b25lLmdldExheWVyKG4sdC5icnVzaExheWVySWQpLHU9YS5kZWZhdWx0LmNvcm5lcnN0b25lLmdldExheWVycyhuKVswXSxzPXIuaW1hZ2UsbT1zLnJvd3MsaD1zLmNvbHVtbnMscD0oMCxvLmdldFRvb2xTdGF0ZSkobixkKS5kYXRhWzBdO2c9ZnVuY3Rpb24oZSx0LG4sYSl7Zm9yKHZhciBvPUUuZ2V0Q29uZmlndXJhdGlvbigpLHI9by5kcmF3LHU9TWF0aC5yb3VuZChjLngpLGQ9TWF0aC5yb3VuZChjLnkpLHM9bnVsbCxnPVtdLG09by5yYWRpdXM7MCE9PXMmJm0+by5taW5SYWRpdXM7KXtzPTAsZz0oMCxpLmRlZmF1bHQpKG0sbixhLHUsZCk7Zm9yKHZhciBoPTA7aDxnLmxlbmd0aDtoKyspe3ZhciBwPWdbaF1bMF0sVD1lW2dbaF1bMV0qYStwXTtpZihUPmZ8fFQ8dil7cysrO2JyZWFrfX1tLS19cmV0dXJuIDA9PT1zJiYoMCxsLmRyYXdCcnVzaFBpeGVscykoZyx0LHIsYSksbX0odS5pbWFnZS5nZXRQaXhlbERhdGEoKSxwLnBpeGVsRGF0YSxtLGgpLHIuaW52YWxpZD0hMCxhLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2Uobil9ZnVuY3Rpb24gcChlKXt2YXIgdD1FLmdldENvbmZpZ3VyYXRpb24oKSxuPWUuZWxlbWVudCxyPWEuZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRMYXllcihuLHQuYnJ1c2hMYXllcklkKSx1PXIuaW1hZ2Uscz11LnJvd3MsYz11LmNvbHVtbnMsZj1lLmN1cnJlbnRQb2ludHMuaW1hZ2Usdj1mLngsZz1mLnksbT0oMCxvLmdldFRvb2xTdGF0ZSkobixkKS5kYXRhWzBdLnBpeGVsRGF0YSxoPXQuZHJhdyxwPXQucmFkaXVzO2lmKCEodjwwfHx2PmN8fGc8MHx8Zz5zKSl7dmFyIFQ9KDAsaS5kZWZhdWx0KShwLHMsYyx2LGcpOygwLGwuZHJhd0JydXNoUGl4ZWxzKShULG0saCxjKSxyLmludmFsaWQ9ITAsYS5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKG4pfX12YXIgRT0oMCxyLmRlZmF1bHQpKHtvbk1vdXNlTW92ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbDtjPXQuY3VycmVudFBvaW50cy5pbWFnZSxhLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UodC5lbGVtZW50KX0sb25Nb3VzZURvd246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQsbz1FLmdldENvbmZpZ3VyYXRpb24oKSxyPWEuZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRMYXllcihuLG8uYnJ1c2hMYXllcklkKSxsPWEuZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRMYXllcnMobilbMF0sdT10LmN1cnJlbnRQb2ludHMuaW1hZ2UsZD11Lngscz11LnksZz1yLmltYWdlLFQ9Zy5yb3dzLHk9Zy5jb2x1bW5zLE09KDAsaS5kZWZhdWx0KShvLnJhZGl1cyxULHksZCxzKTswPT09by5kcmF3P3AodCk6KGZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1FLmdldENvbmZpZ3VyYXRpb24oKS50b2xlcmFuY2Usbz1OdW1iZXIuTUFYX1ZBTFVFLHI9LU51bWJlci5NQVhfVkFMVUU7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBhPWVbMV0qbitlWzBdLGk9dFthXTtvPU1hdGgubWluKGksbykscj1NYXRoLm1heChpLHIpfSksdj1vLWEsZj1yK2F9KE0sbC5pbWFnZS5nZXRQaXhlbERhdGEoKSx5KSxoKHQpKSxtPSEwLGM9dC5jdXJyZW50UG9pbnRzLmltYWdlfSxvbk1vdXNlVXA6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWw7Yz10LmN1cnJlbnRQb2ludHMuaW1hZ2U7dmFyIG49RS5nZXRDb25maWd1cmF0aW9uKCk7bT0hMSxnPW4ucmFkaXVzLGEuZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0LmVsZW1lbnQpfSxvbkRyYWc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWw7MD09PXMuZHJhdz9wKHQpOmgodCksbT0hMCxjPXQuY3VycmVudFBvaW50cy5pbWFnZX0sdG9vbFR5cGU6XCJhZGFwdGl2ZUJydXNoXCIsb25JbWFnZVJlbmRlcmVkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsO2lmKGMpe3ZhciBuPXQuaW1hZ2UsYT1uLnJvd3Msbz1uLmNvbHVtbnMscj1jLHU9ci54LGQ9ci55O2lmKCEodTwwfHx1Pm98fGQ8MHx8ZD5hKSl7dmFyIHM9RS5nZXRDb25maWd1cmF0aW9uKCksZj10LmNhbnZhc0NvbnRleHQsdj1tP3MuZHJhZ0NvbG9yOnMuaG92ZXJDb2xvcixoPXQuZWxlbWVudDtpZihnPW0mJmd8fHMucmFkaXVzLGYuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSxzLmFjdGl2ZSl7dmFyIHA9KDAsaS5kZWZhdWx0KShnLGEsbyx1LGQpOygwLGwuZHJhd0JydXNoT25DYW52YXMpKHAsZix2LGgpfX19fX0pO0Uuc2V0Q29uZmlndXJhdGlvbihzKSx0LmFkYXB0aXZlQnJ1c2g9RX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgYT10W25dO2EuZW51bWVyYWJsZT1hLmVudW1lcmFibGV8fCExLGEuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGEmJihhLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxhLmtleSxhKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxhJiZlKHQsYSksdH19KCk7dC5RdWV1ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuc3RvcmU9e30sdGhpcy5mcm9udD0wLHRoaXMuZW5kPTB9cmV0dXJuIGEoZSxbe2tleTpcImVucXVldWVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0b3JlW3RoaXMuZW5kXT1lLHRoaXMuZW5kKyt9fSx7a2V5OlwiZGVxdWV1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5mcm9udD09PXRoaXMuZW5kKXJldHVybiBudWxsO3ZhciBlPXRoaXMuc3RvcmVbdGhpcy5mcm9udF07cmV0dXJuIGRlbGV0ZSB0aGlzLnN0b3JlW3RoaXMuZnJvbnRdLHRoaXMuZnJvbnQrKyxlfX0se2tleTpcInNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZC10aGlzLmZyb250fX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5maWxsQ29sb3I9dC5pc0NpcmNsZUluUG9seWdvbj10LmNvbm5lY3RFbmRzT2ZCcnVzaD10LmdldEVuZE9mQ2lyY2xlPXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxhPSEwLG89ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxsPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0oaT1sLm5leHQoKSkuZG9uZSkmJihuLnB1c2goaS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe289ITAscj1lfWZpbmFsbHl7dHJ5eyFhJiZsLnJldHVybiYmbC5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgcn19cmV0dXJuIG59KGUsdCk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpLG89bigzNCkscj1uKDcxKTtmdW5jdGlvbiBpKGUsdCxuLGEpe2Zvcih2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLHI9ZTtlPHQ/cjw9dDpyPj10O3IrPWU8dD8xOi0xKXtpZihvJiZuKGEscikpcmV0dXJuIHI7aWYoIW8mJm4ocixhKSlyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGUsdCxuKXtyZXR1cm4gdFtlXT09PW59ZnVuY3Rpb24gdShlLHQsbixhLG8saSl7dmFyIHU9ZSxkPXQscz0wLGM9bmV3IHIuUXVldWUsZj1bXSx2PVswLDEsMCwtMV0sZz1bLTEsMCwxLDBdLG09MCxoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQqbitlfTtjLmVucXVldWUoe3g6ZSx5OnR9KTtmb3IodmFyIHA9MDtwPGEqbjtwKz0xKWYucHVzaCgwKTtmb3IoZltoKGUsdCldPTE7MCE9PWMuc2l6ZSgpJiZtPD1hKm47KXttKz0xO3ZhciBFPWMuZGVxdWV1ZSgpLFQ9aChFLngsRS55KTtpZihzPGZbVF0pe3ZhciB5PVtFLngsRS55LGZbVF1dO3U9eVswXSxkPXlbMV0scz15WzJdfWZvcih2YXIgTT0wO008NDtNKz0xKXt2YXIgXz1FLnkrZ1tNXSxTPUUueCt2W01dLHg9aChTLF8pO188MHx8Xz49YXx8UzwwfHxTPj1ufHxsKHgsbyxpKSYmMD09PWZbeF0mJihmW3hdPWZbVF0rMSxjLmVucXVldWUoe3g6Uyx5Ol99KSl9fXJldHVybnt4OnUseTpkfX1mdW5jdGlvbiBkKGUsdCxuKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxvPVtdLHI9ZTtlPHQ/cjw9dDpyPj10O3IrPWU8dD8xOi0xKW8ucHVzaChhP1tuLHJdOltyLG5dKTtyZXR1cm4gb310LmdldEVuZE9mQ2lyY2xlPWZ1bmN0aW9uKGUsdCxuLGEsbyxyKXt2YXIgdT1mdW5jdGlvbihlLHQpe3JldHVybiB0Km4rZX07cmV0dXJuW2kodCwwLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIWwodShlLHQtMSksbyxyKX0sZSwhMCksaShlLG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4hbCh1KGUrMSx0KSxvLHIpfSx0LCExKSxpKHQsYSxmdW5jdGlvbihlLHQpe3JldHVybiFsKHUoZSx0KzEpLG8scil9LGUsITApLGkoZSwwLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIWwodShlLTEsdCksbyxyKX0sdCwhMSldfSx0LmNvbm5lY3RFbmRzT2ZCcnVzaD1mdW5jdGlvbihlLHQsbixyLHMsYyxmKXt2YXIgdj1mdW5jdGlvbihlLHQsYSl7cmV0dXJuKDAsby5kcmF3QnJ1c2hQaXhlbHMpKFtbZSx0XV0sYyxhLG4pfSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKDAsby5kcmF3QnJ1c2hQaXhlbHMpKGUsYyx0LG4pfSxtPWZ1bmN0aW9uKGUsdCxuLGEsbyxyLHUpe2Zvcih2YXIgZD1bMCwxLDAsLTFdLHM9Wy0xLDAsMSwwXSxjPU51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGY9LTEsdj12b2lkIDAsZz12b2lkIDAsbT12b2lkIDAsaD1mdW5jdGlvbihlLHQpe3JldHVybiB0Km4rZX0scD1mdW5jdGlvbihwKXt2YXIgRT12b2lkIDAsVD12b2lkIDAseT12b2lkIDA7aWYocCUyKXtpZihFPXQsbnVsbD09PShUPWkob1twXStkW3BdLDE9PT1wP246MCxmdW5jdGlvbihlLHQpe3JldHVybiBsKGgoZSx0KSxyLHUpfSxFLCExKSkpcmV0dXJuXCJjb250aW51ZVwiO3k9aShUK2RbcF0sMT09PXA/bjowLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIWwoaChlK2RbcF0sdCtzW3BdKSxyLHUpfSxFLCExKX1lbHNle2lmKEU9ZSxudWxsPT09KFQ9aShvW3BdK3NbcF0sMD09PXA/MDphLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwoaChlLHQpLHIsdSl9LEUsITApKSlyZXR1cm5cImNvbnRpbnVlXCI7eT1pKFQrc1twXSwwPT09cD8wOmEsZnVuY3Rpb24oZSx0KXtyZXR1cm4hbChoKGUrZFtwXSx0K3NbcF0pLHIsdSl9LEUsITApfXZhciBNPU1hdGguYWJzKFQtKHAlMj9lOnQpKTtjPk0mJihjPU0sZj1wLHY9RSxnPVQsbT15KX0sRT0wO0U8by5sZW5ndGg7RSsrKXAoRSk7cmV0dXJuIGM9PT1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj9bbnVsbCxudWxsLG51bGwsbnVsbF06W2YsdixnLG1dfShlLHQsbixyLHMsYyxmKSxoPWEobSw0KSxwPWhbMF0sRT1oWzFdLFQ9aFsyXSx5PWhbM10sTT1bXTtpZihudWxsPT09cClyZXR1cm4hMTtpZihnKGQoVCx5LEUsIShwJTIpKSwwKSxwJTIpe3ZhciBfPXUoVCxFLTEsbixyLGMsZiksUz11KFQsRSsxLG4scixjLGYpO00ucHVzaChfKSxNLnB1c2goUyl9ZWxzZXt2YXIgeD11KEUtMSxULG4scixjLGYpLE89dShFKzEsVCxuLHIsYyxmKTtNLnB1c2goeCksTS5wdXNoKE8pfWlmKGcoZChULHksRSwhKHAlMikpLGYpLE0uc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLngtdC54fSksTVswXS54PT09TVsxXS54KWcoZChNWzBdLnksTVsxXS55LE1bMF0ueCwhMCksZik7ZWxzZXt2YXIgYj0oTVsxXS55LU1bMF0ueSkvKE1bMV0ueC1NWzBdLngpLEM9TVswXS55LWIqTVswXS54O2lmKE1hdGguYWJzKGIpPj0xKXtNLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS55LXQueX0pO2Zvcih2YXIgUD1NWzBdLnk7UDw9TVsxXS55O1ArPTEpZm9yKHZhciBJPS0wO0k8PTI7SSs9MSl2KE1hdGgucm91bmQoKFAtQykvYikrSSxQLGYpfWVsc2UgZm9yKHZhciBMPU1bMF0ueDtMPD1NWzFdLng7TCs9MSlmb3IodmFyIHc9LTA7dzw9Mjt3Kz0xKXYoTCxNYXRoLnJvdW5kKGIqTCtDKSt3LGYpfXJldHVybiEwfSx0LmlzQ2lyY2xlSW5Qb2x5Z29uPWZ1bmN0aW9uKGUsdCxuLGEsbyxyLHUpe3ZhciBkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQqbitlfSxzPWkob1szXS0xLDAsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbChkKGUsdCkscix1KX0sdCwhMSksYz1pKG9bMV0rMSxuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwoZChlLHQpLHIsdSl9LHQsITEpO3JldHVybiBzJiZjfSx0LmZpbGxDb2xvcj1mdW5jdGlvbihlLHQsbixhLGksdSl7dmFyIGQ9bmV3IHIuUXVldWUscz1bMCwxLDAsLTFdLGM9Wy0xLDAsMSwwXSxmPTAsdj1mdW5jdGlvbihlLHQpe3JldHVybiB0Km4rZX0sZz1mdW5jdGlvbihlLHQsYSl7cmV0dXJuKDAsby5kcmF3QnJ1c2hQaXhlbHMpKFtbZSx0XV0saSxhLG4pfTtmb3IoZC5lbnF1ZXVlKHt4OmUseTp0fSksZyhlLHQsdSk7MCE9PWQuc2l6ZSgpJiZmPD1hKm47KXtmKz0xO2Zvcih2YXIgbT1kLmRlcXVldWUoKSxoPTA7aDw0O2grPTEpe3ZhciBwPW0ueStjW2hdLEU9bS54K3NbaF07cDwwfHxwPj1hfHxFPDB8fEU+PW58fGwodihFLHApLGksdSl8fChkLmVucXVldWUoe3g6RSx5OnB9KSxnKEUscCx1KSl9fX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmJydXNoPXZvaWQgMDt2YXIgYT1kKG4oMCkpLG89bigyKSxyPWQobig0OSkpLGk9ZChuKDQ4KSksbD1uKDM0KSx1PW4oNzIpO2Z1bmN0aW9uIGQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBzPVwiYnJ1c2hcIixjPXZvaWQgMCxmPSExO2Z1bmN0aW9uIHYoZSl7dmFyIHQ9Zy5nZXRDb25maWd1cmF0aW9uKCksbj1lLmVsZW1lbnQscj1hLmRlZmF1bHQuY29ybmVyc3RvbmUuZ2V0TGF5ZXIobix0LmJydXNoTGF5ZXJJZCksdT1yLmltYWdlLGQ9dS5yb3dzLGM9dS5jb2x1bW5zLGY9ZS5jdXJyZW50UG9pbnRzLmltYWdlLHY9Zi54LG09Zi55LGg9KDAsby5nZXRUb29sU3RhdGUpKG4scykuZGF0YVswXS5waXhlbERhdGEscD10LmRyYXcsRT10LnJhZGl1cztpZighKHY8MHx8dj5jfHxtPDB8fG0+ZCkpe3ZhciBUPSgwLGkuZGVmYXVsdCkoRSxkLGMsdixtKTsoMCxsLmRyYXdCcnVzaFBpeGVscykoVCxoLHAsYyksci5pbnZhbGlkPSEwLGEuZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShuKX19dmFyIGc9KDAsci5kZWZhdWx0KSh7b25Nb3VzZU1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWw7Yz10LmN1cnJlbnRQb2ludHMuaW1hZ2UsYS5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKHQuZWxlbWVudCl9LG9uTW91c2VEb3duOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsO3YodCksZj0hMCxjPXQuY3VycmVudFBvaW50cy5pbWFnZX0sb25Nb3VzZVVwOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsO2M9dC5jdXJyZW50UG9pbnRzLmltYWdlLGY9ITF9LG9uRHJhZzpmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbDt2KHQpLGY9ITAsYz10LmN1cnJlbnRQb2ludHMuaW1hZ2V9LHRvb2xUeXBlOlwiYnJ1c2hcIixvbkltYWdlUmVuZGVyZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWw7aWYoYyl7dmFyIG49dC5pbWFnZSxhPW4ucm93cyxvPW4uY29sdW1ucyxyPWMsdT1yLngsZD1yLnk7aWYoISh1PDB8fHU+b3x8ZDwwfHxkPmEpKXt2YXIgcz1nLmdldENvbmZpZ3VyYXRpb24oKSx2PXMucmFkaXVzLG09dC5jYW52YXNDb250ZXh0LGg9Zj9zLmRyYWdDb2xvcjpzLmhvdmVyQ29sb3IscD10LmVsZW1lbnQ7aWYobS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHMuYWN0aXZlKXt2YXIgRT0oMCxpLmRlZmF1bHQpKHYsYSxvLHUsZCk7KDAsbC5kcmF3QnJ1c2hPbkNhbnZhcykoRSxtLGgscCl9fX19LG9uTW91c2VEb3VibGVDbGljazpmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQ9Zy5nZXRDb25maWd1cmF0aW9uKCksbj10LnJhZGl1cyxyPWUuZWxlbWVudCxpPWEuZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRMYXllcihyLHQuYnJ1c2hMYXllcklkKSxsPWkuaW1hZ2UsZD1sLnJvd3MsYz1sLmNvbHVtbnMsZj1lLmN1cnJlbnRQb2ludHMuaW1hZ2Usdj1mLngsbT1mLnksaD0oMCxvLmdldFRvb2xTdGF0ZSkocixzKS5kYXRhWzBdLnBpeGVsRGF0YSxwPXQuZHJhdztpZighKHY8MHx8dj5jfHxtPDB8fG0+ZCkpe3Y9TWF0aC5yb3VuZCh2KSxtPU1hdGgucm91bmQobSk7dmFyIEU9KDAsdS5nZXRFbmRPZkNpcmNsZSkodixtLGMsZCxoLHApO01hdGguYWJzKEVbMF0tRVsyXSk+MipuJiZNYXRoLmFicyhFWzFdLUVbM10pPjIqbnx8KCgwLHUuY29ubmVjdEVuZHNPZkJydXNoKSh2LG0sYyxkLEUsaCxwKSYmKDAsdS5pc0NpcmNsZUluUG9seWdvbikodixtLGMsZCxFLGgscCkmJigwLHUuZmlsbENvbG9yKSh2LEVbMF0tMSxjLGQsaCxwKSxpLmludmFsaWQ9ITAsYS5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKHIpKX19KGUuZGV0YWlsKX19KTtnLnNldENvbmZpZ3VyYXRpb24oe2RyYXc6MSxyYWRpdXM6NSxtaW5SYWRpdXM6MSxtYXhSYWRpdXM6MjAsaG92ZXJDb2xvcjpcInJnYmEoMjMwLCAyNSwgNzUsIDEuMClcIixkcmFnQ29sb3I6XCJyZ2JhKDIzMCwgMjUsIDc1LCAwLjgpXCIsYWN0aXZlOiExfSksdC5icnVzaD1nfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC56b29tVG91Y2hEcmFnPXQuem9vbVRvdWNoUGluY2g9dC56b29tV2hlZWw9dC56b29tPXZvaWQgMDt2YXIgYT1mKG4oMSkpLG89ZihuKDApKSxyPWYobigxNikpLGk9ZihuKDUpKSxsPWYobigyOSkpLHU9ZihuKDUwKSksZD1mKG4oMTgpKSxzPW4oNCksYz1uKDgpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB2PVwiem9vbVwiLGc9dm9pZCAwO2Z1bmN0aW9uIG0oZSx0KXt2YXIgbj15LmdldENvbmZpZ3VyYXRpb24oKSxhPU1hdGgubG9nKGUuc2NhbGUpL01hdGgubG9nKDEuNykrdCxvPU1hdGgucG93KDEuNyxhKTtyZXR1cm4gbi5tYXhTY2FsZSYmbz5uLm1heFNjYWxlP2Uuc2NhbGU9bi5tYXhTY2FsZTpuLm1pblNjYWxlJiZvPG4ubWluU2NhbGU/ZS5zY2FsZT1uLm1pblNjYWxlOmUuc2NhbGU9byxlfWZ1bmN0aW9uIGgoZSx0KXtpZih0LmhmbGlwJiYoZS54Kj0tMSksdC52ZmxpcCYmKGUueSo9LTEpLDAhPT10LnJvdGF0aW9uKXt2YXIgbj10LnJvdGF0aW9uKk1hdGguUEkvMTgwLGE9TWF0aC5jb3Mobiksbz1NYXRoLnNpbihuKSxyPWUueCphLWUueSpvLGk9ZS54Km8rZS55KmE7ZS54PXIsZS55PWl9cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQpe3ZhciBuPW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxhPWUuZWxlbWVudCxyPW0oZS52aWV3cG9ydCx0KTtuLnNldFZpZXdwb3J0KGEscik7dmFyIGk9bi5wYWdlVG9QaXhlbChhLGUuc3RhcnRQb2ludHMucGFnZS54LGUuc3RhcnRQb2ludHMucGFnZS55KSxsPXt4OmUuc3RhcnRQb2ludHMuaW1hZ2UueC1pLngseTplLnN0YXJ0UG9pbnRzLmltYWdlLnktaS55fTtsPWgobCxyKSxyLnRyYW5zbGF0aW9uLngtPWwueCxyLnRyYW5zbGF0aW9uLnktPWwueSxuLnNldFZpZXdwb3J0KGEscil9ZnVuY3Rpb24gRShlKXt2YXIgdD1lLmRldGFpbC5lbGVtZW50O3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxUKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLEUpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssRSl9ZnVuY3Rpb24gVChlKXt2YXIgdD1lLmRldGFpbDtpZighdC5kZWx0YVBvaW50cy5wYWdlLnkpcmV0dXJuITE7dmFyIG49dC5kZWx0YVBvaW50cy5wYWdlLnkvMTAwLGE9eS5nZXRDb25maWd1cmF0aW9uKCk7YSYmYS5pbnZlcnQmJihuKj0tMSkseS5zdHJhdGVneSh0LG4pLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpfXZhciB5PSgwLHIuZGVmYXVsdCkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQsbz0oMCxzLmdldFRvb2xPcHRpb25zKSh2LG4pOygwLGkuZGVmYXVsdCkodC53aGljaCxvLm1vdXNlQnV0dG9uTWFzaykmJihnPXQuc3RhcnRQb2ludHMsbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLFQpLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsRSksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxFKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSl9LHYpO3kuc3RyYXRlZ2llcz17ZGVmYXVsdDpwLHRyYW5zbGF0ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZWxlbWVudCxhPWUuaW1hZ2Uscj15LmdldENvbmZpZ3VyYXRpb24oKSxpPW0oZS52aWV3cG9ydCx0KSxsPXt4OjAseTowfTtpZih0PDApaS5zY2FsZTwzJiYoTWF0aC5hYnMoaS50cmFuc2xhdGlvbi54KTwuMDE/aS50cmFuc2xhdGlvbi54PTA6bC54PWkudHJhbnNsYXRpb24ueC84LE1hdGguYWJzKGkudHJhbnNsYXRpb24ueSk8LjAxP2kudHJhbnNsYXRpb24ueT0wOmwueT1pLnRyYW5zbGF0aW9uLnkvOCk7ZWxzZXtyJiZyLnByZXZlbnRab29tT3V0c2lkZUltYWdlJiYoMCxjLmNsaXBUb0JveCkoZy5pbWFnZSxhKTt2YXIgdT17eDphLndpZHRoLzItZy5pbWFnZS54LHk6YS5oZWlnaHQvMi1nLmltYWdlLnl9O3U9aCh1LGkpO3ZhciBkPXt4OmkudHJhbnNsYXRpb24ueC11LngseTppLnRyYW5zbGF0aW9uLnktdS55fTtNYXRoLmFicyhkLngpPC4wMT9pLnRyYW5zbGF0aW9uLng9dS54OmwueD1kLngvOCxNYXRoLmFicyhkLnkpPC4wMT9pLnRyYW5zbGF0aW9uLnk9dS55OmwueT1kLnkvOH1pLnRyYW5zbGF0aW9uLngtPWwueCxpLnRyYW5zbGF0aW9uLnktPWwueSxvLmRlZmF1bHQuY29ybmVyc3RvbmUuc2V0Vmlld3BvcnQobixpKX0sem9vbVRvQ2VudGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5lbGVtZW50LGE9bShlLnZpZXdwb3J0LHQpO28uZGVmYXVsdC5jb3JuZXJzdG9uZS5zZXRWaWV3cG9ydChuLGEpfX0seS5zdHJhdGVneT1wO3ZhciBNPSgwLGwuZGVmYXVsdCkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj0tdC5kaXJlY3Rpb24vNCxhPXkuZ2V0Q29uZmlndXJhdGlvbigpO2EmJmEuaW52ZXJ0JiYobio9LTEpO3ZhciByPW0odC52aWV3cG9ydCxuKTtvLmRlZmF1bHQuY29ybmVyc3RvbmUuc2V0Vmlld3BvcnQodC5lbGVtZW50LHIpfSksXz0oMCx1LmRlZmF1bHQpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49by5kZWZhdWx0LmNvcm5lcnN0b25lLGE9eS5nZXRDb25maWd1cmF0aW9uKCkscj10LnZpZXdwb3J0LGk9dC5lbGVtZW50O3Iuc2NhbGUrPXQuc2NhbGVDaGFuZ2Uqci5zY2FsZSxhLm1heFNjYWxlJiZyLnNjYWxlPmEubWF4U2NhbGU/ci5zY2FsZT1hLm1heFNjYWxlOmEubWluU2NhbGUmJnIuc2NhbGU8YS5taW5TY2FsZSYmKHIuc2NhbGU9YS5taW5TY2FsZSksbi5zZXRWaWV3cG9ydChpLHIpO3ZhciBsPW4ucGFnZVRvUGl4ZWwoaSx0LnN0YXJ0UG9pbnRzLnBhZ2UueCx0LnN0YXJ0UG9pbnRzLnBhZ2UueSksdT17eDp0LnN0YXJ0UG9pbnRzLmltYWdlLngtbC54LHk6dC5zdGFydFBvaW50cy5pbWFnZS55LWwueX07dT1oKHUsciksci50cmFuc2xhdGlvbi54LT11Lngsci50cmFuc2xhdGlvbi55LT11Lnksbi5zZXRWaWV3cG9ydChpLHIpfSksUz0oMCxkLmRlZmF1bHQpKFQsdik7dC56b29tPXksdC56b29tV2hlZWw9TSx0Lnpvb21Ub3VjaFBpbmNoPV8sdC56b29tVG91Y2hEcmFnPVN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lnd3d2NSZWdpb25Ub3VjaD10Lnd3d2NSZWdpb249dm9pZCAwO3ZhciBhPWYobigxKSksbz1mKG4oMCkpLHI9ZihuKDcpKSxpPW4oMiksbD1mKG4oNjQpKSx1PWYobig1KSksZD1uKDQpLHM9ZihuKDgpKSxjPW4oMyk7ZnVuY3Rpb24gZihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHY9XCJ3d3djUmVnaW9uXCIsZz17bWluV2luZG93V2lkdGg6MTB9O2Z1bmN0aW9uIG0oZSl7dmFyIHQ9ZS5kZXRhaWwuZWxlbWVudCxuPSgwLGkuZ2V0VG9vbFN0YXRlKSh0LHYpO24mJm4uZGF0YSYmKG4uZGF0YT1bXSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLE0pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxNKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLGgpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssaCksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLFQpfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLE0pLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxNKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLGgpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssaCksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLFQpO3ZhciBvPSgwLGkuZ2V0VG9vbFN0YXRlKSh0LmVsZW1lbnQsdik7byYmby5kYXRhJiZvLmRhdGEubGVuZ3RoJiYoby5kYXRhWzBdLmVuZFBvaW50PXt4OnQuY3VycmVudFBvaW50cy5pbWFnZS54LHk6dC5jdXJyZW50UG9pbnRzLmltYWdlLnl9LHAodCkpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9by5kZWZhdWx0LmNvcm5lcnN0b25lLG49KDAsaS5nZXRUb29sU3RhdGUpKGUuZWxlbWVudCx2KTtpZihuJiZuLmRhdGEmJm4uZGF0YS5sZW5ndGgpe3ZhciBhPW4uZGF0YVswXS5zdGFydFBvaW50LHI9bi5kYXRhWzBdLmVuZFBvaW50LHU9TWF0aC5hYnMoYS54LXIueCksZD1NYXRoLmFicyhhLnktci55KSxjPU1hdGgubWluKGEueCxyLngpLGY9TWF0aC5taW4oYS55LHIueSk7Yz0oMCxzLmRlZmF1bHQpKGMsMCxlLmltYWdlLndpZHRoKSxmPSgwLHMuZGVmYXVsdCkoZiwwLGUuaW1hZ2UuaGVpZ2h0KSx1PU1hdGguZmxvb3IoTWF0aC5taW4odSxNYXRoLmFicyhlLmltYWdlLndpZHRoLWMpKSksZD1NYXRoLmZsb29yKE1hdGgubWluKGQsTWF0aC5hYnMoZS5pbWFnZS5oZWlnaHQtZikpKTt2YXIgZz1mdW5jdGlvbihlLHQsbil7dmFyIGE9ZS5sZW5ndGg7aWYoYTwyKXJldHVybnttaW46dCxtYXg6bixtZWFuOih0K24pLzJ9O2Zvcih2YXIgbz1uLHI9dCxpPTAsbD0wO2w8YTtsKyspe3ZhciB1PWVbbF07bz1NYXRoLm1pbihvLHUpLHI9TWF0aC5tYXgocix1KSxpKz11fXJldHVybnttaW46byxtYXg6cixtZWFuOmkvYX19KCgwLGwuZGVmYXVsdCkoZS5lbGVtZW50LGMsZix1LGQpLGUuaW1hZ2UubWluUGl4ZWxWYWx1ZSxlLmltYWdlLm1heFBpeGVsVmFsdWUpLG09Ty5nZXRDb25maWd1cmF0aW9uKCksaD10LmdldFZpZXdwb3J0KGUuZWxlbWVudCk7dm9pZCAwPT09bS5taW5XaW5kb3dXaWR0aCYmKG0ubWluV2luZG93V2lkdGg9MTApLGgudm9pLndpbmRvd1dpZHRoPU1hdGgubWF4KE1hdGguYWJzKGcubWF4LWcubWluKSxtLm1pbldpbmRvd1dpZHRoKSxoLnZvaS53aW5kb3dDZW50ZXI9Zy5tZWFuLHQuc2V0Vmlld3BvcnQoZS5lbGVtZW50LGgpLG4uZGF0YT1bXSx0LnVwZGF0ZUltYWdlKGUuZWxlbWVudCl9fWZ1bmN0aW9uIEUoZSl7dmFyIHQ9ZS5kZXRhaWwuZWxlbWVudDt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsRSksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLEUpLHQuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxNKSx0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsTSksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxoKSxlLnR5cGU9PT1hLmRlZmF1bHQuTU9VU0VfRFJBRyYmdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxoKX1mdW5jdGlvbiBUKGUpe3ZhciB0PWUuZGV0YWlsLG49dC5lbGVtZW50LG89KDAsZC5nZXRUb29sT3B0aW9ucykodixuKTtpZigoMCx1LmRlZmF1bHQpKHQud2hpY2gsby5tb3VzZUJ1dHRvbk1hc2spKXJldHVybiBuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsRSksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLEUpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixUKSx5KHQpLCExfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9KDAsaS5nZXRUb29sU3RhdGUpKGUuZWxlbWVudCx2KTt0JiZ0LmRhdGEmJih0LmRhdGE9W10pO3ZhciBuPXtzdGFydFBvaW50Ont4OmUuY3VycmVudFBvaW50cy5pbWFnZS54LHk6ZS5jdXJyZW50UG9pbnRzLmltYWdlLnl9fTsoMCxpLmFkZFRvb2xTdGF0ZSkoZS5lbGVtZW50LHYsbil9ZnVuY3Rpb24gTShlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxhPSgwLGkuZ2V0VG9vbFN0YXRlKShuLHYpO2EmJmEuZGF0YSYmYS5kYXRhLmxlbmd0aCYmKGEuZGF0YVswXS5lbmRQb2ludD17eDp0LmN1cnJlbnRQb2ludHMuaW1hZ2UueCx5OnQuY3VycmVudFBvaW50cy5pbWFnZS55fSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UobikpfWZ1bmN0aW9uIF8oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQsYT10LmNhbnZhc0NvbnRleHQsbz0oMCxpLmdldFRvb2xTdGF0ZSkodC5lbGVtZW50LHYpO2lmKG8mJm8uZGF0YSYmby5kYXRhLmxlbmd0aCl7dmFyIGw9by5kYXRhWzBdLnN0YXJ0UG9pbnQsdT1vLmRhdGFbMF0uZW5kUG9pbnQ7aWYobCYmdSl7YS5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApO3ZhciBkPXIuZGVmYXVsdC5nZXRBY3RpdmVDb2xvcigpLHM9Ty5nZXRDb25maWd1cmF0aW9uKCk7KDAsYy5kcmF3KShhLGZ1bmN0aW9uKGUpeygwLGMuc2V0U2hhZG93KShlLHMpLCgwLGMuZHJhd1JlY3QpKGUsbixsLHUse2NvbG9yOmR9KX0pfX19ZnVuY3Rpb24gUyhlKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04sVCksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxoKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0NMSUNLLGgpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxNKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsTSksZS5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsXyksZS5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuTkVXX0lNQUdFLG0pLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShlKX1mdW5jdGlvbiB4KGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBRyxNKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULHkpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBR19FTkQscCksZS5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsXyl9dmFyIE89e2FjdGl2YXRlOmZ1bmN0aW9uKGUsdCl7KDAsZC5zZXRUb29sT3B0aW9ucykodixlLHttb3VzZUJ1dHRvbk1hc2s6dH0pLCgwLGkuZ2V0VG9vbFN0YXRlKShlLHYpfHwoMCxpLmFkZFRvb2xTdGF0ZSkoZSx2LFtdKTtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04sVCksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxoKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0NMSUNLLGgpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxNKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUsTSksZS5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsXyksZS5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuTkVXX0lNQUdFLG0pLGUuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixUKSxlLmFkZEV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxfKSxlLmFkZEV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5ORVdfSU1BR0UsbSksby5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKGUpfSxkZWFjdGl2YXRlOlMsZGlzYWJsZTpTLHNldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oZSl7Zz1lfSxnZXRDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGd9fSxiPXthY3RpdmF0ZTpmdW5jdGlvbihlKXsoMCxpLmdldFRvb2xTdGF0ZSkoZSx2KXx8KDAsaS5hZGRUb29sU3RhdGUpKGUsdixbXSk7ZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHLE0pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQseSksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHX0VORCxwKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxfKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcsTSksZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCx5KSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUdfRU5ELHApLGUuYWRkRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX1JFTkRFUkVELF8pfSxkZWFjdGl2YXRlOngsZGlzYWJsZTp4fTt0Lnd3d2NSZWdpb249Tyx0Lnd3d2NSZWdpb25Ub3VjaD1ifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC53d3djVG91Y2hEcmFnPXQud3d3Yz12b2lkIDA7dmFyIGE9ZChuKDEpKSxvPWQobigwKSkscj1kKG4oMTYpKSxpPWQobigxOCkpLGw9ZChuKDUpKSx1PW4oNCk7ZnVuY3Rpb24gZChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9XCJ3d3djXCI7ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmRldGFpbC5lbGVtZW50O3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyx2KSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLGMpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssYyl9ZnVuY3Rpb24gZihlKXt2YXIgdD0oZS5pbWFnZS5tYXhQaXhlbFZhbHVlKmUuaW1hZ2Uuc2xvcGUrZS5pbWFnZS5pbnRlcmNlcHQtKGUuaW1hZ2UubWluUGl4ZWxWYWx1ZSplLmltYWdlLnNsb3BlK2UuaW1hZ2UuaW50ZXJjZXB0KSkvMTAyNCxuPWUuZGVsdGFQb2ludHMucGFnZS54KnQsYT1lLmRlbHRhUG9pbnRzLnBhZ2UueSp0O2Uudmlld3BvcnQudm9pLndpbmRvd1dpZHRoKz1uLGUudmlld3BvcnQudm9pLndpbmRvd0NlbnRlcis9YX1mdW5jdGlvbiB2KGUpe3ZhciB0PWUuZGV0YWlsO2cuc3RyYXRlZ3kodCksby5kZWZhdWx0LmNvcm5lcnN0b25lLnNldFZpZXdwb3J0KHQuZWxlbWVudCx0LnZpZXdwb3J0KX12YXIgZz0oMCxyLmRlZmF1bHQpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49dC5lbGVtZW50LG89KDAsdS5nZXRUb29sT3B0aW9ucykocyxuKTsoMCxsLmRlZmF1bHQpKHQud2hpY2gsby5tb3VzZUJ1dHRvbk1hc2spJiYobi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLHYpLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsYyksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxjKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSl9LHMpO2cuc3RyYXRlZ2llcz17ZGVmYXVsdDpmfSxnLnN0cmF0ZWd5PWY7dmFyIG09KDAsaS5kZWZhdWx0KShmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbDtlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3ZhciBuPXQsYT0obi5pbWFnZS5tYXhQaXhlbFZhbHVlKm4uaW1hZ2Uuc2xvcGUrbi5pbWFnZS5pbnRlcmNlcHQtKG4uaW1hZ2UubWluUGl4ZWxWYWx1ZSpuLmltYWdlLnNsb3BlK24uaW1hZ2UuaW50ZXJjZXB0KSkvMTAyNCxyPW4uZGVsdGFQb2ludHMucGFnZS54KmEsaT1uLmRlbHRhUG9pbnRzLnBhZ2UueSphLGw9Zy5nZXRDb25maWd1cmF0aW9uKCk7bC5vcmllbnRhdGlvbj8wPT09bC5vcmllbnRhdGlvbj8obi52aWV3cG9ydC52b2kud2luZG93V2lkdGgrPXIsbi52aWV3cG9ydC52b2kud2luZG93Q2VudGVyKz1pKToobi52aWV3cG9ydC52b2kud2luZG93V2lkdGgrPWksbi52aWV3cG9ydC52b2kud2luZG93Q2VudGVyKz1yKToobi52aWV3cG9ydC52b2kud2luZG93V2lkdGgrPXIsbi52aWV3cG9ydC52b2kud2luZG93Q2VudGVyKz1pKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUuc2V0Vmlld3BvcnQobi5lbGVtZW50LG4udmlld3BvcnQpfSk7dC53d3djPWcsdC53d3djVG91Y2hEcmFnPW19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnRleHRNYXJrZXJUb3VjaD10LnRleHRNYXJrZXI9dm9pZCAwO3ZhciBhPW0obigxKSksbz1tKG4oMCkpLHI9bShuKDEwKSksaT1tKG4oMTIpKSxsPW0obigyMikpLHU9bShuKDcpKSxkPW0obig1KSkscz1uKDExKSxjPW0ocyksZj1uKDIpLHY9big0KSxnPW4oMyk7ZnVuY3Rpb24gbShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGg9XCJ0ZXh0TWFya2VyXCI7ZnVuY3Rpb24gcChlKXt2YXIgdD15LmdldENvbmZpZ3VyYXRpb24oKTtpZih0LmN1cnJlbnQpe3ZhciBuPXt2aXNpYmxlOiEwLGFjdGl2ZTohMCx0ZXh0OnQuY3VycmVudCxjb2xvcjp2b2lkIDAsaGFuZGxlczp7ZW5kOnt4OmUuY3VycmVudFBvaW50cy5pbWFnZS54LHk6ZS5jdXJyZW50UG9pbnRzLmltYWdlLnksaGlnaGxpZ2h0OiEwLGFjdGl2ZTohMCxoYXNCb3VuZGluZ0JveDohMH19fSxhPXtsZWZ0OjAsdG9wOjAsd2lkdGg6ZS5pbWFnZS53aWR0aCxoZWlnaHQ6ZS5pbWFnZS5oZWlnaHR9O2lmKG8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuaW5zaWRlUmVjdChuLmhhbmRsZXMuZW5kLGEpKXt2YXIgcj10Lm1hcmtlcnMuaW5kZXhPZih0LmN1cnJlbnQpO3JldHVybiB0LmFzY2VuZGluZz8ocis9MSk+PXQubWFya2Vycy5sZW5ndGgmJih0Lmxvb3A/ci09dC5tYXJrZXJzLmxlbmd0aDpyPS0xKTooci09MSk8MCYmKHQubG9vcD9yKz10Lm1hcmtlcnMubGVuZ3RoOnI9LTEpLHQuY3VycmVudD10Lm1hcmtlcnNbcl0sbn19fWZ1bmN0aW9uIEUoZSx0LG4pe2lmKCExPT09dC52aXNpYmxlKXJldHVybiExO2lmKHQuaGFuZGxlcy5lbmQuYm91bmRpbmdCb3gpe3ZhciBhPW8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucmVjdC5kaXN0YW5jZVRvUG9pbnQodC5oYW5kbGVzLmVuZC5ib3VuZGluZ0JveCxuKSxyPSgwLGwuZGVmYXVsdCkodC5oYW5kbGVzLmVuZCxuKTtyZXR1cm4gYTwxMHx8cn19ZnVuY3Rpb24gVChlKXt2YXIgdD1lLmRldGFpbCxuPSgwLGYuZ2V0VG9vbFN0YXRlKSh0LmVsZW1lbnQsaCk7aWYobilmb3IodmFyIGE9KDAsZy5nZXROZXdDb250ZXh0KSh0LmNhbnZhc0NvbnRleHQuY2FudmFzKSxyPXkuZ2V0Q29uZmlndXJhdGlvbigpLGk9ZnVuY3Rpb24oZSl7dmFyIGk9bi5kYXRhW2VdO2lmKCExPT09aS52aXNpYmxlKXJldHVyblwiY29udGludWVcIjt2YXIgbD11LmRlZmF1bHQuZ2V0Q29sb3JJZkFjdGl2ZShpKTsoMCxnLmRyYXcpKGEsZnVuY3Rpb24oZSl7KDAsZy5zZXRTaGFkb3cpKGUscik7aS50ZXh0V2lkdGg9KDAscy50ZXh0Qm94V2lkdGgpKGUsaS50ZXh0LDUpO3ZhciBuPW8uZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKHQuZWxlbWVudCxpLmhhbmRsZXMuZW5kKTtpLmhhbmRsZXMuZW5kLmJvdW5kaW5nQm94PSgwLGMuZGVmYXVsdCkoZSxpLnRleHQsbi54LG4ueS0xMCxsLHtjZW50ZXJpbmc6e3g6ITAseTohMH19KX0pfSxsPTA7bDxuLmRhdGEubGVuZ3RoO2wrKylpKGwpfXZhciB5PSgwLHIuZGVmYXVsdCkoe2NyZWF0ZU5ld01lYXN1cmVtZW50OnAsb25JbWFnZVJlbmRlcmVkOlQscG9pbnROZWFyVG9vbDpFLHRvb2xUeXBlOmgsbW91c2VEb3VibGVDbGlja0NhbGxiYWNrOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49by5kZWZhdWx0LmNvcm5lcnN0b25lLHI9dC5lbGVtZW50LGk9dm9pZCAwLGw9KDAsdi5nZXRUb29sT3B0aW9ucykoaCxyKTtpZigoMCxkLmRlZmF1bHQpKHQud2hpY2gsbC5tb3VzZUJ1dHRvbk1hc2spKXt2YXIgdT15LmdldENvbmZpZ3VyYXRpb24oKSxzPXQuY3VycmVudFBvaW50cy5jYW52YXMsYz0oMCxmLmdldFRvb2xTdGF0ZSkocixoKTtpZihjKXtmb3IodmFyIGc9MDtnPGMuZGF0YS5sZW5ndGg7ZysrKWlmKEUoMCxpPWMuZGF0YVtnXSxzKSlyZXR1cm4gaS5hY3RpdmU9ITAsbi51cGRhdGVJbWFnZShyKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX01PVkUseS5tb3VzZU1vdmVDYWxsYmFjayksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLHkubW91c2VEb3duQ2FsbGJhY2spLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSx5Lm1vdXNlRG93bkFjdGl2YXRlQ2FsbGJhY2spLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9VQkxFX0NMSUNLLHkubW91c2VEb3VibGVDbGlja0NhbGxiYWNrKSx1LmNoYW5nZVRleHRDYWxsYmFjayhpLHQsbSksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksdm9pZCBlLnN0b3BQcm9wYWdhdGlvbigpO2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpfX1mdW5jdGlvbiBtKGUsdCxvKXshMD09PW8/KDAsZi5yZW1vdmVUb29sU3RhdGUpKHIsaCxlKTplLnRleHQ9dCxlLmFjdGl2ZT0hMSxuLnVwZGF0ZUltYWdlKHIpLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSx5Lm1vdXNlTW92ZUNhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04seS5tb3VzZURvd25DYWxsYmFjayksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLHkubW91c2VEb3duQWN0aXZhdGVDYWxsYmFjayksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1VCTEVfQ0xJQ0sseS5tb3VzZURvdWJsZUNsaWNrQ2FsbGJhY2spfX19KSxNPSgwLGkuZGVmYXVsdCkoe2NyZWF0ZU5ld01lYXN1cmVtZW50OnAsb25JbWFnZVJlbmRlcmVkOlQscG9pbnROZWFyVG9vbDpFLHRvb2xUeXBlOmgscHJlc3NDYWxsYmFjazpmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbCxuPW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxyPXQuZWxlbWVudCxpPXZvaWQgMDtmdW5jdGlvbiBsKGUsdCxvKXshMD09PW8/KDAsZi5yZW1vdmVUb29sU3RhdGUpKHIsaCxlKTplLnRleHQ9dCxlLmFjdGl2ZT0hMSxuLnVwZGF0ZUltYWdlKHIpLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBRyxNLnRvdWNoTW92ZUNhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJUX0FDVElWRSxNLnRvdWNoRG93bkFjdGl2YXRlQ2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsTS50b3VjaFN0YXJ0Q2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVEFQLE0udGFwQ2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfUFJFU1MsTS5wcmVzc0NhbGxiYWNrKX12YXIgdT15LmdldENvbmZpZ3VyYXRpb24oKSxkPXQuY3VycmVudFBvaW50cy5jYW52YXMscz0oMCxmLmdldFRvb2xTdGF0ZSkocixoKTtpZighcylyZXR1cm4hMTtpZih0LmhhbmRsZVByZXNzZWQpcmV0dXJuIHQuaGFuZGxlUHJlc3NlZC5hY3RpdmU9ITAsbi51cGRhdGVJbWFnZShyKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcsTS50b3VjaE1vdmVDYWxsYmFjayksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVF9BQ1RJVkUsTS50b3VjaERvd25BY3RpdmF0ZUNhbGxiYWNrKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULE0udG91Y2hTdGFydENhbGxiYWNrKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRBUCxNLnRhcENhbGxiYWNrKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1BSRVNTLE0ucHJlc3NDYWxsYmFjayksdS5jaGFuZ2VUZXh0Q2FsbGJhY2sodC5oYW5kbGVQcmVzc2VkLHQsbCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksdm9pZCBlLnN0b3BQcm9wYWdhdGlvbigpO2Zvcih2YXIgYz0wO2M8cy5kYXRhLmxlbmd0aDtjKyspaWYoRSgwLGk9cy5kYXRhW2NdLGQpKXJldHVybiBpLmFjdGl2ZT0hMCxuLnVwZGF0ZUltYWdlKHIpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBRyxNLnRvdWNoTW92ZUNhbGxiYWNrKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJUX0FDVElWRSxNLnRvdWNoRG93bkFjdGl2YXRlQ2FsbGJhY2spLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsTS50b3VjaFN0YXJ0Q2FsbGJhY2spLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVEFQLE0udGFwQ2FsbGJhY2spLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfUFJFU1MsTS5wcmVzc0NhbGxiYWNrKSx1LmNoYW5nZVRleHRDYWxsYmFjayhpLHQsbCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksdm9pZCBlLnN0b3BQcm9wYWdhdGlvbigpO2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpfX0pO3QudGV4dE1hcmtlcj15LHQudGV4dE1hcmtlclRvdWNoPU19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnNpbXBsZUFuZ2xlVG91Y2g9dC5zaW1wbGVBbmdsZT12b2lkIDA7dmFyIGE9VChuKDEpKSxvPVQobigwKSkscj1UKG4oMTApKSxpPVQobig0MykpLGw9VChuKDE3KSksdT1UKG4oMTQpKSxkPVQobig3KSkscz1UKG4oMTUpKSxjPVQobigzMCkpLGY9VChuKDI4KSksdj1UKG4oOSkpLGc9VChuKDEyKSksbT1UKG4oMjcpKSxoPW4oMikscD1uKDMpLEU9bigxMSk7ZnVuY3Rpb24gVChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHk9XCJzaW1wbGVBbmdsZVwiO2Z1bmN0aW9uIE0oZSl7cmV0dXJue3Zpc2libGU6ITAsYWN0aXZlOiEwLGNvbG9yOnZvaWQgMCxoYW5kbGVzOntzdGFydDp7eDplLmN1cnJlbnRQb2ludHMuaW1hZ2UueCx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55LGhpZ2hsaWdodDohMCxhY3RpdmU6ITF9LG1pZGRsZTp7eDplLmN1cnJlbnRQb2ludHMuaW1hZ2UueCx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55LGhpZ2hsaWdodDohMCxhY3RpdmU6ITB9LGVuZDp7eDplLmN1cnJlbnRQb2ludHMuaW1hZ2UueCx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55LGhpZ2hsaWdodDohMCxhY3RpdmU6ITF9LHRleHRCb3g6e2FjdGl2ZTohMSxoYXNNb3ZlZDohMSxtb3Zlc0luZGVwZW5kZW50bHk6ITEsZHJhd25JbmRlcGVuZGVudGx5OiEwLGFsbG93ZWRPdXRzaWRlSW1hZ2U6ITAsaGFzQm91bmRpbmdCb3g6ITB9fX19ZnVuY3Rpb24gXyhlLHQsbil7cmV0dXJuITEhPT10LnZpc2libGUmJigoMCxtLmRlZmF1bHQpKGUsdC5oYW5kbGVzLnN0YXJ0LHQuaGFuZGxlcy5taWRkbGUsbik8MjV8fCgwLG0uZGVmYXVsdCkoZSx0LmhhbmRsZXMubWlkZGxlLHQuaGFuZGxlcy5lbmQsbik8MjUpfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhlLngsMikrTWF0aC5wb3coZS55LDIpKX1mdW5jdGlvbiB4KGUpe3ZhciB0PWUuZGV0YWlsLG49KDAsaC5nZXRUb29sU3RhdGUpKGUuY3VycmVudFRhcmdldCx5KTtpZihuKWZvcih2YXIgYT1vLmRlZmF1bHQuY29ybmVyc3RvbmUscj10LmVuYWJsZWRFbGVtZW50LHM9KDAscC5nZXROZXdDb250ZXh0KSh0LmNhbnZhc0NvbnRleHQuY2FudmFzKSxjPXUuZGVmYXVsdC5nZXRUb29sV2lkdGgoKSxmPU8uZ2V0Q29uZmlndXJhdGlvbigpLGc9ZnVuY3Rpb24oZSl7dmFyIG89bi5kYXRhW2VdO2lmKCExPT09by52aXNpYmxlKXJldHVyblwiY29udGludWVcIjsoMCxwLmRyYXcpKHMsZnVuY3Rpb24oZSl7KDAscC5zZXRTaGFkb3cpKGUsZik7dmFyIG49ZC5kZWZhdWx0LmdldENvbG9ySWZBY3RpdmUobyksdT1hLnBpeGVsVG9DYW52YXModC5lbGVtZW50LG8uaGFuZGxlcy5zdGFydCkscz1hLnBpeGVsVG9DYW52YXModC5lbGVtZW50LG8uaGFuZGxlcy5taWRkbGUpOygwLHAuZHJhd0pvaW5lZExpbmVzKShlLHQuZWxlbWVudCxvLmhhbmRsZXMuc3RhcnQsW28uaGFuZGxlcy5taWRkbGUsby5oYW5kbGVzLmVuZF0se2NvbG9yOm59KTt2YXIgZz17ZHJhd0hhbmRsZXNJZkFjdGl2ZTpmJiZmLmRyYXdIYW5kbGVzT25Ib3Zlcn07KDAsdi5kZWZhdWx0KShlLHQsby5oYW5kbGVzLG4sZyk7dmFyIG09dC5pbWFnZS5jb2x1bW5QaXhlbFNwYWNpbmd8fDEsaD10LmltYWdlLnJvd1BpeGVsU3BhY2luZ3x8MSx5PXt4OihNYXRoLmNlaWwoby5oYW5kbGVzLm1pZGRsZS54KS1NYXRoLmNlaWwoby5oYW5kbGVzLnN0YXJ0LngpKSptLHk6KE1hdGguY2VpbChvLmhhbmRsZXMubWlkZGxlLnkpLU1hdGguY2VpbChvLmhhbmRsZXMuc3RhcnQueSkpKmh9LE09e3g6KE1hdGguY2VpbChvLmhhbmRsZXMuZW5kLngpLU1hdGguY2VpbChvLmhhbmRsZXMubWlkZGxlLngpKSptLHk6KE1hdGguY2VpbChvLmhhbmRsZXMuZW5kLnkpLU1hdGguY2VpbChvLmhhbmRsZXMubWlkZGxlLnkpKSpofSxfPXt4OihNYXRoLmNlaWwoby5oYW5kbGVzLmVuZC54KS1NYXRoLmNlaWwoby5oYW5kbGVzLnN0YXJ0LngpKSptLHk6KE1hdGguY2VpbChvLmhhbmRsZXMuZW5kLnkpLU1hdGguY2VpbChvLmhhbmRsZXMuc3RhcnQueSkpKmh9LHg9Uyh5KSxPPVMoTSksYj1TKF8pLEM9TWF0aC5hY29zKChNYXRoLnBvdyh4LDIpK01hdGgucG93KE8sMiktTWF0aC5wb3coYiwyKSkvKDIqeCpPKSk7aWYoQyo9MTgwL01hdGguUEksby5yQW5nbGU9KDAsaS5kZWZhdWx0KShDLDIpLG8uckFuZ2xlKXt2YXIgUD1mdW5jdGlvbihlLHQsbil7dmFyIGE9dCYmbj9cIlwiOlwiIChpc290cm9waWMpXCI7cmV0dXJuIGUuckFuZ2xlLnRvU3RyaW5nKCkrU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChcIjAwQjBcIiwxNikpK2F9KG8sdC5pbWFnZS5yb3dQaXhlbFNwYWNpbmcsdC5pbWFnZS5jb2x1bW5QaXhlbFNwYWNpbmcpLEk9dm9pZCAwO2lmKCFvLmhhbmRsZXMudGV4dEJveC5oYXNNb3ZlZCl7ST17eDpzLngseTpzLnl9O3ZhciBMPSgwLEUudGV4dEJveFdpZHRoKShlLFAsNSk7cy54PHUueD9JLngtPTE1K0w6SS54Kz0xNTt2YXIgdz1hLmludGVybmFsLmdldFRyYW5zZm9ybShyKTt3LmludmVydCgpO3ZhciBEPXcudHJhbnNmb3JtUG9pbnQoSS54LEkueSk7by5oYW5kbGVzLnRleHRCb3gueD1ELngsby5oYW5kbGVzLnRleHRCb3gueT1ELnl9KDAsbC5kZWZhdWx0KShlLHQuZWxlbWVudCxvLmhhbmRsZXMudGV4dEJveCxQLG8uaGFuZGxlcyxULG4sYywwLCEwKX19KX0sbT0wO208bi5kYXRhLmxlbmd0aDttKyspZyhtKTtmdW5jdGlvbiBUKGUpe3JldHVybltlLnN0YXJ0LGUubWlkZGxlLGUuZW5kXX19dmFyIE89KDAsci5kZWZhdWx0KSh7Y3JlYXRlTmV3TWVhc3VyZW1lbnQ6TSxhZGROZXdNZWFzdXJlbWVudDpmdW5jdGlvbihlKXt2YXIgdD1vLmRlZmF1bHQuY29ybmVyc3RvbmUsbj1NKGUpLHI9ZS5lbGVtZW50OygwLGguYWRkVG9vbFN0YXRlKShyLHksbiksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLE8ubW91c2VNb3ZlQ2FsbGJhY2spLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxPLm1vdXNlTW92ZUNhbGxiYWNrKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04sTy5tb3VzZURvd25DYWxsYmFjayksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLE8ubW91c2VEb3duQWN0aXZhdGVDYWxsYmFjayksdC51cGRhdGVJbWFnZShyKSwoMCxjLmRlZmF1bHQpKGUseSxuLG4uaGFuZGxlcy5taWRkbGUsZnVuY3Rpb24oKXtpZihuLmFjdGl2ZT0hMSwoMCxzLmRlZmF1bHQpKGUsbi5oYW5kbGVzKSlyZXR1cm4oMCxoLnJlbW92ZVRvb2xTdGF0ZSkocix5LG4pLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxPLm1vdXNlTW92ZUNhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsTy5tb3VzZU1vdmVDYWxsYmFjayksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLE8ubW91c2VEb3duQ2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxPLm1vdXNlRG93bkFjdGl2YXRlQ2FsbGJhY2spLHZvaWQgdC51cGRhdGVJbWFnZShyKTtuLmhhbmRsZXMuZW5kLmFjdGl2ZT0hMCx0LnVwZGF0ZUltYWdlKHIpLCgwLGMuZGVmYXVsdCkoZSx5LG4sbi5oYW5kbGVzLmVuZCxmdW5jdGlvbigpe24uYWN0aXZlPSExLCgwLHMuZGVmYXVsdCkoZSxuLmhhbmRsZXMpJiYoMCxoLnJlbW92ZVRvb2xTdGF0ZSkocix5LG4pLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxPLm1vdXNlTW92ZUNhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsTy5tb3VzZU1vdmVDYWxsYmFjayksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLE8ubW91c2VEb3duQ2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxPLm1vdXNlRG93bkFjdGl2YXRlQ2FsbGJhY2spLHQudXBkYXRlSW1hZ2Uocil9KX0pfSxvbkltYWdlUmVuZGVyZWQ6eCxwb2ludE5lYXJUb29sOl8sdG9vbFR5cGU6eX0pLGI9KDAsZy5kZWZhdWx0KSh7Y3JlYXRlTmV3TWVhc3VyZW1lbnQ6TSxhZGROZXdNZWFzdXJlbWVudDpmdW5jdGlvbihlKXt2YXIgdD1vLmRlZmF1bHQuY29ybmVyc3RvbmUsbj1NKGUpLHI9ZS5lbGVtZW50OygwLGguYWRkVG9vbFN0YXRlKShyLHksbiksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHLGIudG91Y2hNb3ZlQ2FsbGJhY2spLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGIudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFjayksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxiLnRvdWNoU3RhcnRDYWxsYmFjayksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsYi50YXBDYWxsYmFjayksdC51cGRhdGVJbWFnZShyKSwoMCxmLmRlZmF1bHQpKGUseSxuLG4uaGFuZGxlcy5taWRkbGUsZnVuY3Rpb24oKXtpZigoMCxzLmRlZmF1bHQpKGUsbi5oYW5kbGVzKSlyZXR1cm4oMCxoLnJlbW92ZVRvb2xTdGF0ZSkocix5LG4pLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBRyxiLnRvdWNoTW92ZUNhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULGIudG91Y2hTdGFydENhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJUX0FDVElWRSxiLnRvdWNoRG93bkFjdGl2YXRlQ2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVEFQLGIudGFwQ2FsbGJhY2spLHZvaWQgdC51cGRhdGVJbWFnZShyKTsoMCxmLmRlZmF1bHQpKGUseSxuLG4uaGFuZGxlcy5lbmQsZnVuY3Rpb24oKXsoMCxzLmRlZmF1bHQpKGUsbi5oYW5kbGVzKSYmKCgwLGgucmVtb3ZlVG9vbFN0YXRlKShyLHksbiksdC51cGRhdGVJbWFnZShyKSksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHLGIudG91Y2hNb3ZlQ2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsYi50b3VjaFN0YXJ0Q2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLGIudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFjayksci5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsYi50YXBDYWxsYmFjayl9KX0pfSxvbkltYWdlUmVuZGVyZWQ6eCxwb2ludE5lYXJUb29sOl8sdG9vbFR5cGU6eX0pO3Quc2ltcGxlQW5nbGU9Tyx0LnNpbXBsZUFuZ2xlVG91Y2g9Yn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuc2VlZEFubm90YXRlVG91Y2g9dC5zZWVkQW5ub3RhdGU9dm9pZCAwO3ZhciBhPXkobigxKSksbz15KG4oMCkpLHI9eShuKDEwKSksaT15KG4oMTIpKSxsPXkobigyMSkpLHU9eShuKDE0KSksZD15KG4oNykpLHM9eShuKDE1KSksYz15KG4oMzEpKSxmPXkobig5KSksdj15KG4oNSkpLGc9eShuKDIyKSksbT15KG4oMTcpKSxoPW4oMikscD1uKDQpLEU9bigzKSxUPW4oMTEpO2Z1bmN0aW9uIHkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBNPVwic2VlZEFubm90YXRlXCI7dmFyIF89e2dldFRleHRDYWxsYmFjazpmdW5jdGlvbihlKXtlKHByb21wdChcIkVudGVyIHlvdXIgYW5ub3RhdGlvbjpcIikpfSxjaGFuZ2VUZXh0Q2FsbGJhY2s6ZnVuY3Rpb24oZSx0LG4pe24ocHJvbXB0KFwiQ2hhbmdlIHlvdXIgYW5ub3RhdGlvbjpcIikpfSxkcmF3SGFuZGxlczohMSxkcmF3SGFuZGxlc09uSG92ZXI6ITAsY3VycmVudExldHRlcjpcIkFcIixjdXJyZW50TnVtYmVyOjAsc2hvd0Nvb3JkaW5hdGVzOiEwLGNvdW50VXA6ITB9O2Z1bmN0aW9uIFMoZSl7cmV0dXJue3Zpc2libGU6ITAsYWN0aXZlOiEwLGNvbG9yOnZvaWQgMCxoYW5kbGVzOntlbmQ6e3g6ZS5jdXJyZW50UG9pbnRzLmltYWdlLngseTplLmN1cnJlbnRQb2ludHMuaW1hZ2UueSxoaWdobGlnaHQ6ITAsYWN0aXZlOiExfSx0ZXh0Qm94OnthY3RpdmU6ITEsaGFzTW92ZWQ6ITEsbW92ZXNJbmRlcGVuZGVudGx5OiExLGRyYXduSW5kZXBlbmRlbnRseTohMCxhbGxvd2VkT3V0c2lkZUltYWdlOiEwLGhhc0JvdW5kaW5nQm94OiEwfX19fWZ1bmN0aW9uIHgoZSx0LG4pe2lmKCExPT09dC52aXNpYmxlKXJldHVybiExO2lmKHQuaGFuZGxlcy5lbmQpe3ZhciBhPW8uZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKGUsdC5oYW5kbGVzLmVuZCk7cmV0dXJuIG8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuZGlzdGFuY2UoYSxuKTwyNX19ZnVuY3Rpb24gTyhlKXt2YXIgdD1lLmRldGFpbCxuPSgwLGguZ2V0VG9vbFN0YXRlKShlLmN1cnJlbnRUYXJnZXQsTSk7aWYobilmb3IodmFyIGE9by5kZWZhdWx0LmNvcm5lcnN0b25lLHI9dC5lbmFibGVkRWxlbWVudCxpPSgwLEUuZ2V0TmV3Q29udGV4dCkodC5jYW52YXNDb250ZXh0LmNhbnZhcykscz10LmNhbnZhc0NvbnRleHQuY2FudmFzLndpZHRoLGM9dS5kZWZhdWx0LmdldFRvb2xXaWR0aCgpLHY9Yi5nZXRDb25maWd1cmF0aW9uKCksZz1mdW5jdGlvbihlKXt2YXIgbz1uLmRhdGFbZV07aWYoITE9PT1vLnZpc2libGUpcmV0dXJuXCJjb250aW51ZVwiOygwLEUuZHJhdykoaSxmdW5jdGlvbihlKXsoMCxFLnNldFNoYWRvdykoZSx2KTt2YXIgbj1kLmRlZmF1bHQuZ2V0Q29sb3JJZkFjdGl2ZShvKSxpPWEucGl4ZWxUb0NhbnZhcyh0LmVsZW1lbnQsby5oYW5kbGVzLmVuZCk7KDAsRS5kcmF3Q2lyY2xlKShlLHQuZWxlbWVudCxvLmhhbmRsZXMuZW5kLDYse2NvbG9yOm59KTt2YXIgdT17ZHJhd0hhbmRsZXNJZkFjdGl2ZTp2JiZ2LmRyYXdIYW5kbGVzT25Ib3Zlcn07aWYodi5kcmF3SGFuZGxlcyYmKDAsZi5kZWZhdWx0KShlLHQsaSxuLHUpLG8udGV4dCYmXCJcIiE9PW8udGV4dCl7dmFyIGc9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjt0PXYuc2hvd0Nvb3JkaW5hdGVzP2UudGV4dCtcIiB4OiBcIitNYXRoLnJvdW5kKGUuaGFuZGxlcy5lbmQueCkrXCIgeTogXCIrTWF0aC5yb3VuZChlLmhhbmRsZXMuZW5kLnkpOmUudGV4dDtyZXR1cm4gdH0obyksaD0oMCxULnRleHRCb3hXaWR0aCkoZSxnLDUpLHA9bC5kZWZhdWx0LmdldEZvbnRTaXplKCkrMTAsTT1NYXRoLm1heChoLHApLzIrNTtpLng+cy8yJiYoTT0tTSk7dmFyIF89dm9pZCAwO2lmKCFvLmhhbmRsZXMudGV4dEJveC5oYXNNb3ZlZCl7Xz17eDppLngtaC8yK00seTppLnktcC8yfTt2YXIgUz1hLmludGVybmFsLmdldFRyYW5zZm9ybShyKTtTLmludmVydCgpO3ZhciB4PVMudHJhbnNmb3JtUG9pbnQoXy54LF8ueSk7by5oYW5kbGVzLnRleHRCb3gueD14Lngsby5oYW5kbGVzLnRleHRCb3gueT14Lnl9KDAsbS5kZWZhdWx0KShlLHQuZWxlbWVudCxvLmhhbmRsZXMudGV4dEJveCxnLG8uaGFuZGxlcyx5LG4sYywwLCExKX19KX0scD0wO3A8bi5kYXRhLmxlbmd0aDtwKyspZyhwKTtmdW5jdGlvbiB5KGUpe3JldHVybltlLmVuZF19fXZhciBiPSgwLHIuZGVmYXVsdCkoe2FkZE5ld01lYXN1cmVtZW50OmZ1bmN0aW9uKGUpe3ZhciB0PW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxuPWUuZWxlbWVudCxhPWIuZ2V0Q29uZmlndXJhdGlvbigpLHI9UyhlKTtmdW5jdGlvbiBpKGUpe251bGw9PT1lPygwLGgucmVtb3ZlVG9vbFN0YXRlKShuLE0scik6ci50ZXh0PWUsci5hY3RpdmU9ITEsdC51cGRhdGVJbWFnZShuKX0oMCxoLmFkZFRvb2xTdGF0ZSkobixNLHIpLHQudXBkYXRlSW1hZ2UobiksKDAsYy5kZWZhdWx0KShlLE0scixyLmhhbmRsZXMuZW5kLGZ1bmN0aW9uKCl7KDAscy5kZWZhdWx0KShlLHIuaGFuZGxlcykmJigwLGgucmVtb3ZlVG9vbFN0YXRlKShuLE0sciksdm9pZCAwPT09ci50ZXh0JiZhLmdldFRleHRDYWxsYmFjayhpKSx0LnVwZGF0ZUltYWdlKG4pfSl9LGNyZWF0ZU5ld01lYXN1cmVtZW50OlMsb25JbWFnZVJlbmRlcmVkOk8scG9pbnROZWFyVG9vbDp4LHRvb2xUeXBlOk0sbW91c2VEb3VibGVDbGlja0NhbGxiYWNrOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49by5kZWZhdWx0LmNvcm5lcnN0b25lLGE9dC5lbGVtZW50LHI9dm9pZCAwLGk9KDAscC5nZXRUb29sT3B0aW9ucykoTSxhKTtpZigoMCx2LmRlZmF1bHQpKHQud2hpY2gsaS5tb3VzZUJ1dHRvbk1hc2spKXt2YXIgbD1iLmdldENvbmZpZ3VyYXRpb24oKSx1PXQuY3VycmVudFBvaW50cy5jYW52YXMsZD0oMCxoLmdldFRvb2xTdGF0ZSkoYSxNKTtpZihkKXtmb3IodmFyIHM9MDtzPGQuZGF0YS5sZW5ndGg7cysrKWlmKHI9ZC5kYXRhW3NdLHgoYSxyLHUpfHwoMCxnLmRlZmF1bHQpKHIuaGFuZGxlcy50ZXh0Qm94LHUpKXJldHVybiByLmFjdGl2ZT0hMCxuLnVwZGF0ZUltYWdlKGEpLGwuY2hhbmdlVGV4dENhbGxiYWNrKHIsdCxjKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExO2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpfX1mdW5jdGlvbiBjKGUsdCxvKXshMD09PW8/KDAsaC5yZW1vdmVUb29sU3RhdGUpKGEsTSxlKTplLnRleHQ9dCxlLmFjdGl2ZT0hMSxuLnVwZGF0ZUltYWdlKGEpfX19KTtiLnNldENvbmZpZ3VyYXRpb24oXyk7dmFyIEM9KDAsaS5kZWZhdWx0KSh7YWRkTmV3TWVhc3VyZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9by5kZWZhdWx0LmNvcm5lcnN0b25lLG49ZS5lbGVtZW50LGE9Yi5nZXRDb25maWd1cmF0aW9uKCkscj1TKGUpO2Z1bmN0aW9uIGkoZSl7bnVsbD09PWU/KDAsaC5yZW1vdmVUb29sU3RhdGUpKG4sTSxyKTpyLnRleHQ9ZSxyLmFjdGl2ZT0hMSx0LnVwZGF0ZUltYWdlKG4pfSgwLGguYWRkVG9vbFN0YXRlKShuLE0sciksdC51cGRhdGVJbWFnZShuKSwoMCxjLmRlZmF1bHQpKGUsTSxyLHIuaGFuZGxlcy5lbmQsZnVuY3Rpb24oKXsoMCxzLmRlZmF1bHQpKGUsci5oYW5kbGVzKSYmKDAsaC5yZW1vdmVUb29sU3RhdGUpKG4sTSxyKSx2b2lkIDA9PT1yLnRleHQmJmEuZ2V0VGV4dENhbGxiYWNrKGkpLHQudXBkYXRlSW1hZ2Uobil9KX0sY3JlYXRlTmV3TWVhc3VyZW1lbnQ6UyxvbkltYWdlUmVuZGVyZWQ6Tyxwb2ludE5lYXJUb29sOngsdG9vbFR5cGU6TSxwcmVzc0NhbGxiYWNrOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49by5kZWZhdWx0LmNvcm5lcnN0b25lLHI9dC5lbGVtZW50LGk9dm9pZCAwO2Z1bmN0aW9uIGwoZSx0LG8pe2NvbnNvbGUubG9nKFwicHJlc3NDYWxsYmFjayBkb25lQ2hhbmdpbmdUZXh0Q2FsbGJhY2tcIiksITA9PT1vPygwLGgucmVtb3ZlVG9vbFN0YXRlKShyLE0sZSk6ZS50ZXh0PXQsZS5hY3RpdmU9ITEsbi51cGRhdGVJbWFnZShyKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULEMudG91Y2hTdGFydENhbGxiYWNrKSxyLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJUX0FDVElWRSxDLnRvdWNoRG93bkFjdGl2YXRlQ2FsbGJhY2spLHIuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVEFQLEMudGFwQ2FsbGJhY2spfXZhciB1PWIuZ2V0Q29uZmlndXJhdGlvbigpLGQ9dC5jdXJyZW50UG9pbnRzLmNhbnZhcyxzPSgwLGguZ2V0VG9vbFN0YXRlKShyLE0pO2lmKCFzKXJldHVybiExO2lmKHQuaGFuZGxlUHJlc3NlZClyZXR1cm4gci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxDLnRvdWNoU3RhcnRDYWxsYmFjayksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVF9BQ1RJVkUsQy50b3VjaERvd25BY3RpdmF0ZUNhbGxiYWNrKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRBUCxDLnRhcENhbGxiYWNrKSx1LmNoYW5nZVRleHRDYWxsYmFjayh0LmhhbmRsZVByZXNzZWQsdCxsKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExO2Zvcih2YXIgYz0wO2M8cy5kYXRhLmxlbmd0aDtjKyspaWYoaT1zLmRhdGFbY10seChyLGksZCl8fCgwLGcuZGVmYXVsdCkoaS5oYW5kbGVzLnRleHRCb3gsZCkpcmV0dXJuIGkuYWN0aXZlPSEwLG4udXBkYXRlSW1hZ2Uociksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxDLnRvdWNoU3RhcnRDYWxsYmFjayksci5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVF9BQ1RJVkUsQy50b3VjaERvd25BY3RpdmF0ZUNhbGxiYWNrKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRBUCxDLnRhcENhbGxiYWNrKSx1LmNoYW5nZVRleHRDYWxsYmFjayhpLHQsbCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX19KTt0LnNlZWRBbm5vdGF0ZT1iLHQuc2VlZEFubm90YXRlVG91Y2g9Q30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkobigyNCkpLG89aShuKDApKSxyPW4oMyk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbChlLHQsbixhLG8pe3ZhciByPXtsZWZ0OjAsdG9wOjAsd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9LGk9YSpNYXRoLm1pbigxZTMsdC53aWR0aCksbD1vKk1hdGgubWluKDFlMyx0LmhlaWdodCk7cmV0dXJue3RvcExlZnQ6e3g6KHI9e2xlZnQ6ci5sZWZ0K2ksdG9wOnIudG9wK2wsd2lkdGg6ci53aWR0aC0yKmksaGVpZ2h0OnIuaGVpZ2h0LTIqbH0pLmxlZnQseTpyLnRvcH0sYm90dG9tUmlnaHQ6e3g6ci5sZWZ0K3Iud2lkdGgseTpyLnRvcCtyLmhlaWdodH19fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5kZXRhaWwsbj0oMCxyLmdldE5ld0NvbnRleHQpKHQuY2FudmFzQ29udGV4dC5jYW52YXMpLGE9dC5pbWFnZSxpPXQudmlld3BvcnQsdT1vLmRlZmF1bHQuY29ybmVyc3RvbmUubWV0YURhdGEuZ2V0KFwiaW1hZ2VQbGFuZU1vZHVsZVwiLGEuaW1hZ2VJZCkscz12b2lkIDAsYz12b2lkIDA7aWYodT8ocz11LnJvd1BpeGVsU3BhY2luZ3x8dS5yb3dJbWFnZVBpeGVsU3BhY2luZyxjPXUuY29sdW1uUGl4ZWxTcGFjaW5nfHx1LmNvbEltYWdlUGl4ZWxTcGFjaW5nKToocz1hLnJvd1BpeGVsU3BhY2luZyxjPWEuY29sdW1uUGl4ZWxTcGFjaW5nKSxzJiZjKXt2YXIgZj17d2lkdGg6bi5jYW52YXMud2lkdGgsaGVpZ2h0Om4uY2FudmFzLmhlaWdodH0sdj17d2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9LGc9MTAvcyppLnNjYWxlLG09MTAvYyppLnNjYWxlLGg9bCgwLGYsMCwuMjUsLjA1KSxwPWwoMCxmLDAsLjA1LC4xNSk7aWYoZi53aWR0aCYmZi5oZWlnaHQmJnYud2lkdGgmJnYuaGVpZ2h0JiZoJiZwKXt2YXIgRT1kLmdldENvbmZpZ3VyYXRpb24oKSxUPU9iamVjdC5hc3NpZ24oe30se2hzY2FsZUJvdW5kczpoLHZzY2FsZUJvdW5kczpwLHZlcnRpY2FsTWlub3JUaWNrOmcsaG9yaXpvbnRhbE1pbm9yVGljazptLG1pbm9yVGlja0xlbmd0aDoxMi41LG1ham9yVGlja0xlbmd0aDoyNSx2ZXJ0aWNhbExpbmU6e3N0YXJ0Ont4OnAuYm90dG9tUmlnaHQueCx5OnAudG9wTGVmdC55fSxlbmQ6e3g6cC5ib3R0b21SaWdodC54LHk6cC5ib3R0b21SaWdodC55fX0saG9yaXpvbnRhbExpbmU6e3N0YXJ0Ont4OmgudG9wTGVmdC54LHk6aC5ib3R0b21SaWdodC55fSxlbmQ6e3g6aC5ib3R0b21SaWdodC54LHk6aC5ib3R0b21SaWdodC55fX19LEUpLHk9e2NvbG9yOlQuY29sb3IsbGluZVdpZHRoOlQubGluZVdpZHRofSxNPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49W107ZS52ZXJ0aWNhbExpbmUuc3RhcnQueSt0KmUudmVydGljYWxNaW5vclRpY2s8PWUudnNjYWxlQm91bmRzLmJvdHRvbVJpZ2h0Lnk7KXt2YXIgYT17eDplLnZlcnRpY2FsTGluZS5zdGFydC54LHk6ZS52ZXJ0aWNhbExpbmUuc3RhcnQueSt0KmUudmVydGljYWxNaW5vclRpY2t9LG89e3g6MCx5OmUudmVydGljYWxMaW5lLnN0YXJ0LnkrdCplLnZlcnRpY2FsTWlub3JUaWNrfTtvLng9dCU1PT0wP2UudmVydGljYWxMaW5lLnN0YXJ0LngtZS5tYWpvclRpY2tMZW5ndGg6ZS52ZXJ0aWNhbExpbmUuc3RhcnQueC1lLm1pbm9yVGlja0xlbmd0aCxuLnB1c2goe3N0YXJ0OmEsZW5kOm99KSx0Kyt9cmV0dXJuIG59KFQpLF89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1bXTtlLmhvcml6b250YWxMaW5lLnN0YXJ0LngrdCplLmhvcml6b250YWxNaW5vclRpY2s8PWUuaHNjYWxlQm91bmRzLmJvdHRvbVJpZ2h0Lng7KXt2YXIgYT17eDplLmhvcml6b250YWxMaW5lLnN0YXJ0LngrdCplLmhvcml6b250YWxNaW5vclRpY2sseTplLmhvcml6b250YWxMaW5lLnN0YXJ0Lnl9LG89e3g6ZS5ob3Jpem9udGFsTGluZS5zdGFydC54K3QqZS5ob3Jpem9udGFsTWlub3JUaWNrLHk6MH07by55PXQlNT09MD9lLmhvcml6b250YWxMaW5lLnN0YXJ0LnktZS5tYWpvclRpY2tMZW5ndGg6ZS5ob3Jpem9udGFsTGluZS5zdGFydC55LWUubWlub3JUaWNrTGVuZ3RoLG4ucHVzaCh7c3RhcnQ6YSxlbmQ6b30pLHQrK31yZXR1cm4gbn0oVCk7KDAsci5kcmF3KShuLGZ1bmN0aW9uKGUpe2Uuc2hhZG93Q29sb3I9VC5zaGFkb3dDb2xvcixlLnNoYWRvd0JsdXI9VC5zaGFkb3dCbHVyLCgwLHIuZHJhd0xpbmUpKGUsdm9pZCAwLFQudmVydGljYWxMaW5lLnN0YXJ0LFQudmVydGljYWxMaW5lLmVuZCx5LFwiY2FudmFzXCIpLCgwLHIuZHJhd0xpbmUpKGUsdm9pZCAwLFQuaG9yaXpvbnRhbExpbmUuc3RhcnQsVC5ob3Jpem9udGFsTGluZS5lbmQseSxcImNhbnZhc1wiKSwoMCxyLmRyYXdMaW5lcykoZSx2b2lkIDAsTSx5LFwiY2FudmFzXCIpLCgwLHIuZHJhd0xpbmVzKShlLHZvaWQgMCxfLHksXCJjYW52YXNcIil9KX19fXZhciBkPSgwLGEuZGVmYXVsdCkodSk7ZC5zZXRDb25maWd1cmF0aW9uKHtjb2xvcjpcIndoaXRlXCIsbGluZVdpZHRoOjIsc2hhZG93Q29sb3I6XCJibGFja1wiLHNoYWRvd0JsdXI6NH0pLGQuZGlzYWJsZT1mdW5jdGlvbihlKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCx1KSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoZSl9LHQuZGVmYXVsdD1kfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiaW1hZ2UvcG5nXCIsYT1lLnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXNcIik7aWYoYS5tc1RvQmxvYil7dmFyIG89YS5tc1RvQmxvYigpO3JldHVybiB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2Iobyx0KX12YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtpZihyLmRvd25sb2FkPXQsci5ocmVmPWEudG9EYXRhVVJMKG4sMSksZG9jdW1lbnQuY3JlYXRlRXZlbnQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7aS5pbml0TW91c2VFdmVudChcImNsaWNrXCIsITAsITAsd2luZG93LDAsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGwpLHIuZGlzcGF0Y2hFdmVudChpKX1lbHNlIHIuZmlyZUV2ZW50JiZyLmZpcmVFdmVudChcIm9uY2xpY2tcIil9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9cihuKDEpKSxvPXIobigwKSk7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmRldGFpbDtyZXR1cm4gdC52aWV3cG9ydC5yb3RhdGlvbis9dC5yb3RhdGlvbixvLmRlZmF1bHQuY29ybmVyc3RvbmUuc2V0Vmlld3BvcnQodC5lbGVtZW50LHQudmlld3BvcnQpLCExfXZhciBsPXthY3RpdmF0ZTpmdW5jdGlvbihlKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1JPVEFURSxpKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1JPVEFURSxpKX0sZGlzYWJsZTpmdW5jdGlvbihlKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1JPVEFURSxpKX19O3QuZGVmYXVsdD1sfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yb3RhdGVUb3VjaERyYWc9dC5yb3RhdGU9dm9pZCAwO3ZhciBhPWQobigxKSksbz1kKG4oMCkpLHI9ZChuKDE2KSksaT1kKG4oNTYpKSxsPWQobig1KSksdT1uKDQpO2Z1bmN0aW9uIGQoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBzPVwicm90YXRlXCI7ZnVuY3Rpb24gYyhlLHQsbil7dmFyIGE9ZS5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdChlLmVsZW1lbnQpLHI9ZS5lbGVtZW50LmNsaWVudFdpZHRoLGk9ZS5lbGVtZW50LmNsaWVudEhlaWdodCxsPWUudmlld3BvcnQuc2NhbGUsdT1lLnZpZXdwb3J0LnRyYW5zbGF0aW9uLGQ9e3g6YS5sZWZ0K3IvMit1LngqbCx5OmEudG9wK2kvMit1LnkqbH0scz10LGM9e3g6ZS5jdXJyZW50UG9pbnRzLmNsaWVudC54LHk6ZS5jdXJyZW50UG9pbnRzLmNsaWVudC55fSxmPU1hdGguc3FydChNYXRoLnBvdyhkLngtcy54LDIpK01hdGgucG93KGQueS1zLnksMikpLHY9TWF0aC5zcXJ0KE1hdGgucG93KGQueC1jLngsMikrTWF0aC5wb3coZC55LWMueSwyKSksZz1NYXRoLnNxcnQoTWF0aC5wb3cocy54LWMueCwyKStNYXRoLnBvdyhzLnktYy55LDIpKSxtPTE4MCpNYXRoLmFjb3MoKE1hdGgucG93KGYsMikrTWF0aC5wb3codiwyKS1NYXRoLnBvdyhnLDIpKS8oMipmKnYpKS9NYXRoLlBJOyhzLngtZC54KSooYy55LWQueSktKHMueS1kLnkpKihjLngtZC54KTwwJiYobT0tbSksZS52aWV3cG9ydC5yb3RhdGlvbj1uK20sby5kZWZhdWx0LmNvcm5lcnN0b25lLnNldFZpZXdwb3J0KGUuZWxlbWVudCxlLnZpZXdwb3J0KX1mdW5jdGlvbiBmKGUsdCxuKXt2YXIgYT1uLmRldGFpbDt2LnN0cmF0ZWd5KGEsZSx0KSxvLmRlZmF1bHQuY29ybmVyc3RvbmUuc2V0Vmlld3BvcnQoYS5lbGVtZW50LGEudmlld3BvcnQpLG4ucHJldmVudERlZmF1bHQoKSxuLnN0b3BQcm9wYWdhdGlvbigpfXZhciB2PSgwLHIuZGVmYXVsdCkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQsbz0oMCx1LmdldFRvb2xPcHRpb25zKShzLG4pLHI9e3g6dC5jdXJyZW50UG9pbnRzLmNsaWVudC54LHk6dC5jdXJyZW50UG9pbnRzLmNsaWVudC55fSxpPXQudmlld3BvcnQucm90YXRpb247aWYoKDAsbC5kZWZhdWx0KSh0LndoaWNoLG8ubW91c2VCdXR0b25NYXNrKSl7dmFyIGQ9Zi5iaW5kKHt9LHIsaSksYz1mdW5jdGlvbiBlKHQpe3ZhciBuPXQuZGV0YWlsLmVsZW1lbnQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLGQpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsZSksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxlKX07bi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLGQpLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsYyksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxjKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX19LHMpO3Yuc3RyYXRlZ2llcz17ZGVmYXVsdDpjLGhvcml6b250YWw6ZnVuY3Rpb24oZSl7ZS52aWV3cG9ydC5yb3RhdGlvbis9ZS5kZWx0YVBvaW50cy5wYWdlLngvZS52aWV3cG9ydC5zY2FsZSxvLmRlZmF1bHQuY29ybmVyc3RvbmUuc2V0Vmlld3BvcnQoZS5lbGVtZW50LGUudmlld3BvcnQpfSx2ZXJ0aWNhbDpmdW5jdGlvbihlKXtlLnZpZXdwb3J0LnJvdGF0aW9uKz1lLmRlbHRhUG9pbnRzLnBhZ2UueS9lLnZpZXdwb3J0LnNjYWxlLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5zZXRWaWV3cG9ydChlLmVsZW1lbnQsZS52aWV3cG9ydCl9fSx2LnN0cmF0ZWd5PWM7dmFyIGc9KDAsaS5kZWZhdWx0KShmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxvPXt4OnQuY3VycmVudFBvaW50cy5jbGllbnQueCx5OnQuY3VycmVudFBvaW50cy5jbGllbnQueX0scj10LnZpZXdwb3J0LnJvdGF0aW9uLGk9Zi5iaW5kKHt9LG8scik7bi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHLGkpLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRU5ELGZ1bmN0aW9uIGUodCl7dmFyIG49dC5kZXRhaWwuZWxlbWVudDtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcsaSksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9FTkQsZSl9KSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX0scyk7dC5yb3RhdGU9dix0LnJvdGF0ZVRvdWNoRHJhZz1nfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5yZWN0YW5nbGVSb2lUb3VjaD10LnJlY3RhbmdsZVJvaT12b2lkIDA7dmFyIGE9dihuKDApKSxvPXYobigxMCkpLHI9dihuKDEyKSksaT12KG4oMTQpKSxsPXYobig3KSksdT12KG4oOSkpLGQ9dihuKDIwKSkscz1uKDIpLGM9dihuKDE3KSksZj1uKDMpO2Z1bmN0aW9uIHYoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBnPVwicmVjdGFuZ2xlUm9pXCI7ZnVuY3Rpb24gbShlKXtyZXR1cm57dmlzaWJsZTohMCxhY3RpdmU6ITAsaW52YWxpZGF0ZWQ6ITAsY29sb3I6dm9pZCAwLGhhbmRsZXM6e3N0YXJ0Ont4OmUuY3VycmVudFBvaW50cy5pbWFnZS54LHk6ZS5jdXJyZW50UG9pbnRzLmltYWdlLnksaGlnaGxpZ2h0OiEwLGFjdGl2ZTohMX0sZW5kOnt4OmUuY3VycmVudFBvaW50cy5pbWFnZS54LHk6ZS5jdXJyZW50UG9pbnRzLmltYWdlLnksaGlnaGxpZ2h0OiEwLGFjdGl2ZTohMH0sdGV4dEJveDp7YWN0aXZlOiExLGhhc01vdmVkOiExLG1vdmVzSW5kZXBlbmRlbnRseTohMSxkcmF3bkluZGVwZW5kZW50bHk6ITAsYWxsb3dlZE91dHNpZGVJbWFnZTohMCxoYXNCb3VuZGluZ0JveDohMH19fX1mdW5jdGlvbiBoKGUsdCxuKXtpZighMT09PXQudmlzaWJsZSlyZXR1cm4hMTt2YXIgbz1hLmRlZmF1bHQuY29ybmVyc3RvbmUscj1vLnBpeGVsVG9DYW52YXMoZSx0LmhhbmRsZXMuc3RhcnQpLGk9by5waXhlbFRvQ2FudmFzKGUsdC5oYW5kbGVzLmVuZCksbD17bGVmdDpNYXRoLm1pbihyLngsaS54KSx0b3A6TWF0aC5taW4oci55LGkueSksd2lkdGg6TWF0aC5hYnMoci54LWkueCksaGVpZ2h0Ok1hdGguYWJzKHIueS1pLnkpfTtyZXR1cm4gYS5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5yZWN0LmRpc3RhbmNlVG9Qb2ludChsLG4pPDV9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpO3JldHVybiB0WzBdPXRbMF0ucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZyxcIixcIiksdC5qb2luKFwiLlwiKX1mdW5jdGlvbiBFKGUpe3ZhciB0PWUuZGV0YWlsLG49KDAscy5nZXRUb29sU3RhdGUpKGUuY3VycmVudFRhcmdldCxnKTtpZihuKXt2YXIgbz1hLmRlZmF1bHQuY29ybmVyc3RvbmUscj10LmltYWdlLHY9dC5lbGVtZW50LG09aS5kZWZhdWx0LmdldFRvb2xXaWR0aCgpLGg9VC5nZXRDb25maWd1cmF0aW9uKCksRT1vLm1ldGFEYXRhLmdldChcImdlbmVyYWxTZXJpZXNNb2R1bGVcIixyLmltYWdlSWQpLHk9by5tZXRhRGF0YS5nZXQoXCJpbWFnZVBsYW5lTW9kdWxlXCIsci5pbWFnZUlkKSxNPXZvaWQgMCxfPXZvaWQgMCxTPXZvaWQgMDt5PyhfPXkucm93UGl4ZWxTcGFjaW5nfHx5LnJvd0ltYWdlUGl4ZWxTcGFjaW5nLFM9eS5jb2x1bW5QaXhlbFNwYWNpbmd8fHkuY29sSW1hZ2VQaXhlbFNwYWNpbmcpOihfPXIucm93UGl4ZWxTcGFjaW5nLFM9ci5jb2x1bW5QaXhlbFNwYWNpbmcpLEUmJihNPUUubW9kYWxpdHkpO2Zvcih2YXIgeD0oMCxmLmdldE5ld0NvbnRleHQpKHQuY2FudmFzQ29udGV4dC5jYW52YXMpLE89ZnVuY3Rpb24oZSl7dmFyIGE9bi5kYXRhW2VdO2lmKCExPT09YS52aXNpYmxlKXJldHVyblwiY29udGludWVcIjsoMCxmLmRyYXcpKHgsZnVuY3Rpb24oZSl7KDAsZi5zZXRTaGFkb3cpKGUsaCk7dmFyIG49bC5kZWZhdWx0LmdldENvbG9ySWZBY3RpdmUoYSk7aWYoKDAsZi5kcmF3UmVjdCkoZSx2LGEuaGFuZGxlcy5zdGFydCxhLmhhbmRsZXMuZW5kLHtjb2xvcjpufSksaCYmaC5kcmF3SGFuZGxlc09uSG92ZXIpaWYoITA9PT1hLmFjdGl2ZSkoMCx1LmRlZmF1bHQpKGUsdCxhLmhhbmRsZXMsbik7ZWxzZXsoMCx1LmRlZmF1bHQpKGUsdCxhLmhhbmRsZXMsbix7ZHJhd0hhbmRsZXNJZkFjdGl2ZTohMH0pfWVsc2UoMCx1LmRlZmF1bHQpKGUsdCxhLmhhbmRsZXMsbik7dmFyIGk9dm9pZCAwLHM9dm9pZCAwLGc9dm9pZCAwO2lmKCExPT09YS5pbnZhbGlkYXRlZClzPWEubWVhblN0ZERldixnPWEubWVhblN0ZERldlNVVixpPWEuYXJlYTtlbHNle3ZhciBFPXtsZWZ0Ok1hdGgubWluKGEuaGFuZGxlcy5zdGFydC54LGEuaGFuZGxlcy5lbmQueCksdG9wOk1hdGgubWluKGEuaGFuZGxlcy5zdGFydC55LGEuaGFuZGxlcy5lbmQueSksd2lkdGg6TWF0aC5hYnMoYS5oYW5kbGVzLnN0YXJ0LngtYS5oYW5kbGVzLmVuZC54KSxoZWlnaHQ6TWF0aC5hYnMoYS5oYW5kbGVzLnN0YXJ0LnktYS5oYW5kbGVzLmVuZC55KX07aWYoIXIuY29sb3Ipcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLGE9MCxvPTAscj0wLGk9dC50b3A7aTx0LnRvcCt0LmhlaWdodDtpKyspZm9yKHZhciBsPXQubGVmdDtsPHQubGVmdCt0LndpZHRoO2wrKyluKz1lW3JdLGErPWVbcl0qZVtyXSxvKysscisrO2lmKDA9PT1vKXJldHVybntjb3VudDpvLG1lYW46MCx2YXJpYW5jZTowLHN0ZERldjowfTt2YXIgdT1uL28sZD1hL28tdSp1O3JldHVybntjb3VudDpvLG1lYW46dSx2YXJpYW5jZTpkLHN0ZERldjpNYXRoLnNxcnQoZCl9fShvLmdldFBpeGVscyh2LEUubGVmdCxFLnRvcCxFLndpZHRoLEUuaGVpZ2h0KSxFKSxcIlBUXCI9PT1NJiYoZz17bWVhbjooMCxkLmRlZmF1bHQpKHIsKHMubWVhbi1yLmludGVyY2VwdCkvci5zbG9wZSksc3RkRGV2OigwLGQuZGVmYXVsdCkociwocy5zdGREZXYtci5pbnRlcmNlcHQpL3Iuc2xvcGUpfSkscyYmIWlzTmFOKHMubWVhbikmJihhLm1lYW5TdGREZXY9cyxhLm1lYW5TdGREZXZTVVY9Zyk7aT1FLndpZHRoKihTfHwxKSooRS5oZWlnaHQqKF98fDEpKSxpc05hTihpKXx8KGEuYXJlYT1pKSxhLmludmFsaWRhdGVkPSExfXZhciBUPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWVhblN0ZERldixuPWUubWVhblN0ZERldlNVVixhPWUuYXJlYSxvPVtdO2lmKHQmJnQubWVhbil7dmFyIHI9XCJcIjtcIkNUXCI9PT1NJiYocj1cIiBIVVwiKTt2YXIgaT1cIk1lYW46IFwiK3AodC5tZWFuLnRvRml4ZWQoMikpK3IsbD1cIlN0ZERldjogXCIrcCh0LnN0ZERldi50b0ZpeGVkKDIpKStyO2lmKG4mJnZvaWQgMCE9PW4ubWVhbil7aSs9XCIgU1VWOiBcIitwKG4ubWVhbi50b0ZpeGVkKDIpKSxsKz1cIiBTVVY6IFwiK3Aobi5zdGREZXYudG9GaXhlZCgyKSl9by5wdXNoKGkpLG8ucHVzaChsKX1pZihhKXt2YXIgdT1cIiBtbVwiK1N0cmluZy5mcm9tQ2hhckNvZGUoMTc4KTtfJiZTfHwodT1cIiBwaXhlbHNcIitTdHJpbmcuZnJvbUNoYXJDb2RlKDE3OCkpO3ZhciBkPVwiQXJlYTogXCIrcChhLnRvRml4ZWQoMikpK3U7by5wdXNoKGQpfXJldHVybiBvfShhKTthLmhhbmRsZXMudGV4dEJveC5oYXNNb3ZlZHx8KGEuaGFuZGxlcy50ZXh0Qm94Lng9TWF0aC5tYXgoYS5oYW5kbGVzLnN0YXJ0LngsYS5oYW5kbGVzLmVuZC54KSxhLmhhbmRsZXMudGV4dEJveC55PShhLmhhbmRsZXMuc3RhcnQueSthLmhhbmRsZXMuZW5kLnkpLzIpLCgwLGMuZGVmYXVsdCkoZSx2LGEuaGFuZGxlcy50ZXh0Qm94LFQsYS5oYW5kbGVzLEMsbixtLDAsITApfSl9LGI9MDtiPG4uZGF0YS5sZW5ndGg7YisrKU8oYil9ZnVuY3Rpb24gQyhlKXt2YXIgdD1NYXRoLm1pbihlLnN0YXJ0LngsZS5lbmQueCksbj1NYXRoLm1pbihlLnN0YXJ0LnksZS5lbmQueSksYT1NYXRoLmFicyhlLnN0YXJ0LngtZS5lbmQueCksbz1NYXRoLmFicyhlLnN0YXJ0LnktZS5lbmQueSk7cmV0dXJuW3t4OnQrYS8yLHk6bn0se3g6dCx5Om4rby8yfSx7eDp0K2EvMix5Om4rb30se3g6dCthLHk6bitvLzJ9XX19dmFyIFQ9KDAsby5kZWZhdWx0KSh7Y3JlYXRlTmV3TWVhc3VyZW1lbnQ6bSxvbkltYWdlUmVuZGVyZWQ6RSxwb2ludE5lYXJUb29sOmgsdG9vbFR5cGU6Z30pLHk9KDAsci5kZWZhdWx0KSh7Y3JlYXRlTmV3TWVhc3VyZW1lbnQ6bSxvbkltYWdlUmVuZGVyZWQ6RSxwb2ludE5lYXJUb29sOmgsdG9vbFR5cGU6Z30pO3QucmVjdGFuZ2xlUm9pPVQsdC5yZWN0YW5nbGVSb2lUb3VjaD15fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5wcm9iZVRvdWNoPXQucHJvYmU9dm9pZCAwO3ZhciBhPWcobigwKSksbz1nKG4oMTApKSxyPWcobigxMikpLGk9ZyhuKDcpKSxsPWcobigyMSkpLHU9ZyhuKDkpKSxkPWcobigxMSkpLHM9ZyhuKDQxKSksYz1nKG4oMjApKSxmPW4oMiksdj1uKDMpO2Z1bmN0aW9uIGcoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBtPVwicHJvYmVcIjtmdW5jdGlvbiBoKGUpe3JldHVybnt2aXNpYmxlOiEwLGFjdGl2ZTohMCxjb2xvcjp2b2lkIDAsaGFuZGxlczp7ZW5kOnt4OmUuY3VycmVudFBvaW50cy5pbWFnZS54LHk6ZS5jdXJyZW50UG9pbnRzLmltYWdlLnksaGlnaGxpZ2h0OiEwLGFjdGl2ZTohMH19fX1mdW5jdGlvbiBwKGUsdCxuKXtpZighMT09PXQudmlzaWJsZSlyZXR1cm4hMTt2YXIgbz1hLmRlZmF1bHQuY29ybmVyc3RvbmUucGl4ZWxUb0NhbnZhcyhlLHQuaGFuZGxlcy5lbmQpO3JldHVybiBhLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LmRpc3RhbmNlKG8sbik8NX1mdW5jdGlvbiBFKGUpe3ZhciB0PWUuZGV0YWlsLG49KDAsZi5nZXRUb29sU3RhdGUpKGUuY3VycmVudFRhcmdldCxtKTtpZihuKWZvcih2YXIgbz1hLmRlZmF1bHQuY29ybmVyc3RvbmUscj0oMCx2LmdldE5ld0NvbnRleHQpKHQuY2FudmFzQ29udGV4dC5jYW52YXMpLGc9bC5kZWZhdWx0LmdldEZvbnRTaXplKCksaD1mdW5jdGlvbihlKXt2YXIgYT1uLmRhdGFbZV07aWYoITE9PT1hLnZpc2libGUpcmV0dXJuXCJjb250aW51ZVwiOygwLHYuZHJhdykocixmdW5jdGlvbihlKXt2YXIgbj1pLmRlZmF1bHQuZ2V0Q29sb3JJZkFjdGl2ZShhKTsoMCx1LmRlZmF1bHQpKGUsdCxhLmhhbmRsZXMsbik7dmFyIHI9TWF0aC5yb3VuZChhLmhhbmRsZXMuZW5kLngpLGw9TWF0aC5yb3VuZChhLmhhbmRsZXMuZW5kLnkpLGY9dm9pZCAwLHY9dm9pZCAwLG09dm9pZCAwO2lmKHI+PTAmJmw+PTAmJnI8dC5pbWFnZS5jb2x1bW5zJiZsPHQuaW1hZ2Uucm93cyl7aWYodC5pbWFnZS5jb2xvcil2PXIrXCIsIFwiK2wsbT1cIlI6IFwiKyhmPSgwLHMuZGVmYXVsdCkodC5lbGVtZW50LHIsbCwxLDEpKVswXStcIiBHOiBcIitmWzFdK1wiIEI6IFwiK2ZbMl07ZWxzZXt2YXIgaD0oZj1vLmdldFN0b3JlZFBpeGVscyh0LmVsZW1lbnQscixsLDEsMSkpWzBdLHA9aCp0LmltYWdlLnNsb3BlK3QuaW1hZ2UuaW50ZXJjZXB0LEU9KDAsYy5kZWZhdWx0KSh0LmltYWdlLGgpO3Y9citcIiwgXCIrbCxtPVwiU1A6IFwiK2grXCIgTU86IFwiK3BhcnNlRmxvYXQocC50b0ZpeGVkKDMpKSxFJiYobSs9XCIgU1VWOiBcIitwYXJzZUZsb2F0KEUudG9GaXhlZCgzKSkpfXZhciBUPXt4OmEuaGFuZGxlcy5lbmQueCszLHk6YS5oYW5kbGVzLmVuZC55LTN9LHk9by5waXhlbFRvQ2FudmFzKHQuZWxlbWVudCxUKTsoMCxkLmRlZmF1bHQpKGUsbSx5LngseS55K2crNSxuKSwoMCxkLmRlZmF1bHQpKGUsdix5LngseS55LG4pfX0pfSxwPTA7cDxuLmRhdGEubGVuZ3RoO3ArKyloKHApfXZhciBUPSgwLG8uZGVmYXVsdCkoe2NyZWF0ZU5ld01lYXN1cmVtZW50Omgsb25JbWFnZVJlbmRlcmVkOkUscG9pbnROZWFyVG9vbDpwLHRvb2xUeXBlOm19KSx5PSgwLHIuZGVmYXVsdCkoe2NyZWF0ZU5ld01lYXN1cmVtZW50Omgsb25JbWFnZVJlbmRlcmVkOkUscG9pbnROZWFyVG9vbDpwLHRvb2xUeXBlOm19KTt0LnByb2JlPVQsdC5wcm9iZVRvdWNoPXl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1vKG4oMCkpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciByPSgwLG8obigzNikpLmRlZmF1bHQpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49ci5nZXRDb25maWd1cmF0aW9uKCk7biYmbi50ZXN0UG9pbnRlcnModCkmJih0LnZpZXdwb3J0LnRyYW5zbGF0aW9uLngrPXQuZGVsdGFQb2ludHMucGFnZS54L3Qudmlld3BvcnQuc2NhbGUsdC52aWV3cG9ydC50cmFuc2xhdGlvbi55Kz10LmRlbHRhUG9pbnRzLnBhZ2UueS90LnZpZXdwb3J0LnNjYWxlLGEuZGVmYXVsdC5jb3JuZXJzdG9uZS5zZXRWaWV3cG9ydCh0LmVsZW1lbnQsdC52aWV3cG9ydCksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpfSk7ci5zZXRDb25maWd1cmF0aW9uKHt0ZXN0UG9pbnRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubnVtUG9pbnRlcnM+PTJ9fSksdC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnBhblRvdWNoRHJhZz10LnBhbj12b2lkIDA7dmFyIGE9ZChuKDEpKSxvPWQobigwKSkscj1kKG4oMTYpKSxpPWQobigxOCkpLGw9ZChuKDUpKSx1PW4oNCk7ZnVuY3Rpb24gZChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9XCJwYW5cIjtmdW5jdGlvbiBjKGUpe3ZhciB0PWUuZGV0YWlsLmVsZW1lbnQ7dC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLGYpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsYyksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxjKX1mdW5jdGlvbiBmKGUpe3ZhciB0PWUuZGV0YWlsLG49dC52aWV3cG9ydC5zY2FsZSxhPXQudmlld3BvcnQuc2NhbGUscj10LmltYWdlLmNvbHVtblBpeGVsU3BhY2luZ3x8MSxpPXQuaW1hZ2Uucm93UGl4ZWxTcGFjaW5nfHwxO2k8cj9uKj1yL2k6cjxpJiYoYSo9aS9yKSx0LnZpZXdwb3J0LnRyYW5zbGF0aW9uLngrPXQuZGVsdGFQb2ludHMucGFnZS54L24sdC52aWV3cG9ydC50cmFuc2xhdGlvbi55Kz10LmRlbHRhUG9pbnRzLnBhZ2UueS9hLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5zZXRWaWV3cG9ydCh0LmVsZW1lbnQsdC52aWV3cG9ydCksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9dmFyIHY9KDAsci5kZWZhdWx0KShmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxvPSgwLHUuZ2V0VG9vbE9wdGlvbnMpKHMsbik7KDAsbC5kZWZhdWx0KSh0LndoaWNoLG8ubW91c2VCdXR0b25NYXNrKSYmKG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxmKSxuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLGMpLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssYyksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpfSxzKSxnPSgwLGkuZGVmYXVsdCkoZixzKTt0LnBhbj12LHQucGFuVG91Y2hEcmFnPWd9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1zKG4oMCkpLG89cyhuKDY2KSkscj1zKG4oMjQpKSxpPXMobig3KSksbD1uKDExKSx1PXMobCksZD1uKDMpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBjPSgwLHIuZGVmYXVsdCkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQscj1mdW5jdGlvbihlKXt2YXIgdD1hLmRlZmF1bHQuY29ybmVyc3RvbmUsbj10LmdldEVuYWJsZWRFbGVtZW50KGUpLHI9dC5tZXRhRGF0YS5nZXQoXCJpbWFnZVBsYW5lTW9kdWxlXCIsbi5pbWFnZS5pbWFnZUlkKTtpZihyJiZyLnJvd0Nvc2luZXMmJnIuY29sdW1uQ29zaW5lcyl7dmFyIGk9by5kZWZhdWx0LmdldE9yaWVudGF0aW9uU3RyaW5nKHIucm93Q29zaW5lcyksbD1vLmRlZmF1bHQuZ2V0T3JpZW50YXRpb25TdHJpbmcoci5jb2x1bW5Db3NpbmVzKSx1PW8uZGVmYXVsdC5pbnZlcnRPcmllbnRhdGlvblN0cmluZyhpKTtyZXR1cm57dG9wOm8uZGVmYXVsdC5pbnZlcnRPcmllbnRhdGlvblN0cmluZyhsKSxib3R0b206bCxsZWZ0OnUscmlnaHQ6aX19fShuKTtpZihyKXt2YXIgcz1mdW5jdGlvbihlKXt2YXIgdD1hLmRlZmF1bHQuY29ybmVyc3RvbmUsbj10LmdldEVuYWJsZWRFbGVtZW50KGUpLG89dm9pZCAwO289e3g6bi5pbWFnZS53aWR0aC8yLHk6NX07dmFyIHI9dC5waXhlbFRvQ2FudmFzKGUsbyk7bz17eDpuLmltYWdlLndpZHRoLzIseTpuLmltYWdlLmhlaWdodC01fTt2YXIgaT10LnBpeGVsVG9DYW52YXMoZSxvKTtvPXt4OjUseTpuLmltYWdlLmhlaWdodC8yfTt2YXIgbD10LnBpeGVsVG9DYW52YXMoZSxvKTtyZXR1cm4gbz17eDpuLmltYWdlLndpZHRoLTEwLHk6bi5pbWFnZS5oZWlnaHQvMn0se3RvcDpyLGJvdHRvbTppLGxlZnQ6bCxyaWdodDp0LnBpeGVsVG9DYW52YXMoZSxvKX19KG4pLGY9KDAsZC5nZXROZXdDb250ZXh0KSh0LmNhbnZhc0NvbnRleHQuY2FudmFzKSx2PWkuZGVmYXVsdC5nZXRUb29sQ29sb3IoKSxnPSgwLGwudGV4dEJveFdpZHRoKShmLHIudG9wLDApLG09KDAsbC50ZXh0Qm94V2lkdGgpKGYsci5sZWZ0LDApLGg9KDAsbC50ZXh0Qm94V2lkdGgpKGYsci5yaWdodCwwKSxwPSgwLGwudGV4dEJveFdpZHRoKShmLHIuYm90dG9tLDApOygwLHUuZGVmYXVsdCkoZixyLnRvcCxzLnRvcC54LWcvMixzLnRvcC55LHYpLCgwLHUuZGVmYXVsdCkoZixyLmxlZnQscy5sZWZ0LngtbS8yLHMubGVmdC55LHYpO3ZhciBFPWMuZ2V0Q29uZmlndXJhdGlvbigpO0UmJkUuZHJhd0FsbE1hcmtlcnMmJigoMCx1LmRlZmF1bHQpKGYsci5yaWdodCxzLnJpZ2h0LngtaC8yLHMucmlnaHQueSx2KSwoMCx1LmRlZmF1bHQpKGYsci5ib3R0b20scy5ib3R0b20ueC1wLzIscy5ib3R0b20ueSx2KSl9fSk7dC5kZWZhdWx0PWN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lm1hZ25pZnlUb3VjaERyYWc9dC5tYWduaWZ5PXZvaWQgMDt2YXIgYT1zKG4oMSkpLG89cyhuKDApKSxyPW4oMzMpLGk9cyhuKDUpKSxsPW4oNCksdT1uKDgpLGQ9bigzKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz1cIm1hZ25pZnlcIixmPXttYWduaWZ5U2l6ZTozMDAsbWFnbmlmaWNhdGlvbkxldmVsOjV9LHY9dm9pZCAwLGc9dm9pZCAwLG09dm9pZCAwLGg9dm9pZCAwO2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLF8pLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAscCksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxwKSxFKHQpfWZ1bmN0aW9uIEUoZSl7ZS5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFnbmlmeVRvb2xcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvcj1cImRlZmF1bHRcIixPKCl9ZnVuY3Rpb24gVChlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxyPSgwLGwuZ2V0VG9vbE9wdGlvbnMpKGMsbik7KGUuaXNUb3VjaEV2ZW50fHwoMCxpLmRlZmF1bHQpKHQud2hpY2gsci5tb3VzZUJ1dHRvbk1hc2spKSYmKG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxfKSxuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcsXyksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxwKSxuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0VORCxwKSxuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0NMSUNLLHApLG4uYWRkRXZlbnRMaXN0ZW5lcihvLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLk5FV19JTUFHRSx5KSxmdW5jdGlvbihlKXtPKCk7dmFyIHQ9ZS5lbmFibGVkRWxlbWVudDt2b2lkIDA9PT10JiYodD1vLmRlZmF1bHQuY29ybmVyc3RvbmUuZ2V0RW5hYmxlZEVsZW1lbnQoZS5lbGVtZW50KSk7dmFyIG49Qy5nZXRDb25maWd1cmF0aW9uKCkubWFnbmlmaWNhdGlvbkxldmVsLGE9dC5jYW52YXMscj10LmltYWdlOyhoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLndpZHRoPWEud2lkdGgqbixoLmhlaWdodD1hLmhlaWdodCpuLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5lbmFibGUoaCk7dmFyIGk9by5kZWZhdWx0LmNvcm5lcnN0b25lLmdldEVuYWJsZWRFbGVtZW50KGgpLGw9by5kZWZhdWx0LmNvcm5lcnN0b25lLmdldFZpZXdwb3J0KHQuZWxlbWVudCk7KG09aS5jYW52YXMpLndpZHRoPWEud2lkdGgqbixtLmhlaWdodD1hLmhlaWdodCpuLGkudmlld3BvcnQ9T2JqZWN0LmFzc2lnbih7fSxsKSxsLnNjYWxlKj1uLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5kaXNwbGF5SW1hZ2UoaCxyKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUuc2V0Vmlld3BvcnQoaCxsKX0odCksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3JldHVybiBTKHQpfSksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9ZS5kZXRhaWw7dC5jdXJyZW50UG9pbnRzPWcsUyh0KX1mdW5jdGlvbiBNKGUpe3ZhciB0PWUuZGV0YWlsLG49dC5lbGVtZW50O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBR19FTkQsTSksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9FTkQsTSksbi5yZW1vdmVFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuTkVXX0lNQUdFLHkpLEUodCl9ZnVuY3Rpb24gXyhlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudDtTKHQpLCEwPT09dC5pc1RvdWNoRXZlbnQmJihuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUdfRU5ELE0pLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRU5ELE0pKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBTKGUpe3ZhciB0PWUuZWxlbWVudCxuPXQucXVlcnlTZWxlY3RvcihcIi5tYWduaWZ5VG9vbFwiKTtpZihufHx4KGUuZWxlbWVudCksdm9pZCAwIT09bSl7dmFyIGE9Qy5nZXRDb25maWd1cmF0aW9uKCkscj1hLm1hZ25pZnlTaXplLGk9YS5tYWduaWZpY2F0aW9uTGV2ZWwsbD10LnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXM6bm90KC5tYWduaWZ5VG9vbClcIikscz0oMCxkLmdldE5ld0NvbnRleHQpKG4pLGM9cixmPW8uZGVmYXVsdC5jb3JuZXJzdG9uZS5waXhlbFRvQ2FudmFzKGUuZWxlbWVudCxlLmN1cnJlbnRQb2ludHMuaW1hZ2UpOygwLHUuY2xpcFRvQm94KShmLGwpLHMuY2xlYXJSZWN0KDAsMCxyLHIpO3ZhciBnPXtsZWZ0OjAsdG9wOjAsd2lkdGg6cixoZWlnaHQ6cn07KDAsZC5maWxsQm94KShzLGcsXCJ0cmFuc3BhcmVudFwiKTt2YXIgaD17eDpmLngqaS0uNSpjLHk6Zi55KmktLjUqY307XCJTYWZhcmlcIj09PXYmJihoLng9TWF0aC5tYXgoaC54LDApLGgueT1NYXRoLm1heChoLnksMCkpLGgueD1NYXRoLm1pbihoLngsbS53aWR0aCksaC55PU1hdGgubWluKGgueSxtLmhlaWdodCkscy5kcmF3SW1hZ2UobSxoLngsaC55LGMsYywwLDAsYyxjKSxuLnN0eWxlLnRvcD1mLnktLjUqcitcInB4XCIsbi5zdHlsZS5sZWZ0PWYueC0uNSpyK1wicHhcIixlLmlzVG91Y2hFdmVudCYmKG4uc3R5bGUudG9wPWYueS0uNSpyLTEyMCtcInB4XCIpLG4uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3I9XCJub25lXCJ9fWZ1bmN0aW9uIHgoZSl7aWYobnVsbD09PWUucXVlcnlTZWxlY3RvcihcIi5tYWduaWZ5VG9vbFwiKSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt0LmNsYXNzTGlzdC5hZGQoXCJtYWduaWZ5VG9vbFwiKTt2YXIgbj1DLmdldENvbmZpZ3VyYXRpb24oKTt0LndpZHRoPW4ubWFnbmlmeVNpemUsdC5oZWlnaHQ9bi5tYWduaWZ5U2l6ZSx0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS5hcHBlbmRDaGlsZCh0KX19ZnVuY3Rpb24gTygpe3ZvaWQgMCE9PWgmJihvLmRlZmF1bHQuY29ybmVyc3RvbmUuZGlzYWJsZShoKSxoPXZvaWQgMCxtPXZvaWQgMCl9ZnVuY3Rpb24gYihlKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04sVCksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5xdWVyeVNlbGVjdG9yKFwiLm1hZ25pZnlUb29sXCIpO3QmJmUucmVtb3ZlQ2hpbGQodCl9KGUpfXZhciBDPXtlbmFibGU6ZnVuY3Rpb24oZSl7dmFyIHQ9Qy5nZXRDb25maWd1cmF0aW9uKHQpO2lmKCF2KXt2YXIgbj0oMCxyLmdldEJyb3dzZXJJbmZvKSgpLnNwbGl0KFwiIFwiKTt2PW5bMF19eChlKX0sYWN0aXZhdGU6ZnVuY3Rpb24oZSx0KXsoMCxsLnNldFRvb2xPcHRpb25zKShjLGUse21vdXNlQnV0dG9uTWFzazp0fSksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLFQpLGUuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixUKSx4KGUpfSxkZWFjdGl2YXRlOmIsZGlzYWJsZTpiLGdldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZn0sc2V0Q29uZmlndXJhdGlvbjpmdW5jdGlvbihlKXtmPWV9fTtmdW5jdGlvbiBQKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsVCksZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCxUKX1mdW5jdGlvbiBJKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsVCl9dmFyIEw9e2FjdGl2YXRlOlAsZGVhY3RpdmF0ZTpJLGVuYWJsZTpQLGRpc2FibGU6SX07dC5tYWduaWZ5PUMsdC5tYWduaWZ5VG91Y2hEcmFnPUx9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lmxlbmd0aFRvdWNoPXQubGVuZ3RoPXZvaWQgMDt2YXIgYT12KG4oMCkpLG89dihuKDEwKSkscj12KG4oMTIpKSxpPXYobigxNykpLGw9dihuKDE0KSksdT12KG4oNykpLGQ9dihuKDkpKSxzPW4oMiksYz12KG4oMjcpKSxmPW4oMyk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGc9XCJsZW5ndGhcIjtmdW5jdGlvbiBtKGUpe3JldHVybnt2aXNpYmxlOiEwLGFjdGl2ZTohMCxjb2xvcjp2b2lkIDAsaGFuZGxlczp7c3RhcnQ6e3g6ZS5jdXJyZW50UG9pbnRzLmltYWdlLngseTplLmN1cnJlbnRQb2ludHMuaW1hZ2UueSxoaWdobGlnaHQ6ITAsYWN0aXZlOiExfSxlbmQ6e3g6ZS5jdXJyZW50UG9pbnRzLmltYWdlLngseTplLmN1cnJlbnRQb2ludHMuaW1hZ2UueSxoaWdobGlnaHQ6ITAsYWN0aXZlOiEwfSx0ZXh0Qm94OnthY3RpdmU6ITEsaGFzTW92ZWQ6ITEsbW92ZXNJbmRlcGVuZGVudGx5OiExLGRyYXduSW5kZXBlbmRlbnRseTohMCxhbGxvd2VkT3V0c2lkZUltYWdlOiEwLGhhc0JvdW5kaW5nQm94OiEwfX19fWZ1bmN0aW9uIGgoZSx0LG4pe3JldHVybiExIT09dC52aXNpYmxlJiYoMCxjLmRlZmF1bHQpKGUsdC5oYW5kbGVzLnN0YXJ0LHQuaGFuZGxlcy5lbmQsbik8MjV9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLmRldGFpbCxuPSgwLHMuZ2V0VG9vbFN0YXRlKShlLmN1cnJlbnRUYXJnZXQsZyk7aWYobil7dmFyIG89YS5kZWZhdWx0LmNvcm5lcnN0b25lLHI9KDAsZi5nZXROZXdDb250ZXh0KSh0LmNhbnZhc0NvbnRleHQuY2FudmFzKSxjPXQuaW1hZ2Usdj10LmVsZW1lbnQsbT1sLmRlZmF1bHQuZ2V0VG9vbFdpZHRoKCksaD1FLmdldENvbmZpZ3VyYXRpb24oKSxwPW8ubWV0YURhdGEuZ2V0KFwiaW1hZ2VQbGFuZU1vZHVsZVwiLGMuaW1hZ2VJZCksVD12b2lkIDAseT12b2lkIDA7cD8oVD1wLnJvd1BpeGVsU3BhY2luZ3x8cC5yb3dJbWFnZVBpeGVsU3BhY2luZyx5PXAuY29sdW1uUGl4ZWxTcGFjaW5nfHxwLmNvbEltYWdlUGl4ZWxTcGFjaW5nKTooVD1jLnJvd1BpeGVsU3BhY2luZyx5PWMuY29sdW1uUGl4ZWxTcGFjaW5nKTtmb3IodmFyIE09ZnVuY3Rpb24oZSl7dmFyIGE9bi5kYXRhW2VdO2lmKCExPT09YS52aXNpYmxlKXJldHVyblwiY29udGludWVcIjsoMCxmLmRyYXcpKHIsZnVuY3Rpb24oZSl7KDAsZi5zZXRTaGFkb3cpKGUsaCk7dmFyIG49dS5kZWZhdWx0LmdldENvbG9ySWZBY3RpdmUoYSk7KDAsZi5kcmF3TGluZSkoZSx2LGEuaGFuZGxlcy5zdGFydCxhLmhhbmRsZXMuZW5kLHtjb2xvcjpufSk7dmFyIG89e2RyYXdIYW5kbGVzSWZBY3RpdmU6aCYmaC5kcmF3SGFuZGxlc09uSG92ZXJ9OygwLGQuZGVmYXVsdCkoZSx0LGEuaGFuZGxlcyxuLG8pO3ZhciByPShhLmhhbmRsZXMuZW5kLngtYS5oYW5kbGVzLnN0YXJ0LngpKih5fHwxKSxsPShhLmhhbmRsZXMuZW5kLnktYS5oYW5kbGVzLnN0YXJ0LnkpKihUfHwxKSxzPU1hdGguc3FydChyKnIrbCpsKTtpZihhLmxlbmd0aD1zLCFhLmhhbmRsZXMudGV4dEJveC5oYXNNb3ZlZCl7dmFyIGM9e3g6TWF0aC5tYXgoYS5oYW5kbGVzLnN0YXJ0LngsYS5oYW5kbGVzLmVuZC54KX07Yy54PT09YS5oYW5kbGVzLnN0YXJ0Lng/Yy55PWEuaGFuZGxlcy5zdGFydC55OmMueT1hLmhhbmRsZXMuZW5kLnksYS5oYW5kbGVzLnRleHRCb3gueD1jLngsYS5oYW5kbGVzLnRleHRCb3gueT1jLnl9dmFyIGc9ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPVwiIG1tXCI7dCYmbnx8KGE9XCIgcGl4ZWxzXCIpO3JldHVyblwiXCIrZS5sZW5ndGgudG9GaXhlZCgyKSthfShhLFQseSk7KDAsaS5kZWZhdWx0KShlLHYsYS5oYW5kbGVzLnRleHRCb3gsZyxhLmhhbmRsZXMsUyxuLG0sMTAsITApfSl9LF89MDtfPG4uZGF0YS5sZW5ndGg7XysrKU0oXyl9ZnVuY3Rpb24gUyhlKXt2YXIgdD17eDooZS5zdGFydC54K2UuZW5kLngpLzIseTooZS5zdGFydC55K2UuZW5kLnkpLzJ9O3JldHVybltlLnN0YXJ0LHQsZS5lbmRdfX12YXIgRT0oMCxvLmRlZmF1bHQpKHtjcmVhdGVOZXdNZWFzdXJlbWVudDptLG9uSW1hZ2VSZW5kZXJlZDpwLHBvaW50TmVhclRvb2w6aCx0b29sVHlwZTpnfSksVD0oMCxyLmRlZmF1bHQpKHtjcmVhdGVOZXdNZWFzdXJlbWVudDptLG9uSW1hZ2VSZW5kZXJlZDpwLHBvaW50TmVhclRvb2w6aCx0b29sVHlwZTpnfSk7dC5sZW5ndGg9RSx0Lmxlbmd0aFRvdWNoPVR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKG4oMjQpKSxvPWkobigxMSkpLHI9bigzKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgbD0oMCxhLmRlZmF1bHQpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49dC5pbWFnZS5zdGF0cyxhPSgwLHIuZ2V0TmV3Q29udGV4dCkodC5jYW52YXNDb250ZXh0LmNhbnZhcyksaT1bXTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUrXCIgOiBcIituW2VdO2kucHVzaCh0KX0pLCgwLG8uZGVmYXVsdCkoYSxpLDAsMCxcIm9yYW5nZVwiKSxpLmZvckVhY2goZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSl9KX0pO3QuZGVmYXVsdD1sfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5oaWdobGlnaHRUb3VjaD10LmhpZ2hsaWdodD12b2lkIDA7dmFyIGE9cyhuKDApKSxvPXMobig1MSkpLHI9cyhuKDEyKSksaT1zKG4oNykpLGw9cyhuKDkpKSx1PW4oMiksZD1uKDMpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBjPVwiaGlnaGxpZ2h0XCI7ZnVuY3Rpb24gZihlKXt2YXIgdD0oMCx1LmdldFRvb2xTdGF0ZSkoZS5ldmVudC5jdXJyZW50VGFyZ2V0LGMpO2lmKCEodCYmdC5kYXRhJiZ0LmRhdGEubGVuZ3RoPjApKXJldHVybnt2aXNpYmxlOiEwLGFjdGl2ZTohMCxjb2xvcjp2b2lkIDAsaGFuZGxlczp7c3RhcnQ6e3g6ZS5jdXJyZW50UG9pbnRzLmltYWdlLngseTplLmN1cnJlbnRQb2ludHMuaW1hZ2UueSxoaWdobGlnaHQ6ITAsYWN0aXZlOiExfSxlbmQ6e3g6ZS5jdXJyZW50UG9pbnRzLmltYWdlLngseTplLmN1cnJlbnRQb2ludHMuaW1hZ2UueSxoaWdobGlnaHQ6ITAsYWN0aXZlOiEwfX19fWZ1bmN0aW9uIHYoZSx0LG4pe3ZhciBvPWEuZGVmYXVsdC5jb3JuZXJzdG9uZSxyPW8ucGl4ZWxUb0NhbnZhcyhlLHQuaGFuZGxlcy5zdGFydCksaT1vLnBpeGVsVG9DYW52YXMoZSx0LmhhbmRsZXMuZW5kKSxsPU1hdGgubWluKHIueCxpLngpLHU9TWF0aC5taW4oci55LGkueSksZD1NYXRoLmFicyhyLngtaS54KSxzPU1hdGguYWJzKHIueS1pLnkpLGM9ITE7cmV0dXJuIG4ueD49bCYmbi54PD1sK2QmJm4ueT49dSYmbi55PD11K3MmJihjPSEwKSxjfWZ1bmN0aW9uIGcoZSx0LG4pe2lmKCExPT09dC52aXNpYmxlKXJldHVybiExO3ZhciBvPWEuZGVmYXVsdC5jb3JuZXJzdG9uZSxyPW8ucGl4ZWxUb0NhbnZhcyhlLHQuaGFuZGxlcy5zdGFydCksaT1vLnBpeGVsVG9DYW52YXMoZSx0LmhhbmRsZXMuZW5kKSxsPXtsZWZ0Ok1hdGgubWluKHIueCxpLngpLHRvcDpNYXRoLm1pbihyLnksaS55KSx3aWR0aDpNYXRoLmFicyhyLngtaS54KSxoZWlnaHQ6TWF0aC5hYnMoci55LWkueSl9O3JldHVybiBhLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnJlY3QuZGlzdGFuY2VUb1BvaW50KGwsbik8NX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUuZGV0YWlsLG49KDAsdS5nZXRUb29sU3RhdGUpKGUuY3VycmVudFRhcmdldCxjKTtpZih2b2lkIDAhPT1uKXt2YXIgYT0oMCxkLmdldE5ld0NvbnRleHQpKHQuY2FudmFzQ29udGV4dC5jYW52YXMpLG89bi5kYXRhWzBdOyExIT09by52aXNpYmxlJiZvJiYoMCxkLmRyYXcpKGEsZnVuY3Rpb24oZSl7dmFyIG49e2NvbG9yOlwidHJhbnNwYXJlbnRcIixmaWxsU3R5bGU6XCJyZ2JhKDAsMCwwLDAuNylcIn07KDAsZC5maWxsT3V0c2lkZVJlY3QpKGUsdC5lbGVtZW50LG8uaGFuZGxlcy5zdGFydCxvLmhhbmRsZXMuZW5kLG4pO3ZhciBhPWkuZGVmYXVsdC5nZXRDb2xvcklmQWN0aXZlKG8pO249e2NvbG9yOmEsbGluZURhc2g6WzRdfSwoMCxkLmRyYXdSZWN0KShlLHQuZWxlbWVudCxvLmhhbmRsZXMuc3RhcnQsby5oYW5kbGVzLmVuZCxuKSwoMCxsLmRlZmF1bHQpKGUsdCxvLmhhbmRsZXMsYSl9KX19dmFyIGg9KDAsby5kZWZhdWx0KSh7Y3JlYXRlTmV3TWVhc3VyZW1lbnQ6ZixvbkltYWdlUmVuZGVyZWQ6bSxwb2ludE5lYXJUb29sOmcscG9pbnRJbnNpZGVSZWN0OnYsdG9vbFR5cGU6Y30sITApLHA9KDAsci5kZWZhdWx0KSh7Y3JlYXRlTmV3TWVhc3VyZW1lbnQ6ZixvbkltYWdlUmVuZGVyZWQ6bSxwb2ludE5lYXJUb29sOmcscG9pbnRJbnNpZGVSZWN0OnYsdG9vbFR5cGU6Y30sITApO3QuaGlnaGxpZ2h0PWgsdC5oaWdobGlnaHRUb3VjaD1wfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5TY3VscHRlcj12b2lkIDA7dmFyIGEsbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGE9dFtuXTthLmVudW1lcmFibGU9YS5lbnVtZXJhYmxlfHwhMSxhLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBhJiYoYS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYS5rZXksYSl9fXJldHVybiBmdW5jdGlvbih0LG4sYSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksYSYmZSh0LGEpLHR9fSgpLHI9bigwKSxpPShhPXIpJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfSxsPW4oNTIpLHU9bigzNSksZD1uKDgpO3QuU2N1bHB0ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKX1yZXR1cm4gbyhlLFt7a2V5Olwic2N1bHB0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLl9zZXREYXRhKGUsdCksdGhpcy5fcHVzaEhhbmRsZXMoKSx0aGlzLl9pbnNlcnROZXdIYW5kbGVzKCksdGhpcy5fY29uc29saWRhdGVIYW5kbGVzKCl9fSx7a2V5OlwiX3NldERhdGFcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWwuZnJlZWhhbmRTY3VscHRlci5nZXRDb25maWd1cmF0aW9uKCk7dGhpcy5fZXZlbnREYXRhPWUsdGhpcy5fZWxlbWVudD1lLmVsZW1lbnQsdGhpcy5faW1hZ2U9ZS5pbWFnZSx0aGlzLl9tb3VzZVBvaW50PWUuY3VycmVudFBvaW50cy5pbWFnZSx0aGlzLl9kYXRhSGFuZGxlcz10LHRoaXMuX3Rvb2xTaXplPW4udG9vbFNpemVJbWFnZSx0aGlzLl9taW5TcGFjaW5nPW4ubWluU3BhY2luZyx0aGlzLl9tYXhTcGFjaW5nPW4ubWF4U3BhY2luZ319LHtrZXk6XCJfcHVzaEhhbmRsZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9kYXRhSGFuZGxlcyx0PXRoaXMuX21vdXNlUG9pbnQsbj10aGlzLl90b29sU2l6ZSxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBvPWkuZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuZGlzdGFuY2UoZVthXSx0KTtvPG4mJnRoaXMuX3B1c2hPbmVIYW5kbGUoYSxvKX19fSx7a2V5OlwiX3B1c2hPbmVIYW5kbGVcIix2YWx1ZTpmdW5jdGlvbih0LG4pe3ZhciBhPXRoaXMuX2RhdGFIYW5kbGVzLG89YVt0XSxyPXRoaXMuX21vdXNlUG9pbnQsaT10aGlzLl90b29sU2l6ZSxsPShvLngtci54KS9uLHU9KG8ueS1yLnkpL24scz17eDpyLngraSpsLHk6ci55K2kqdX07KDAsZC5jbGlwVG9Cb3gpKHMsdGhpcy5faW1hZ2UpLG8ueD1zLngsby55PXMueTt2YXIgYz1lLmdldFByZXZpb3VzSGFuZGxlSW5kZXgodCxhLmxlbmd0aCk7YVtjXS5saW5lcy5wb3AoKSxhW2NdLmxpbmVzLnB1c2gobyl9fSx7a2V5OlwiX2luc2VydE5ld0hhbmRsZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9maW5kTmV3SGFuZGxlSW5kaWNpZXMoKSx0PTAsbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgYT1lW25dKzErdDt0aGlzLl9pbnNlcnRIYW5kbGVSYWRpYWxseShhKSx0Kyt9fX0se2tleTpcIl9maW5kTmV3SGFuZGxlSW5kaWNpZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9kYXRhSGFuZGxlcyxuPVtdLGE9MDthPHQubGVuZ3RoO2ErKyl7dmFyIG89aS5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXModGhpcy5fZWxlbWVudCx0W2FdKSxyPWUuZ2V0TmV4dEhhbmRsZUluZGV4KGEsdC5sZW5ndGgpLGw9aS5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXModGhpcy5fZWxlbWVudCx0W3JdKTtpLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LmRpc3RhbmNlKG8sbCk+dGhpcy5fbWF4U3BhY2luZyYmbi5wdXNoKGEpfXJldHVybiBufX0se2tleTpcIl9pbnNlcnRIYW5kbGVSYWRpYWxseVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX2RhdGFIYW5kbGVzLGE9dC0xLG89ZS5nZXROZXh0SGFuZGxlSW5kZXhCZWZvcmVJbnNlcnQodCxuLmxlbmd0aCkscj10aGlzLl9nZXRJbnNlcnRQb3NpdGlvbih0LGEsbyksaT1uZXcgdS5GcmVlaGFuZEhhbmRsZURhdGEocik7bi5zcGxpY2UodCwwLGkpLG5bYV0ubGluZXMucG9wKCksblthXS5saW5lcy5wdXNoKG5bdF0pLHQ9PT1uLmxlbmd0aC0xP25bdF0ubGluZXMucHVzaChuWzBdKTpuW3RdLmxpbmVzLnB1c2goblt0KzFdKX19LHtrZXk6XCJfZ2V0SW5zZXJ0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGE9dGhpcy5fdG9vbFNpemUsbz10aGlzLl9tb3VzZVBvaW50LHI9dGhpcy5fZGF0YUhhbmRsZXMsbD17eDooclt0XS54K3Jbbl0ueCkvMix5OihyW3RdLnkrcltuXS55KS8yfSx1PWkuZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuZGlzdGFuY2UobyxsKSxzPXZvaWQgMDtpZih1PGEpe3ZhciBjPXt4OihsLngtby54KS91LHk6KGwueS1vLnkpL3V9O3M9e3g6by54K2EqYy54LHk6by55K2EqYy55fX1lbHNlIHM9bDtyZXR1cm4oMCxkLmNsaXBUb0JveCkocyx0aGlzLl9pbWFnZSksc319LHtrZXk6XCJfY29uc29saWRhdGVIYW5kbGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhSGFuZGxlcy5sZW5ndGg+Myl7dmFyIGU9dGhpcy5fZmluZENsb3NlSGFuZGxlUGFpcnMoKTt0aGlzLl9tZXJnZUNsb3NlSGFuZGxlcyhlKX19fSx7a2V5OlwiX21lcmdlQ2xvc2VIYW5kbGVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBuPTAsYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgbz1lLmdldENvcnJlY3RlZFBhaXIodFthXSxuKTt0aGlzLl9jb21iaW5lSGFuZGxlcyhvKSxuKyt9dmFyIHI9dGhpcy5fZmluZENsb3NlSGFuZGxlUGFpcnMoKTtyLmxlbmd0aCYmdGhpcy5fbWVyZ2VDbG9zZUhhbmRsZXMocil9fSx7a2V5OlwiX2ZpbmRDbG9zZUhhbmRsZVBhaXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZGF0YUhhbmRsZXMsbj10aGlzLl9lbGVtZW50LGE9W10sbz10Lmxlbmd0aCxyPTA7cjxvO3IrKyl7dmFyIGw9aS5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXMobix0W3JdKSx1PWUuZ2V0TmV4dEhhbmRsZUluZGV4KHIsdC5sZW5ndGgpLGQ9aS5kZWZhdWx0LmNvcm5lcnN0b25lLnBpeGVsVG9DYW52YXMobix0W3VdKTtpZihpLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LmRpc3RhbmNlKGwsZCk8dGhpcy5fbWluU3BhY2luZyl7dmFyIHM9W3IsdV07YS5wdXNoKHMpLDA9PT1yJiYoby09MSkscisrfX1yZXR1cm4gYX19LHtrZXk6XCJfY29tYmluZUhhbmRsZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj10aGlzLl9kYXRhSGFuZGxlcyxhPXt4OihuW3RbMF1dLngrblt0WzFdXS54KS8yLHk6KG5bdFswXV0ueStuW3RbMV1dLnkpLzJ9OygwLGQuY2xpcFRvQm94KShhLHRoaXMuX2ltYWdlKSxuW3RbMF1dLng9YS54LG5bdFswXV0ueT1hLnk7dmFyIG89ZS5nZXROZXh0SGFuZGxlSW5kZXgodFsxXSxuLmxlbmd0aCk7blt0WzBdXS5saW5lcy5wb3AoKSxuW3RbMF1dLmxpbmVzLnB1c2gobltvXSksbi5zcGxpY2UodFsxXSwxKX19XSxbe2tleTpcImdldE5leHRIYW5kbGVJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10LTE/MDplKzF9fSx7a2V5OlwiZ2V0TmV4dEhhbmRsZUluZGV4QmVmb3JlSW5zZXJ0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MDplfX0se2tleTpcImdldFByZXZpb3VzSGFuZGxlSW5kZXhcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiAwPT09ZT90LTE6ZS0xfX0se2tleTpcImdldENvcnJlY3RlZFBhaXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVtlWzBdLXQsZVsxXS10XTtyZXR1cm4gblsxXTwwJiYoblsxXT0wKSxufX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShlLHQsbil7cmV0dXJuIGE9ZS55LG89dC55LHI9bi55LCEoIShvPGEmJmE8cnx8cjxhJiZhPG8pfHwhZnVuY3Rpb24oZSx0LG4pe2lmKHQueD5lLngmJm4ueD5lLngpcmV0dXJuITA7aWYodC54PT09bi54KXJldHVybiBlLng8dC54O2lmKHQueD5uLngpe3ZhciBhPXQ7dD1uLG49YX12YXIgbz1mdW5jdGlvbihlLHQsbil7dmFyIGE9KG4ueS10LnkpLyhuLngtdC54KTtyZXR1cm57dmFsdWU6dC54K2EqKGUueC10LngpLGdyYWRpZW50OmF9fShlLHQsbik7cmV0dXJuIE1hdGguc2lnbihvLmdyYWRpZW50KSplLnk+by52YWx1ZX0oZSx0LG4pKTt2YXIgYSxvLHJ9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPSExLG89ZS5sZW5ndGgtMSxyPTA7cjxlLmxlbmd0aDtyKyspYSh0LGVbcl0sZVtvXSkmJihuPSFuKSxvPXI7cmV0dXJuIG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT17Y291bnQ6MCxtZWFuOjAsdmFyaWFuY2U6MCxzdGREZXY6MH0sbz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBhPXt2YWx1ZTowLHNxdWFyZWQ6MCxjb3VudDowfSxvPTAscj10LnRvcDtyPHQudG9wK3QuaGVpZ2h0O3IrKylmb3IodmFyIGw9dC5sZWZ0O2w8dC5sZWZ0K3Qud2lkdGg7bCsrKXt2YXIgdT17eDpsLHk6cn07aShuLHUsYSxlW29dKSxvKyt9cmV0dXJuIGF9KGUsdCxuKTtyZXR1cm4gMD09PW8uY291bnQ/YTooYS5jb3VudD1vLmNvdW50LGEubWVhbj1vLnZhbHVlL28uY291bnQsYS52YXJpYW5jZT1vLnNxdWFyZWQvby5jb3VudC1hLm1lYW4qYS5tZWFuLGEuc3RkRGV2PU1hdGguc3FydChhLnZhcmlhbmNlKSxhKX07dmFyIGEsbz1uKDk0KSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfTtmdW5jdGlvbiBpKGUsdCxuLGEpeygwLHIuZGVmYXVsdCkoZSx0KSYmKG4udmFsdWUrPWEsbi5zcXVhcmVkKz1hKmEsbi5jb3VudCsrKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLGE9ZS5sZW5ndGgtMTt0PXR8fDE7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspbis9KGVbYV0ueCtlW29dLngpKihlW2FdLnktZVtvXS55KSxhPW87cmV0dXJuIE1hdGguYWJzKG4qdC8yKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt0LkNsaWNrZWRMaW5lRGF0YT1mdW5jdGlvbiBlKHQsbil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnRvb2xJbmRleD10LHRoaXMuaGFuZGxlSW5kZXhBcnJheT1ufX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZGV0YWlsO2lmKHQmJm51bGwhPT10LmhhbmRsZU5lYXJieSl7IWZ1bmN0aW9uKGUsdCl7dmFyIG49KDAsaS5nZXRUb29sU3RhdGUpKGUuZWxlbWVudCxkKTtpZih2b2lkIDA9PT1uKXJldHVybjt2YXIgYT10LmhhbmRsZUluZGV4LG89dC50b29sSW5kZXgscj1uLmRhdGFbb107aWYoci5oYW5kbGVzLmxlbmd0aDw9MylyZXR1cm47YT09PXIuaGFuZGxlcy5sZW5ndGgtMT8oci5oYW5kbGVzW2EtMV0ubGluZXMucG9wKCksci5oYW5kbGVzW2EtMV0ubGluZXMucHVzaChyLmhhbmRsZXNbMF0pKTowPT09YT8oci5oYW5kbGVzW3IuaGFuZGxlcy5sZW5ndGgtMV0ubGluZXMucG9wKCksci5oYW5kbGVzW3IuaGFuZGxlcy5sZW5ndGgtMV0ubGluZXMucHVzaChyLmhhbmRsZXNbYSsxXSkpOihyLmhhbmRsZXNbYS0xXS5saW5lcy5wb3AoKSxyLmhhbmRsZXNbYS0xXS5saW5lcy5wdXNoKHIuaGFuZGxlc1thKzFdKSk7ci5oYW5kbGVzLnNwbGljZShhLDEpLHIuaW52YWxpZGF0ZWQ9ITAsci5hY3RpdmU9ITAsci5oaWdobGlnaHQ9ITAsdS5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKGUuZWxlbWVudCl9KG4se3Rvb2xJbmRleDp0LnRvb2xJbmRleCxoYW5kbGVJbmRleDp0LmhhbmRsZU5lYXJieX0pfWVsc2V7dmFyIGE9bmV3IG8uRnJlZWhhbmRMaW5lRmluZGVyKG4pLmZpbmRMaW5lKCk7YSYmZnVuY3Rpb24oZSx0KXt2YXIgbj0oMCxpLmdldFRvb2xTdGF0ZSkoZS5lbGVtZW50LGQpO2lmKHZvaWQgMD09PW4pcmV0dXJuO3ZhciBhPW4uZGF0YVt0LnRvb2xJbmRleF0sbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5oYW5kbGVJbmRleEFycmF5LG49MS8wLGE9dC5pbmNsdWRlcygwKSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciByPXRbb107MCE9PXImJnI8biYmKG49cil9YSYmMT09PW4mJihuPTApO3JldHVybisrbn0odCk7aWYobz09PTEvMClyZXR1cm47dmFyIGw9bmV3IHIuRnJlZWhhbmRIYW5kbGVEYXRhKGUuY3VycmVudFBvaW50cy5pbWFnZSk7YS5oYW5kbGVzLnNwbGljZShvLDAsbCksYS5oYW5kbGVzW28tMV0ubGluZXMucG9wKCksYS5oYW5kbGVzW28tMV0ubGluZXMucHVzaChlLmN1cnJlbnRQb2ludHMuaW1hZ2UpLG89PT1hLmhhbmRsZXMubGVuZ3RoLTE/YS5oYW5kbGVzW29dLmxpbmVzLnB1c2goYS5oYW5kbGVzWzBdKTphLmhhbmRsZXNbb10ubGluZXMucHVzaChhLmhhbmRsZXNbbysxXSk7YS5hY3RpdmU9ITAsYS5oaWdobGlnaHQ9ITAsYS5pbnZhbGlkYXRlZD0hMCx1LmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoZS5lbGVtZW50KX0obixhKX1lLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX07dmFyIGEsbz1uKDUzKSxyPW4oMzUpLGk9bigyKSxsPW4oMCksdT0oYT1sKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX07dmFyIGQ9XCJmcmVlaGFuZFwifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7ZS5kZXRhaWw7dmFyIG49YS5mcmVlaGFuZC5nZXRDb25maWd1cmF0aW9uKCk7cmV0dXJuITA9PT1uLm1vdmluZ1RleHRCb3g/KGZ1bmN0aW9uKGUsdCl7dmFyIG49YS5mcmVlaGFuZC5nZXRDb25maWd1cmF0aW9uKCk7bi5tb3ZpbmdUZXh0Qm94PSExLHQuZGF0YVtuLmN1cnJlbnRUb29sXS5pbnZhbGlkYXRlZD0hMCxuLmN1cnJlbnRIYW5kbGU9MCxuLmN1cnJlbnRUb29sPS0xfSgwLHQpLFwidGV4dEJveFwiKTpuLm1vZGlmeWluZz8oZnVuY3Rpb24oZSx0KXt2YXIgbj1hLmZyZWVoYW5kLmdldENvbmZpZ3VyYXRpb24oKSxvPW4uY3VycmVudFRvb2wscj10LmRhdGFbb10uaGFuZGxlcztpZihyLmludmFsaWRIYW5kbGVQbGFjZW1lbnQpe3ZhciBpPW4uY3VycmVudEhhbmRsZSxsPXJbaV0sdT12b2lkIDA7aWYoMD09PWkpe3ZhciBkPXIubGVuZ3RoLTE7dT1yW2RdfWVsc2UgdT1yW2ktMV07bC54PW4uZHJhZ09yaWdpbi54LGwueT1uLmRyYWdPcmlnaW4ueSx1LmxpbmVzWzBdPWwsci5pbnZhbGlkSGFuZGxlUGxhY2VtZW50PSExfX0oMCx0KSxcImhhbmRsZVwiKTpudWxsfTt2YXIgYT1uKDIzKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPW8uZnJlZWhhbmQuZ2V0Q29uZmlndXJhdGlvbigpO24ubW92aW5nVGV4dEJveCYmZnVuY3Rpb24oZSl7dmFyIHQ9by5mcmVlaGFuZC5nZXRDb25maWd1cmF0aW9uKCk7ZS5oYXNNb3ZlZD0hMCxlLng9dC5tb3VzZUxvY2F0aW9uLmhhbmRsZXMuc3RhcnQueCxlLnk9dC5tb3VzZUxvY2F0aW9uLmhhbmRsZXMuc3RhcnQueX0oZSksbi5tb2RpZnlpbmcmJmZ1bmN0aW9uKGUsdCl7dmFyIG49by5mcmVlaGFuZC5nZXRDb25maWd1cmF0aW9uKCk7aWYodC5oYW5kbGVzLmludmFsaWRIYW5kbGVQbGFjZW1lbnQ9aS5kZWZhdWx0Lm1vZGlmeSh0LmhhbmRsZXMsZSksdC5hY3RpdmU9ITAsdC5oaWdobGlnaHQ9ITAsdC5oYW5kbGVzW2VdLng9bi5tb3VzZUxvY2F0aW9uLmhhbmRsZXMuc3RhcnQueCx0LmhhbmRsZXNbZV0ueT1uLm1vdXNlTG9jYXRpb24uaGFuZGxlcy5zdGFydC55LGUpe3ZhciBhPXQuaGFuZGxlc1tlLTFdLmxpbmVzLmxlbmd0aC0xLHI9dC5oYW5kbGVzW2UtMV0ubGluZXNbYV07ci54PW4ubW91c2VMb2NhdGlvbi5oYW5kbGVzLnN0YXJ0Lngsci55PW4ubW91c2VMb2NhdGlvbi5oYW5kbGVzLnN0YXJ0Lnl9fShlLHQpfTt2YXIgYSxvPW4oMjMpLHI9big1NCksaT0oYT1yKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmVyYXNlclRvdWNoPXQuZXJhc2VyPXZvaWQgMDt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGU7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxhPSEwLG89ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgaSxsPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0oaT1sLm5leHQoKSkuZG9uZSkmJihuLnB1c2goaS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe289ITAscj1lfWZpbmFsbHl7dHJ5eyFhJiZsLnJldHVybiYmbC5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgcn19cmV0dXJuIG59KGUsdCk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSgpLG89ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShuKDQ3KSkscj11KG4oMCkpLGk9dShuKDEpKSxsPW4oNCk7ZnVuY3Rpb24gdShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGQ9e3N1cHBvcnRlZFRvb2xzOnt9fTtmdW5jdGlvbiBzKGUpe3ZhciB0PWUuZGV0YWlsLmN1cnJlbnRQb2ludHMuY2FudmFzLG49ZS5kZXRhaWwuZWxlbWVudCxpPSExLGw9ITE7T2JqZWN0LmVudHJpZXMoZC5zdXBwb3J0ZWRUb29scykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1hKGUsMiksdT1yWzBdLGQ9clsxXSxzPW8uZ2V0VG9vbFN0YXRlKG4sdSk7cyYmcy5kYXRhLmZvckVhY2goZnVuY3Rpb24oZSl7IWkmJmQucG9pbnROZWFyVG9vbChuLGUsdCkmJihvLnJlbW92ZVRvb2xTdGF0ZShuLHUsZSksaT0hMCxsPSEwKX0pfSksbCYmci5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKG4pfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZS5kZXRhaWwuY3VycmVudFBvaW50cy5jYW52YXMsbj1lLmRldGFpbC5lbGVtZW50LGk9ITEsbD0hMTtPYmplY3QuZW50cmllcyhkLnN1cHBvcnRlZFRvb2xzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPWEoZSwyKSx1PXJbMF0sZD1yWzFdLHM9by5nZXRUb29sU3RhdGUobix1KTtzJiZzLmRhdGEuZm9yRWFjaChmdW5jdGlvbihlKXtlLmFjdGl2ZSYmKGUuYWN0aXZlPSExLGk9ITApLCFsJiZkLnBvaW50TmVhclRvb2wobixlLHQpJiYoZS5hY3RpdmU9ITAsaT0hMCxsPSEwKX0pfSksaSYmci5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKG4pfXZhciBmPXthY3RpdmF0ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtuLm1vdXNlQnV0dG9uTWFzaz10LCgwLGwuc2V0VG9vbE9wdGlvbnMpKFwiZXJhc2VyXCIsZSxuKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUscyksZS5yZW1vdmVFdmVudExpc3RlbmVyKGkuZGVmYXVsdC5NT1VTRV9NT1ZFLGMpLGUuYWRkRXZlbnRMaXN0ZW5lcihpLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxzKSxlLmFkZEV2ZW50TGlzdGVuZXIoaS5kZWZhdWx0Lk1PVVNFX01PVkUsYyksZC5zdXBwb3J0ZWRUb29scz17fSxPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW9bZV07XCJmdW5jdGlvblwiPT10eXBlb2YgdC5wb2ludE5lYXJUb29sJiYoZC5zdXBwb3J0ZWRUb29sc1tlXT10KX0pfSxkaXNhYmxlOmZ1bmN0aW9uKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxzKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5kZWZhdWx0Lk1PVVNFX01PVkUsYyl9LGVuYWJsZTpmdW5jdGlvbihlKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUscyksZS5yZW1vdmVFdmVudExpc3RlbmVyKGkuZGVmYXVsdC5NT1VTRV9NT1ZFLGMpfSxkZWFjdGl2YXRlOmZ1bmN0aW9uKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLmRlZmF1bHQuTU9VU0VfRE9XTl9BQ1RJVkFURSxzKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5kZWZhdWx0Lk1PVVNFX01PVkUsYyl9LGdldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZH0sc2V0Q29uZmlndXJhdGlvbjpmdW5jdGlvbihlKXtkPWV9fSx2PSgwLHUobig1NikpLmRlZmF1bHQpKHMsXCJlcmFzZXJcIik7dC5lcmFzZXI9Zix0LmVyYXNlclRvdWNoPXZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmVsbGlwdGljYWxSb2lUb3VjaD10LmVsbGlwdGljYWxSb2k9dm9pZCAwO3ZhciBhPW0obigwKSksbz1tKG4oMTApKSxyPW0obigxMikpLGk9bShuKDE0KSksbD1tKG4oNykpLHU9bShuKDkpKSxkPW0obig0MikpLHM9bShuKDYyKSksYz1tKG4oMjApKSxmPW0obigxNykpLHY9bigyKSxnPW4oMyk7ZnVuY3Rpb24gbShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGg9XCJlbGxpcHRpY2FsUm9pXCI7ZnVuY3Rpb24gcChlKXtyZXR1cm57dmlzaWJsZTohMCxhY3RpdmU6ITAsaW52YWxpZGF0ZWQ6ITAsY29sb3I6dm9pZCAwLGhhbmRsZXM6e3N0YXJ0Ont4OmUuY3VycmVudFBvaW50cy5pbWFnZS54LHk6ZS5jdXJyZW50UG9pbnRzLmltYWdlLnksaGlnaGxpZ2h0OiEwLGFjdGl2ZTohMX0sZW5kOnt4OmUuY3VycmVudFBvaW50cy5pbWFnZS54LHk6ZS5jdXJyZW50UG9pbnRzLmltYWdlLnksaGlnaGxpZ2h0OiEwLGFjdGl2ZTohMH0sdGV4dEJveDp7YWN0aXZlOiExLGhhc01vdmVkOiExLG1vdmVzSW5kZXBlbmRlbnRseTohMSxkcmF3bkluZGVwZW5kZW50bHk6ITAsYWxsb3dlZE91dHNpZGVJbWFnZTohMCxoYXNCb3VuZGluZ0JveDohMH19fX1mdW5jdGlvbiBFKGUsdCxuLG8pe2lmKCExPT09dC52aXNpYmxlKXJldHVybiExO3ZhciByPWEuZGVmYXVsdC5jb3JuZXJzdG9uZSxpPXIucGl4ZWxUb0NhbnZhcyhlLHQuaGFuZGxlcy5zdGFydCksbD1yLnBpeGVsVG9DYW52YXMoZSx0LmhhbmRsZXMuZW5kKSx1PXtsZWZ0Ok1hdGgubWluKGkueCxsLngpK28vMix0b3A6TWF0aC5taW4oaS55LGwueSkrby8yLHdpZHRoOk1hdGguYWJzKGkueC1sLngpLW8saGVpZ2h0Ok1hdGguYWJzKGkueS1sLnkpLW99LHM9e2xlZnQ6TWF0aC5taW4oaS54LGwueCktby8yLHRvcDpNYXRoLm1pbihpLnksbC55KS1vLzIsd2lkdGg6TWF0aC5hYnMoaS54LWwueCkrbyxoZWlnaHQ6TWF0aC5hYnMoaS55LWwueSkrb30sYz0oMCxkLmRlZmF1bHQpKHUsbik7cmV0dXJuISghKDAsZC5kZWZhdWx0KShzLG4pfHxjKX1mdW5jdGlvbiBUKGUpe3ZhciB0PWUudG9TdHJpbmcoKS5zcGxpdChcIi5cIik7cmV0dXJuIHRbMF09dFswXS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLFwiLFwiKSx0LmpvaW4oXCIuXCIpfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9ZS5kZXRhaWwsbj0oMCx2LmdldFRvb2xTdGF0ZSkoZS5jdXJyZW50VGFyZ2V0LGgpO2lmKG4pe3ZhciBvPWEuZGVmYXVsdC5jb3JuZXJzdG9uZSxyPXQuaW1hZ2UsZD10LmVsZW1lbnQsbT1pLmRlZmF1bHQuZ2V0VG9vbFdpZHRoKCkscD1NLmdldENvbmZpZ3VyYXRpb24oKSxFPW8ubWV0YURhdGEuZ2V0KFwiZ2VuZXJhbFNlcmllc01vZHVsZVwiLHIuaW1hZ2VJZCkseT1vLm1ldGFEYXRhLmdldChcImltYWdlUGxhbmVNb2R1bGVcIixyLmltYWdlSWQpLF89dm9pZCAwLFM9dm9pZCAwLHg9dm9pZCAwO3k/KFM9eS5yb3dQaXhlbFNwYWNpbmd8fHkucm93SW1hZ2VQaXhlbFNwYWNpbmcseD15LmNvbHVtblBpeGVsU3BhY2luZ3x8eS5jb2xJbWFnZVBpeGVsU3BhY2luZyk6KFM9ci5yb3dQaXhlbFNwYWNpbmcseD1yLmNvbHVtblBpeGVsU3BhY2luZyksRSYmKF89RS5tb2RhbGl0eSk7Zm9yKHZhciBPPSgwLGcuZ2V0TmV3Q29udGV4dCkodC5jYW52YXNDb250ZXh0LmNhbnZhcyksYj1mdW5jdGlvbihlKXt2YXIgYT1uLmRhdGFbZV07aWYoITE9PT1hLnZpc2libGUpcmV0dXJuXCJjb250aW51ZVwiOygwLGcuZHJhdykoTyxmdW5jdGlvbihlKXsoMCxnLnNldFNoYWRvdykoZSxwKTt2YXIgbj1sLmRlZmF1bHQuZ2V0Q29sb3JJZkFjdGl2ZShhKTtpZigoMCxnLmRyYXdFbGxpcHNlKShlLGQsYS5oYW5kbGVzLnN0YXJ0LGEuaGFuZGxlcy5lbmQse2NvbG9yOm59KSxwJiZwLmRyYXdIYW5kbGVzT25Ib3ZlcilpZighMD09PWEuYWN0aXZlKSgwLHUuZGVmYXVsdCkoZSx0LGEuaGFuZGxlcyxuKTtlbHNleygwLHUuZGVmYXVsdCkoZSx0LGEuaGFuZGxlcyxuLHtkcmF3SGFuZGxlc0lmQWN0aXZlOiEwfSl9ZWxzZSgwLHUuZGVmYXVsdCkoZSx0LGEuaGFuZGxlcyxuKTt2YXIgaT12b2lkIDAsdj12b2lkIDAsaD12b2lkIDA7aWYoITE9PT1hLmludmFsaWRhdGVkKXY9YS5tZWFuU3RkRGV2LGg9YS5tZWFuU3RkRGV2U1VWLGk9YS5hcmVhO2Vsc2V7dmFyIEU9e2xlZnQ6TWF0aC5yb3VuZChNYXRoLm1pbihhLmhhbmRsZXMuc3RhcnQueCxhLmhhbmRsZXMuZW5kLngpKSx0b3A6TWF0aC5yb3VuZChNYXRoLm1pbihhLmhhbmRsZXMuc3RhcnQueSxhLmhhbmRsZXMuZW5kLnkpKSx3aWR0aDpNYXRoLnJvdW5kKE1hdGguYWJzKGEuaGFuZGxlcy5zdGFydC54LWEuaGFuZGxlcy5lbmQueCkpLGhlaWdodDpNYXRoLnJvdW5kKE1hdGguYWJzKGEuaGFuZGxlcy5zdGFydC55LWEuaGFuZGxlcy5lbmQueSkpfTtpZighci5jb2xvcil7dmFyIHk9by5nZXRQaXhlbHMoZCxFLmxlZnQsRS50b3AsRS53aWR0aCxFLmhlaWdodCk7dj0oMCxzLmRlZmF1bHQpKHksRSksXCJQVFwiPT09XyYmKGg9e21lYW46KDAsYy5kZWZhdWx0KShyLCh2Lm1lYW4tci5pbnRlcmNlcHQpL3Iuc2xvcGUpLHN0ZERldjooMCxjLmRlZmF1bHQpKHIsKHYuc3RkRGV2LXIuaW50ZXJjZXB0KS9yLnNsb3BlKX0pLHYmJiFpc05hTih2Lm1lYW4pJiYoYS5tZWFuU3RkRGV2PXYsYS5tZWFuU3RkRGV2U1VWPWgpfWk9TWF0aC5QSSooRS53aWR0aCooeHx8MSkvMikqKEUuaGVpZ2h0KihTfHwxKS8yKSxpc05hTihpKXx8KGEuYXJlYT1pKSxhLmludmFsaWRhdGVkPSExfWEuaGFuZGxlcy50ZXh0Qm94Lmhhc01vdmVkfHwoYS5oYW5kbGVzLnRleHRCb3gueD1NYXRoLm1heChhLmhhbmRsZXMuc3RhcnQueCxhLmhhbmRsZXMuZW5kLngpLGEuaGFuZGxlcy50ZXh0Qm94Lnk9KGEuaGFuZGxlcy5zdGFydC55K2EuaGFuZGxlcy5lbmQueSkvMik7dmFyIE09ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tZWFuU3RkRGV2LG49ZS5tZWFuU3RkRGV2U1VWLGE9ZS5hcmVhLG89W107aWYodCYmdm9pZCAwIT09dC5tZWFuKXt2YXIgcj1cIlwiO1wiQ1RcIj09PV8mJihyPVwiIEhVXCIpO3ZhciBpPVwiTWVhbjogXCIrVCh0Lm1lYW4udG9GaXhlZCgyKSkrcixsPVwiU3RkRGV2OiBcIitUKHQuc3RkRGV2LnRvRml4ZWQoMikpK3I7aWYobiYmdm9pZCAwIT09bi5tZWFuKXtpKz1cIiBTVVY6IFwiK1Qobi5tZWFuLnRvRml4ZWQoMikpLGwrPVwiIFNVVjogXCIrVChuLnN0ZERldi50b0ZpeGVkKDIpKX1vLnB1c2goaSksby5wdXNoKGwpfWlmKGEpe3ZhciB1PVwiIG1tXCIrU3RyaW5nLmZyb21DaGFyQ29kZSgxNzgpO1MmJnh8fCh1PVwiIHBpeGVsc1wiK1N0cmluZy5mcm9tQ2hhckNvZGUoMTc4KSk7dmFyIGQ9XCJBcmVhOiBcIitUKGEudG9GaXhlZCgyKSkrdTtvLnB1c2goZCl9cmV0dXJuIG99KGEpOygwLGYuZGVmYXVsdCkoZSxkLGEuaGFuZGxlcy50ZXh0Qm94LE0sYS5oYW5kbGVzLFAsbixtLDAsITApfSl9LEM9MDtDPG4uZGF0YS5sZW5ndGg7QysrKWIoQyl9ZnVuY3Rpb24gUChlKXt2YXIgdD1NYXRoLm1pbihlLnN0YXJ0LngsZS5lbmQueCksbj1NYXRoLm1pbihlLnN0YXJ0LnksZS5lbmQueSksYT1NYXRoLmFicyhlLnN0YXJ0LngtZS5lbmQueCksbz1NYXRoLmFicyhlLnN0YXJ0LnktZS5lbmQueSk7cmV0dXJuW3t4OnQrYS8yLHk6bn0se3g6dCx5Om4rby8yfSx7eDp0K2EvMix5Om4rb30se3g6dCthLHk6bitvLzJ9XX19dmFyIE09KDAsby5kZWZhdWx0KSh7Y3JlYXRlTmV3TWVhc3VyZW1lbnQ6cCxvbkltYWdlUmVuZGVyZWQ6eSxwb2ludE5lYXJUb29sOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRShlLHQsbiwxNSl9LHRvb2xUeXBlOmh9KSxfPSgwLHIuZGVmYXVsdCkoe2NyZWF0ZU5ld01lYXN1cmVtZW50OnAsb25JbWFnZVJlbmRlcmVkOnkscG9pbnROZWFyVG9vbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEUoZSx0LG4sMjUpfSx0b29sVHlwZTpofSk7dC5lbGxpcHRpY2FsUm9pPU0sdC5lbGxpcHRpY2FsUm9pVG91Y2g9X30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZHJhZ1Byb2JlVG91Y2g9dC5kcmFnUHJvYmU9dm9pZCAwO3ZhciBhPWgobigxKSksbz1oKG4oMCkpLHI9aChuKDE2KSksaT1oKG4oMTgpKSxsPWgobigyMSkpLHU9aChuKDcpKSxkPW4oMTEpLHM9aChkKSxjPWgobig0MSkpLGY9aChuKDIwKSksdj1oKG4oNSkpLGc9big0KSxtPW4oMyk7ZnVuY3Rpb24gaChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHA9XCJkcmFnUHJvYmVcIixFPXZvaWQgMDtmdW5jdGlvbiBUKGUpe3ZhciB0PW8uZGVmYXVsdC5jb3JuZXJzdG9uZSxuPXQuZ2V0RW5hYmxlZEVsZW1lbnQoZS5lbGVtZW50KSxhPSgwLG0uZ2V0TmV3Q29udGV4dCkobi5jYW52YXMpLHI9dS5kZWZhdWx0LmdldEFjdGl2ZUNvbG9yKCksaT1sLmRlZmF1bHQuZ2V0Rm9udFNpemUoKSxkPVMuZ2V0Q29uZmlndXJhdGlvbigpLHY9TWF0aC5yb3VuZChlLmN1cnJlbnRQb2ludHMuaW1hZ2UueCksZz1NYXRoLnJvdW5kKGUuY3VycmVudFBvaW50cy5pbWFnZS55KTt2PDB8fGc8MHx8dj49ZS5pbWFnZS5jb2x1bW5zfHxnPj1lLmltYWdlLnJvd3N8fCgwLG0uZHJhdykoYSxmdW5jdGlvbihuKXsoMCxtLnNldFNoYWRvdykobixkKTt2YXIgYT12b2lkIDAsbz12b2lkIDAsbD12b2lkIDA7aWYoZS5pbWFnZS5jb2xvcilhPSgwLGMuZGVmYXVsdCkoZS5lbGVtZW50LHYsZywxLDEpLG89ditcIiwgXCIrZyxsPVwiUjogXCIrYVswXStcIiBHOiBcIithWzFdK1wiIEI6IFwiK2FbMl0rXCIgQTogXCIrYVszXTtlbHNle3ZhciB1PShhPXQuZ2V0U3RvcmVkUGl4ZWxzKGUuZWxlbWVudCx2LGcsMSwxKSlbMF0saD11KmUuaW1hZ2Uuc2xvcGUrZS5pbWFnZS5pbnRlcmNlcHQscD0oMCxmLmRlZmF1bHQpKGUuaW1hZ2UsdSk7bz12K1wiLCBcIitnLGw9XCJTUDogXCIrdStcIiBNTzogXCIrcGFyc2VGbG9hdChoLnRvRml4ZWQoMykpLHAmJihsKz1cIiBTVVY6IFwiK3BhcnNlRmxvYXQocC50b0ZpeGVkKDMpKSl9dmFyIEU9e3g6ZS5jdXJyZW50UG9pbnRzLmltYWdlLngrMyx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55LTN9LFQ9dC5waXhlbFRvQ2FudmFzKGUuZWxlbWVudCxFKTsoMCxzLmRlZmF1bHQpKG4sbCxULngsVC55K2krNSxyKSwoMCxzLmRlZmF1bHQpKG4sbyxULngsVC55LHIpfSl9ZnVuY3Rpb24geShlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudDtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxNKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsXyksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCx5KSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0NMSUNLLHkpLG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZSh0LmVsZW1lbnQpfWZ1bmN0aW9uIE0oKXtFJiYoUy5zdHJhdGVneShFKSxFPW51bGwpfWZ1bmN0aW9uIF8oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQ7RT10LG8uZGVmYXVsdC5jb3JuZXJzdG9uZS51cGRhdGVJbWFnZShuKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX12YXIgUz0oMCxyLmRlZmF1bHQpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49dC5lbGVtZW50LHI9KDAsZy5nZXRUb29sT3B0aW9ucykocCxuKTsoMCx2LmRlZmF1bHQpKHQud2hpY2gsci5tb3VzZUJ1dHRvbk1hc2spJiYobi5hZGRFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsTSksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLF8pLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAseSksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyx5KSxTLnN0cmF0ZWd5KHQpLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKX0scCk7Uy5zdHJhdGVnaWVzPXtkZWZhdWx0OlQsbWluaW1hbDpmdW5jdGlvbihlKXt2YXIgdD1vLmRlZmF1bHQuY29ybmVyc3RvbmUsbj1lLmVsZW1lbnQsYT10LmdldEVuYWJsZWRFbGVtZW50KG4pLHI9YS5pbWFnZSxpPSgwLG0uZ2V0TmV3Q29udGV4dCkoYS5jYW52YXMpLHY9dS5kZWZhdWx0LmdldEFjdGl2ZUNvbG9yKCksZz1TLmdldENvbmZpZ3VyYXRpb24oKSxoPXZvaWQgMDsoaD0hMD09PWUuaXNUb3VjaEV2ZW50P3QucGFnZVRvUGl4ZWwobixlLmN1cnJlbnRQb2ludHMucGFnZS54LGUuY3VycmVudFBvaW50cy5wYWdlLnktNCpsLmRlZmF1bHQuZ2V0Rm9udFNpemUoKSk6dC5wYWdlVG9QaXhlbChuLGUuY3VycmVudFBvaW50cy5wYWdlLngsZS5jdXJyZW50UG9pbnRzLnBhZ2UueS1sLmRlZmF1bHQuZ2V0Rm9udFNpemUoKS8yKSkueDwwfHxoLnk8MHx8aC54Pj1yLmNvbHVtbnN8fGgueT49ci5yb3dzfHwoMCxtLmRyYXcpKGksZnVuY3Rpb24oYSl7KDAsbS5zZXRTaGFkb3cpKGEsZyk7dmFyIG89dC5tZXRhRGF0YS5nZXQoXCJnZW5lcmFsU2VyaWVzTW9kdWxlXCIsci5pbWFnZUlkKSxpPXZvaWQgMDtvJiYoaT1vLm1vZGFsaXR5KTt2YXIgdT12b2lkIDAscD1cIlwiO2lmKHIuY29sb3IpcD1cIlI6IFwiKyh1PSgwLGMuZGVmYXVsdCkobixoLngsaC55LDEsMSkpWzBdK1wiIEc6IFwiK3VbMV0rXCIgQjogXCIrdVsyXTtlbHNle3ZhciBFPSh1PXQuZ2V0U3RvcmVkUGl4ZWxzKG4saC54LGgueSwxLDEpKVswXSxUPUUqZS5pbWFnZS5zbG9wZStlLmltYWdlLmludGVyY2VwdCx5PXBhcnNlRmxvYXQoVC50b0ZpeGVkKDIpKTtpZihcIkNUXCI9PT1pKXArPVwiSFU6IFwiK3k7ZWxzZSBpZihcIlBUXCI9PT1pKXtwKz15O3ZhciBNPSgwLGYuZGVmYXVsdCkoZS5pbWFnZSxFKTtNJiYocCs9XCIgU1VWOiBcIitwYXJzZUZsb2F0KE0udG9GaXhlZCgyKSkpfWVsc2UgcCs9eX12YXIgXz10LnBpeGVsVG9DYW52YXMobixoKSxTPXZvaWQgMCx4PSgwLGQudGV4dEJveFdpZHRoKShhLHAsNSk7Uz0hMD09PWUuaXNUb3VjaEV2ZW50P3t4Oi14LzIseTotbC5kZWZhdWx0LmdldEZvbnRTaXplKCktMTAtMTJ9Ont4OjEyLHk6LShsLmRlZmF1bHQuZ2V0Rm9udFNpemUoKSsxMCkvMn0sKDAsbS5kcmF3Q2lyY2xlKShhLG4sXyw2LHtjb2xvcjp2fSxcImNhbnZhc1wiKSwoMCxzLmRlZmF1bHQpKGEscCxfLngrUy54LF8ueStTLnksdil9KX19LFMuc3RyYXRlZ3k9VDt2YXIgeD17ZmlyZU9uVG91Y2hTdGFydDohMCx0b3VjaFN0YXJ0Q2FsbGJhY2s6ZnVuY3Rpb24oZSl7ZS5kZXRhaWwuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKG8uZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsTSl9LHRvdWNoRW5kQ2FsbGJhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwuZWxlbWVudDt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoby5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCxNKSxvLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UodCl9fSxPPSgwLGkuZGVmYXVsdCkoXyxwLHgpO3QuZHJhZ1Byb2JlPVMsdC5kcmFnUHJvYmVUb3VjaD1PfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9byhuKDApKTtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiByKGUpe2EuZGVmYXVsdC5jb3JuZXJzdG9uZS5maXRUb1dpbmRvdyhlLmVsZW1lbnQpfXZhciBpPSgwLG8obig1NykpLmRlZmF1bHQpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsO2kuc3RyYXRlZ3kodCksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9KTtpLnN0cmF0ZWdpZXM9e2RlZmF1bHQ6cn0saS5zdHJhdGVneT1yLHQuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcm9zc2hhaXJzVG91Y2g9dC5jcm9zc2hhaXJzPXZvaWQgMDt2YXIgYT1jKG4oMSkpLG89YyhuKDApKSxyPWMobigxMykpLGk9bigyKSxsPWMobig1KSksdT1uKDQ2KSxkPWMobigxOSkpLHM9big0KTtmdW5jdGlvbiBjKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgZj1cImNyb3NzaGFpcnNcIjtmdW5jdGlvbiB2KGUpe3ZhciB0PWUuZGV0YWlsO2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIG49KDAsaS5nZXRUb29sU3RhdGUpKGUuY3VycmVudFRhcmdldCxmKTtpZihuKXt2YXIgYT1vLmRlZmF1bHQuY29ybmVyc3RvbmUsbD1lLmN1cnJlbnRUYXJnZXQscz1hLmdldEVuYWJsZWRFbGVtZW50KGwpLmltYWdlLmltYWdlSWQsYz1hLm1ldGFEYXRhLmdldChcImltYWdlUGxhbmVNb2R1bGVcIixzKTtpZihjKXt2YXIgdj10LmN1cnJlbnRQb2ludHMuaW1hZ2UsZz0oMCx1LmltYWdlUG9pbnRUb1BhdGllbnRQb2ludCkodixjKTtuLmRhdGFbMF0uc3luY2hyb25pemF0aW9uQ29udGV4dC5nZXRTb3VyY2VFbGVtZW50cygpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZSE9PWwpe3ZhciB0PU51bWJlci5NQVhfVkFMVUUsbj0tMSxvPSgwLGkuZ2V0VG9vbFN0YXRlKShlLFwic3RhY2tcIik7aWYodm9pZCAwIT09byl7dmFyIHU9by5kYXRhWzBdO2lmKHUuaW1hZ2VJZHMuZm9yRWFjaChmdW5jdGlvbihlLG8pe3ZhciByPWEubWV0YURhdGEuZ2V0KFwiaW1hZ2VQbGFuZU1vZHVsZVwiLGUpO2lmKHImJnIuaW1hZ2VQb3NpdGlvblBhdGllbnQmJnIucm93Q29zaW5lcyYmci5jb2x1bW5Db3NpbmVzKXt2YXIgaT0oMCxkLmRlZmF1bHQpKHIuaW1hZ2VQb3NpdGlvblBhdGllbnQpLGw9KDAsZC5kZWZhdWx0KShyLnJvd0Nvc2luZXMpLHU9KDAsZC5kZWZhdWx0KShyLmNvbHVtbkNvc2luZXMpLmNsb25lKCkuY3Jvc3MobC5jbG9uZSgpKSxzPU1hdGguYWJzKHUuY2xvbmUoKS5kb3QoaSktdS5jbG9uZSgpLmRvdChnKSk7czx0JiYodD1zLG49byl9fSksbiE9PXUuY3VycmVudEltYWdlSWRJbmRleCYmLTEhPT1uJiZ2b2lkIDAhPT11LmltYWdlSWRzW25dKXt2YXIgcz1yLmRlZmF1bHQuZ2V0U3RhcnRMb2FkSGFuZGxlcigpLGM9ci5kZWZhdWx0LmdldEVuZExvYWRIYW5kbGVyKCksZj1yLmRlZmF1bHQuZ2V0RXJyb3JMb2FkaW5nSGFuZGxlcigpO3MmJnMoZSk7KCEwPT09dS5wcmV2ZW50Q2FjaGU/YS5sb2FkSW1hZ2UodS5pbWFnZUlkc1tuXSk6YS5sb2FkQW5kQ2FjaGVJbWFnZSh1LmltYWdlSWRzW25dKSkudGhlbihmdW5jdGlvbih0KXt2YXIgbz1hLmdldFZpZXdwb3J0KGUpO3UuY3VycmVudEltYWdlSWRJbmRleD1uLGEuZGlzcGxheUltYWdlKGUsdCxvKSxjJiZjKGUsdCl9LGZ1bmN0aW9uKHQpe3ZhciBhPXUuaW1hZ2VJZHNbbl07ZiYmZihlLGEsdCl9KX19fX0pfX19ZnVuY3Rpb24gZyhlKXt2YXIgdD1lLmRldGFpbC5lbGVtZW50O3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxoKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLGcpfWZ1bmN0aW9uIG0oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQsbz0oMCxzLmdldFRvb2xPcHRpb25zKShmLG4pOygwLGwuZGVmYXVsdCkodC53aGljaCxvLm1vdXNlQnV0dG9uTWFzaykmJihuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RSQUcsaCksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9VUCxnKSx2KGUpLGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKX1mdW5jdGlvbiBoKGUpe3YoZSksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9ZnVuY3Rpb24gcChlLHQsbil7KDAscy5zZXRUb29sT3B0aW9ucykoZixlLHttb3VzZUJ1dHRvbk1hc2s6dH0pLCgwLGkuY2xlYXJUb29sU3RhdGUpKGUsZiksKDAsaS5hZGRUb29sU3RhdGUpKGUsZix7c3luY2hyb25pemF0aW9uQ29udGV4dDpufSksZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOLG0pLGUuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixtKX1mdW5jdGlvbiBFKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixtKX12YXIgVD17YWN0aXZhdGU6cCxkZWFjdGl2YXRlOkUsZW5hYmxlOnAsZGlzYWJsZTpFfTtmdW5jdGlvbiB5KGUpe3ZhciB0PWUuZGV0YWlsLmVsZW1lbnQ7dC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHLF8pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfRFJBR19FTkQseSl9ZnVuY3Rpb24gTShlKXt2YXIgdD1lLmRldGFpbC5lbGVtZW50O3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX0RSQUcsXyksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9EUkFHX0VORCx5KSx2KGUpLCExfWZ1bmN0aW9uIF8oZSl7dihlKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBTKGUsdCl7KDAsaS5jbGVhclRvb2xTdGF0ZSkoZSxmKSwoMCxpLmFkZFRvb2xTdGF0ZSkoZSxmLHtzeW5jaHJvbml6YXRpb25Db250ZXh0OnR9KSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULE0pLGUuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlQsTSl9ZnVuY3Rpb24geChlKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULE0pfXZhciBPPXthY3RpdmF0ZTpTLGRlYWN0aXZhdGU6eCxlbmFibGU6UyxkaXNhYmxlOnh9O3QuY3Jvc3NoYWlycz1ULHQuY3Jvc3NoYWlyc1RvdWNoPU99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4sYSxvLGwpe3ZhciB1PWUubGVuZ3RoPjA/ci5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5maW5kQ2xvc2VzdFBvaW50KGUsdCk6dCxkPVt7eDpuLmxlZnQrbi53aWR0aC8yLHk6bi50b3B9LHt4Om4ubGVmdCx5Om4udG9wK24uaGVpZ2h0LzJ9LHt4Om4ubGVmdCtuLndpZHRoLzIseTpuLnRvcCtuLmhlaWdodH0se3g6bi5sZWZ0K24ud2lkdGgseTpuLnRvcCtuLmhlaWdodC8yfV0scz1yLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LmZpbmRDbG9zZXN0UG9pbnQoZCx1KSxjPXtjb2xvcjpvLGxpbmVXaWR0aDpsLGxpbmVEYXNoOlsyLDNdfTsoMCxpLmRyYXdMaW5lKShhLHZvaWQgMCx1LHMsYyxcImNhbnZhc1wiKX07dmFyIGEsbz1uKDApLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9LGk9bigzKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuYXJyb3dBbm5vdGF0ZVRvdWNoPXQuYXJyb3dBbm5vdGF0ZT12b2lkIDA7dmFyIGE9eChuKDEpKSxvPXgobigwKSkscj14KG4oMTApKSxpPXgobigxMikpLGw9eChuKDE0KSksdT14KG4oMjEpKSxkPXgobig3KSkscz14KG4oOSkpLGM9eChuKDYzKSksZj14KG4oMzApKSx2PXgobigyOCkpLGc9eChuKDE1KSksbT14KG4oNSkpLGg9eChuKDIyKSkscD14KG4oMTcpKSxFPW4oMiksVD1uKDQpLHk9eChuKDI3KSksTT1uKDMpLF89bigxMSksUz14KG4oNikpO2Z1bmN0aW9uIHgoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBPPVwiYXJyb3dBbm5vdGF0ZVwiO3ZhciBiPXtnZXRUZXh0Q2FsbGJhY2s6ZnVuY3Rpb24oZSl7ZShwcm9tcHQoXCJFbnRlciB5b3VyIGFubm90YXRpb246XCIpKX0sY2hhbmdlVGV4dENhbGxiYWNrOmZ1bmN0aW9uKGUsdCxuKXtuKHByb21wdChcIkNoYW5nZSB5b3VyIGFubm90YXRpb246XCIpKX0sZHJhd0hhbmRsZXM6ITEsZHJhd0hhbmRsZXNPbkhvdmVyOiEwLGFycm93Rmlyc3Q6ITB9O2Z1bmN0aW9uIEMoZSl7cmV0dXJue3Zpc2libGU6ITAsYWN0aXZlOiEwLGNvbG9yOnZvaWQgMCxoYW5kbGVzOntzdGFydDp7eDplLmN1cnJlbnRQb2ludHMuaW1hZ2UueCx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55LGhpZ2hsaWdodDohMCxhY3RpdmU6ITF9LGVuZDp7eDplLmN1cnJlbnRQb2ludHMuaW1hZ2UueCx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55LGhpZ2hsaWdodDohMCxhY3RpdmU6ITF9LHRleHRCb3g6e2FjdGl2ZTohMSxoYXNNb3ZlZDohMSxtb3Zlc0luZGVwZW5kZW50bHk6ITEsZHJhd25JbmRlcGVuZGVudGx5OiEwLGFsbG93ZWRPdXRzaWRlSW1hZ2U6ITAsaGFzQm91bmRpbmdCb3g6ITB9fX19ZnVuY3Rpb24gUChlLHQsbil7cmV0dXJuITEhPT10LnZpc2libGUmJigwLHkuZGVmYXVsdCkoZSx0LmhhbmRsZXMuc3RhcnQsdC5oYW5kbGVzLmVuZCxuKTwyNX1mdW5jdGlvbiBJKGUpe3ZhciB0PWUuZGV0YWlsLG49KDAsRS5nZXRUb29sU3RhdGUpKGUuY3VycmVudFRhcmdldCxPKTtpZihuKWZvcih2YXIgYT10LmVuYWJsZWRFbGVtZW50LHI9by5kZWZhdWx0LmNvcm5lcnN0b25lLGk9KDAsTS5nZXROZXdDb250ZXh0KSh0LmNhbnZhc0NvbnRleHQuY2FudmFzKSxmPWwuZGVmYXVsdC5nZXRUb29sV2lkdGgoKSx2PUwuZ2V0Q29uZmlndXJhdGlvbigpLGc9ZnVuY3Rpb24oZSl7dmFyIG89bi5kYXRhW2VdO2lmKCExPT09by52aXNpYmxlKXJldHVyblwiY29udGludWVcIjsoMCxNLmRyYXcpKGksZnVuY3Rpb24oZSl7KDAsTS5zZXRTaGFkb3cpKGUsdik7dmFyIG49ZC5kZWZhdWx0LmdldENvbG9ySWZBY3RpdmUobyksaT1yLnBpeGVsVG9DYW52YXModC5lbGVtZW50LG8uaGFuZGxlcy5zdGFydCksbD1yLnBpeGVsVG9DYW52YXModC5lbGVtZW50LG8uaGFuZGxlcy5lbmQpO3YuYXJyb3dGaXJzdD8oMCxjLmRlZmF1bHQpKGUsbCxpLG4sZik6KDAsYy5kZWZhdWx0KShlLGksbCxuLGYpO3ZhciBnPXtkcmF3SGFuZGxlc0lmQWN0aXZlOnYmJnYuZHJhd0hhbmRsZXNPbkhvdmVyfTt2LmRyYXdIYW5kbGVzJiYoMCxzLmRlZmF1bHQpKGUsdCxvLmhhbmRsZXMsbixnKTt2YXIgbT1mdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0fShvKTtpZihtJiZcIlwiIT09bSl7dmFyIEU9KDAsXy50ZXh0Qm94V2lkdGgpKGUsbSw1KSxUPXUuZGVmYXVsdC5nZXRGb250U2l6ZSgpKzEwLHk9TWF0aC5tYXgoRSxUKS8yKzU7aWYobC54PGkueCYmKHk9LXkpLCFvLmhhbmRsZXMudGV4dEJveC5oYXNNb3ZlZCl7dmFyIFM9dm9pZCAwO1M9di5hcnJvd0ZpcnN0P3t4OmwueC1FLzIreSx5OmwueS1ULzJ9Ont4OmkueC1FLzIteSx5OmkueS1ULzJ9O3ZhciB4PXIuaW50ZXJuYWwuZ2V0VHJhbnNmb3JtKGEpO3guaW52ZXJ0KCk7dmFyIE89eC50cmFuc2Zvcm1Qb2ludChTLngsUy55KTtvLmhhbmRsZXMudGV4dEJveC54PU8ueCxvLmhhbmRsZXMudGV4dEJveC55PU8ueX0oMCxwLmRlZmF1bHQpKGUsdC5lbGVtZW50LG8uaGFuZGxlcy50ZXh0Qm94LG0sby5oYW5kbGVzLGgsbixmLDAsITEpfX0pfSxtPTA7bTxuLmRhdGEubGVuZ3RoO20rKylnKG0pO2Z1bmN0aW9uIGgoZSl7dmFyIHQ9e3g6KGUuc3RhcnQueCtlLmVuZC54KS8yLHk6KGUuc3RhcnQueStlLmVuZC55KS8yfTtyZXR1cm5bZS5zdGFydCx0LGUuZW5kXX19dmFyIEw9KDAsci5kZWZhdWx0KSh7YWRkTmV3TWVhc3VyZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbGVtZW50LG49QyhlKSxyPW8uZGVmYXVsdC5jb3JuZXJzdG9uZTtmdW5jdGlvbiBpKGUpe251bGw9PT1lPygwLEUucmVtb3ZlVG9vbFN0YXRlKSh0LE8sbik6bi50ZXh0PWUsbi5hY3RpdmU9ITEsci51cGRhdGVJbWFnZSh0KTt2YXIgbz1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfTU9ESUZJRUQsaT17dG9vbFR5cGU6TyxlbGVtZW50OnQsbWVhc3VyZW1lbnREYXRhOm59OygwLFMuZGVmYXVsdCkodCxvLGkpLHQuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfTU9WRSxMLm1vdXNlTW92ZUNhbGxiYWNrKSx0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV04sTC5tb3VzZURvd25DYWxsYmFjayksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLEwubW91c2VEb3duQWN0aXZhdGVDYWxsYmFjayksdC5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9ET1VCTEVfQ0xJQ0ssTC5tb3VzZURvdWJsZUNsaWNrQ2FsbGJhY2spfSgwLEUuYWRkVG9vbFN0YXRlKSh0LE8sbiksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9NT1ZFLEwubW91c2VNb3ZlQ2FsbGJhY2spLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRE9XTixMLm1vdXNlRG93bkNhbGxiYWNrKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPV05fQUNUSVZBVEUsTC5tb3VzZURvd25BY3RpdmF0ZUNhbGxiYWNrKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX0RPVUJMRV9DTElDSyxMLm1vdXNlRG91YmxlQ2xpY2tDYWxsYmFjayksci51cGRhdGVJbWFnZSh0KSwoMCxmLmRlZmF1bHQpKGUsTyxuLG4uaGFuZGxlcy5lbmQsZnVuY3Rpb24oKXsoMCxnLmRlZmF1bHQpKGUsbi5oYW5kbGVzKSYmKDAsRS5yZW1vdmVUb29sU3RhdGUpKHQsTyxuKTt2YXIgYT1MLmdldENvbmZpZ3VyYXRpb24oKTt2b2lkIDA9PT1uLnRleHQmJmEuZ2V0VGV4dENhbGxiYWNrKGkpLHIudXBkYXRlSW1hZ2UodCl9KX0sY3JlYXRlTmV3TWVhc3VyZW1lbnQ6QyxvbkltYWdlUmVuZGVyZWQ6SSxwb2ludE5lYXJUb29sOlAsdG9vbFR5cGU6Tyxtb3VzZURvdWJsZUNsaWNrQ2FsbGJhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj10LmVsZW1lbnQsYT1vLmRlZmF1bHQuY29ybmVyc3RvbmUscj0oMCxULmdldFRvb2xPcHRpb25zKShPLG4pLGk9dm9pZCAwO2lmKCgwLG0uZGVmYXVsdCkodC53aGljaCxyLm1vdXNlQnV0dG9uTWFzaykpe3ZhciBsPUwuZ2V0Q29uZmlndXJhdGlvbigpLHU9dC5jdXJyZW50UG9pbnRzLmNhbnZhcyxkPSgwLEUuZ2V0VG9vbFN0YXRlKShuLE8pO2lmKGQpZm9yKHZhciBzPTA7czxkLmRhdGEubGVuZ3RoO3MrKylpZihpPWQuZGF0YVtzXSxQKG4saSx1KXx8KDAsaC5kZWZhdWx0KShpLmhhbmRsZXMudGV4dEJveCx1KSlyZXR1cm4gaS5hY3RpdmU9ITAsYS51cGRhdGVJbWFnZShuKSxsLmNoYW5nZVRleHRDYWxsYmFjayhpLHQsYyksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMX1mdW5jdGlvbiBjKGUsdCxvKXshMD09PW8/KDAsRS5yZW1vdmVUb29sU3RhdGUpKG4sTyxlKTplLnRleHQ9dCxlLmFjdGl2ZT0hMSxhLnVwZGF0ZUltYWdlKG4pfX19KTtMLnNldENvbmZpZ3VyYXRpb24oYik7dmFyIHc9KDAsaS5kZWZhdWx0KSh7YWRkTmV3TWVhc3VyZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5lbGVtZW50LG49QyhlKSxyPW8uZGVmYXVsdC5jb3JuZXJzdG9uZTtmdW5jdGlvbiBpKGUpe251bGw9PT1lPygwLEUucmVtb3ZlVG9vbFN0YXRlKSh0LE8sbik6bi50ZXh0PWUsbi5hY3RpdmU9ITEsci51cGRhdGVJbWFnZSh0KTt2YXIgbz1hLmRlZmF1bHQuTUVBU1VSRU1FTlRfTU9ESUZJRUQsaT17dG9vbFR5cGU6TyxlbGVtZW50OnQsbWVhc3VyZW1lbnREYXRhOm59OygwLFMuZGVmYXVsdCkodCxvLGkpLHQuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfUFJFU1Msdy5wcmVzc0NhbGxiYWNrKSx0LmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJUX0FDVElWRSx3LnRvdWNoRG93bkFjdGl2YXRlQ2FsbGJhY2spLHQuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVEFQLHcudGFwQ2FsbGJhY2spfSgwLEUuYWRkVG9vbFN0YXRlKSh0LE8sbiksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9QUkVTUyx3LnByZXNzQ2FsbGJhY2spLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVE9VQ0hfU1RBUlRfQUNUSVZFLHcudG91Y2hEb3duQWN0aXZhdGVDYWxsYmFjayksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UQVAsdy50YXBDYWxsYmFjayksci51cGRhdGVJbWFnZSh0KSwoMCx2LmRlZmF1bHQpKGUsTyxuLG4uaGFuZGxlcy5lbmQsZnVuY3Rpb24oKXtyLnVwZGF0ZUltYWdlKHQpLCgwLGcuZGVmYXVsdCkoZSxuLmhhbmRsZXMpJiYoMCxFLnJlbW92ZVRvb2xTdGF0ZSkodCxPLG4pO3ZhciBhPUwuZ2V0Q29uZmlndXJhdGlvbigpO3ZvaWQgMD09PW4udGV4dCYmYS5nZXRUZXh0Q2FsbGJhY2soaSl9KX0sY3JlYXRlTmV3TWVhc3VyZW1lbnQ6QyxvbkltYWdlUmVuZGVyZWQ6SSxwb2ludE5lYXJUb29sOlAsdG9vbFR5cGU6TyxwcmVzc0NhbGxiYWNrOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49dC5lbGVtZW50LHI9by5kZWZhdWx0LmNvcm5lcnN0b25lLGk9dm9pZCAwO2Z1bmN0aW9uIGwoZSx0LG8pe2NvbnNvbGUubG9nKFwicHJlc3NDYWxsYmFjayBkb25lQ2hhbmdpbmdUZXh0Q2FsbGJhY2tcIiksITA9PT1vPygwLEUucmVtb3ZlVG9vbFN0YXRlKShuLE8sZSk6ZS50ZXh0PXQsZS5hY3RpdmU9ITEsci51cGRhdGVJbWFnZShuKSxuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJULHcudG91Y2hTdGFydENhbGxiYWNrKSxuLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRPVUNIX1NUQVJUX0FDVElWRSx3LnRvdWNoRG93bkFjdGl2YXRlQ2FsbGJhY2spLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuVEFQLHcudGFwQ2FsbGJhY2spfXZhciB1PUwuZ2V0Q29uZmlndXJhdGlvbigpLGQ9dC5jdXJyZW50UG9pbnRzLmNhbnZhcyxzPSgwLEUuZ2V0VG9vbFN0YXRlKShuLE8pO2lmKHMpe2lmKHQuaGFuZGxlUHJlc3NlZClyZXR1cm4gbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCx3LnRvdWNoU3RhcnRDYWxsYmFjayksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVF9BQ1RJVkUsdy50b3VjaERvd25BY3RpdmF0ZUNhbGxiYWNrKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRBUCx3LnRhcENhbGxiYWNrKSx1LmNoYW5nZVRleHRDYWxsYmFjayh0LmhhbmRsZVByZXNzZWQsdCxsKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExO2Zvcih2YXIgYz0wO2M8cy5kYXRhLmxlbmd0aDtjKyspaWYoaT1zLmRhdGFbY10sUChuLGksZCl8fCgwLGguZGVmYXVsdCkoaS5oYW5kbGVzLnRleHRCb3gsZCkpcmV0dXJuIGkuYWN0aXZlPSEwLHIudXBkYXRlSW1hZ2Uobiksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVCx3LnRvdWNoU3RhcnRDYWxsYmFjayksbi5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5UT1VDSF9TVEFSVF9BQ1RJVkUsdy50b3VjaERvd25BY3RpdmF0ZUNhbGxiYWNrKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LlRBUCx3LnRhcENhbGxiYWNrKSx1LmNoYW5nZVRleHRDYWxsYmFjayhpLHQsbCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX19fSk7dC5hcnJvd0Fubm90YXRlPUwsdC5hcnJvd0Fubm90YXRlVG91Y2g9d30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuYW5nbGVUb3VjaD10LmFuZ2xlPXZvaWQgMDt2YXIgYT12KG4oMCkpLG89dihuKDEwKSkscj12KG4oMTIpKSxpPXYobigxMSkpLGw9dihuKDQzKSksdT12KG4oNykpLGQ9dihuKDkpKSxzPW4oMiksYz12KG4oMjcpKSxmPW4oMyk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGc9XCJhbmdsZVwiO2Z1bmN0aW9uIG0oZSl7cmV0dXJue3Zpc2libGU6ITAsYWN0aXZlOiEwLGNvbG9yOnZvaWQgMCxoYW5kbGVzOntzdGFydDp7eDplLmN1cnJlbnRQb2ludHMuaW1hZ2UueC0yMCx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55KzEwLGhpZ2hsaWdodDohMCxhY3RpdmU6ITF9LGVuZDp7eDplLmN1cnJlbnRQb2ludHMuaW1hZ2UueCx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55LGhpZ2hsaWdodDohMCxhY3RpdmU6ITB9LHN0YXJ0Mjp7eDplLmN1cnJlbnRQb2ludHMuaW1hZ2UueC0yMCx5OmUuY3VycmVudFBvaW50cy5pbWFnZS55KzEwLGhpZ2hsaWdodDohMCxhY3RpdmU6ITF9LGVuZDI6e3g6ZS5jdXJyZW50UG9pbnRzLmltYWdlLngseTplLmN1cnJlbnRQb2ludHMuaW1hZ2UueSsyMCxoaWdobGlnaHQ6ITAsYWN0aXZlOiExfX19fWZ1bmN0aW9uIGgoZSx0LG4pe3JldHVybiExIT09dC52aXNpYmxlJiYoKDAsYy5kZWZhdWx0KShlLHQuaGFuZGxlcy5zdGFydCx0LmhhbmRsZXMuZW5kLG4pPDV8fCgwLGMuZGVmYXVsdCkoZSx0LmhhbmRsZXMuc3RhcnQyLHQuaGFuZGxlcy5lbmQyLG4pPDUpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9ZS5kZXRhaWwsbj0oMCxzLmdldFRvb2xTdGF0ZSkoZS5jdXJyZW50VGFyZ2V0LGcpO2lmKHZvaWQgMCE9PW4pZm9yKHZhciBvPSgwLGYuZ2V0TmV3Q29udGV4dCkodC5jYW52YXNDb250ZXh0LmNhbnZhcykscj1FLmdldENvbmZpZ3VyYXRpb24oKSxjPWEuZGVmYXVsdC5jb3JuZXJzdG9uZSx2PWZ1bmN0aW9uKGUpe3ZhciBhPW4uZGF0YVtlXTtpZighMT09PWEudmlzaWJsZSlyZXR1cm5cImNvbnRpbnVlXCI7KDAsZi5kcmF3KShvLGZ1bmN0aW9uKGUpeygwLGYuc2V0U2hhZG93KShlLHIpO3ZhciBuPXUuZGVmYXVsdC5nZXRDb2xvcklmQWN0aXZlKGEpOygwLGYuZHJhd0pvaW5lZExpbmVzKShlLHQuZWxlbWVudCxhLmhhbmRsZXMuZW5kLFthLmhhbmRsZXMuc3RhcnQsYS5oYW5kbGVzLmVuZDJdLHtjb2xvcjpufSksKDAsZC5kZWZhdWx0KShlLHQsYS5oYW5kbGVzKTt2YXIgbz10LmltYWdlLmNvbHVtblBpeGVsU3BhY2luZ3x8MSxzPXQuaW1hZ2Uucm93UGl4ZWxTcGFjaW5nfHwxLHY9KE1hdGguY2VpbChhLmhhbmRsZXMuc3RhcnQueCktTWF0aC5jZWlsKGEuaGFuZGxlcy5lbmQueCkpKm8sZz0oTWF0aC5jZWlsKGEuaGFuZGxlcy5zdGFydC55KS1NYXRoLmNlaWwoYS5oYW5kbGVzLmVuZC55KSkqcyxtPShNYXRoLmNlaWwoYS5oYW5kbGVzLnN0YXJ0Mi54KS1NYXRoLmNlaWwoYS5oYW5kbGVzLmVuZDIueCkpKm8saD0oTWF0aC5jZWlsKGEuaGFuZGxlcy5zdGFydDIueSktTWF0aC5jZWlsKGEuaGFuZGxlcy5lbmQyLnkpKSpzLHA9TWF0aC5hY29zKE1hdGguYWJzKCh2Km0rZypoKS8oTWF0aC5zcXJ0KHYqditnKmcpKk1hdGguc3FydChtKm0raCpoKSkpKTtwKj0xODAvTWF0aC5QSTt2YXIgRT0oMCxsLmRlZmF1bHQpKHAsMikudG9TdHJpbmcoKStTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KFwiMDBCMFwiLDE2KSksVD1jLnBpeGVsVG9DYW52YXModC5lbGVtZW50LGEuaGFuZGxlcy5zdGFydDIpLHk9Yy5waXhlbFRvQ2FudmFzKHQuZWxlbWVudCxhLmhhbmRsZXMuZW5kMiksTT0oVC54K3kueCkvMixfPShULnkreS55KS8yOygwLGkuZGVmYXVsdCkoZSxFLE0sXyxuKX0pfSxtPTA7bTxuLmRhdGEubGVuZ3RoO20rKyl2KG0pfXZhciBFPSgwLG8uZGVmYXVsdCkoe2NyZWF0ZU5ld01lYXN1cmVtZW50Om0sb25JbWFnZVJlbmRlcmVkOnAscG9pbnROZWFyVG9vbDpoLHRvb2xUeXBlOmd9KSxUPSgwLHIuZGVmYXVsdCkoe2NyZWF0ZU5ld01lYXN1cmVtZW50Om0sb25JbWFnZVJlbmRlcmVkOnAscG9pbnROZWFyVG9vbDpoLHRvb2xUeXBlOmd9KTt0LmFuZ2xlPUUsdC5hbmdsZVRvdWNoPVR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1kKG4oMSkpLG89ZChuKDApKSxyPWQobig0MCkpLGk9ZChuKDU4KSksbD1kKG4oNikpLHU9big0KTtmdW5jdGlvbiBkKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgcz12b2lkIDAsYz12b2lkIDAsZj12b2lkIDAsdj12b2lkIDAsZz12b2lkIDAsbT12b2lkIDAsaD12b2lkIDAscD12b2lkIDAsRT0xLFQ9MCx5PSExLE09ITEsXz12b2lkIDAsUz03MDAseD01LE89XCJ0b3VjaElucHV0XCI7ZnVuY3Rpb24gYihlKXt2YXIgdD1vLmRlZmF1bHQuY29ybmVyc3RvbmUsbj1lLmN1cnJlbnRUYXJnZXR8fGUuc3JjRXZlbnQuY3VycmVudFRhcmdldCxpPXQuZ2V0RW5hYmxlZEVsZW1lbnQobik7aWYoaS5pbWFnZSl7dmFyIHU9dm9pZCAwLGQ9dm9pZCAwLE89dm9pZCAwLGI9dm9pZCAwO3N3aXRjaChlLnByZXZlbnREZWZhdWx0KCksKGUucG9pbnRlcnMmJmUucG9pbnRlcnMubGVuZ3RoPjF8fGUudG91Y2hlcyYmZS50b3VjaGVzLmxlbmd0aD4xKSYmKE09ITEsY2xlYXJUaW1lb3V0KGgpKSxlLnR5cGUpe2Nhc2VcInRhcFwiOk09ITEsY2xlYXJUaW1lb3V0KGgpLChjPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQucGFnZVRvUG9pbnQoZS5wb2ludGVyc1swXSksaW1hZ2U6dC5wYWdlVG9QaXhlbChuLGUucG9pbnRlcnNbMF0ucGFnZVgsZS5wb2ludGVyc1swXS5wYWdlWSksY2xpZW50Ont4OmUucG9pbnRlcnNbMF0uY2xpZW50WCx5OmUucG9pbnRlcnNbMF0uY2xpZW50WX19KS5jYW52YXM9dC5waXhlbFRvQ2FudmFzKG4sYy5pbWFnZSksdT1hLmRlZmF1bHQuVEFQLGc9e2V2ZW50OmUsdmlld3BvcnQ6dC5nZXRWaWV3cG9ydChuKSxpbWFnZTppLmltYWdlLGVsZW1lbnQ6bixjdXJyZW50UG9pbnRzOmMsdHlwZTp1LGlzVG91Y2hFdmVudDohMH0sKDAsbC5kZWZhdWx0KShuLHUsZyk7YnJlYWs7Y2FzZVwiZG91YmxldGFwXCI6TT0hMSxjbGVhclRpbWVvdXQoaCksKGM9e3BhZ2U6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5wYWdlVG9Qb2ludChlLnBvaW50ZXJzWzBdKSxpbWFnZTp0LnBhZ2VUb1BpeGVsKG4sZS5wb2ludGVyc1swXS5wYWdlWCxlLnBvaW50ZXJzWzBdLnBhZ2VZKSxjbGllbnQ6e3g6ZS5wb2ludGVyc1swXS5jbGllbnRYLHk6ZS5wb2ludGVyc1swXS5jbGllbnRZfX0pLmNhbnZhcz10LnBpeGVsVG9DYW52YXMobixjLmltYWdlKSx1PWEuZGVmYXVsdC5ET1VCTEVfVEFQLGc9e2V2ZW50OmUsdmlld3BvcnQ6dC5nZXRWaWV3cG9ydChuKSxpbWFnZTppLmltYWdlLGVsZW1lbnQ6bixjdXJyZW50UG9pbnRzOmMsdHlwZTp1LGlzVG91Y2hFdmVudDohMH0sKDAsbC5kZWZhdWx0KShuLHUsZyk7YnJlYWs7Y2FzZVwicGluY2hzdGFydFwiOk09ITEsY2xlYXJUaW1lb3V0KGgpLEU9MTticmVhaztjYXNlXCJwaW5jaG1vdmVcIjppZihNPSExLGNsZWFyVGltZW91dChoKSwhMD09PXkpe0U9ZS5zY2FsZSx5PSExO2JyZWFrfWQ9KGUuc2NhbGUtRSkvRSwocz17cGFnZTplLmNlbnRlcixpbWFnZTp0LnBhZ2VUb1BpeGVsKG4sZS5jZW50ZXIueCxlLmNlbnRlci55KX0pLmNhbnZhcz10LnBpeGVsVG9DYW52YXMobixzLmltYWdlKSx1PWEuZGVmYXVsdC5UT1VDSF9QSU5DSCxnPXtldmVudDplLHN0YXJ0UG9pbnRzOnMsdmlld3BvcnQ6dC5nZXRWaWV3cG9ydChuKSxpbWFnZTppLmltYWdlLGVsZW1lbnQ6bixkaXJlY3Rpb246ZS5zY2FsZTwxPzE6LTEsc2NhbGVDaGFuZ2U6ZCx0eXBlOnUsaXNUb3VjaEV2ZW50OiEwfSwoMCxsLmRlZmF1bHQpKG4sdSxnKSxFPWUuc2NhbGU7YnJlYWs7Y2FzZVwidG91Y2hzdGFydFwiOkU9MSxjbGVhclRpbWVvdXQoaCksY2xlYXJUaW1lb3V0KG0pLG09c2V0VGltZW91dChmdW5jdGlvbigpeyhzPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQucGFnZVRvUG9pbnQoZS50b3VjaGVzWzBdKSxpbWFnZTp0LnBhZ2VUb1BpeGVsKG4sZS50b3VjaGVzWzBdLnBhZ2VYLGUudG91Y2hlc1swXS5wYWdlWSksY2xpZW50Ont4OmUudG91Y2hlc1swXS5jbGllbnRYLHk6ZS50b3VjaGVzWzBdLmNsaWVudFl9fSkuY2FudmFzPXQucGl4ZWxUb0NhbnZhcyhuLHMuaW1hZ2UpLHU9YS5kZWZhdWx0LlRPVUNIX1NUQVJULGUudG91Y2hlcy5sZW5ndGg+MSYmKHU9YS5kZWZhdWx0Lk1VTFRJX1RPVUNIX1NUQVJUKSxnPXtldmVudDplLHZpZXdwb3J0OnQuZ2V0Vmlld3BvcnQobiksaW1hZ2U6aS5pbWFnZSxlbGVtZW50Om4sc3RhcnRQb2ludHM6cyxjdXJyZW50UG9pbnRzOnMsdHlwZTp1LGlzVG91Y2hFdmVudDohMH0sITA9PT0oMCxsLmRlZmF1bHQpKG4sdSxnKSYmKHU9YS5kZWZhdWx0LlRPVUNIX1NUQVJUX0FDVElWRSxlLnRvdWNoZXMubGVuZ3RoPjEmJih1PWEuZGVmYXVsdC5NVUxUSV9UT1VDSF9TVEFSVF9BQ1RJVkUpLGcudHlwZT11LCgwLGwuZGVmYXVsdCkobix1LGcpKSxmPSgwLHIuZGVmYXVsdCkocyl9LDUwKSxNPSEwLHA9MCxoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtNJiYoKGM9e3BhZ2U6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5wYWdlVG9Qb2ludChlLnRvdWNoZXNbMF0pLGltYWdlOnQucGFnZVRvUGl4ZWwobixlLnRvdWNoZXNbMF0ucGFnZVgsZS50b3VjaGVzWzBdLnBhZ2VZKSxjbGllbnQ6e3g6ZS50b3VjaGVzWzBdLmNsaWVudFgseTplLnRvdWNoZXNbMF0uY2xpZW50WX19KS5jYW52YXM9dC5waXhlbFRvQ2FudmFzKG4scy5pbWFnZSksdT1hLmRlZmF1bHQuVE9VQ0hfUFJFU1MsZz17ZXZlbnQ6ZSx2aWV3cG9ydDp0LmdldFZpZXdwb3J0KG4pLGltYWdlOmkuaW1hZ2UsZWxlbWVudDpuLGN1cnJlbnRQb2ludHM6Yyx0eXBlOnUsaXNUb3VjaEV2ZW50OiEwfSwoMCxsLmRlZmF1bHQpKG4sdSxnKSl9LFMpO2JyZWFrO2Nhc2VcInRvdWNoZW5kXCI6RT0xLE09ITEsY2xlYXJUaW1lb3V0KGgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXsocz17cGFnZTpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnBhZ2VUb1BvaW50KGUuY2hhbmdlZFRvdWNoZXNbMF0pLGltYWdlOnQucGFnZVRvUGl4ZWwobixlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkpLGNsaWVudDp7eDplLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgseTplLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFl9fSkuY2FudmFzPXQucGl4ZWxUb0NhbnZhcyhuLHMuaW1hZ2UpLHU9YS5kZWZhdWx0LlRPVUNIX0VORCxnPXtldmVudDplLHZpZXdwb3J0OnQuZ2V0Vmlld3BvcnQobiksaW1hZ2U6aS5pbWFnZSxlbGVtZW50Om4sc3RhcnRQb2ludHM6cyxjdXJyZW50UG9pbnRzOnMsdHlwZTp1LGlzVG91Y2hFdmVudDohMH0sKDAsbC5kZWZhdWx0KShuLHUsZyl9LDUwKTticmVhaztjYXNlXCJwYW5tb3ZlXCI6Tz17eDplLmRlbHRhWC1fLngseTplLmRlbHRhWS1fLnl9LF89e3g6ZS5kZWx0YVgseTplLmRlbHRhWX0sKGM9e3BhZ2U6e3g6Zi5wYWdlLngrTy54LHk6Zi5wYWdlLnkrTy55fSxpbWFnZTp0LnBhZ2VUb1BpeGVsKG4sZi5wYWdlLngrTy54LGYucGFnZS55K08ueSksY2xpZW50Ont4OmYuY2xpZW50LngrTy54LHk6Zi5jbGllbnQueStPLnl9fSkuY2FudmFzPXQucGl4ZWxUb0NhbnZhcyhuLGMuaW1hZ2UpLHY9e3BhZ2U6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5zdWJ0cmFjdChjLnBhZ2UsZi5wYWdlKSxpbWFnZTpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnN1YnRyYWN0KGMuaW1hZ2UsZi5pbWFnZSksY2xpZW50Om8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuc3VidHJhY3QoYy5jbGllbnQsZi5jbGllbnQpLGNhbnZhczpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnN1YnRyYWN0KGMuY2FudmFzLGYuY2FudmFzKX0sKHArPU1hdGguc3FydCh2LnBhZ2UueCp2LnBhZ2UueCt2LnBhZ2UueSp2LnBhZ2UueSkpPngmJihNPSExLGNsZWFyVGltZW91dChoKSksdT1hLmRlZmF1bHQuVE9VQ0hfRFJBRyxlLnBvaW50ZXJzLmxlbmd0aD4xJiYodT1hLmRlZmF1bHQuTVVMVElfVE9VQ0hfRFJBRyksZz17dmlld3BvcnQ6dC5nZXRWaWV3cG9ydChuKSxpbWFnZTppLmltYWdlLGVsZW1lbnQ6bixzdGFydFBvaW50czpzLGxhc3RQb2ludHM6ZixjdXJyZW50UG9pbnRzOmMsZGVsdGFQb2ludHM6dixudW1Qb2ludGVyczplLnBvaW50ZXJzLmxlbmd0aCx0eXBlOnUsaXNUb3VjaEV2ZW50OiEwfSwoMCxsLmRlZmF1bHQpKG4sdSxnKSxmPSgwLHIuZGVmYXVsdCkoYyk7YnJlYWs7Y2FzZVwicGFuc3RhcnRcIjpfPXt4OmUuZGVsdGFYLHk6ZS5kZWx0YVl9LChjPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQucGFnZVRvUG9pbnQoZS5wb2ludGVyc1swXSksaW1hZ2U6dC5wYWdlVG9QaXhlbChuLGUucG9pbnRlcnNbMF0ucGFnZVgsZS5wb2ludGVyc1swXS5wYWdlWSksY2xpZW50Ont4OmUucG9pbnRlcnNbMF0uY2xpZW50WCx5OmUucG9pbnRlcnNbMF0uY2xpZW50WX19KS5jYW52YXM9dC5waXhlbFRvQ2FudmFzKG4sYy5pbWFnZSksZj0oMCxyLmRlZmF1bHQpKGMpO2JyZWFrO2Nhc2VcInBhbmVuZFwiOmlmKE09ITEsY2xlYXJUaW1lb3V0KGgpLCFmKXJldHVybiExOyhjPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQucGFnZVRvUG9pbnQoZS5wb2ludGVyc1swXSksaW1hZ2U6dC5wYWdlVG9QaXhlbChuLGUucG9pbnRlcnNbMF0ucGFnZVgsZS5wb2ludGVyc1swXS5wYWdlWSksY2xpZW50Ont4OmUucG9pbnRlcnNbMF0uY2xpZW50WCx5OmUucG9pbnRlcnNbMF0uY2xpZW50WX19KS5jYW52YXM9dC5waXhlbFRvQ2FudmFzKG4sYy5pbWFnZSksdj17cGFnZTpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnN1YnRyYWN0KGMucGFnZSxmLnBhZ2UpLGltYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuc3VidHJhY3QoYy5pbWFnZSxmLmltYWdlKSxjbGllbnQ6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5zdWJ0cmFjdChjLmNsaWVudCxmLmNsaWVudCksY2FudmFzOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuc3VidHJhY3QoYy5jYW52YXMsZi5jYW52YXMpfSx1PWEuZGVmYXVsdC5UT1VDSF9EUkFHX0VORCxnPXtldmVudDplLnNyY0V2ZW50LHZpZXdwb3J0OnQuZ2V0Vmlld3BvcnQobiksaW1hZ2U6aS5pbWFnZSxlbGVtZW50Om4sc3RhcnRQb2ludHM6cyxsYXN0UG9pbnRzOmYsY3VycmVudFBvaW50czpjLGRlbHRhUG9pbnRzOnYsdHlwZTp1LGlzVG91Y2hFdmVudDohMH0sKDAsbC5kZWZhdWx0KShuLHUsZyksMj09PWUucG9pbnRlcnMubGVuZ3RoLWUuY2hhbmdlZFBvaW50ZXJzLmxlbmd0aCYmKHk9ITApO2JyZWFrO2Nhc2VcInJvdGF0ZW1vdmVcIjpNPSExLGNsZWFyVGltZW91dChoKSxiPWUucm90YXRpb24tVCxUPWUucm90YXRpb24sdT1hLmRlZmF1bHQuVE9VQ0hfUk9UQVRFLGc9e2V2ZW50OmUuc3JjRXZlbnQsdmlld3BvcnQ6dC5nZXRWaWV3cG9ydChuKSxpbWFnZTppLmltYWdlLGVsZW1lbnQ6bixyb3RhdGlvbjpiLHR5cGU6dX0sKDAsbC5kZWZhdWx0KShuLHUsZyl9cmV0dXJuITF9fWZ1bmN0aW9uIEMoZSl7aS5kZWZhdWx0LmRpc2FibGUoZSk7W1widG91Y2hzdGFydFwiLFwidG91Y2hlbmRcIl0uZm9yRWFjaChmdW5jdGlvbih0KXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxiKX0pO3ZhciB0PSgwLHUuZ2V0VG9vbE9wdGlvbnMpKE8sZSkuaGFtbWVyO3QmJnQub2ZmKFwidGFwIGRvdWJsZXRhcCBwYW5zdGFydCBwYW5tb3ZlIHBhbmVuZCBwaW5jaHN0YXJ0IHBpbmNobW92ZSByb3RhdGVtb3ZlXCIsYil9dmFyIFA9e2VuYWJsZTpmdW5jdGlvbihlKXtDKGUpO3ZhciB0PW8uZGVmYXVsdC5IYW1tZXIsbj17aW5wdXRDbGFzczp0LlNVUFBPUlRfUE9JTlRFUl9FVkVOVFM/dC5Qb2ludGVyRXZlbnRJbnB1dDp0LlRvdWNoSW5wdXR9LGE9bmV3IHQuTWFuYWdlcihlLG4pLHI9e3BvaW50ZXJzOjAsZGlyZWN0aW9uOnQuRElSRUNUSU9OX0FMTCx0aHJlc2hvbGQ6MH0sbD1uZXcgdC5QYW4ociksZD1uZXcgdC5QaW5jaCh7dGhyZXNob2xkOjB9KSxzPW5ldyB0LlJvdGF0ZSh7dGhyZXNob2xkOjB9KTtkLnJlY29nbml6ZVdpdGgobCksZC5yZWNvZ25pemVXaXRoKHMpLHMucmVjb2duaXplV2l0aChsKTt2YXIgYz1uZXcgdC5UYXAoe2V2ZW50OlwiZG91YmxldGFwXCIsdGFwczoyLGludGVydmFsOjE1MDAsdGhyZXNob2xkOjUwLHBvc1RocmVzaG9sZDo1MH0pO2MucmVjb2duaXplV2l0aChsKSxhLmFkZChbYyxsLHMsZF0pLGEub24oXCJ0YXAgZG91YmxldGFwIHBhbnN0YXJ0IHBhbm1vdmUgcGFuZW5kIHBpbmNoc3RhcnQgcGluY2htb3ZlIHJvdGF0ZW1vdmVcIixiKSxpLmRlZmF1bHQuZW5hYmxlKGUpLFtcInRvdWNoc3RhcnRcIixcInRvdWNoZW5kXCJdLmZvckVhY2goZnVuY3Rpb24odCl7ZS5hZGRFdmVudExpc3RlbmVyKHQsYil9KTt2YXIgZj0oMCx1LmdldFRvb2xPcHRpb25zKShPLGUpO2YuaGFtbWVyPWEsKDAsdS5zZXRUb29sT3B0aW9ucykoTyxlLGYpfSxkaXNhYmxlOkN9O3QuZGVmYXVsdD1QfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aShuKDEpKSxvPWkobigwKSkscj1pKG4oNikpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGwoZSl7dmFyIHQ9by5kZWZhdWx0LmNvcm5lcnN0b25lLG49ZS5jdXJyZW50VGFyZ2V0LGk9dC5nZXRFbmFibGVkRWxlbWVudChuKTtpZihpLmltYWdlJiYhKFwibW91c2V3aGVlbFwiPT09ZS50eXBlJiYwPT09ZS53aGVlbERlbHRhWXx8XCJET01Nb3VzZVNjcm9sbFwiPT09ZS50eXBlJiYxPT09ZS5heGlzKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBsPXZvaWQgMCx1PXZvaWQgMDt2b2lkIDAhPT1lLnBhZ2VYJiZ2b2lkIDAhPT1lLnBhZ2VZPyhsPWUucGFnZVgsdT1lLnBhZ2VZKToobD1lLngsdT1lLnkpO3ZhciBkPXQucGFnZVRvUGl4ZWwobixsLHUpLHM9KChlPXdpbmRvdy5ldmVudCYmd2luZG93LmV2ZW50LndoZWVsRGVsdGE/d2luZG93LmV2ZW50OmUpLndoZWVsRGVsdGE/ZS53aGVlbERlbHRhOmUuZGVsdGFZPy1lLmRlbHRhWTplLmRldGFpbD8tZS5kZXRhaWw6ZS53aGVlbERlbHRhKTwwPy0xOjEsYz17ZWxlbWVudDpuLHZpZXdwb3J0OnQuZ2V0Vmlld3BvcnQobiksaW1hZ2U6aS5pbWFnZSxkaXJlY3Rpb246cyxwYWdlWDpsLHBhZ2VZOnUsaW1hZ2VYOmQueCxpbWFnZVk6ZC55fTsoMCxyLmRlZmF1bHQpKG4sYS5kZWZhdWx0Lk1PVVNFX1dIRUVMLGMpfX12YXIgdT1bXCJtb3VzZXdoZWVsXCIsXCJET01Nb3VzZVNjcm9sbFwiXTtmdW5jdGlvbiBkKGUpe3UuZm9yRWFjaChmdW5jdGlvbih0KXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxsKX0pfXZhciBzPXtlbmFibGU6ZnVuY3Rpb24oZSl7ZChlKSx1LmZvckVhY2goZnVuY3Rpb24odCl7ZS5hZGRFdmVudExpc3RlbmVyKHQsbCl9KX0sZGlzYWJsZTpkfTt0LmRlZmF1bHQ9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWwobigxKSksbz1sKG4oMCkpLHI9bChuKDQwKSksaT1sKG4oNikpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB1PSEwLGQ9dm9pZCAwLHM9MjAwO2Z1bmN0aW9uIGMoZSl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGUuYnV0dG9ucz9lLndoaWNoOjA9PT1lLmJ1dHRvbnM/MDplLmJ1dHRvbnMlMj09MT8xOmUuYnV0dG9ucyU0PT0yPzM6ZS5idXR0b25zJTg9PTQ/MjowfWZ1bmN0aW9uIGYoKXt1PSExfWZ1bmN0aW9uIHYoZSl7dmFyIHQ9by5kZWZhdWx0LmNvcm5lcnN0b25lLG49ZS5jdXJyZW50VGFyZ2V0LGw9dC5nZXRFbmFibGVkRWxlbWVudChuKTtpZihsLmltYWdlKXt2YXIgdT1hLmRlZmF1bHQuTU9VU0VfRE9VQkxFX0NMSUNLLGQ9e3BhZ2U6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5wYWdlVG9Qb2ludChlKSxpbWFnZTp0LnBhZ2VUb1BpeGVsKG4sZS5wYWdlWCxlLnBhZ2VZKSxjbGllbnQ6e3g6ZS5jbGllbnRYLHk6ZS5jbGllbnRZfX07ZC5jYW52YXM9dC5waXhlbFRvQ2FudmFzKG4sZC5pbWFnZSk7dmFyIHM9KDAsci5kZWZhdWx0KShkKSxjPXtldmVudDplLHdoaWNoOmUud2hpY2gsdmlld3BvcnQ6dC5nZXRWaWV3cG9ydChuKSxpbWFnZTpsLmltYWdlLGVsZW1lbnQ6bixzdGFydFBvaW50czpkLGxhc3RQb2ludHM6cyxjdXJyZW50UG9pbnRzOmQsZGVsdGFQb2ludHM6e3g6MCx5OjB9LHR5cGU6dX07KDAsaS5kZWZhdWx0KShuLHUsYyl9fWZ1bmN0aW9uIGcoZSl7dmFyIHQ9by5kZWZhdWx0LmNvcm5lcnN0b25lLG49ZS5jdXJyZW50VGFyZ2V0LGw9dC5nZXRFbmFibGVkRWxlbWVudChuKTtpZihsLmltYWdlKXtkPXNldFRpbWVvdXQoZixzKTt2YXIgdj1hLmRlZmF1bHQuTU9VU0VfRE9XTjtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixtKTt2YXIgZz17cGFnZTpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnBhZ2VUb1BvaW50KGUpLGltYWdlOnQucGFnZVRvUGl4ZWwobixlLnBhZ2VYLGUucGFnZVkpLGNsaWVudDp7eDplLmNsaWVudFgseTplLmNsaWVudFl9fTtnLmNhbnZhcz10LnBpeGVsVG9DYW52YXMobixnLmltYWdlKTt2YXIgaD0oMCxyLmRlZmF1bHQpKGcpLHA9e2V2ZW50OmUsd2hpY2g6YyhlKSx2aWV3cG9ydDp0LmdldFZpZXdwb3J0KG4pLGltYWdlOmwuaW1hZ2UsZWxlbWVudDpuLHN0YXJ0UG9pbnRzOmcsbGFzdFBvaW50czpoLGN1cnJlbnRQb2ludHM6ZyxkZWx0YVBvaW50czp7eDowLHk6MH0sdHlwZTp2fTsoMCxpLmRlZmF1bHQpKHAuZWxlbWVudCx2LHApJiYocC50eXBlPWEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLCgwLGkuZGVmYXVsdCkocC5lbGVtZW50LGEuZGVmYXVsdC5NT1VTRV9ET1dOX0FDVElWQVRFLHApKTt2YXIgRT1jKGUpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixUKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGZ1bmN0aW9uIGUocil7Y2xlYXJUaW1lb3V0KGQpO3ZhciBzPWEuZGVmYXVsdC5NT1VTRV9VUDt1JiYocz1hLmRlZmF1bHQuTU9VU0VfQ0xJQ0spO3ZhciBjPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQucGFnZVRvUG9pbnQociksaW1hZ2U6dC5wYWdlVG9QaXhlbChuLHIucGFnZVgsci5wYWdlWSksY2xpZW50Ont4OnIuY2xpZW50WCx5OnIuY2xpZW50WX19O2MuY2FudmFzPXQucGl4ZWxUb0NhbnZhcyhuLGMuaW1hZ2UpO3ZhciBmPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuc3VidHJhY3QoYy5wYWdlLGgucGFnZSksaW1hZ2U6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5zdWJ0cmFjdChjLmltYWdlLGguaW1hZ2UpLGNsaWVudDpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnN1YnRyYWN0KGMuY2xpZW50LGguY2xpZW50KSxjYW52YXM6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5zdWJ0cmFjdChjLmNhbnZhcyxoLmNhbnZhcyl9LHY9e2V2ZW50OnIsd2hpY2g6RSx2aWV3cG9ydDp0LmdldFZpZXdwb3J0KG4pLGltYWdlOmwuaW1hZ2UsZWxlbWVudDpuLHN0YXJ0UG9pbnRzOmcsbGFzdFBvaW50czpoLGN1cnJlbnRQb2ludHM6YyxkZWx0YVBvaW50czpmLHR5cGU6c307KDAsaS5kZWZhdWx0KSh2LmVsZW1lbnQscyx2KSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsVCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixlKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixtKSx1PSEwfSl9ZnVuY3Rpb24gVChlKXt2YXIgdT1hLmRlZmF1bHQuTU9VU0VfRFJBRyxkPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQucGFnZVRvUG9pbnQoZSksaW1hZ2U6dC5wYWdlVG9QaXhlbChuLGUucGFnZVgsZS5wYWdlWSksY2xpZW50Ont4OmUuY2xpZW50WCx5OmUuY2xpZW50WX19O2QuY2FudmFzPXQucGl4ZWxUb0NhbnZhcyhuLGQuaW1hZ2UpO3ZhciBzPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuc3VidHJhY3QoZC5wYWdlLGgucGFnZSksaW1hZ2U6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5zdWJ0cmFjdChkLmltYWdlLGguaW1hZ2UpLGNsaWVudDpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnN1YnRyYWN0KGQuY2xpZW50LGguY2xpZW50KSxjYW52YXM6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5zdWJ0cmFjdChkLmNhbnZhcyxoLmNhbnZhcyl9LGM9e3doaWNoOkUsdmlld3BvcnQ6dC5nZXRWaWV3cG9ydChuKSxpbWFnZTpsLmltYWdlLGVsZW1lbnQ6bixzdGFydFBvaW50czpnLGxhc3RQb2ludHM6aCxjdXJyZW50UG9pbnRzOmQsZGVsdGFQb2ludHM6cyx0eXBlOnUsY3RybEtleTplLmN0cmxLZXksbWV0YUtleTplLm1ldGFLZXksc2hpZnRLZXk6ZS5zaGlmdEtleX07KDAsaS5kZWZhdWx0KShjLmVsZW1lbnQsdSxjKSxoPSgwLHIuZGVmYXVsdCkoZCl9fWZ1bmN0aW9uIG0oZSl7dmFyIHQ9by5kZWZhdWx0LmNvcm5lcnN0b25lLG49ZS5jdXJyZW50VGFyZ2V0LGw9dC5nZXRFbmFibGVkRWxlbWVudChuKTtpZihsLmltYWdlKXt2YXIgdT1hLmRlZmF1bHQuTU9VU0VfTU9WRSxkPXtwYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQucGFnZVRvUG9pbnQoZSksaW1hZ2U6dC5wYWdlVG9QaXhlbChuLGUucGFnZVgsZS5wYWdlWSksY2xpZW50Ont4OmUuY2xpZW50WCx5OmUuY2xpZW50WX19O2QuY2FudmFzPXQucGl4ZWxUb0NhbnZhcyhuLGQuaW1hZ2UpO3ZhciBzPSgwLHIuZGVmYXVsdCkoZCksYz17cGFnZTpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnBhZ2VUb1BvaW50KGUpLGltYWdlOnQucGFnZVRvUGl4ZWwobixlLnBhZ2VYLGUucGFnZVkpLGNsaWVudDp7eDplLmNsaWVudFgseTplLmNsaWVudFl9fTtjLmNhbnZhcz10LnBpeGVsVG9DYW52YXMobixjLmltYWdlKTt2YXIgZj17cGFnZTpvLmRlZmF1bHQuY29ybmVyc3RvbmVNYXRoLnBvaW50LnN1YnRyYWN0KGMucGFnZSxzLnBhZ2UpLGltYWdlOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuc3VidHJhY3QoYy5pbWFnZSxzLmltYWdlKSxjbGllbnQ6by5kZWZhdWx0LmNvcm5lcnN0b25lTWF0aC5wb2ludC5zdWJ0cmFjdChjLmNsaWVudCxzLmNsaWVudCksY2FudmFzOm8uZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGgucG9pbnQuc3VidHJhY3QoYy5jYW52YXMscy5jYW52YXMpfSx2PXt2aWV3cG9ydDp0LmdldFZpZXdwb3J0KG4pLGltYWdlOmwuaW1hZ2UsZWxlbWVudDpuLHN0YXJ0UG9pbnRzOmQsbGFzdFBvaW50czpzLGN1cnJlbnRQb2ludHM6YyxkZWx0YVBvaW50czpmLHR5cGU6dX07KDAsaS5kZWZhdWx0KShuLHUsdikscz0oMCxyLmRlZmF1bHQpKGMpfX1mdW5jdGlvbiBoKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGcpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLG0pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsdil9dmFyIHA9e2VuYWJsZTpmdW5jdGlvbihlKXtoKGUpLGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGcpLGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLG0pLGUuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsdil9LGRpc2FibGU6aH07dC5kZWZhdWx0PXB9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKG4oMSkpLG89aShuKDApKSxyPWkobig2KSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGw9dm9pZCAwLHU9dm9pZCAwO2Z1bmN0aW9uIGQoZSl7dmFyIHQ9by5kZWZhdWx0LmNvcm5lcnN0b25lLG49ZS5jdXJyZW50VGFyZ2V0LGk9dC5nZXRFbmFibGVkRWxlbWVudChuKTtpZihpLmltYWdlKXt2YXIgZD17ZXZlbnQ6d2luZG93LmV2ZW50fHxlLGVsZW1lbnQ6bix2aWV3cG9ydDp0LmdldFZpZXdwb3J0KG4pLGltYWdlOmkuaW1hZ2UsY3VycmVudFBvaW50czp7cGFnZTp7eDpsLHk6dX0saW1hZ2U6dC5wYWdlVG9QaXhlbChuLGwsdSl9LGtleUNvZGU6ZS5rZXlDb2RlLHdoaWNoOmUud2hpY2h9O2QuY3VycmVudFBvaW50cy5jYW52YXM9dC5waXhlbFRvQ2FudmFzKG4sZC5jdXJyZW50UG9pbnRzLmltYWdlKTt2YXIgcz17a2V5ZG93bjphLmRlZmF1bHQuS0VZX0RPV04sa2V5cHJlc3M6YS5kZWZhdWx0LktFWV9QUkVTUyxrZXl1cDphLmRlZmF1bHQuS0VZX1VQfTsoMCxyLmRlZmF1bHQpKG4sc1tlLnR5cGVdLGQpfX1mdW5jdGlvbiBzKGUpe2w9ZS5wYWdlWCx1PWUucGFnZVl9dmFyIGM9W1wia2V5ZG93blwiLFwia2V5cHJlc3NcIixcImtleXVwXCJdO3ZhciBmPXtlbmFibGU6ZnVuY3Rpb24oZSl7Yy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGQpLGUuYWRkRXZlbnRMaXN0ZW5lcih0LGQpfSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIscyksZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIscyl9LGRpc2FibGU6ZnVuY3Rpb24oZSl7Yy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGQpfSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIscyl9fTt0LmRlZmF1bHQ9Zn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuc3RvcENsaXA9dC5wbGF5Q2xpcD12b2lkIDA7dmFyIGE9dShuKDEpKSxvPXUobigwKSkscj11KG4oMTMpKSxpPW4oMiksbD11KG4oNikpO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBkPVwicGxheUNsaXBcIjtmdW5jdGlvbiBzKGUpe3ZhciB0PWUuaW50ZXJ2YWxJZDt2b2lkIDAhPT10JiYoZS5pbnRlcnZhbElkPXZvaWQgMCxlLnVzaW5nRnJhbWVUaW1lVmVjdG9yP2NsZWFyVGltZW91dCh0KTpjbGVhckludGVydmFsKHQpKX10LnBsYXlDbGlwPWZ1bmN0aW9uKGUsdCl7dmFyIG49dm9pZCAwLHU9dm9pZCAwO2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwicGxheUNsaXA6IGVsZW1lbnQgbXVzdCBub3QgYmUgdW5kZWZpbmVkXCIpO3ZhciBjPSgwLGkuZ2V0VG9vbFN0YXRlKShlLFwic3RhY2tcIik7aWYoYyYmYy5kYXRhJiZjLmRhdGEubGVuZ3RoKXt2YXIgZj1vLmRlZmF1bHQuY29ybmVyc3RvbmUsdj12b2lkIDA7aWYoYy5kYXRhLmxlbmd0aD4xKXt2YXIgZz0oMCxpLmdldFRvb2xTdGF0ZSkoZSxcInN0YWNrUmVuZGVyZXJcIik7ZyYmZy5kYXRhJiZnLmRhdGEubGVuZ3RoJiYodj1nLmRhdGFbMF0pfXZhciBtPWMuZGF0YVswXSxoPSgwLGkuZ2V0VG9vbFN0YXRlKShlLGQpO2gmJmguZGF0YSYmaC5kYXRhLmxlbmd0aD9zKG49aC5kYXRhWzBdKToobj17aW50ZXJ2YWxJZDp2b2lkIDAsZnJhbWVzUGVyU2Vjb25kOjMwLGxhc3RGcmFtZVRpbWVTdGFtcDp2b2lkIDAsZnJhbWVSYXRlOjAsZnJhbWVUaW1lVmVjdG9yOnZvaWQgMCxpZ25vcmVGcmFtZVRpbWVWZWN0b3I6ITEsdXNpbmdGcmFtZVRpbWVWZWN0b3I6ITEsc3BlZWQ6MSxyZXZlcnNlOiExLGxvb3A6ITB9LCgwLGkuYWRkVG9vbFN0YXRlKShlLGQsbikpLCh0PDB8fHQ+MCkmJihuLmZyYW1lc1BlclNlY29uZD1OdW1iZXIodCksbi5yZXZlcnNlPW4uZnJhbWVzUGVyU2Vjb25kPDAsbi5pZ25vcmVGcmFtZVRpbWVWZWN0b3I9ITApLCEwIT09bi5pZ25vcmVGcmFtZVRpbWVWZWN0b3ImJm4uZnJhbWVUaW1lVmVjdG9yJiZuLmZyYW1lVGltZVZlY3Rvci5sZW5ndGg9PT1tLmltYWdlSWRzLmxlbmd0aCYmKHU9ZnVuY3Rpb24oZSx0KXt2YXIgbj12b2lkIDAsYT12b2lkIDAsbz12b2lkIDAscj0wLGk9ZS5sZW5ndGgsbD1bXTtmb3IobC5pc1RpbWVWYXJ5aW5nPSExLChcIm51bWJlclwiIT10eXBlb2YgdHx8dDw9MCkmJih0PTEpLG49MTtuPGk7bisrKW89TnVtYmVyKGVbbl0pL3R8MCxsLnB1c2gobyksMT09PW4/YT1vOm8hPT1hJiYobC5pc1RpbWVWYXJ5aW5nPSEwKSxyKz1vO3JldHVybiBsLmxlbmd0aD4wJiYobz1sLmlzVGltZVZhcnlpbmc/ci9sLmxlbmd0aHwwOmxbMF0sbC5wdXNoKG8pKSxsfShuLmZyYW1lVGltZVZlY3RvcixuLnNwZWVkKSk7dmFyIHA9ZnVuY3Rpb24oKXt2YXIgdD12b2lkIDAsbz12b2lkIDAsaT12b2lkIDAsdT1tLmN1cnJlbnRJbWFnZUlkSW5kZXgsZD1tLmltYWdlSWRzLmxlbmd0aDtpZihuLnJldmVyc2U/dS0tOnUrKywhbi5sb29wJiYodTwwfHx1Pj1kKSlyZXR1cm4gcyhuKSx2b2lkIGZ1bmN0aW9uKGUpe3ZhciB0PXtlbGVtZW50OmV9OygwLGwuZGVmYXVsdCkoZSxhLmRlZmF1bHQuQ0xJUF9TVE9QUEVELHQpfShlKTt1Pj1kJiYodT0wKSx1PDAmJih1PWQtMSksdSE9PW0uY3VycmVudEltYWdlSWRJbmRleCYmKHQ9ci5kZWZhdWx0LmdldFN0YXJ0TG9hZEhhbmRsZXIoKSxvPXIuZGVmYXVsdC5nZXRFbmRMb2FkSGFuZGxlcigpLGk9ci5kZWZhdWx0LmdldEVycm9yTG9hZGluZ0hhbmRsZXIoKSx0JiZ0KGUpLCghMD09PW0ucHJldmVudENhY2hlP2YubG9hZEltYWdlKG0uaW1hZ2VJZHNbdV0pOmYubG9hZEFuZENhY2hlSW1hZ2UobS5pbWFnZUlkc1t1XSkpLnRoZW4oZnVuY3Rpb24odCl7dHJ5e20uY3VycmVudEltYWdlSWRJbmRleD11LHY/KHYuY3VycmVudEltYWdlSWRJbmRleD11LHYucmVuZGVyKGUsYy5kYXRhKSk6Zi5kaXNwbGF5SW1hZ2UoZSx0KSxvJiZvKGUsdCl9Y2F0Y2goZSl7cmV0dXJufX0sZnVuY3Rpb24odCl7dmFyIG49bS5pbWFnZUlkc1t1XTtpJiZpKGUsbix0KX0pKX07dSYmdS5sZW5ndGg+MCYmdS5pc1RpbWVWYXJ5aW5nPyhuLnVzaW5nRnJhbWVUaW1lVmVjdG9yPSEwLG4uaW50ZXJ2YWxJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uIGUoKXtuLmludGVydmFsSWQ9c2V0VGltZW91dChlLHVbbS5jdXJyZW50SW1hZ2VJZEluZGV4XSkscCgpfSwwKSk6KG4udXNpbmdGcmFtZVRpbWVWZWN0b3I9ITEsbi5pbnRlcnZhbElkPXNldEludGVydmFsKHAsMWUzL01hdGguYWJzKG4uZnJhbWVzUGVyU2Vjb25kKSkpfX0sdC5zdG9wQ2xpcD1mdW5jdGlvbihlKXt2YXIgdD0oMCxpLmdldFRvb2xTdGF0ZSkoZSxkKTt0JiZ0LmRhdGEmJnQuZGF0YS5sZW5ndGgmJnModC5kYXRhWzBdKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgYT10W25dO2EuZW51bWVyYWJsZT1hLmVudW1lcmFibGV8fCExLGEuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGEmJihhLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxhLmtleSxhKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxhJiZlKHQsYSksdH19KCkscj1uKDApLGk9KGE9cikmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9LGw9bigyKTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuY3VycmVudEltYWdlSWRJbmRleD0wLHRoaXMubGF5ZXJJZHM9W10sdGhpcy5maW5kSW1hZ2VGbj12b2lkIDB9cmV0dXJuIG8oZSxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZighTnVtYmVyLmlzSW50ZWdlcih0aGlzLmN1cnJlbnRJbWFnZUlkSW5kZXgpKXRocm93IG5ldyBFcnJvcihcIkZ1c2lvblJlbmRlcmVyOiByZW5kZXIgLSBJbWFnZSBJRCBJbmRleCBpcyBub3QgYW4gaW50ZWdlclwiKTtpZighdGhpcy5maW5kSW1hZ2VGbil0aHJvdyBuZXcgRXJyb3IoXCJObyBmaW5kSW1hZ2UgZnVuY3Rpb24gaGFzIGJlZW4gZGVmaW5lZFwiKTt0fHwodD0oMCxsLmdldFRvb2xTdGF0ZSkoZSxcInN0YWNrXCIpLmRhdGEpO3ZhciBhPWkuZGVmYXVsdC5jb3JuZXJzdG9uZSxvPXRbMF0scj1vLmltYWdlSWRzW3RoaXMuY3VycmVudEltYWdlSWRJbmRleF0sdT10LnNsaWNlKDEsdC5sZW5ndGgpO2EubG9hZEFuZENhY2hlSW1hZ2UocikudGhlbihmdW5jdGlvbih0KXt2YXIgaT1uLmxheWVySWRzWzBdO2k/YS5zZXRMYXllckltYWdlKGUsdCxpKTooaT1hLmFkZExheWVyKGUsdCxvLm9wdGlvbnMpLG4ubGF5ZXJJZHMucHVzaChpKSksYS5kaXNwbGF5SW1hZ2UoZSx0KSx1LmZvckVhY2goZnVuY3Rpb24odCxvKXt2YXIgbD1uLmZpbmRJbWFnZUZuKHQuaW1hZ2VJZHMsciksdT1vKzEsZD1uLmxheWVySWRzW3VdO2R8fChkPWEuYWRkTGF5ZXIoZSx2b2lkIDAsdC5vcHRpb25zKSxuLmxheWVySWRzLnB1c2goZCkpLGw/YS5sb2FkQW5kQ2FjaGVJbWFnZShsKS50aGVuKGZ1bmN0aW9uKHQpe2Euc2V0TGF5ZXJJbWFnZShlLHQsZCksYS51cGRhdGVJbWFnZShlKX0pOihhLnNldExheWVySW1hZ2UoZSx2b2lkIDAsZCksYS5zZXRBY3RpdmVMYXllcihlLGkpLGEudXBkYXRlSW1hZ2UoZSkpfSl9KX19XSksZX0oKTt0LmRlZmF1bHQ9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhLG89bigxMTQpLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9O3ZhciBpPXt9O2kuRnVzaW9uUmVuZGVyZXI9ci5kZWZhdWx0LHQuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGEsbz1uKDI0KSxyPShhPW8pJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfSxpPW4oMiksbD1uKDMpO3ZhciB1PTY7dmFyIGQ9KDAsci5kZWZhdWx0KShmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxhPXQuZW5hYmxlZEVsZW1lbnQuY2FudmFzLndpZHRoLG89dC5lbmFibGVkRWxlbWVudC5jYW52YXMuaGVpZ2h0O2lmKCFhfHwhbylyZXR1cm4hMTt2YXIgcj0oMCxsLmdldE5ld0NvbnRleHQpKHQuZW5hYmxlZEVsZW1lbnQuY2FudmFzKTsoMCxsLmRyYXcpKHIsZnVuY3Rpb24oZSl7dmFyIHQ9ZC5nZXRDb25maWd1cmF0aW9uKCkscj12b2lkIDA7cj1cImhvcml6b250YWxcIj09PXQub3JpZW50YXRpb24/e2xlZnQ6MCx0b3A6by11LHdpZHRoOmEsaGVpZ2h0OnV9OntsZWZ0OjAsdG9wOjAsd2lkdGg6dSxoZWlnaHQ6b30sKDAsbC5maWxsQm94KShlLHIsdC5iYWNrZ3JvdW5kQ29sb3IpO3ZhciBzPSgwLGkuZ2V0VG9vbFN0YXRlKShuLFwic3RhY2tcIik7aWYocyYmcy5kYXRhJiZzLmRhdGEubGVuZ3RoKXt2YXIgYz1zLmRhdGFbMF0uaW1hZ2VJZHMsZj1zLmRhdGFbMF0uY3VycmVudEltYWdlSWRJbmRleCx2PWEvYy5sZW5ndGgsZz1vL2MubGVuZ3RoLG09dipmLGg9ZypmO3I9XCJob3Jpem9udGFsXCI9PT10Lm9yaWVudGF0aW9uP3tsZWZ0Om0sdG9wOm8tdSx3aWR0aDp2LGhlaWdodDp1fTp7bGVmdDowLHRvcDpoLHdpZHRoOnUsaGVpZ2h0Omd9LCgwLGwuZmlsbEJveCkoZSxyLHQuZmlsbENvbG9yKX19KX0pO2Quc2V0Q29uZmlndXJhdGlvbih7YmFja2dyb3VuZENvbG9yOlwicmdiKDE5LCA2MywgMTQxKVwiLGZpbGxDb2xvcjpcIndoaXRlXCIsb3JpZW50YXRpb246XCJob3Jpem9udGFsXCJ9KSx0LmRlZmF1bHQ9ZH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPXUobigwKSksbz11KG4oNDUpKSxyPXUobigxMykpLGk9bigyKSxsPW4oMzMpO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBkPVwic3RhY2tQcmVmZXRjaFwiLHM9XCJwcmVmZXRjaFwiLGM9e21heEltYWdlc1RvUHJlZmV0Y2g6MS8wLHByZXNlcnZlRXhpc3RpbmdQb29sOiExfSxmPXZvaWQgMCx2PTEwO3ZhciBnPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heC5hcHBseShudWxsLGUpfSxtPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1pbi5hcHBseShudWxsLGUpfTtmdW5jdGlvbiBoKGUpe3ZhciB0PSgwLGkuZ2V0VG9vbFN0YXRlKShlLFwic3RhY2tcIik7aWYodCYmdC5kYXRhJiZ0LmRhdGEubGVuZ3RoKXt2YXIgbj10LmRhdGFbMF0sbD0oMCxpLmdldFRvb2xTdGF0ZSkoZSxkKTtpZihsKXt2YXIgdT1sLmRhdGFbMF18fHt9O2lmKHUuaW5kaWNlc1RvUmVxdWVzdCYmdS5pbmRpY2VzVG9SZXF1ZXN0Lmxlbmd0aHx8KHUuZW5hYmxlZD0hMSksITEhPT11LmVuYWJsZWQpaWYobC5kYXRhWzBdLmluZGljZXNUb1JlcXVlc3Quc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLXR9KSx1LmluZGljZXNUb1JlcXVlc3Quc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW4uaW1hZ2VJZHNbZV07dCYmKGEuZGVmYXVsdC5jb3JuZXJzdG9uZS5pbWFnZUNhY2hlLmdldEltYWdlTG9hZE9iamVjdCh0KSYmUihlKSl9KSx1LmluZGljZXNUb1JlcXVlc3QubGVuZ3RoKXtjLnByZXNlcnZlRXhpc3RpbmdQb29sfHxvLmRlZmF1bHQuY2xlYXJSZXF1ZXN0U3RhY2socyk7Zm9yKHZhciBmLHYsaCxwLEU9KGY9dS5pbmRpY2VzVG9SZXF1ZXN0LHY9bi5jdXJyZW50SW1hZ2VJZEluZGV4LGg9W10scD1bXSxmLmZvckVhY2goZnVuY3Rpb24oZSl7ZTx2P2gucHVzaChlKTplPnYmJnAucHVzaChlKX0pLHtsb3c6Zi5pbmRleE9mKGcoaCkpLGhpZ2g6Zi5pbmRleE9mKG0ocCkpfSksVD12b2lkIDAseT12b2lkIDAsTT1yLmRlZmF1bHQuZ2V0RXJyb3JMb2FkaW5nSGFuZGxlcigpLF89RS5sb3csUz1FLmhpZ2gseD1bXTtfPj0wfHxTPHUuaW5kaWNlc1RvUmVxdWVzdC5sZW5ndGg7KXt2YXIgTz1uLmN1cnJlbnRJbWFnZUlkSW5kZXgsYj1PLXUuaW5kaWNlc1RvUmVxdWVzdFtfXT5jLm1heEltYWdlc1RvUHJlZmV0Y2gsQz11LmluZGljZXNUb1JlcXVlc3RbU10tTz5jLm1heEltYWdlc1RvUHJlZmV0Y2gsUD0hYiYmXz49MCxJPSFDJiZTPHUuaW5kaWNlc1RvUmVxdWVzdC5sZW5ndGg7aWYoIUkmJiFQKWJyZWFrO1AmJih5PXUuaW5kaWNlc1RvUmVxdWVzdFtfLS1dLFQ9bi5pbWFnZUlkc1t5XSx4LnB1c2goVCkpLEkmJih5PXUuaW5kaWNlc1RvUmVxdWVzdFtTKytdLFQ9bi5pbWFnZUlkc1t5XSx4LnB1c2goVCkpfXZhciBMPSEwLHc9ITEsRD12b2lkIDA7dHJ5e2Zvcih2YXIgVSxBPXgucmV2ZXJzZSgpW1N5bWJvbC5pdGVyYXRvcl0oKTshKEw9KFU9QS5uZXh0KCkpLmRvbmUpO0w9ITApe3ZhciBrPVUudmFsdWU7by5kZWZhdWx0LmFkZFJlcXVlc3QoZSxrLHMsITEsTixILCEwKX19Y2F0Y2goZSl7dz0hMCxEPWV9ZmluYWxseXt0cnl7IUwmJkEucmV0dXJuJiZBLnJldHVybigpfWZpbmFsbHl7aWYodyl0aHJvdyBEfX1vLmRlZmF1bHQuc3RhcnRHcmFiYmluZygpfX19ZnVuY3Rpb24gUihlKXt2YXIgdD11LmluZGljZXNUb1JlcXVlc3QuaW5kZXhPZihlKTt0Pi0xJiZ1LmluZGljZXNUb1JlcXVlc3Quc3BsaWNlKHQsMSl9ZnVuY3Rpb24gTihlKXtSKG4uaW1hZ2VJZHMuaW5kZXhPZihlLmltYWdlSWQpKX1mdW5jdGlvbiBIKHQpe2NvbnNvbGUubG9nKFwicHJlZmV0Y2ggZXJyb3JlZDogXCIrdCksTSYmTShlLFQsdCxcInN0YWNrUHJlZmV0Y2hcIil9fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQuZGV0YWlsLGE9dm9pZCAwO3RyeXthPSgwLGkuZ2V0VG9vbFN0YXRlKShlLFwic3RhY2tcIil9Y2F0Y2goZSl7cmV0dXJufWlmKGEmJmEuZGF0YSYmYS5kYXRhLmxlbmd0aCl7dmFyIG89YS5kYXRhWzBdLmltYWdlSWRzLmluZGV4T2Yobi5pbWFnZUlkKTtpZighKG88MCkpe3ZhciByPSgwLGkuZ2V0VG9vbFN0YXRlKShlLGQpO3ImJnIuZGF0YSYmci5kYXRhLmxlbmd0aCYmci5kYXRhWzBdLmluZGljZXNUb1JlcXVlc3QucHVzaChvKX19fX1mdW5jdGlvbiBFKGUpe2NsZWFyVGltZW91dChmKSxmPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdD1lLnRhcmdldDt0cnl7aCh0KX1jYXRjaChlKXtyZXR1cm59fSx2KX12YXIgVD17ZW5hYmxlOmZ1bmN0aW9uKGUpeygwLGkuZ2V0VG9vbFN0YXRlKShlLGQpLmRhdGE9W107dmFyIHQ9KDAsaS5nZXRUb29sU3RhdGUpKGUsXCJzdGFja1wiKTtpZih0JiZ0LmRhdGEmJnQuZGF0YS5sZW5ndGgpe3ZhciBuPXQuZGF0YVswXTtpZighMCE9PW4ucHJldmVudENhY2hlKXt2YXIgbz17aW5kaWNlc1RvUmVxdWVzdDpmdW5jdGlvbihlLHQpe2U9TWF0aC5yb3VuZChlKXx8MDt2YXIgbj1bXSxhPSh0PU1hdGgucm91bmQodCl8fDApLWUrMTtpZihhPD0wKXJldHVybiBuO2Zvcig7YS0tOyluW2FdPXQtLTtyZXR1cm4gbn0oMCxuLmltYWdlSWRzLmxlbmd0aC0xKSxlbmFibGVkOiEwLGRpcmVjdGlvbjoxfSxyPW8uaW5kaWNlc1RvUmVxdWVzdC5pbmRleE9mKG4uY3VycmVudEltYWdlSWRJbmRleCk7by5pbmRpY2VzVG9SZXF1ZXN0LnNwbGljZShyLDEpLCgwLGkuYWRkVG9vbFN0YXRlKShlLGQsbyksaChlKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5ORVdfSU1BR0UsRSksZS5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuTkVXX0lNQUdFLEUpO3ZhciBsPXAoZSk7YS5kZWZhdWx0LmNvcm5lcnN0b25lLmV2ZW50cy5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfQ0FDSEVfUFJPTUlTRV9SRU1PVkVELGwpLGEuZGVmYXVsdC5jb3JuZXJzdG9uZS5ldmVudHMuYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuY29ybmVyc3RvbmUuRVZFTlRTLklNQUdFX0NBQ0hFX1BST01JU0VfUkVNT1ZFRCxsKX1lbHNlIGNvbnNvbGUud2FybihcIkEgc3RhY2sgdGhhdCBzaG91bGQgbm90IGJlIGNhY2hlZCB3YXMgZ2l2ZW4gdGhlIHN0YWNrUHJlZmV0Y2hcIil9fSxkaXNhYmxlOmZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChmKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5ORVdfSU1BR0UsRSk7dmFyIHQ9cChlKTthLmRlZmF1bHQuY29ybmVyc3RvbmUuZXZlbnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9DQUNIRV9QUk9NSVNFX1JFTU9WRUQsdCk7dmFyIG49KDAsaS5nZXRUb29sU3RhdGUpKGUsZCk7biYmbi5kYXRhLmxlbmd0aCYmKG4uZGF0YVswXS5lbmFibGVkPSExLG8uZGVmYXVsdC5jbGVhclJlcXVlc3RTdGFjayhzKSl9LGdldENvbmZpZ3VyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0Q29uZmlndXJhdGlvbjpmdW5jdGlvbihlKXtjPWUsZS5tYXhTaW11bHRhbmVvdXNSZXF1ZXN0cyYmKDAsbC5zZXRNYXhTaW11bHRhbmVvdXNSZXF1ZXN0cykoZS5tYXhTaW11bHRhbmVvdXNSZXF1ZXN0cyl9fTt0LmRlZmF1bHQ9VH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuc3RhY2tTY3JvbGxNdWx0aVRvdWNoPXQuc3RhY2tTY3JvbGxUb3VjaERyYWc9dC5zdGFja1Njcm9sbFdoZWVsPXQuc3RhY2tTY3JvbGw9dm9pZCAwO3ZhciBhPWYobigxKSksbz1mKG4oMTgpKSxyPWYobigzNikpLGk9ZihuKDE2KSksbD1mKG4oMjkpKSx1PWYobig1KSksZD1mKG4oNDQpKSxzPW4oMiksYz1uKDQpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB2PVwic3RhY2tTY3JvbGxcIjtmdW5jdGlvbiBnKGUpe3ZhciB0PWUuZGV0YWlsLmVsZW1lbnQ7dC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLG0pLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsZyksdC5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxnKX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUuZGV0YWlsLG49dC5lbGVtZW50LGE9KDAscy5nZXRUb29sU3RhdGUpKG4sXCJzdGFja1wiKTtpZihhJiZhLmRhdGEmJmEuZGF0YS5sZW5ndGgpe3ZhciBvPWEuZGF0YVswXSxyPWguZ2V0Q29uZmlndXJhdGlvbigpLGk9ITA7ciYmdm9pZCAwIT09ci5hbGxvd1NraXBwaW5nJiYoaT1yLmFsbG93U2tpcHBpbmcpO3ZhciBsPU1hdGgubWF4KDIsbi5vZmZzZXRIZWlnaHQvTWF0aC5tYXgoby5pbWFnZUlkcy5sZW5ndGgsOCkpO3ImJnIuc3RhY2tTY3JvbGxTcGVlZCYmKGw9ci5zdGFja1Njcm9sbFNwZWVkKTt2YXIgdT0oMCxjLmdldFRvb2xPcHRpb25zKSh2LG4pLGY9dS5kZWx0YVl8fDA7aWYoZis9dC5kZWx0YVBvaW50cy5wYWdlLnksTWF0aC5hYnMoZik+PWwpe3ZhciBnPU1hdGgucm91bmQoZi9sKTsoMCxkLmRlZmF1bHQpKG4sZywhMSxpKSx1LmRlbHRhWT1mJWx9ZWxzZSB1LmRlbHRhWT1mOygwLGMuc2V0VG9vbE9wdGlvbnMpKHYsbix1KSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX19dmFyIGg9KDAsaS5kZWZhdWx0KShmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxvPSgwLGMuZ2V0VG9vbE9wdGlvbnMpKHYsbik7aWYoKDAsdS5kZWZhdWx0KSh0LndoaWNoLG8ubW91c2VCdXR0b25NYXNrKSlyZXR1cm4gby5kZWx0YVk9MCwoMCxjLnNldFRvb2xPcHRpb25zKSh2LG4sbyksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLG0pLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsZyksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyxnKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExfSx2KSxwPSgwLGwuZGVmYXVsdCkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj0tdC5kaXJlY3Rpb24sYT1oLmdldENvbmZpZ3VyYXRpb24oKSxvPSExLHI9ITA7YSYmKG89dm9pZCAwIT09YS5sb29wJiZhLmxvb3Ascj12b2lkIDA9PT1hLmFsbG93U2tpcHBpbmd8fGEuYWxsb3dTa2lwcGluZyksKDAsZC5kZWZhdWx0KSh0LmVsZW1lbnQsbixvLHIpfSksRT17ZXZlbnREYXRhOntkZWx0YVk6MH19LFQ9KDAsby5kZWZhdWx0KShtLFwic3RhY2tTY3JvbGxUb3VjaERyYWdcIixFKTt2YXIgeT0oMCxyLmRlZmF1bHQpKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGV0YWlsLG49eS5nZXRDb25maWd1cmF0aW9uKCk7biYmbi50ZXN0UG9pbnRlcnModCkmJm0oZSl9LEUpO3kuc2V0Q29uZmlndXJhdGlvbih7dGVzdFBvaW50ZXJzOmZ1bmN0aW9uKGUpe3JldHVybiBlLm51bVBvaW50ZXJzPj0zfX0pLHQuc3RhY2tTY3JvbGw9aCx0LnN0YWNrU2Nyb2xsV2hlZWw9cCx0LnN0YWNrU2Nyb2xsVG91Y2hEcmFnPVQsdC5zdGFja1Njcm9sbE11bHRpVG91Y2g9eX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW8obig0NCkpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciByPXtVUDozOCxET1dOOjQwfTt2YXIgaT0oMCxvKG4oNjEpKS5kZWZhdWx0KShmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbCxuPXQua2V5Q29kZTtpZihuPT09ci5VUHx8bj09PXIuRE9XTil7dmFyIG89MTtuPT09ci5ET1dOJiYobz0tMSksKDAsYS5kZWZhdWx0KSh0LmVsZW1lbnQsbyl9fSk7dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYSxvPW4oMCkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX0saT1uKDI2KSxsPW4oMik7dmFyIHU9e3NhdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9e2ltYWdlSWRUb29sU3RhdGU6aS5nbG9iYWxJbWFnZUlkU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyLnNhdmVUb29sU3RhdGUoKSxlbGVtZW50VG9vbFN0YXRlOnt9LGVsZW1lbnRWaWV3cG9ydDp7fX07cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj0oMCxsLmdldEVsZW1lbnRUb29sU3RhdGVNYW5hZ2VyKShlKTtuIT09aS5nbG9iYWxJbWFnZUlkU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyJiYodC5lbGVtZW50VG9vbFN0YXRlW2UuaWRdPW4uc2F2ZVRvb2xTdGF0ZSgpLHQuZWxlbWVudFZpZXdwb3J0W2UuaWRdPXIuZGVmYXVsdC5jb3JuZXJzdG9uZS5nZXRWaWV3cG9ydChlKSl9KSx0fSxyZXN0b3JlOmZ1bmN0aW9uKGUpe2lmKGUuaGFzT3duUHJvcGVydHkoXCJpbWFnZUlkVG9vbFN0YXRlXCIpJiZlLmhhc093blByb3BlcnR5KFwiZWxlbWVudFRvb2xTdGF0ZVwiKSYmZS5oYXNPd25Qcm9wZXJ0eShcImVsZW1lbnRWaWV3cG9ydFwiKSl7dmFyIHQ9ci5kZWZhdWx0LmNvcm5lcnN0b25lO3JldHVybiBpLmdsb2JhbEltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXIucmVzdG9yZVRvb2xTdGF0ZShlLmltYWdlSWRUb29sU3RhdGUpLE9iamVjdC5rZXlzKGUuZWxlbWVudFZpZXdwb3J0KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pO2lmKGEmJmUuZWxlbWVudFRvb2xTdGF0ZS5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIG89KDAsbC5nZXRFbGVtZW50VG9vbFN0YXRlTWFuYWdlcikoYSk7aWYobyE9PWkuZ2xvYmFsSW1hZ2VJZFNwZWNpZmljVG9vbFN0YXRlTWFuYWdlcil7by5yZXN0b3JlVG9vbFN0YXRlKGUuZWxlbWVudFRvb2xTdGF0ZVtuXSk7dmFyIHI9ZS5lbGVtZW50Vmlld3BvcnRbbl07dC5zZXRWaWV3cG9ydChhLHIpLHQudXBkYXRlSW1hZ2UoYSl9fX0pLGV9fX07dC5kZWZhdWx0PXV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKCl7dmFyIGU9e307cmV0dXJue2dldDpmdW5jdGlvbih0LG4pe2lmKCExIT09ZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGE9ZVt0XTtpZighMSE9PWEuaGFzT3duUHJvcGVydHkobikpcmV0dXJuIGFbbl19fSxhZGQ6ZnVuY3Rpb24odCxuLGEpeyExPT09ZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKGVbdF09e30pO3ZhciBvPWVbdF07ITE9PT1vLmhhc093blByb3BlcnR5KG4pJiYob1tuXT17ZGF0YTpbXX0pLG9bbl0uZGF0YS5wdXNoKGEpfSxyZW1vdmU6ZnVuY3Rpb24odCxuLGEpe2lmKCExIT09ZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIG89ZVt0XTtpZighMSE9PW8uaGFzT3duUHJvcGVydHkobikpe2Zvcih2YXIgcj1vW25dLGk9LTEsbD0wO2w8ci5kYXRhLmxlbmd0aDtsKyspci5kYXRhW2xdPT09YSYmKGk9bCk7LTEhPT1pJiZyLmRhdGEuc3BsaWNlKGksMSl9fX19fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWEoKTt0Lm5ld0ZyYW1lT2ZSZWZlcmVuY2VTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI9YSx0Lmdsb2JhbEZyYW1lT2ZSZWZlcmVuY2VTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuYWRkU3RhY2tTdGF0ZU1hbmFnZXI9dC5uZXdTdGFja1NwZWNpZmljVG9vbFN0YXRlTWFuYWdlcj10LnN0YWNrU3BlY2lmaWNTdGF0ZU1hbmFnZXI9dm9pZCAwO3ZhciBhPW4oMjYpLG89bigyKTtmdW5jdGlvbiByKGUsdCl7dmFyIG49e307cmV0dXJue2dldDpmdW5jdGlvbihhLG8pe3JldHVybiBlLmluZGV4T2Yobyk+PTA/KCExPT09bi5oYXNPd25Qcm9wZXJ0eShvKSYmKG5bb109e2RhdGE6W119KSxuW29dKTp0LmdldChhLG8pfSxhZGQ6ZnVuY3Rpb24oYSxvLHIpe2lmKCEoZS5pbmRleE9mKG8pPj0wKSlyZXR1cm4gdC5hZGQoYSxvLHIpOyExPT09bi5oYXNPd25Qcm9wZXJ0eShvKSYmKG5bb109e2RhdGE6W119KSxuW29dLmRhdGEucHVzaChyKX0sc2F2ZVRvb2xTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBufSxyZXN0b3JlVG9vbFN0YXRlOmZ1bmN0aW9uKGUpe249ZX0sdG9vbFN0YXRlOm59fXZhciBpPVtdO2Z1bmN0aW9uIGwoZSx0KXt2YXIgbj0oMCxvLmdldEVsZW1lbnRUb29sU3RhdGVNYW5hZ2VyKShlKTtufHwobj1hLmdsb2JhbEltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXIpO3ZhciBsPVtcInN0YWNrXCIsXCJzdGFja1ByZWZldGNoXCIsXCJwbGF5Q2xpcFwiLFwidm9sdW1lXCIsXCJzbGFiXCIsXCJyZWZlcmVuY2VMaW5lc1wiLFwiY3Jvc3NoYWlyc1wiLFwic3RhY2tSZW5kZXJlclwiXTt0JiYobD1sLmNvbmNhdCh0KSk7dmFyIHU9cihsLG4pO2kucHVzaCh1KSwoMCxvLnNldEVsZW1lbnRUb29sU3RhdGVNYW5hZ2VyKShlLHUpfXZhciB1PXtuZXdTdGFja1NwZWNpZmljVG9vbFN0YXRlTWFuYWdlcjpyLGFkZFN0YWNrU3RhdGVNYW5hZ2VyOmx9O3Quc3RhY2tTcGVjaWZpY1N0YXRlTWFuYWdlcj11LHQubmV3U3RhY2tTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI9cix0LmFkZFN0YWNrU3RhdGVNYW5hZ2VyPWx9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lm5ld1RpbWVTZXJpZXNTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI9dC5hZGRUaW1lU2VyaWVzU3RhdGVNYW5hZ2VyPXZvaWQgMDt2YXIgYT1uKDI2KSxvPW4oMik7ZnVuY3Rpb24gcihlLHQpe3ZhciBuPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oYSxvKXtyZXR1cm4gZS5pbmRleE9mKG8pPj0wPyghMT09PW4uaGFzT3duUHJvcGVydHkobykmJihuW29dPXtkYXRhOltdfSksbltvXSk6dC5nZXQoYSxvKX0sYWRkOmZ1bmN0aW9uKGEsbyxyKXtpZighKGUuaW5kZXhPZihvKT49MCkpcmV0dXJuIHQuYWRkKGEsbyxyKTshMT09PW4uaGFzT3duUHJvcGVydHkobykmJihuW29dPXtkYXRhOltdfSksbltvXS5kYXRhLnB1c2gocil9fX12YXIgaT1bXTt0LmFkZFRpbWVTZXJpZXNTdGF0ZU1hbmFnZXI9ZnVuY3Rpb24oZSx0KXt0PXR8fFtcInRpbWVTZXJpZXNcIl07dmFyIG49KDAsby5nZXRFbGVtZW50VG9vbFN0YXRlTWFuYWdlcikoZSk7dm9pZCAwPT09biYmKG49YS5nbG9iYWxJbWFnZUlkU3BlY2lmaWNUb29sU3RhdGVNYW5hZ2VyKTt2YXIgbD1yKHQsbik7aS5wdXNoKGwpLCgwLG8uc2V0RWxlbWVudFRvb2xTdGF0ZU1hbmFnZXIpKGUsbCl9LHQubmV3VGltZVNlcmllc1NwZWNpZmljVG9vbFN0YXRlTWFuYWdlcj1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXtpZihuIT09dCl7dmFyIGE9ci5kZWZhdWx0LmNvcm5lcnN0b25lLG89YS5nZXRWaWV3cG9ydCh0KSxpPWEuZ2V0Vmlld3BvcnQobik7aS5zY2FsZT09PW8uc2NhbGUmJmkudHJhbnNsYXRpb24ueD09PW8udHJhbnNsYXRpb24ueCYmaS50cmFuc2xhdGlvbi55PT09by50cmFuc2xhdGlvbi55fHwoaS5zY2FsZT1vLnNjYWxlLGkudHJhbnNsYXRpb24ueD1vLnRyYW5zbGF0aW9uLngsaS50cmFuc2xhdGlvbi55PW8udHJhbnNsYXRpb24ueSxlLnNldFZpZXdwb3J0KG4saSkpfX07dmFyIGEsbz1uKDApLHI9KGE9bykmJmEuX19lc01vZHVsZT9hOntkZWZhdWx0OmF9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXtpZihuIT09dCl7dmFyIGw9YS5kZWZhdWx0LmNvcm5lcnN0b25lLHU9KDAsby5nZXRUb29sU3RhdGUpKHQsXCJzdGFja1wiKS5kYXRhWzBdLGQ9KDAsby5nZXRUb29sU3RhdGUpKG4sXCJzdGFja1wiKS5kYXRhWzBdLHM9dS5jdXJyZW50SW1hZ2VJZEluZGV4O2lmKChzPSgwLGkuZGVmYXVsdCkocywwLGQuaW1hZ2VJZHMubGVuZ3RoLTEpKSE9PWQuY3VycmVudEltYWdlSWRJbmRleCl7dmFyIGM9ci5kZWZhdWx0LmdldFN0YXJ0TG9hZEhhbmRsZXIoKSxmPXIuZGVmYXVsdC5nZXRFbmRMb2FkSGFuZGxlcigpLHY9ci5kZWZhdWx0LmdldEVycm9yTG9hZGluZ0hhbmRsZXIoKTtjJiZjKG4pOyghMD09PWQucHJldmVudENhY2hlP2wubG9hZEltYWdlKGQuaW1hZ2VJZHNbc10pOmwubG9hZEFuZENhY2hlSW1hZ2UoZC5pbWFnZUlkc1tzXSkpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGE9bC5nZXRWaWV3cG9ydChuKTtkLmN1cnJlbnRJbWFnZUlkSW5kZXg9cyxlLmRpc3BsYXlJbWFnZShuLHQsYSksZiYmZihuLHQpfSxmdW5jdGlvbihlKXt2YXIgdD1kLmltYWdlSWRzW3NdO3YmJnYobix0LGUpfSl9fX07dmFyIGE9bChuKDApKSxvPW4oMikscj1sKG4oMTMpKSxpPWwobig4KSk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLGwsdSl7aWYobiE9PXQpe3ZhciBkPWEuZGVmYXVsdC5jb3JuZXJzdG9uZSxzPWQuZ2V0RW5hYmxlZEVsZW1lbnQodCksYz1kLm1ldGFEYXRhLmdldChcImltYWdlUGxhbmVNb2R1bGVcIixzLmltYWdlLmltYWdlSWQpO2lmKHZvaWQgMCE9PWMmJnZvaWQgMCE9PWMuaW1hZ2VQb3NpdGlvblBhdGllbnQpe3ZhciBmPSgwLGkuZGVmYXVsdCkoYy5pbWFnZVBvc2l0aW9uUGF0aWVudCksdj0oMCxvLmdldFRvb2xTdGF0ZSkobixcInN0YWNrXCIpLmRhdGFbMF0sZz1OdW1iZXIuTUFYX1ZBTFVFLG09LTE7aWYodSl7dmFyIGg9Zi5jbG9uZSgpLmFkZCh1KTtpZih2LmltYWdlSWRzLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj1kLm1ldGFEYXRhLmdldChcImltYWdlUGxhbmVNb2R1bGVcIixlKTtpZih2b2lkIDAhPT1uJiZ2b2lkIDAhPT1uLmltYWdlUG9zaXRpb25QYXRpZW50KXt2YXIgYT0oMCxpLmRlZmF1bHQpKG4uaW1hZ2VQb3NpdGlvblBhdGllbnQpLG89aC5kaXN0YW5jZVRvU3F1YXJlZChhKTtvPGcmJihnPW8sbT10KX19KSxtIT09di5jdXJyZW50SW1hZ2VJZEluZGV4JiYtMSE9PW0pe3ZhciBwPXIuZGVmYXVsdC5nZXRTdGFydExvYWRIYW5kbGVyKCksRT1yLmRlZmF1bHQuZ2V0RW5kTG9hZEhhbmRsZXIoKSxUPXIuZGVmYXVsdC5nZXRFcnJvckxvYWRpbmdIYW5kbGVyKCk7di5jdXJyZW50SW1hZ2VJZEluZGV4PW07dmFyIHk9di5pbWFnZUlkc1ttXTtwJiZwKG4pOyghMD09PXYucHJldmVudENhY2hlP2QubG9hZEltYWdlKHkpOmQubG9hZEFuZENhY2hlSW1hZ2UoeSkpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGE9ZC5nZXRWaWV3cG9ydChuKTt2LmN1cnJlbnRJbWFnZUlkSW5kZXg9PT1tJiYoZS5kaXNwbGF5SW1hZ2Uobix0LGEpLEUmJkUobix0KSl9LGZ1bmN0aW9uKGUpe3ZhciB0PXYuaW1hZ2VJZHNbbV07VCYmVChuLHQsZSl9KX19fX19O3ZhciBhPWwobigwKSksbz1uKDIpLHI9bChuKDEzKSksaT1sKG4oMTkpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe2lmKG4hPT10KXt2YXIgbD1hLmRlZmF1bHQuY29ybmVyc3RvbmUsdT1sLmdldEVuYWJsZWRFbGVtZW50KHQpLmltYWdlLGQ9bC5tZXRhRGF0YS5nZXQoXCJpbWFnZVBsYW5lTW9kdWxlXCIsdS5pbWFnZUlkKTtpZih2b2lkIDAhPT1kJiZ2b2lkIDAhPT1kLmltYWdlUG9zaXRpb25QYXRpZW50KXt2YXIgcz0oMCxpLmRlZmF1bHQpKGQuaW1hZ2VQb3NpdGlvblBhdGllbnQpLGM9KDAsby5nZXRUb29sU3RhdGUpKG4sXCJzdGFja1wiKS5kYXRhWzBdLGY9TnVtYmVyLk1BWF9WQUxVRSx2PS0xO2lmKGMuaW1hZ2VJZHMuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuPWwubWV0YURhdGEuZ2V0KFwiaW1hZ2VQbGFuZU1vZHVsZVwiLGUpO2lmKHZvaWQgMCE9PW4mJnZvaWQgMCE9PW4uaW1hZ2VQb3NpdGlvblBhdGllbnQpe3ZhciBhPSgwLGkuZGVmYXVsdCkobi5pbWFnZVBvc2l0aW9uUGF0aWVudCkuZGlzdGFuY2VUb1NxdWFyZWQocyk7YTxmJiYoZj1hLHY9dCl9fSksdiE9PWMuY3VycmVudEltYWdlSWRJbmRleCl7dmFyIGc9ci5kZWZhdWx0LmdldFN0YXJ0TG9hZEhhbmRsZXIoKSxtPXIuZGVmYXVsdC5nZXRFbmRMb2FkSGFuZGxlcigpLGg9ci5kZWZhdWx0LmdldEVycm9yTG9hZGluZ0hhbmRsZXIoKTtjLmN1cnJlbnRJbWFnZUlkSW5kZXg9djt2YXIgcD1jLmltYWdlSWRzW3ZdO2lmKGcmJmcobiksLTEhPT12KXsoITA9PT1jLnByZXZlbnRDYWNoZT9sLmxvYWRJbWFnZShwKTpsLmxvYWRBbmRDYWNoZUltYWdlKHApKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBhPWwuZ2V0Vmlld3BvcnQobik7Yy5jdXJyZW50SW1hZ2VJZEluZGV4PT09diYmKGUuZGlzcGxheUltYWdlKG4sdCxhKSxtJiZtKG4sdCkpfSxmdW5jdGlvbihlKXt2YXIgdD1jLmltYWdlSWRzW3ZdO2gmJmgobix0LGUpfSl9fX19fTt2YXIgYT1sKG4oMCkpLG89bigyKSxyPWwobigxMykpLGk9bChuKDE5KSk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuLGwpe2lmKHQhPT1uJiZsJiZsLmRpcmVjdGlvbil7dmFyIHU9YS5kZWZhdWx0LmNvcm5lcnN0b25lLGQ9KDAsby5nZXRUb29sU3RhdGUpKG4sXCJzdGFja1wiKS5kYXRhWzBdLHM9ZC5jdXJyZW50SW1hZ2VJZEluZGV4K2wuZGlyZWN0aW9uO2lmKHM9KDAsaS5kZWZhdWx0KShzLDAsZC5pbWFnZUlkcy5sZW5ndGgtMSksZC5jdXJyZW50SW1hZ2VJZEluZGV4IT09cyl7dmFyIGM9ci5kZWZhdWx0LmdldFN0YXJ0TG9hZEhhbmRsZXIoKSxmPXIuZGVmYXVsdC5nZXRFbmRMb2FkSGFuZGxlcigpLHY9ci5kZWZhdWx0LmdldEVycm9yTG9hZGluZ0hhbmRsZXIoKTtkLmN1cnJlbnRJbWFnZUlkSW5kZXg9czt2YXIgZz1kLmltYWdlSWRzW3NdO2MmJmMobik7KCEwPT09ZC5wcmV2ZW50Q2FjaGU/dS5sb2FkSW1hZ2UoZyk6dS5sb2FkQW5kQ2FjaGVJbWFnZShnKSkudGhlbihmdW5jdGlvbih0KXt2YXIgYT11LmdldFZpZXdwb3J0KG4pO2QuY3VycmVudEltYWdlSWRJbmRleD09PXMmJihlLmRpc3BsYXlJbWFnZShuLHQsYSksZiYmZihuLHQpKX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZC5pbWFnZUlkc1tzXTt2JiZ2KG4sdCxlKX0pfX19O3ZhciBhPWwobigwKSksbz1uKDIpLHI9bChuKDEzKSksaT1sKG4oOCkpO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPWkobigwKSksbz1pKG4oMTkpKSxyPW4oNCk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbChlKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuLmluZGV4T2YoZSk9PT10fSl9dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG49YS5kZWZhdWx0LmNvcm5lcnN0b25lLGk9dGhpcyx1PVtdLGQ9W10scz0hMSxjPXt9LGY9dDtmdW5jdGlvbiB2KGUsdCl7aS5lbmFibGVkJiZ1Lmxlbmd0aCYmZC5sZW5ndGgmJihzPSEwLGQuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgYT1kLmluZGV4T2Yobik7aWYoLTEhPT1hKXt2YXIgbz1jLmltYWdlSWRzLnRhcmdldEVsZW1lbnRzW2FdLHI9dS5pbmRleE9mKGUpO2lmKC0xIT09cil7dmFyIGw9Yy5pbWFnZUlkcy5zb3VyY2VFbGVtZW50c1tyXSxzPXZvaWQgMDtsPT09bz9zPTA6dm9pZCAwIT09Yy5kaXN0YW5jZXNbbF0mJihzPWMuZGlzdGFuY2VzW2xdW29dKSxmKGksZSxuLHQscyl9fX0pLHM9ITEpfWZ1bmN0aW9uIGcoZSl7dmFyIHQ9ZS5kZXRhaWw7ITAhPT1zJiZ2KGUuY3VycmVudFRhcmdldCx0KX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUuZGV0YWlsLmVsZW1lbnQ7aS5yZW1vdmUodCksKDAsci5jbGVhclRvb2xPcHRpb25zQnlFbGVtZW50KSh0KX10aGlzLmVuYWJsZWQ9ITAsdGhpcy5zZXRIYW5kbGVyPWZ1bmN0aW9uKGUpe2Y9ZX0sdGhpcy5nZXRIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGZ9LHRoaXMuZ2V0RGlzdGFuY2VzPWZ1bmN0aW9uKCl7dS5sZW5ndGgmJmQubGVuZ3RoJiYoYy5kaXN0YW5jZXM9e30sYy5pbWFnZUlkcz17c291cmNlRWxlbWVudHM6W10sdGFyZ2V0RWxlbWVudHM6W119LHUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uLmdldEVuYWJsZWRFbGVtZW50KGUpO2lmKHQmJnQuaW1hZ2Upe3ZhciBhPXQuaW1hZ2UuaW1hZ2VJZCxyPW4ubWV0YURhdGEuZ2V0KFwiaW1hZ2VQbGFuZU1vZHVsZVwiLGEpO2lmKHImJnIuaW1hZ2VQb3NpdGlvblBhdGllbnQpe3ZhciBpPSgwLG8uZGVmYXVsdCkoci5pbWFnZVBvc2l0aW9uUGF0aWVudCk7Yy5oYXNPd25Qcm9wZXJ0eSh0KXx8KGMuZGlzdGFuY2VzW2FdPXt9LGMuaW1hZ2VJZHMuc291cmNlRWxlbWVudHMucHVzaChhKSxkLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9bi5nZXRFbmFibGVkRWxlbWVudCh0KTtpZihyJiZyLmltYWdlKXt2YXIgbD1yLmltYWdlLmltYWdlSWQ7aWYoYy5pbWFnZUlkcy50YXJnZXRFbGVtZW50cy5wdXNoKGwpLGUhPT10JiZhIT09bCYmIWMuZGlzdGFuY2VzW2FdLmhhc093blByb3BlcnR5KGwpKXt2YXIgdT1uLm1ldGFEYXRhLmdldChcImltYWdlUGxhbmVNb2R1bGVcIixsKTtpZih1JiZ1LmltYWdlUG9zaXRpb25QYXRpZW50KXt2YXIgZD0oMCxvLmRlZmF1bHQpKHUuaW1hZ2VQb3NpdGlvblBhdGllbnQpO2MuZGlzdGFuY2VzW2FdW2xdPWQuY2xvbmUoKS5zdWIoaSl9fX19KSxPYmplY3Qua2V5cyhjLmRpc3RhbmNlc1thXSkubGVuZ3RofHxkZWxldGUgYy5kaXN0YW5jZXNbYV0pfX19KSl9LHRoaXMuYWRkU291cmNlPWZ1bmN0aW9uKHQpey0xPT09dS5pbmRleE9mKHQpJiYodS5wdXNoKHQpLGUuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5hZGRFdmVudExpc3RlbmVyKGUsZyl9KSxpLmdldERpc3RhbmNlcygpLGkudXBkYXRlRGlzYWJsZUhhbmRsZXJzKCkpfSx0aGlzLmFkZFRhcmdldD1mdW5jdGlvbihlKXstMT09PWQuaW5kZXhPZihlKSYmKGQucHVzaChlKSxpLmdldERpc3RhbmNlcygpLGYoaSxlLGUsMCksaS51cGRhdGVEaXNhYmxlSGFuZGxlcnMoKSl9LHRoaXMuYWRkPWZ1bmN0aW9uKGUpe2kuYWRkU291cmNlKGUpLGkuYWRkVGFyZ2V0KGUpfSx0aGlzLnJlbW92ZVNvdXJjZT1mdW5jdGlvbih0KXt2YXIgbj11LmluZGV4T2YodCk7LTEhPT1uJiYodS5zcGxpY2UobiwxKSxlLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGcpfSksaS5nZXREaXN0YW5jZXMoKSx2KHQpLGkudXBkYXRlRGlzYWJsZUhhbmRsZXJzKCkpfSx0aGlzLnJlbW92ZVRhcmdldD1mdW5jdGlvbihlKXt2YXIgdD1kLmluZGV4T2YoZSk7LTEhPT10JiYoZC5zcGxpY2UodCwxKSxpLmdldERpc3RhbmNlcygpLGYoaSxlLGUsMCksaS51cGRhdGVEaXNhYmxlSGFuZGxlcnMoKSl9LHRoaXMucmVtb3ZlPWZ1bmN0aW9uKGUpe2kucmVtb3ZlVGFyZ2V0KGUpLGkucmVtb3ZlU291cmNlKGUpfSx0aGlzLmdldFNvdXJjZUVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHV9LHRoaXMuZ2V0VGFyZ2V0RWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gZH0sdGhpcy5kaXNwbGF5SW1hZ2U9ZnVuY3Rpb24oZSx0LGEpe3M9ITAsbi5kaXNwbGF5SW1hZ2UoZSx0LGEpLHM9ITF9LHRoaXMuc2V0Vmlld3BvcnQ9ZnVuY3Rpb24oZSx0KXtzPSEwLG4uc2V0Vmlld3BvcnQoZSx0KSxzPSExfSx0aGlzLnVwZGF0ZURpc2FibGVIYW5kbGVycz1mdW5jdGlvbigpe2wodS5jb25jYXQoZCkpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuRUxFTUVOVF9ESVNBQkxFRCxtKSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5FTEVNRU5UX0RJU0FCTEVELG0pfSl9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2wodS5jb25jYXQoZCkpLmZvckVhY2goZnVuY3Rpb24oZSl7aS5yZW1vdmUoZSl9KX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXtuIT09dCYmci5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKG4pfTt2YXIgYSxvPW4oMCkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe2lmKG4hPT10KXt2YXIgYT1yLmRlZmF1bHQuY29ybmVyc3RvbmUsbz1hLmdldFZpZXdwb3J0KHQpLGk9YS5nZXRWaWV3cG9ydChuKTtpLnZvaS53aW5kb3dXaWR0aD09PW8udm9pLndpbmRvd1dpZHRoJiZpLnZvaS53aW5kb3dDZW50ZXI9PT1vLnZvaS53aW5kb3dDZW50ZXImJmkuaW52ZXJ0PT09by5pbnZlcnR8fChpLnZvaS53aW5kb3dXaWR0aD1vLnZvaS53aW5kb3dXaWR0aCxpLnZvaS53aW5kb3dDZW50ZXI9by52b2kud2luZG93Q2VudGVyLGkuaW52ZXJ0PW8uaW52ZXJ0LGUuc2V0Vmlld3BvcnQobixpKSl9fTt2YXIgYSxvPW4oMCkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnRpbWVTZXJpZXNTY3JvbGxUb3VjaERyYWc9dC50aW1lU2VyaWVzU2Nyb2xsV2hlZWw9dC50aW1lU2VyaWVzU2Nyb2xsPXZvaWQgMDt2YXIgYT1jKG4oMSkpLG89YyhuKDE2KSkscj1jKG4oMTgpKSxpPWMobigyOSkpLGw9YyhuKDM3KSksdT1jKG4oNSkpLGQ9bigyKSxzPW4oNCk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGY9XCJ0aW1lU2VyaWVzU2Nyb2xsXCI7ZnVuY3Rpb24gdihlKXt2YXIgdD1lLmRldGFpbC5lbGVtZW50O3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfRFJBRyxnKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0Lk1PVVNFX1VQLHYpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfQ0xJQ0ssdil9ZnVuY3Rpb24gZyhlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudDtlLmRhdGEuZGVsdGFZKz10LmRlbHRhUG9pbnRzLnBhZ2UueTt2YXIgYT0oMCxkLmdldFRvb2xTdGF0ZSkodC5lbGVtZW50LFwidGltZVNlcmllc1wiKTtpZih2b2lkIDAhPT1hJiZ2b2lkIDAhPT1hLmRhdGEmJjAhPT1hLmRhdGEubGVuZ3RoKXt2YXIgbz1hLmRhdGFbMF0scj1uLm9mZnNldEhlaWdodC9vLnN0YWNrcy5sZW5ndGg7aWYodm9pZCAwIT09ZS5kYXRhLm9wdGlvbnMmJnZvaWQgMCE9PWUuZGF0YS5vcHRpb25zLnRpbWVTZXJpZXNTY3JvbGxTcGVlZCYmKHI9ZS5kYXRhLm9wdGlvbnMudGltZVNlcmllc1Njcm9sbFNwZWVkKSxlLmRhdGEuZGVsdGFZPj1yfHxlLmRhdGEuZGVsdGFZPD0tcil7dmFyIGk9TWF0aC5yb3VuZChlLmRhdGEuZGVsdGFZL3IpLHU9ZS5kYXRhLmRlbHRhWSVyOygwLGwuZGVmYXVsdCkodC5lbGVtZW50LGkpLGUuZGF0YS5kZWx0YVk9dX1yZXR1cm4hMX19dmFyIG09KDAsby5kZWZhdWx0KShmdW5jdGlvbihlKXt2YXIgdD1lLmRldGFpbCxuPXQuZWxlbWVudCxvPSgwLHMuZ2V0VG9vbE9wdGlvbnMpKGYsbik7aWYoKDAsdS5kZWZhdWx0KSh0LndoaWNoLG8ubW91c2VCdXR0b25NYXNrKSlyZXR1cm4gby5kZWx0YVk9MCwoMCxzLnNldFRvb2xPcHRpb25zKShmLG4sbyksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9EUkFHLGcpLG4uYWRkRXZlbnRMaXN0ZW5lcihhLmRlZmF1bHQuTU9VU0VfVVAsdiksbi5hZGRFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5NT1VTRV9DTElDSyx2KSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExfSxmKSxoPSgwLGkuZGVmYXVsdCkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZXRhaWwsbj0tdC5kaXJlY3Rpb247KDAsbC5kZWZhdWx0KSh0LmVsZW1lbnQsbil9KSxwPSgwLHIuZGVmYXVsdCkoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vcmlnaW5hbEV2ZW50LmRldGFpbCxuPXtkZWx0YVk6MH07bi5kZWx0YVkrPXQuZGVsdGFQb2ludHMucGFnZS55O3ZhciBhPSgwLGQuZ2V0VG9vbFN0YXRlKSh0LmVsZW1lbnQsXCJzdGFja1wiKTtpZih2b2lkIDAhPT1hJiZ2b2lkIDAhPT1hLmRhdGEmJjAhPT1hLmRhdGEubGVuZ3RoKXtpZihuLmRlbHRhWT49M3x8bi5kZWx0YVk8PS0zKXt2YXIgbz1uLmRlbHRhWS8zLHI9bi5kZWx0YVklMzsoMCxsLmRlZmF1bHQpKG4uZWxlbWVudCxvKSxuLmRlbHRhWT1yfXJldHVybiExfX0pO3QudGltZVNlcmllc1Njcm9sbD1tLHQudGltZVNlcmllc1Njcm9sbFdoZWVsPWgsdC50aW1lU2VyaWVzU2Nyb2xsVG91Y2hEcmFnPXB9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYSxvPW4oMikscj1uKDM3KSxpPShhPXIpJiZhLl9fZXNNb2R1bGU/YTp7ZGVmYXVsdDphfTt2YXIgbD1cInRpbWVTZXJpZXNQbGF5ZXJcIjt2YXIgdT17c3RhcnQ6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcInBsYXlDbGlwOiBlbGVtZW50IG11c3Qgbm90IGJlIHVuZGVmaW5lZFwiKTt2b2lkIDA9PT10JiYodD0zMCk7dmFyIG49KDAsby5nZXRUb29sU3RhdGUpKGUsXCJ0aW1lU2VyaWVzXCIpO2lmKHZvaWQgMCE9PW4mJnZvaWQgMCE9PW4uZGF0YSYmMCE9PW4uZGF0YS5sZW5ndGgpe3ZhciBhPSgwLG8uZ2V0VG9vbFN0YXRlKShlLGwpLHI9dm9pZCAwO3ZvaWQgMD09PWF8fDA9PT1hLmRhdGEubGVuZ3RoPyhyPXtpbnRlcnZhbElkOnZvaWQgMCxmcmFtZXNQZXJTZWNvbmQ6dCxsYXN0RnJhbWVUaW1lU3RhbXA6dm9pZCAwLGZyYW1lUmF0ZTowfSwoMCxvLmFkZFRvb2xTdGF0ZSkoZSxsLHIpKToocj1hLmRhdGFbMF0pLmZyYW1lc1BlclNlY29uZD10LHZvaWQgMD09PXIuaW50ZXJ2YWxJZCYmKHIuaW50ZXJ2YWxJZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3IuZnJhbWVzUGVyU2Vjb25kPjA/KDAsaS5kZWZhdWx0KShlLDEsITApOigwLGkuZGVmYXVsdCkoZSwtMSwhMCl9LDFlMy9NYXRoLmFicyhyLmZyYW1lc1BlclNlY29uZCkpKX19LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9KDAsby5nZXRUb29sU3RhdGUpKGUsbCk7aWYodCYmdC5kYXRhJiZ0LmRhdGEubGVuZ3RoKXt2YXIgbj10LmRhdGFbMF07Y2xlYXJJbnRlcnZhbChuLmludGVydmFsSWQpLG4uaW50ZXJ2YWxJZD12b2lkIDB9fX07dC5kZWZhdWx0PXV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXt2YXIgZT1vLmRlZmF1bHQuY29ybmVyc3RvbmUsdD10aGlzO3Quc2FtcGxlcz1bXSx0aGlzLnNldD1mdW5jdGlvbihuKXt0LnNhbXBsZXM9biwoMCxyLmRlZmF1bHQpKGUuZXZlbnRzLGEuZGVmYXVsdC5MSU5FX1NBTVBMRV9VUERBVEVEKX19O3ZhciBhPWkobigxKSksbz1pKG4oMCkpLHI9aShuKDYpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKG4oMSkpLG89aShuKDApKSxyPWkobig2KSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGw9bmV3IGZ1bmN0aW9uKCl7dmFyIGU9by5kZWZhdWx0LmNvcm5lcnN0b25lLHQ9dGhpczt0Lm1lYXN1cmVtZW50cz1bXSx0aGlzLmFkZD1mdW5jdGlvbihuKXt2YXIgbz17aW5kZXg6dC5tZWFzdXJlbWVudHMucHVzaChuKSxtZWFzdXJlbWVudDpufTsoMCxyLmRlZmF1bHQpKGUuZXZlbnRzLGEuZGVmYXVsdC5NRUFTVVJFTUVOVF9BRERFRCxvKX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24obil7dmFyIG89dC5tZWFzdXJlbWVudHNbbl07dC5tZWFzdXJlbWVudHMuc3BsaWNlKG4sMSk7dmFyIGk9e2luZGV4Om4sbWVhc3VyZW1lbnQ6b307KDAsci5kZWZhdWx0KShlLmV2ZW50cyxhLmRlZmF1bHQuTUVBU1VSRU1FTlRfUkVNT1ZFRCxpKX19O3QuZGVmYXVsdD1sfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9YyhuKDApKSxvPWMobigxMCkpLHI9YyhuKDkpKSxpPW4oMiksbD1jKG4oMTM1KSksdT1jKG4oMTM0KSksZD1jKG4oMTEpKSxzPW4oMyk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGY9XCJwcm9iZTREXCI7dmFyIHY9KDAsby5kZWZhdWx0KSh7Y3JlYXRlTmV3TWVhc3VyZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9KDAsaS5nZXRUb29sU3RhdGUpKGUuZWxlbWVudCxcInRpbWVTZXJpZXNcIik7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09dC5kYXRhJiYwIT09dC5kYXRhLmxlbmd0aCl7dmFyIG49dC5kYXRhWzBdLG89e3RpbWVTZXJpZXM6bixsaW5lU2FtcGxlOm5ldyB1LmRlZmF1bHQsaW1hZ2VJZEluZGV4Om4uc3RhY2tzW24uY3VycmVudFN0YWNrSW5kZXhdLmN1cnJlbnRJbWFnZUlkSW5kZXgsdmlzaWJsZTohMCxoYW5kbGVzOntlbmQ6e3g6ZS5jdXJyZW50UG9pbnRzLmltYWdlLngseTplLmN1cnJlbnRQb2ludHMuaW1hZ2UueSxoaWdobGlnaHQ6ITAsYWN0aXZlOiEwfX19O3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1hLmRlZmF1bHQuY29ybmVyc3RvbmUsbj1bXTtlLnRpbWVTZXJpZXMuc3RhY2tzLmZvckVhY2goZnVuY3Rpb24oYSl7KCEwPT09YS5wcmV2ZW50Q2FjaGU/dC5sb2FkSW1hZ2UoYS5pbWFnZUlkc1tlLmltYWdlSWRJbmRleF0pOnQubG9hZEFuZENhY2hlSW1hZ2UoYS5pbWFnZUlkc1tlLmltYWdlSWRJbmRleF0pKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBhPU1hdGgucm91bmQoZS5oYW5kbGVzLmVuZC54KStNYXRoLnJvdW5kKGUuaGFuZGxlcy5lbmQueSkqdC53aWR0aCxvPXQuZ2V0UGl4ZWxEYXRhKClbYV07bi5wdXNoKG8pfSl9KSxlLmxpbmVTYW1wbGUuc2V0KG4pfShvKSxsLmRlZmF1bHQuYWRkKG8pLG99fSxvbkltYWdlUmVuZGVyZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9YS5kZWZhdWx0LmNvcm5lcnN0b25lLG49ZS5kZXRhaWwsbz0oMCxpLmdldFRvb2xTdGF0ZSkoZS5jdXJyZW50VGFyZ2V0LGYpO2lmKG8pe3ZhciBsPW4uY2FudmFzQ29udGV4dDtsLnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCk7Zm9yKHZhciB1PWZ1bmN0aW9uKGUpeygwLHMuZHJhdykobCxmdW5jdGlvbihhKXt2YXIgaT1vLmRhdGFbZV07KDAsci5kZWZhdWx0KShhLG4saS5oYW5kbGVzLFwid2hpdGVcIik7dmFyIGw9e3g6aS5oYW5kbGVzLmVuZC54KzMseTppLmhhbmRsZXMuZW5kLnktM30sdT10LnBpeGVsVG9DYW52YXMobi5lbGVtZW50LGwpOygwLGQuZGVmYXVsdCkoYSxpLmhhbmRsZXMuZW5kLngrXCIsIFwiK2kuaGFuZGxlcy5lbmQueSx1LngsdS55LFwid2hpdGVcIil9KX0sYz0wO2M8by5kYXRhLmxlbmd0aDtjKyspdShjKX19LHRvb2xUeXBlOmZ9KTt0LmRlZmF1bHQ9dn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbixvKXt2YXIgcj17Y29sb3I6bixsaW5lV2lkdGg6b307KDAsYS5kcmF3Q2lyY2xlKShlLHZvaWQgMCx0LDYscixcImNhbnZhc1wiKX07dmFyIGE9bigzKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQsbixvLHIpe3ZhciBpPXt4OnQseTpufSxsPXt4OnQrbyx5Om4rcn07KDAsYS5kcmF3RWxsaXBzZSkoZSx2b2lkIDAsaSxsLHt9LFwiY2FudmFzXCIpfTt2YXIgYT1uKDMpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7ZS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0PVwibm9uZVwiLGUuc3R5bGUud2Via2l0VG91Y2hDYWxsb3V0PVwibm9uZVwiLGUuc3R5bGUubW96VXNlclNlbGVjdD1cIm5vbmVcIixlLnN0eWxlLm1zVXNlclNlbGVjdD1cIm5vbmVcIixlLnN0eWxlLm9Vc2VyU2VsZWN0PVwibm9uZVwiLGUuc3R5bGUua2h0bWxVc2VyU2VsZWN0PVwibm9uZVwiLGUuc3R5bGUudXNlclNlbGVjdD1cIm5vbmVcIixlLnVuc2VsZWN0YWJsZT1cIm9uXCIsZS5vbmNvbnRleHRtZW51PWZ1bmN0aW9uKCl7cmV0dXJuITF9LCEwPT09dCYmKGUuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIil9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gci5kZWZhdWx0LmNvcm5lcnN0b25lLnNldFRvUGl4ZWxDb29yZGluYXRlU3lzdGVtKGUsdCwuMSkse2ZvbnRTaXplOm4vZS52aWV3cG9ydC5zY2FsZS8uMSxsaW5lSGVpZ2h0Om4vZS52aWV3cG9ydC5zY2FsZS8uMSxmb250U2NhbGU6LjF9fTt2YXIgYSxvPW4oMCkscj0oYT1vKSYmYS5fX2VzTW9kdWxlP2E6e2RlZmF1bHQ6YX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFwiSFwiLFwiZlwiKTtyZXR1cm4gdD0odD0odD0odD0odD0odD10LnJlcGxhY2UoXCJGXCIsXCJoXCIpKS5yZXBsYWNlKFwiUlwiLFwibFwiKSkucmVwbGFjZShcIkxcIixcInJcIikpLnJlcGxhY2UoXCJBXCIsXCJwXCIpKS5yZXBsYWNlKFwiUFwiLFwiYVwiKSkudG9VcHBlckNhc2UoKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSgwLG8uZGVmYXVsdCkoZSksbj1cIlwiLHI9dC54PDA/XCJSXCI6XCJMXCIsaT10Lnk8MD9cIkFcIjpcIlBcIixsPXQuejwwP1wiRlwiOlwiSFwiLHU9bmV3IGEuZGVmYXVsdC5jb3JuZXJzdG9uZU1hdGguVmVjdG9yMyhNYXRoLmFicyh0LngpLE1hdGguYWJzKHQueSksTWF0aC5hYnModC56KSksZD0wO2Q8MztkKyspaWYodS54PjFlLTQmJnUueD51LnkmJnUueD51Lnopbis9cix1Lng9MDtlbHNlIGlmKHUueT4xZS00JiZ1Lnk+dS54JiZ1Lnk+dS56KW4rPWksdS55PTA7ZWxzZXtpZighKHUuej4xZS00JiZ1Lno+dS54JiZ1Lno+dS55KSlicmVhaztuKz1sLHUuej0wfXJldHVybiBufTt2YXIgYT1yKG4oMCkpLG89cihuKDE5KSk7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9aShuKDApKSxvPW4oMikscj1pKG4oNjcpKTtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgbD1cInJlZmVyZW5jZUxpbmVzXCI7ZnVuY3Rpb24gdShlKXt2YXIgdD1lLmRldGFpbCxuPSgwLG8uZ2V0VG9vbFN0YXRlKShlLmN1cnJlbnRUYXJnZXQsbCk7aWYodm9pZCAwIT09bil7dmFyIHI9bi5kYXRhWzBdLnN5bmNocm9uaXphdGlvbkNvbnRleHQuZ2V0U291cmNlRWxlbWVudHMoKSxpPW4uZGF0YVswXS5yZW5kZXJlcix1PXQuY2FudmFzQ29udGV4dC5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2EuZGVmYXVsdC5jb3JuZXJzdG9uZS5zZXRUb1BpeGVsQ29vcmRpbmF0ZVN5c3RlbSh0LmVuYWJsZWRFbGVtZW50LHUpLHIuZm9yRWFjaChmdW5jdGlvbihuKXtuIT09ZS5jdXJyZW50VGFyZ2V0JiZpKHUsdCxlLmN1cnJlbnRUYXJnZXQsbil9KX19dmFyIGQ9e2VuYWJsZTpmdW5jdGlvbihlLHQsbil7bj1ufHxyLmRlZmF1bHQsKDAsby5hZGRUb29sU3RhdGUpKGUsbCx7c3luY2hyb25pemF0aW9uQ29udGV4dDp0LHJlbmRlcmVyOm59KSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCx1KSxlLmFkZEV2ZW50TGlzdGVuZXIoYS5kZWZhdWx0LmNvcm5lcnN0b25lLkVWRU5UUy5JTUFHRV9SRU5ERVJFRCx1KSxhLmRlZmF1bHQuY29ybmVyc3RvbmUudXBkYXRlSW1hZ2UoZSl9LGRpc2FibGU6ZnVuY3Rpb24oZSl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKGEuZGVmYXVsdC5jb3JuZXJzdG9uZS5FVkVOVFMuSU1BR0VfUkVOREVSRUQsdSksYS5kZWZhdWx0LmNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKGUpfX07dC5kZWZhdWx0PWR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYT1pKG4oNjgpKSxvPWkobigxNDMpKSxyPWkobig2NykpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBsPXtjYWxjdWxhdGVSZWZlcmVuY2VMaW5lOmEuZGVmYXVsdCx0b29sOm8uZGVmYXVsdCxyZW5kZXJBY3RpdmVSZWZlcmVuY2VMaW5lOnIuZGVmYXVsdH07dC5kZWZhdWx0PWx9XSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcm5lcnN0b25lVG9vbHMubWluLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/cornerstone-tools/dist/cornerstoneTools.min.js\n");

/***/ }),

/***/ "../node_modules/cornerstone-wado-image-loader/dist/cornerstoneWADOImageLoader.min.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/cornerstone-wado-image-loader/dist/cornerstoneWADOImageLoader.min.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*! cornerstone-wado-image-loader - 2.2.1 - 2018-10-29 | (c) 2016 Chris Hafey | https://github.com/cornerstonejs/cornerstoneWADOImageLoader */\n!function(e,t){ true?module.exports=t():undefined}(this,function(){return function(r){var a={};function n(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=6)}([function(e,t,r){\"use strict\";t.a=function(e){for(var t,r=e[0],a=e[0],n=e.length,o=1;o<n;o++)t=e[o],r=Math.min(r,t),a=Math.max(a,t);return{min:r,max:a}}},function(e,t,r){\"use strict\";var m;function a(){if(\"undefined\"==typeof CharLS)throw new Error(\"No JPEG-LS decoder loaded\");if(!(m||(m=CharLS())&&m._jpegls_decode))throw new Error(\"JPEG-LS failed to initialize\")}r.d(t,\"b\",function(){return a}),t.a=function(e,t){a();var r=function(e,t){var r=m._malloc(e.length);m.writeArrayToMemory(e,r);var a=m._malloc(4),n=m._malloc(4),o=m._malloc(4),i=m._malloc(4),l=m._malloc(4),s=m._malloc(4),u=m._malloc(4),c=m._malloc(4),f=m._malloc(4),d={result:m.ccall(\"jpegls_decode\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\",\"number\",\"number\",\"number\",\"number\",\"number\",\"number\"],[r,e.length,a,n,o,i,l,s,c,u,f]),width:m.getValue(o,\"i32\"),height:m.getValue(i,\"i32\"),bitsPerSample:m.getValue(l,\"i32\"),stride:m.getValue(s,\"i32\"),components:m.getValue(c,\"i32\"),allowedLossyError:m.getValue(u,\"i32\"),interleaveMode:m.getValue(f,\"i32\"),pixelData:void 0},p=m.getValue(a,\"*\");return d.bitsPerSample<=8?(d.pixelData=new Uint8Array(d.width*d.height*d.components),d.pixelData.set(new Uint8Array(m.HEAP8.buffer,p,d.pixelData.length))):t?(d.pixelData=new Int16Array(d.width*d.height*d.components),d.pixelData.set(new Int16Array(m.HEAP16.buffer,p,d.pixelData.length))):(d.pixelData=new Uint16Array(d.width*d.height*d.components),d.pixelData.set(new Uint16Array(m.HEAP16.buffer,p,d.pixelData.length))),m._free(r),m._free(p),m._free(a),m._free(n),m._free(o),m._free(i),m._free(l),m._free(s),m._free(c),m._free(f),d}(t,1===e.pixelRepresentation);if(0!==r.result&&6!==r.result)throw new Error(\"JPEG-LS decoder failed to decode frame (error code \".concat(r.result,\")\"));return e.columns=r.width,e.rows=r.height,e.pixelData=r.pixelData,e}},function(e,t,r){\"use strict\";var h;function n(e,t){var r=function(e,t,r){var a=h._malloc(e.length);h.writeArrayToMemory(e,a);var n=h._malloc(4),o=h._malloc(4),i=h._malloc(4),l=h._malloc(4),s=h._malloc(4),u=(new Date).getTime();if(0!==h.ccall(\"jp2_decode\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\",\"number\",\"number\"],[a,e.length,n,o,i,l,s]))return console.log(\"[opj_decode] decoding failed!\"),h._free(a),h._free(h.getValue(n,\"*\")),h._free(i),h._free(l),h._free(o),void h._free(s);var c=h.getValue(n,\"*\"),f={length:h.getValue(o,\"i32\"),sx:h.getValue(i,\"i32\"),sy:h.getValue(l,\"i32\"),nbChannels:h.getValue(s,\"i32\"),perf_timetodecode:void 0,pixelData:void 0},d=f.sx*f.sy*f.nbChannels,p=new Int32Array(h.HEAP32.buffer,c,d);if(1===t)if(Uint8Array.from)f.pixelData=Uint8Array.from(p);else{f.pixelData=new Uint8Array(d);for(var m=0;m<d;m++)f.pixelData[m]=p[m]}else if(r)if(Int16Array.from)f.pixelData=Int16Array.from(p);else{f.pixelData=new Int16Array(d);for(var g=0;g<d;g++)f.pixelData[g]=p[g]}else if(Uint16Array.from)f.pixelData=Uint16Array.from(p);else{f.pixelData=new Uint16Array(d);for(var v=0;v<d;v++)f.pixelData[v]=p[v]}var x=(new Date).getTime();return f.perf_timetodecode=x-u,h._free(a),h._free(n),h._free(c),h._free(o),h._free(i),h._free(l),h._free(s),f}(t,e.bitsAllocated<=8?1:2,1===e.pixelRepresentation);return e.columns=r.sx,e.rows=r.sy,e.pixelData=r.pixelData,1<r.nbChannels&&(e.photometricInterpretation=\"RGB\"),e}function o(e){if(!e.usePDFJS&&\"undefined\"==typeof OpenJPEG)throw new Error(\"OpenJPEG decoder not loaded\");if(!(h||(h=OpenJPEG())&&h._jp2_decode))throw new Error(\"OpenJPEG failed to initialize\")}r.d(t,\"b\",function(){return o}),t.a=function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return o(r),a.usePDFJS||r.usePDFJS?function(e,t){var r=new JpxImage;r.parse(t);var a=r.tiles.length;if(1!==a)throw new Error(\"JPEG2000 decoder returned a tileCount of \".concat(a,\", when 1 is expected\"));return e.columns=r.width,e.rows=r.height,e.pixelData=r.tiles[0].items,e}(e,t):n(e,t)}},function(e,t,r){\"use strict\";t.a=\"2.2.1\"},function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return a});var n=r(0);function a(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=Object(n.a)(e.pixelData),a=!(o(e.smallestPixelValue)&&o(e.largestPixelValue));!0!==t||a?(e.smallestPixelValue=r.min,e.largestPixelValue=r.max):(e.smallestPixelValue!==r.min&&console.warn(\"Image smallestPixelValue tag is incorrect. Rendering performance will suffer considerably.\"),e.largestPixelValue!==r.max&&console.warn(\"Image largestPixelValue tag is incorrect. Rendering performance will suffer considerably.\"))}function o(e){return\"number\"==typeof e}},function(e,t,r){\"use strict\";var c=function(e,t){var r=t.buffer,a=t.byteOffset,n=t.length;return 16===e.bitsAllocated?(a%2&&(r=r.slice(a),a=0),0===e.pixelRepresentation?e.pixelData=new Uint16Array(r,a,n/2):e.pixelData=new Int16Array(r,a,n/2)):8===e.bitsAllocated||1===e.bitsAllocated?e.pixelData=t:32===e.bitsAllocated&&(a%2&&(r=r.slice(a),a=0),e.pixelData=new Float32Array(r,a,n/4)),e};var f=function(e,t){if(16===e.bitsAllocated){var r=t.buffer,a=t.byteOffset,n=t.length;a%2&&(r=r.slice(a),a=0),0===e.pixelRepresentation?e.pixelData=new Uint16Array(r,a,n/2):e.pixelData=new Int16Array(r,a,n/2);for(var o=0;o<e.pixelData.length;o++)e.pixelData[o]=(255&(i=e.pixelData[o]))<<8|i>>8&255}else 8===e.bitsAllocated&&(e.pixelData=t);var i;return e};var d=function(e,t){if(8===e.bitsAllocated)return e.planarConfiguration?function(e,t){for(var r=t,a=e.rows*e.columns,n=new ArrayBuffer(a*e.samplesPerPixel),o=new DataView(r.buffer,r.byteOffset),i=new Int8Array(r.buffer,r.byteOffset),l=new Int8Array(n),s=0,u=o.getInt32(0,!0),c=0;c<u;++c){s=c*a;var f=o.getInt32(4*(c+1),!0),d=o.getInt32(4*(c+2),!0);0===d&&(d=r.length);for(var p=a*u;f<d;){var m=i[f++];if(0<=m&&m<=127)for(var g=0;g<m+1&&s<p;++g)l[s]=i[f++],s++;else if(m<=-1&&-127<=m)for(var v=i[f++],x=0;x<1-m&&s<p;++x)l[s]=v,s++}}return e.pixelData=new Uint8Array(n),e}(e,t):function(e,t){for(var r=t,a=e.rows*e.columns,n=new ArrayBuffer(a*e.samplesPerPixel),o=new DataView(r.buffer,r.byteOffset),i=new Int8Array(r.buffer,r.byteOffset),l=new Int8Array(n),s=0,u=o.getInt32(0,!0),c=0;c<u;++c){s=c;var f=o.getInt32(4*(c+1),!0),d=o.getInt32(4*(c+2),!0);0===d&&(d=r.length);for(var p=a*u;f<d;){var m=i[f++];if(0<=m&&m<=127)for(var g=0;g<m+1&&s<p;++g)l[s]=i[f++],s+=e.samplesPerPixel;else if(m<=-1&&-127<=m)for(var v=i[f++],x=0;x<1-m&&s<p;++x)l[s]=v,s+=e.samplesPerPixel}}return e.pixelData=new Uint8Array(n),e}(e,t);if(16===e.bitsAllocated)return function(e,t){for(var r=t,a=e.rows*e.columns,n=new ArrayBuffer(a*e.samplesPerPixel*2),o=new DataView(r.buffer,r.byteOffset),i=new Int8Array(r.buffer,r.byteOffset),l=new Int8Array(n),s=o.getInt32(0,!0),u=0;u<s;++u){var c=0,f=0===u?1:0,d=o.getInt32(4*(u+1),!0),p=o.getInt32(4*(u+2),!0);for(0===p&&(p=r.length);d<p;){var m=i[d++];if(0<=m&&m<=127)for(var g=0;g<m+1&&c<a;++g)l[2*c+f]=i[d++],c++;else if(m<=-1&&-127<=m)for(var v=i[d++],x=0;x<1-m&&c<a;++x)l[2*c+f]=v,c++}}return 0===e.pixelRepresentation?e.pixelData=new Uint16Array(n):e.pixelData=new Int16Array(n),e}(e,t);throw new Error(\"unsupported pixel format for RLE\")};var p=function(e,t){if(\"undefined\"==typeof JpegImage)throw new Error(\"No JPEG Baseline decoder loaded\");var r=new JpegImage;return r.parse(t),r.colorTransform=!1,8===e.bitsAllocated?(e.pixelData=r.getData(e.columns,e.rows),e):16===e.bitsAllocated?(e.pixelData=r.getData16(e.columns,e.rows),e):void 0};var m=function(e,t){if(\"undefined\"==typeof jpeg||void 0===jpeg.lossless||void 0===jpeg.lossless.Decoder)throw new Error(\"No JPEG Lossless decoder loaded\");var r=e.bitsAllocated<=8?1:2,a=t.buffer,n=(new jpeg.lossless.Decoder).decode(a,t.byteOffset,t.length,r);return 0===e.pixelRepresentation?16===e.bitsAllocated?e.pixelData=new Uint16Array(n.buffer):e.pixelData=new Uint8Array(n.buffer):e.pixelData=new Int16Array(n.buffer),e},g=r(1),v=r(2);t.a=function(e,t,r,a,n){var o=(new Date).getTime();if(\"1.2.840.10008.1.2\"===t)e=c(e,r);else if(\"1.2.840.10008.1.2.1\"===t)e=c(e,r);else if(\"1.2.840.10008.1.2.2\"===t)e=f(e,r);else if(\"1.2.840.10008.1.2.1.99\"===t)e=c(e,r);else if(\"1.2.840.10008.1.2.5\"===t)e=d(e,r);else if(\"1.2.840.10008.1.2.4.50\"===t)e=p(e,r);else if(\"1.2.840.10008.1.2.4.51\"===t)e=p(e,r);else if(\"1.2.840.10008.1.2.4.57\"===t)e=m(e,r);else if(\"1.2.840.10008.1.2.4.70\"===t)e=m(e,r);else if(\"1.2.840.10008.1.2.4.80\"===t)e=Object(g.a)(e,r);else if(\"1.2.840.10008.1.2.4.81\"===t)e=Object(g.a)(e,r);else if(\"1.2.840.10008.1.2.4.90\"===t)e=Object(v.a)(e,r,a,n);else{if(\"1.2.840.10008.1.2.4.91\"!==t)throw new Error(\"no decoder for transfer syntax \".concat(t));e=Object(v.a)(e,r,a,n)}var i=void 0!==e.pixelRepresentation&&1===e.pixelRepresentation,l=i&&void 0!==e.bitsStored?32-e.bitsStored:void 0;if(i&&void 0!==l)for(var s=0;s<e.pixelData.length;s++)e.pixelData[s]=e.pixelData[s]<<l>>l;var u=(new Date).getTime();return e.decodeTimeInMS=u-o,e}},function(e,t,r){\"use strict\";r.r(t);var a=function(e,t){if(void 0===e)throw new Error(\"decodeRGB: rgbBuffer must not be undefined\");if(e.length%3!=0)throw new Error(\"decodeRGB: rgbBuffer length must be divisible by 3\");for(var r=e.length/3,a=0,n=0,o=0;o<r;o++)t[n++]=e[a++],t[n++]=e[a++],t[n++]=e[a++],t[n++]=255},n=function(e,t){if(void 0===e)throw new Error(\"decodeRGB: rgbBuffer must not be undefined\");if(e.length%3!=0)throw new Error(\"decodeRGB: rgbBuffer length must be divisible by 3\");for(var r=e.length/3,a=0,n=0,o=r,i=2*r,l=0;l<r;l++)t[a++]=e[n++],t[a++]=e[o++],t[a++]=e[i++],t[a++]=255},o=function(e,t){if(void 0===e)throw new Error(\"decodeRGB: ybrBuffer must not be undefined\");if(e.length%3!=0)throw new Error(\"decodeRGB: ybrBuffer length must be divisble by 3\");for(var r=e.length/3,a=0,n=0,o=0;o<r;o++){var i=e[a++],l=e[a++],s=e[a++];t[n++]=i+1.402*(s-128),t[n++]=i-.34414*(l-128)-.71414*(s-128),t[n++]=i+1.772*(l-128),t[n++]=255}},i=function(e,t){if(void 0===e)throw new Error(\"decodeRGB: ybrBuffer must not be undefined\");if(e.length%3!=0)throw new Error(\"decodeRGB: ybrBuffer length must be divisble by 3\");for(var r=e.length/3,a=0,n=0,o=r,i=2*r,l=0;l<r;l++){var s=e[n++],u=e[o++],c=e[i++];t[a++]=s+1.402*(c-128),t[a++]=s-.34414*(u-128)-.71414*(c-128),t[a++]=s+1.772*(u-128),t[a++]=255}};function x(e,t){for(var r=e.length,a=new Uint8ClampedArray(r),n=0;n<r;++n)a[n]=e[n]>>t;return a}var l=function(e,t){for(var r=e.columns*e.rows,a=e.pixelData,n=e.redPaletteColorLookupTableData,o=e.greenPaletteColorLookupTableData,i=e.bluePaletteColorLookupTableData,l=e.redPaletteColorLookupTableData.length,s=0,u=0,c=e.redPaletteColorLookupTableDescriptor[1],f=8===e.redPaletteColorLookupTableDescriptor[2]?0:8,d=x(n,f),p=x(o,f),m=x(i,f),g=0;g<r;++g){var v=a[s++];v<c?v=0:c+l-1<v?v=l-1:v-=c,t[u++]=d[v],t[u++]=p[v],t[u++]=m[v],t[u++]=255}};function s(e,t){if(e.elements[t]&&6===e.elements[t].length)return[e.uint16(t,0),e.uint16(t,1),e.uint16(t,2)]}function u(e,t,r){for(var a=[],n=e.elements[t],o=0;o<r[0];o++)16===r[2]?a[o]=e.uint16(t,o):a[o]=e.byteArray[o+n.dataOffset];return a}var g=function(e){var t,r,a,n={samplesPerPixel:e.uint16(\"x00280002\"),photometricInterpretation:e.string(\"x00280004\"),rows:e.uint16(\"x00280010\"),columns:e.uint16(\"x00280011\"),bitsAllocated:e.uint16(\"x00280100\"),bitsStored:e.uint16(\"x00280101\"),highBit:e.uint16(\"x00280102\"),pixelRepresentation:e.uint16(\"x00280103\"),planarConfiguration:e.uint16(\"x00280006\"),pixelAspectRatio:e.string(\"x00280034\")};return r=n,a=(t=e).uint16(\"x00280103\"),r.largestPixelValue=0===a?(r.smallestPixelValue=t.uint16(\"x00280106\"),t.uint16(\"x00280107\")):(r.smallestPixelValue=t.int16(\"x00280106\"),t.int16(\"x00280107\")),\"PALETTE COLOR\"===n.photometricInterpretation&&e.elements.x00281101&&function(e,t){t.redPaletteColorLookupTableDescriptor=s(e,\"x00281101\"),t.greenPaletteColorLookupTableDescriptor=s(e,\"x00281102\"),t.bluePaletteColorLookupTableDescriptor=s(e,\"x00281103\"),0===t.redPaletteColorLookupTableDescriptor[0]&&(t.redPaletteColorLookupTableDescriptor[0]=65536,t.greenPaletteColorLookupTableDescriptor[0]=65536,t.bluePaletteColorLookupTableDescriptor[0]=65536);var r=t.redPaletteColorLookupTableDescriptor[0],a=e.elements.x00281201.length===r?8:16;t.redPaletteColorLookupTableDescriptor[2]!==a&&(t.redPaletteColorLookupTableDescriptor[2]=a,t.greenPaletteColorLookupTableDescriptor[2]=a,t.bluePaletteColorLookupTableDescriptor[2]=a),t.redPaletteColorLookupTableData=u(e,\"x00281201\",t.redPaletteColorLookupTableDescriptor),t.greenPaletteColorLookupTableData=u(e,\"x00281202\",t.greenPaletteColorLookupTableDescriptor),t.bluePaletteColorLookupTableData=u(e,\"x00281203\",t.bluePaletteColorLookupTableDescriptor)}(e,n),n};function c(e,t){var r=t.uint16(\"x00283002\",0);0===r&&(r=65535);for(var a={id:\"1\",firstValueMapped:0===e?t.uint16(\"x00283002\",1):t.int16(\"x00283002\",1),numBitsPerEntry:t.uint16(\"x00283002\",2),lut:[]},n=0;n<r;n++)a.lut[n]=0===e?t.uint16(\"x00283006\",n):t.int16(\"x00283006\",n);return a}var v=function(e,t){if(t&&t.items.length){for(var r=[],a=0;a<t.items.length;a++){var n=c(e,t.items[a].dataSet);n&&r.push(n)}return r}};var h=function(e){var t=e.string(\"x00080016\");if(\"1.2.840.10008.5.1.4.1.1.2\"===t||\"1.2.840.10008.5.1.4.1.1.2.1\"===t)return 1;var r,a,n,o=e.floatString(\"x00281052\"),i=e.floatString(\"x00281053\");return void 0===o||void 0===i?e.elements.x00283000&&0<e.elements.x00283000.length?0:e.uint16(\"x00280103\"):(a=(r=e).uint16(\"x00280103\"),n=r.uint16(\"x00280101\"),(0===a?0:-1<<n-1)*i+o<0?1:0)};var w=function(e,t,r){var a=[],n=e.string(t);if(n){var o=n.split(\"\\\\\");if(!(r&&o.length<r)){for(var i=0;i<o.length;i++)a.push(parseFloat(o[i]));return a}}};var d=function(e,t,r){return t=t||0,e&&e.Value?e.Value.length<=t?r:e.Value[t]:r};var f=function(e,t,r){var a=d(e,t,r);if(void 0!==a)return parseFloat(a)};var p=function(e,t){var r=d(e,t);if(void 0!==r)return parseFloat(r)};var m=function(e,t){if(e&&e.Value&&!(t&&e.Value.length<t)){for(var r=[],a=0;a<e.Value.length;a++)r.push(parseFloat(e.Value[a]));return r}},b=[];var y={add:function(e,t){b[e]=t},get:function(e){return b[e]},remove:function(e){b[e]=void 0},purge:function(){b=[]}};var D=function(e,t){var r=fe.dicomParser,a=y.get(t);if(a){if(\"generalSeriesModule\"===e)return{modality:d(a[\"00080060\"]),seriesInstanceUID:d(a[\"0020000e\"]),seriesNumber:p(a[\"00200011\"]),studyInstanceUID:d(a[\"0020000d\"]),seriesDate:r.parseDA(d(a[\"00080021\"])),seriesTime:r.parseTM(d(a[\"00080031\"],0,\"\"))};if(\"patientStudyModule\"===e)return{patientAge:p(a[\"00101010\"]),patientSize:p(a[\"00101020\"]),patientWeight:p(a[\"00101030\"])};if(\"imagePlaneModule\"===e){var n=m(a[\"00200037\"],6),o=m(a[\"00200032\"],3),i=m(a[\"00280030\"],2),l=null,s=null;i&&(s=i[0],l=i[1]);var u=null,c=null;return n&&(u=[parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2])],c=[parseFloat(n[3]),parseFloat(n[4]),parseFloat(n[5])]),{frameOfReferenceUID:d(a[\"00200052\"]),rows:p(a[\"00280010\"]),columns:p(a[\"00280011\"]),imageOrientationPatient:n,rowCosines:u,columnCosines:c,imagePositionPatient:o,sliceThickness:p(a[\"00180050\"]),sliceLocation:p(a[\"00201041\"]),pixelSpacing:i,rowPixelSpacing:s,columnPixelSpacing:l}}if(\"imagePixelModule\"===e)return{samplesPerPixel:p(a[\"00280002\"]),photometricInterpretation:d(a[\"00280004\"]),rows:p(a[\"00280010\"]),columns:p(a[\"00280011\"]),bitsAllocated:p(a[\"00280100\"]),bitsStored:p(a[\"00280101\"]),highBit:d(a[\"00280102\"]),pixelRepresentation:p(a[\"00280103\"]),planarConfiguration:p(a[\"00280006\"]),pixelAspectRatio:d(a[\"00280034\"]),smallestPixelValue:p(a[\"00280106\"]),largestPixelValue:p(a[\"00280107\"]),redPaletteColorLookupTableDescriptor:m(a[\"00281101\"]),greenPaletteColorLookupTableDescriptor:m(a[\"00281102\"]),bluePaletteColorLookupTableDescriptor:m(a[\"00281103\"]),redPaletteColorLookupTableData:m(a[\"00281201\"]),greenPaletteColorLookupTableData:m(a[\"00281202\"]),bluePaletteColorLookupTableData:m(a[\"00281203\"])};if(\"voiLutModule\"===e)return{windowCenter:m(a[\"00281050\"],1),windowWidth:m(a[\"00281051\"],1)};if(\"modalityLutModule\"===e)return{rescaleIntercept:p(a[\"00281052\"]),rescaleSlope:p(a[\"00281053\"]),rescaleType:d(a[\"00281054\"])};if(\"sopCommonModule\"===e)return{sopClassUID:d(a[\"00080016\"]),sopInstanceUID:d(a[\"00080018\"])};if(\"petIsotopeModule\"===e){var f=d(a[\"00540016\"]);if(void 0===f)return;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:r.parseTM(d(f[\"00181072\"],0,\"\")),radionuclideTotalDose:p(f[\"00181074\"]),radionuclideHalfLife:p(f[\"00181075\"])}}}}};function P(e,t,r){if(r+e.length>t.length)return!1;for(var a=r,n=0;n<e.length;n++)if(e[n]!==t[a++])return!1;return!0}var T=function(e,t,r){r=r||0;for(var a=function(e){for(var t=new Uint8Array(e.length),r=0,a=e.length;r<a;r++)t[r]=e.charCodeAt(r);return t}(t),n=r;n<e.length;n++)if(a[0]===e[n]&&P(a,e,n))return n;return-1},I={beforeSend:function(){},imageCreated:function(){},strict:!1,useWebWorkers:!0,decodeConfig:{usePDFJS:!1}};function C(e){I=Object.assign(I,e)}function k(){return I}var A=function(o,i){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},s=fe.cornerstone,u=k();return new Promise(function(t,r){var a=new XMLHttpRequest;a.open(\"get\",o,!0),a.responseType=\"arraybuffer\",u.beforeSend(a,i,n,l),Object.keys(n).forEach(function(e){a.setRequestHeader(e,n[e])}),l.deferred={resolve:t,reject:r},l.url=o,l.imageId=i,a.onloadstart=function(e){u.onloadstart&&u.onloadstart(e,l);var t={url:o,imageId:i};s.triggerEvent(s.events,\"cornerstoneimageloadstart\",t)},a.onloadend=function(e){u.onloadend&&u.onloadend(e,l);var t={url:o,imageId:i};s.triggerEvent(s.events,\"cornerstoneimageloadend\",t)},a.onreadystatechange=function(e){u.onreadystatechange?u.onreadystatechange(e,l):4===a.readyState&&(200===a.status?t(a.response,a):r(a))},a.onprogress=function(e){var t,r,a=e.loaded;e.lengthComputable&&(t=e.total,r=Math.round(a/t*100)),u.onprogress&&u.onprogress(e,l);var n={url:o,imageId:i,loaded:a,total:t,percentComplete:r};s.triggerEvent(s.events,\"cornerstoneimageloadprogress\",n)},a.send()})},L={xhrRequest:A,setOptions:C,getOptions:k};var S=function(e,t){var r={accept:2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"application/octet-stream\"};return new Promise(function(s,u){A(e,t,r).then(function(e){var t=new Uint8Array(e),r=T(t,\"\\r\\n\\r\\n\");-1===r&&u(new Error(\"invalid response - no multipart mime header\"));var a=function(e,t,r){t=t||0,r=r||e.length-t;for(var a=\"\",n=t;n<t+r;n++)a+=String.fromCharCode(e[n]);return a}(t,0,r).split(\"\\r\\n\"),n=function(e){for(var t=0;t<e.length;t++)if(\"--\"===e[t].substr(0,2))return e[t]}(a);n||u(new Error(\"invalid response - no boundary marker\"));var o=r+4,i=T(t,n,o);-1===i&&u(new Error(\"invalid response - terminating boundary not found\"));var l=i-o-2;s({contentType:function(e){for(var t=0;t<e.length;t++)if(\"Content-Type:\"===e[t].substr(0,13))return e[t].substr(13).trim()}(a),imageFrame:{pixelData:new Uint8Array(e,o,l)}})})})};var E,O=function(e){var t=fe.cornerstone.metaData.get(\"imagePixelModule\",e);return{samplesPerPixel:t.samplesPerPixel,photometricInterpretation:t.photometricInterpretation,planarConfiguration:t.planarConfiguration,rows:t.rows,columns:t.columns,bitsAllocated:t.bitsAllocated,bitsStored:t.bitsStored,pixelRepresentation:t.pixelRepresentation,smallestPixelValue:t.smallestPixelValue,largestPixelValue:t.largestPixelValue,redPaletteColorLookupTableDescriptor:t.redPaletteColorLookupTableDescriptor,greenPaletteColorLookupTableDescriptor:t.greenPaletteColorLookupTableDescriptor,bluePaletteColorLookupTableDescriptor:t.bluePaletteColorLookupTableDescriptor,redPaletteColorLookupTableData:t.redPaletteColorLookupTableData,greenPaletteColorLookupTableData:t.greenPaletteColorLookupTableData,bluePaletteColorLookupTableData:t.bluePaletteColorLookupTableData,pixelData:void 0}},M=0,_=[],R=[],W=k(),U={maxWebWorkers:navigator.hardwareConcurrency||1,startWebWorkersOnDemand:!0,webWorkerPath:\"../../dist/cornerstoneWADOImageLoaderWebWorker.js\",webWorkerTaskPaths:[],taskConfiguration:{decodeTask:{loadCodecsOnStartup:!0,initializeCodecsOnStartup:!1,codecsPath:\"../dist/cornerstoneWADOImageLoaderCodecs.js\",usePDFJS:!1,strict:W.strict}}},B={maxWebWorkers:0,numWebWorkers:0,numTasksQueued:0,numTasksExecuting:0,numTasksCompleted:0,totalTaskTimeInMS:0,totalTimeDelayedInMS:0};function V(){if(_.length){for(var e=0;e<R.length;e++)if(\"ready\"===R[e].status){R[e].status=\"busy\";var t=_.shift();t.start=(new Date).getTime();var r=(new Date).getTime();return B.totalTimeDelayedInMS+=r-t.added,R[e].task=t,R[e].worker.postMessage({taskType:t.taskType,workerIndex:e,data:t.data},t.transferList),void B.numTasksExecuting++}R.length<E.maxWebWorkers&&j()}}function F(e){if(\"initialize\"===e.data.taskType)R[e.data.workerIndex].status=\"ready\",V();else{var t=R[e.data.workerIndex].task.start;R[e.data.workerIndex].task.deferred.resolve(e.data.result),R[e.data.workerIndex].task=void 0,B.numTasksExecuting--,R[e.data.workerIndex].status=\"ready\",B.numTasksCompleted++;var r=(new Date).getTime();B.totalTaskTimeInMS+=r-t,V()}}function j(){if(!(R.length>=E.maxWebWorkers)){var e=new Worker(E.webWorkerPath);R.push({worker:e,status:\"initializing\"}),e.addEventListener(\"message\",F),e.postMessage({taskType:\"initialize\",workerIndex:R.length-1,config:E})}}function G(e){if(e=e||U,E)throw new Error(\"WebWorkerManager already initialized\");if((E=e).maxWebWorkers=E.maxWebWorkers||navigator.hardwareConcurrency||1,!E.startWebWorkersOnDemand)for(var t=0;t<E.maxWebWorkers;t++)j()}var J={initialize:G,loadWebWorkerTask:function(e,t){E.webWorkerTaskPaths.push(e),t&&(E.taskConfiguration=Object.assign(E.taskConfiguration,t));for(var r=0;r<R.length;r++)R[r].worker.postMessage({taskType:\"loadWebWorkerTask\",workerIndex:R.length-1,sourcePath:e,config:E})},addTask:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length?arguments[3]:void 0;E||G();var n,o={},i=new Promise(function(e,t){o={resolve:e,reject:t}});for(n=0;n<_.length&&!(_[n].priority<r);n++);var l=M++;return _.splice(n,0,{taskId:l,taskType:e,status:\"ready\",added:(new Date).getTime(),data:t,deferred:o,priority:r,transferList:a}),V(),{taskId:l,promise:i}},getStatistics:function(){return B.maxWebWorkers=E.maxWebWorkers,B.numWebWorkers=R.length,B.numTasksQueued=_.length,B},setTaskPriority:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0;r<_.length;r++)if(_[r].taskId===e){var a=_.splice(r,1)[0];for(a.priority=t,r=0;r<_.length&&!(_[r].priority<t);r++);return _.splice(r,0,a),!0}return!1},cancelTask:function(e,t){for(var r=0;r<_.length;r++)if(_[r].taskId===e)return _.splice(r,1).deferred.reject(t),!0;return!1}},z=r(0);function q(e){return function(t){var r;try{return decodeURIComponent(escape(t))}catch(e){if((r=e)instanceof URIError)return t;throw r}}(String.fromCharCode.apply(null,Array.prototype.slice.apply(new Uint8Array(e))))}var N=function(i,e,l){var s=(new Date).getTime(),r=new Blob([e],{type:\"image/jpeg\"});return new Promise(function(o,t){var e=new FileReader;void 0===e.readAsBinaryString?e.readAsArrayBuffer(r):e.readAsBinaryString(r),e.onload=function(){var n=new Image;n.onload=function(){l.height=n.height,l.width=n.width,i.rows=n.height,i.columns=n.width;var e=l.getContext(\"2d\");e.drawImage(this,0,0);var t=e.getImageData(0,0,n.width,n.height),r=(new Date).getTime();i.pixelData=t.data,i.imageData=t,i.decodeTimeInMS=r-s;var a=Object(z.a)(i.pixelData);i.smallestPixelValue=a.min,i.largestPixelValue=a.max,o(i)},n.onerror=function(e){t(e)},void 0===e.readAsBinaryString?n.src=\"data:image/jpeg;base64,\".concat(window.btoa(q(e.result))):n.src=\"data:image/jpeg;base64,\".concat(window.btoa(e.result))},e.onerror=function(e){t(e)}})},Y=r(5),H=r(4),K=r(2),Q=r(1),X=!1;function Z(n,o,i,l){var e=l.priority||void 0,t=l.transferPixelData?[i.buffer]:void 0,r=k(),s=r.strict,u=r.decodeConfig;return!1===r.useWebWorkers?(!1===X&&(Object(K.b)(u),Object(Q.b)(u),X=!0),new Promise(function(e,t){try{var r=[n,o,i,u,l],a=Y.a.apply(void 0,r);Object(H.a)(a,s),e(a)}catch(e){t(e)}})):J.addTask(\"decodeTask\",{imageFrame:n,transferSyntax:o,pixelData:i,options:l},e,t).promise}var $=function(e,r,t,a){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};return\"1.2.840.10008.1.2\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.1\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.2\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.1.99\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.5\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.4.50\"===r?8!==e.bitsAllocated||3!==e.samplesPerPixel&&4!==e.samplesPerPixel?Z(e,r,t,n):N(e,t,a):\"1.2.840.10008.1.2.4.51\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.4.57\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.4.70\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.4.80\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.4.81\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.4.90\"===r?Z(e,r,t,n):\"1.2.840.10008.1.2.4.91\"===r?Z(e,r,t,n):new Promise(function(e,t){t(new Error(\"No decoder for transfer syntax \".concat(r)))})},ee=function(e){return\"RGB\"===e||\"PALETTE COLOR\"===e||\"YBR_FULL\"===e||\"YBR_FULL_422\"===e||\"YBR_PARTIAL_422\"===e||\"YBR_PARTIAL_420\"===e||\"YBR_RCT\"===e||\"YBR_ICT\"===e};function te(e,t){0===e.planarConfiguration?a(e.pixelData,t):n(e.pixelData,t)}function re(e,t){var r,a,n=t.data;if(\"RGB\"===e.photometricInterpretation)te(e,n);else if(\"YBR_RCT\"===e.photometricInterpretation)te(e,n);else if(\"YBR_ICT\"===e.photometricInterpretation)te(e,n);else if(\"PALETTE COLOR\"===e.photometricInterpretation)l(e,n);else if(\"YBR_FULL_422\"===e.photometricInterpretation)te(e,n);else{if(\"YBR_FULL\"!==e.photometricInterpretation)throw new Error(\"No color space conversion for photometric interpretation \".concat(e.photometricInterpretation));a=n,0===(r=e).planarConfiguration?o(r.pixelData,a):i(r.pixelData,a)}}var ae=function(e,t){if(t=t||e.transferSyntax,8===e.bitsAllocated&&\"1.2.840.10008.1.2.4.50\"===t&&(3===e.samplesPerPixel||4===e.samplesPerPixel))return!0},ne=\"\";var oe=function(v,e,x,t){if(!e||!e.length)return Promise.reject(new Error(\"The file does not contain image data.\"));var h=fe.cornerstone,w=document.createElement(\"canvas\"),r=O(v),a=$(r,x,e,w,t);return new Promise(function(g,e){a.then(function(e){var t,r=h.metaData.get(\"imagePlaneModule\",v)||{},a=h.metaData.get(\"voiLutModule\",v)||{},n=h.metaData.get(\"modalityLutModule\",v)||{},o=h.metaData.get(\"sopCommonModule\",v)||{},i=ee(e.photometricInterpretation);if(!ae(e,x)&&(32===(t=e).bitsAllocated?t.pixelData=new Float32Array(t.pixelData):16===t.bitsAllocated?0===t.pixelRepresentation?t.pixelData=new Uint16Array(t.pixelData):t.pixelData=new Int16Array(t.pixelData):t.pixelData=new Uint8Array(t.pixelData),i)){w.height=e.rows,w.width=e.columns;var l=w.getContext(\"2d\").createImageData(e.columns,e.rows);re(e,l),e.imageData=l,e.pixelData=l.data;var s=Object(z.a)(e.pixelData);e.smallestPixelValue=s.min,e.largestPixelValue=s.max}var u,c={imageId:v,color:i,columnPixelSpacing:r.columnPixelSpacing,columns:e.columns,height:e.rows,intercept:n.rescaleIntercept?n.rescaleIntercept:0,invert:\"MONOCHROME1\"===e.photometricInterpretation,minPixelValue:e.smallestPixelValue,maxPixelValue:e.largestPixelValue,rowPixelSpacing:r.rowPixelSpacing,rows:e.rows,sizeInBytes:e.pixelData.length,slope:n.rescaleSlope?n.rescaleSlope:1,width:e.columns,windowCenter:a.windowCenter?a.windowCenter[0]:void 0,windowWidth:a.windowWidth?a.windowWidth[0]:void 0,decodeTimeInMS:e.decodeTimeInMS,floatPixelData:void 0};if(e.pixelData instanceof Float32Array){var f=e.pixelData,d=function(e){for(var t=Object(z.a)(e),r=Math.abs(t.max-t.min)/65535,a=t.min,n=e.length,o=new Uint16Array(n),i=65535,l=0,s=0;s<n;s++){var u=Math.floor((e[s]-a)/r);o[s]=u,i=Math.min(i,u),l=Math.max(l,u)}return{min:i,max:l,intPixelData:o,slope:r,intercept:a}}(f);c.minPixelValue=d.min,c.maxPixelValue=d.max,c.slope=d.slope,c.intercept=d.intercept,c.floatPixelData=f,c.getPixelData=function(){return d.intPixelData}}else c.getPixelData=function(){return e.pixelData};if(c.color&&(c.getCanvas=function(){return ne===v||(w.height=c.rows,w.width=c.columns,w.getContext(\"2d\").putImageData(e.imageData,0,0),ne=v),w}),n.modalityLUTSequence&&0<n.modalityLUTSequence.length&&\"1.2.840.10008.5.1.4.1.1.12.1\"!==(u=o.sopClassUID)&&\"1.2.840.10008.5.1.4.1.1.12.2.1\"!==u&&(c.modalityLUT=n.modalityLUTSequence[0]),a.voiLUTSequence&&0<a.voiLUTSequence.length&&(c.voiLUT=a.voiLUTSequence[0]),c.color&&(c.windowWidth=255,c.windowCenter=127),void 0===c.windowCenter||void 0===c.windowWidth){var p=c.maxPixelValue*c.slope+c.intercept,m=c.minPixelValue*c.slope+c.intercept;c.windowWidth=p-m,c.windowCenter=(p+m)/2}g(c)},e)})};var ie=function(o,i){var l=(new Date).getTime(),t=o.substring(7);return{promise:new Promise(function(a,n){if(void 0===y.get(o)){var e=new Error(\"no metadata for imageId \".concat(o));return n(e)}S(t,o,'multipart/related; type=\"application/octet-stream\"').then(function(e){var t=function(e){var t=\"1.2.840.10008.1.2\";if(!e)return t;var r=e.split(\";\"),a={};r.forEach(function(e){var t=e.split(\"=\");if(2===t.length){var r=t[1].trim().replace(/\"/g,\"\");a[t[0].trim()]=r}});var n={\"image/jpeg\":\"1.2.840.10008.1.2.4.70\",\"image/x-dicom-rle\":\"1.2.840.10008.1.2.5\",\"image/x-jls\":\"1.2.840.10008.1.2.4.80\",\"image/jp2\":\"1.2.840.10008.1.2.4.90\",\"image/jpx\":\"1.2.840.10008.1.2.4.92\"};return a[\"transfer-syntax\"]?a[\"transfer-syntax\"]:e&&!Object.keys(a).length&&n[e]?n[e]:a.type&&n[a.type]?n[a.type]:t}(e.contentType),r=e.imageFrame.pixelData;oe(o,r,t,i).then(function(e){var t=(new Date).getTime();e.loadTimeInMS=t-l,a(e)},n)},n)}),cancelFn:void 0}},le={metaData:{getNumberString:f,getNumberValue:p,getNumberValues:m,getValue:d,metaDataProvider:D},findIndexOfString:T,getPixelData:S,loadImage:ie,metaDataManager:y,register:function(e){e.registerImageLoader(\"wadors\",ie),e.metaData.addProvider(D)}};var se,ue,ce=function(e){le.register(e),Le.register(e)},fe={set cornerstone(e){ce(se=e)},get cornerstone(){if(!se){if(!window||!window.cornerstone)throw new Error(\"cornerstoneWADOImageLoader requires a copy of Cornerstone to work properly. Please add cornerstoneWADOImageLoader.external.cornerstone = cornerstone; to your application.\");se=window.cornerstone,ce(se)}return se},set dicomParser(e){ue=e},get dicomParser(){if(!ue){if(!window||!window.dicomParser)throw new Error(\"cornerstoneWADOImageLoader requires a copy of dicomParser to work properly. Please add cornerstoneWADOImageLoader.external.dicomParser = dicomParser; to your application.\");ue=window.dicomParser}return ue}};var de=function(e){var t,r=e.indexOf(\":\"),a=e.substring(r+1),n=a.indexOf(\"frame=\");if(-1!==n){var o=a.substr(n+6);t=parseInt(o,10),a=a.substr(0,n-1)}return{scheme:e.substr(0,r),url:a,frame:t}},pe=0,me={},ge={};function ve(){return{cacheSizeInBytes:pe,numberOfDataSetsCached:Object.keys(me).length}}var xe={isLoaded:function(e){return void 0!==me[e]},load:function(o){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:A,t=2<arguments.length?arguments[2]:void 0,i=fe.cornerstone,l=fe.dicomParser;if(me[o])return new Promise(function(e){me[o].cacheCount++,e(me[o].dataSet)});if(ge[o])return ge[o].cacheCount++,ge[o];var r=e(o,t),s=new Promise(function(a,n){r.then(function(e){var t,r=new Uint8Array(e);try{t=l.parseDicom(r)}catch(e){return n(e)}me[o]={dataSet:t,cacheCount:s.cacheCount},pe+=t.byteArray.length,a(t),i.triggerEvent(i.events,\"datasetscachechanged\",{uri:o,action:\"loaded\",cacheInfo:ve()})},n).then(function(){delete ge[o]},function(){delete ge[o]})});return s.cacheCount=1,ge[o]=s},unload:function(e){var t=fe.cornerstone;me[e]&&(me[e].cacheCount--,0===me[e].cacheCount&&(pe-=me[e].dataSet.byteArray.length,delete me[e],t.triggerEvent(t.events,\"datasetscachechanged\",{uri:e,action:\"unloaded\",cacheInfo:ve()})))},getInfo:ve,purge:function(){me={},ge={}},get:function(e){if(me[e])return me[e].dataSet}};var he=function(e,t){var r=fe.dicomParser,a=de(t),n=xe.get(a.url);if(n){if(\"generalSeriesModule\"===e)return{modality:n.string(\"x00080060\"),seriesInstanceUID:n.string(\"x0020000e\"),seriesNumber:n.intString(\"x00200011\"),studyInstanceUID:n.string(\"x0020000d\"),seriesDate:r.parseDA(n.string(\"x00080021\")),seriesTime:r.parseTM(n.string(\"x00080031\")||\"\")};if(\"patientStudyModule\"===e)return{patientAge:n.intString(\"x00101010\"),patientSize:n.floatString(\"x00101020\"),patientWeight:n.floatString(\"x00101030\")};if(\"imagePlaneModule\"===e){var o=w(n,\"x00200037\",6),i=w(n,\"x00200032\",3),l=w(n,\"x00280030\",2),s=null,u=null;l&&(u=l[0],s=l[1]);var c=null,f=null;return o&&(c=[parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])],f=[parseFloat(o[3]),parseFloat(o[4]),parseFloat(o[5])]),{frameOfReferenceUID:n.string(\"x00200052\"),rows:n.uint16(\"x00280010\"),columns:n.uint16(\"x00280011\"),imageOrientationPatient:o,rowCosines:c,columnCosines:f,imagePositionPatient:i,sliceThickness:n.floatString(\"x00180050\"),sliceLocation:n.floatString(\"x00201041\"),pixelSpacing:l,rowPixelSpacing:u,columnPixelSpacing:s}}if(\"imagePixelModule\"===e)return g(n);if(\"modalityLutModule\"===e)return{rescaleIntercept:n.floatString(\"x00281052\"),rescaleSlope:n.floatString(\"x00281053\"),rescaleType:n.string(\"x00281054\"),modalityLUTSequence:v(n.uint16(\"x00280103\"),n.elements.x00283000)};if(\"voiLutModule\"===e){var d=h(n);return{windowCenter:w(n,\"x00281050\",1),windowWidth:w(n,\"x00281051\",1),voiLUTSequence:v(d,n.elements.x00283010)}}if(\"sopCommonModule\"===e)return{sopClassUID:n.string(\"x00080016\"),sopInstanceUID:n.string(\"x00080018\")};if(\"petIsotopeModule\"===e){var p=n.elements.x00540016;if(void 0===p)return;var m=p.items[0].dataSet;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:r.parseTM(m.string(\"x00181072\")||\"\"),radionuclideTotalDose:m.floatString(\"x00181074\"),radionuclideHalfLife:m.floatString(\"x00181075\")}}}}},we=[];var be={add:function(e){var t=we.push(e);return\"dicomfile:\".concat(t-1)},get:function(e){return we[e]},remove:function(e){we[e]=void 0},purge:function(){we=[]}};function ye(e,t){var r,a=fe.dicomParser;if(e.elements.x7fe00010&&e.elements.x7fe00010.basicOffsetTable.length)return a.readEncapsulatedImageFrame(e,e.elements.x7fe00010,t);if((r=e).intString(\"x00280008\")===r.elements.x7fe00010.fragments.length)return a.readEncapsulatedPixelDataFromFragments(e,e.elements.x7fe00010,t);var n=a.createJPEGBasicOffsetTable(e,e.elements.x7fe00010);return a.readEncapsulatedImageFrame(e,e.elements.x7fe00010,t,n)}var De=function(e,t,r){for(var a=new Uint8Array(r),n=0;n<r;n++){var o=e[Math.floor(n/8)+t],i=n%8;a[n]=o&1<<i?1:0}return a};var Pe=function(e,t){var r,a=e.elements.x7fe00010||e.elements.x7fe00008,n=e.uint16(\"x00280100\"),o=e.uint16(\"x00280010\"),i=e.uint16(\"x00280011\"),l=e.uint16(\"x00280002\"),s=a.dataOffset,u=o*i*l;if(8===n){if((r=s+t*u)>=e.byteArray.length)throw new Error(\"frame exceeds size of pixelData\");return new Uint8Array(e.byteArray.buffer,r,u)}if(16===n){if((r=s+t*u*2)>=e.byteArray.length)throw new Error(\"frame exceeds size of pixelData\");return new Uint8Array(e.byteArray.buffer,r,2*u)}if(1===n){if((r=s+t*u*.125)>=e.byteArray.length)throw new Error(\"frame exceeds size of pixelData\");return De(e.byteArray,r,u)}if(32!==n)throw new Error(\"unsupported pixel format\");if((r=s+t*u*4)>=e.byteArray.length)throw new Error(\"frame exceeds size of pixelData\");return new Uint8Array(e.byteArray.buffer,r,4*u)};var Te=function(e){var t=de(e),r=parseInt(t.url,10),a=be.get(r);return new Promise(function(r,e){var t=new FileReader;t.onload=function(e){var t=e.target.result;r(t)},t.onerror=e,t.readAsArrayBuffer(a)})};var Ie=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=e.elements.x7fe00010||e.elements.x7fe00008;return r?r.encapsulatedPixelData?ye(e,t):Pe(e,t):null};function Ce(e,s){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=3<arguments.length?arguments[3]:void 0,f=4<arguments.length?arguments[4]:void 0,d=5<arguments.length?arguments[5]:void 0,p=(new Date).getTime(),m={cancelFn:void 0};return m.promise=new Promise(function(i,l){e.then(function(r){var t,e=Ie(r,u),a=r.string(\"x00020010\"),n=(new Date).getTime(),o=oe(s,e,a,f);t=s,m.decache=function(){var e=de(t);xe.unload(e.url)},o.then(function(e){e.data=r,e.sharedCacheKey=c;var t=(new Date).getTime();e.loadTimeInMS=n-p,e.totalTimeInMS=t-p,void 0!==d&&void 0!==d.imageDoneCallback&&d.imageDoneCallback(e),i(e)},function(e){l({error:e,dataSet:r})})},function(e){l({error:e})})}),m}function ke(e){return\"dicomweb\"===e||\"wadouri\"===e?A:\"dicomfile\"===e?Te:void 0}function Ae(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=de(e),a=(t=Object.assign({},t)).loader;return void 0===a?a=ke(r.scheme):delete t.loader,xe.isLoaded(r.url)?function(i,l){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,u=3<arguments.length?arguments[3]:void 0,c=4<arguments.length?arguments[4]:void 0,f=(new Date).getTime();return{promise:new Promise(function(r,t){var e,a=(new Date).getTime();try{var n=Ie(i,s),o=i.string(\"x00020010\");e=oe(l,n,o,c)}catch(e){return void t({error:e,dataSet:i})}e.then(function(e){e.data=i,e.sharedCacheKey=u;var t=(new Date).getTime();e.loadTimeInMS=a-f,e.totalTimeInMS=t-f,r(e)},t)}),cancelFn:void 0}}(xe.get(r.url,a,e),e,r.frame,r.url,t):Ce(xe.load(r.url,a,e),e,r.frame,r.url,t)}var Le={metaData:{getImagePixelModule:g,getLUTs:v,getModalityLUTOutputPixelRepresentation:h,getNumberValues:w,metaDataProvider:he},dataSetCacheManager:xe,fileManager:be,getEncapsulatedImageFrame:ye,getUncompressedImageFrame:Pe,loadFileRequest:Te,loadImageFromPromise:Ce,getLoaderForScheme:ke,loadImage:Ae,parseImageId:de,unpackBinaryFrame:De,register:function(e){e.registerImageLoader(\"dicomweb\",Ae),e.registerImageLoader(\"wadouri\",Ae),e.registerImageLoader(\"dicomfile\",Ae),e.metaData.addProvider(he)}};var Se=function(e){C(e)},Ee=r(3);r.d(t,\"convertRGBColorByPixel\",function(){return a}),r.d(t,\"convertRGBColorByPlane\",function(){return n}),r.d(t,\"convertYBRFullByPixel\",function(){return o}),r.d(t,\"convertYBRFullByPlane\",function(){return i}),r.d(t,\"convertPALETTECOLOR\",function(){return l}),r.d(t,\"wadouri\",function(){return Le}),r.d(t,\"wadors\",function(){return le}),r.d(t,\"configure\",function(){return Se}),r.d(t,\"convertColorSpace\",function(){return re}),r.d(t,\"createImage\",function(){return oe}),r.d(t,\"decodeImageFrame\",function(){return $}),r.d(t,\"decodeJPEGBaseline8BitColor\",function(){return N}),r.d(t,\"getImageFrame\",function(){return O}),r.d(t,\"getMinMax\",function(){return z.a}),r.d(t,\"isColorImage\",function(){return ee}),r.d(t,\"isJPEGBaseline8BitColor\",function(){return ae}),r.d(t,\"webWorkerManager\",function(){return J}),r.d(t,\"version\",function(){return Ee.a}),r.d(t,\"internal\",function(){return L}),r.d(t,\"external\",function(){return fe})}])});\n//# sourceMappingURL=cornerstoneWADOImageLoader.min.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2Nvcm5lcnN0b25lLXdhZG8taW1hZ2UtbG9hZGVyL2Rpc3QvY29ybmVyc3RvbmVXQURPSW1hZ2VMb2FkZXIubWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9jb3JuZXJzdG9uZS13YWRvLWltYWdlLWxvYWRlci9kaXN0L2Nvcm5lcnN0b25lV0FET0ltYWdlTG9hZGVyLm1pbi5qcz80NDg2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBjb3JuZXJzdG9uZS13YWRvLWltYWdlLWxvYWRlciAtIDIuMi4xIC0gMjAxOC0xMC0yOSB8IChjKSAyMDE2IENocmlzIEhhZmV5IHwgaHR0cHM6Ly9naXRodWIuY29tL2Nvcm5lcnN0b25lanMvY29ybmVyc3RvbmVXQURPSW1hZ2VMb2FkZXIgKi9cbiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiY29ybmVyc3RvbmVXQURPSW1hZ2VMb2FkZXJcIixbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmNvcm5lcnN0b25lV0FET0ltYWdlTG9hZGVyPXQoKTplLmNvcm5lcnN0b25lV0FET0ltYWdlTG9hZGVyPXQoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgYT17fTtmdW5jdGlvbiBuKGUpe2lmKGFbZV0pcmV0dXJuIGFbZV0uZXhwb3J0czt2YXIgdD1hW2VdPXtpOmUsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gcltlXS5jYWxsKHQuZXhwb3J0cyx0LHQuZXhwb3J0cyxuKSx0Lmw9ITAsdC5leHBvcnRzfXJldHVybiBuLm09cixuLmM9YSxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBhIGluIHQpbi5kKHIsYSxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLGEpKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTYpfShbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuYT1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1lWzBdLGE9ZVswXSxuPWUubGVuZ3RoLG89MTtvPG47bysrKXQ9ZVtvXSxyPU1hdGgubWluKHIsdCksYT1NYXRoLm1heChhLHQpO3JldHVybnttaW46cixtYXg6YX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG07ZnVuY3Rpb24gYSgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBDaGFyTFMpdGhyb3cgbmV3IEVycm9yKFwiTm8gSlBFRy1MUyBkZWNvZGVyIGxvYWRlZFwiKTtpZighKG18fChtPUNoYXJMUygpKSYmbS5fanBlZ2xzX2RlY29kZSkpdGhyb3cgbmV3IEVycm9yKFwiSlBFRy1MUyBmYWlsZWQgdG8gaW5pdGlhbGl6ZVwiKX1yLmQodCxcImJcIixmdW5jdGlvbigpe3JldHVybiBhfSksdC5hPWZ1bmN0aW9uKGUsdCl7YSgpO3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bS5fbWFsbG9jKGUubGVuZ3RoKTttLndyaXRlQXJyYXlUb01lbW9yeShlLHIpO3ZhciBhPW0uX21hbGxvYyg0KSxuPW0uX21hbGxvYyg0KSxvPW0uX21hbGxvYyg0KSxpPW0uX21hbGxvYyg0KSxsPW0uX21hbGxvYyg0KSxzPW0uX21hbGxvYyg0KSx1PW0uX21hbGxvYyg0KSxjPW0uX21hbGxvYyg0KSxmPW0uX21hbGxvYyg0KSxkPXtyZXN1bHQ6bS5jY2FsbChcImpwZWdsc19kZWNvZGVcIixcIm51bWJlclwiLFtcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCJdLFtyLGUubGVuZ3RoLGEsbixvLGksbCxzLGMsdSxmXSksd2lkdGg6bS5nZXRWYWx1ZShvLFwiaTMyXCIpLGhlaWdodDptLmdldFZhbHVlKGksXCJpMzJcIiksYml0c1BlclNhbXBsZTptLmdldFZhbHVlKGwsXCJpMzJcIiksc3RyaWRlOm0uZ2V0VmFsdWUocyxcImkzMlwiKSxjb21wb25lbnRzOm0uZ2V0VmFsdWUoYyxcImkzMlwiKSxhbGxvd2VkTG9zc3lFcnJvcjptLmdldFZhbHVlKHUsXCJpMzJcIiksaW50ZXJsZWF2ZU1vZGU6bS5nZXRWYWx1ZShmLFwiaTMyXCIpLHBpeGVsRGF0YTp2b2lkIDB9LHA9bS5nZXRWYWx1ZShhLFwiKlwiKTtyZXR1cm4gZC5iaXRzUGVyU2FtcGxlPD04PyhkLnBpeGVsRGF0YT1uZXcgVWludDhBcnJheShkLndpZHRoKmQuaGVpZ2h0KmQuY29tcG9uZW50cyksZC5waXhlbERhdGEuc2V0KG5ldyBVaW50OEFycmF5KG0uSEVBUDguYnVmZmVyLHAsZC5waXhlbERhdGEubGVuZ3RoKSkpOnQ/KGQucGl4ZWxEYXRhPW5ldyBJbnQxNkFycmF5KGQud2lkdGgqZC5oZWlnaHQqZC5jb21wb25lbnRzKSxkLnBpeGVsRGF0YS5zZXQobmV3IEludDE2QXJyYXkobS5IRUFQMTYuYnVmZmVyLHAsZC5waXhlbERhdGEubGVuZ3RoKSkpOihkLnBpeGVsRGF0YT1uZXcgVWludDE2QXJyYXkoZC53aWR0aCpkLmhlaWdodCpkLmNvbXBvbmVudHMpLGQucGl4ZWxEYXRhLnNldChuZXcgVWludDE2QXJyYXkobS5IRUFQMTYuYnVmZmVyLHAsZC5waXhlbERhdGEubGVuZ3RoKSkpLG0uX2ZyZWUociksbS5fZnJlZShwKSxtLl9mcmVlKGEpLG0uX2ZyZWUobiksbS5fZnJlZShvKSxtLl9mcmVlKGkpLG0uX2ZyZWUobCksbS5fZnJlZShzKSxtLl9mcmVlKGMpLG0uX2ZyZWUoZiksZH0odCwxPT09ZS5waXhlbFJlcHJlc2VudGF0aW9uKTtpZigwIT09ci5yZXN1bHQmJjYhPT1yLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3IoXCJKUEVHLUxTIGRlY29kZXIgZmFpbGVkIHRvIGRlY29kZSBmcmFtZSAoZXJyb3IgY29kZSBcIi5jb25jYXQoci5yZXN1bHQsXCIpXCIpKTtyZXR1cm4gZS5jb2x1bW5zPXIud2lkdGgsZS5yb3dzPXIuaGVpZ2h0LGUucGl4ZWxEYXRhPXIucGl4ZWxEYXRhLGV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGg7ZnVuY3Rpb24gbihlLHQpe3ZhciByPWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1oLl9tYWxsb2MoZS5sZW5ndGgpO2gud3JpdGVBcnJheVRvTWVtb3J5KGUsYSk7dmFyIG49aC5fbWFsbG9jKDQpLG89aC5fbWFsbG9jKDQpLGk9aC5fbWFsbG9jKDQpLGw9aC5fbWFsbG9jKDQpLHM9aC5fbWFsbG9jKDQpLHU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYoMCE9PWguY2NhbGwoXCJqcDJfZGVjb2RlXCIsXCJudW1iZXJcIixbXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIl0sW2EsZS5sZW5ndGgsbixvLGksbCxzXSkpcmV0dXJuIGNvbnNvbGUubG9nKFwiW29wal9kZWNvZGVdIGRlY29kaW5nIGZhaWxlZCFcIiksaC5fZnJlZShhKSxoLl9mcmVlKGguZ2V0VmFsdWUobixcIipcIikpLGguX2ZyZWUoaSksaC5fZnJlZShsKSxoLl9mcmVlKG8pLHZvaWQgaC5fZnJlZShzKTt2YXIgYz1oLmdldFZhbHVlKG4sXCIqXCIpLGY9e2xlbmd0aDpoLmdldFZhbHVlKG8sXCJpMzJcIiksc3g6aC5nZXRWYWx1ZShpLFwiaTMyXCIpLHN5OmguZ2V0VmFsdWUobCxcImkzMlwiKSxuYkNoYW5uZWxzOmguZ2V0VmFsdWUocyxcImkzMlwiKSxwZXJmX3RpbWV0b2RlY29kZTp2b2lkIDAscGl4ZWxEYXRhOnZvaWQgMH0sZD1mLnN4KmYuc3kqZi5uYkNoYW5uZWxzLHA9bmV3IEludDMyQXJyYXkoaC5IRUFQMzIuYnVmZmVyLGMsZCk7aWYoMT09PXQpaWYoVWludDhBcnJheS5mcm9tKWYucGl4ZWxEYXRhPVVpbnQ4QXJyYXkuZnJvbShwKTtlbHNle2YucGl4ZWxEYXRhPW5ldyBVaW50OEFycmF5KGQpO2Zvcih2YXIgbT0wO208ZDttKyspZi5waXhlbERhdGFbbV09cFttXX1lbHNlIGlmKHIpaWYoSW50MTZBcnJheS5mcm9tKWYucGl4ZWxEYXRhPUludDE2QXJyYXkuZnJvbShwKTtlbHNle2YucGl4ZWxEYXRhPW5ldyBJbnQxNkFycmF5KGQpO2Zvcih2YXIgZz0wO2c8ZDtnKyspZi5waXhlbERhdGFbZ109cFtnXX1lbHNlIGlmKFVpbnQxNkFycmF5LmZyb20pZi5waXhlbERhdGE9VWludDE2QXJyYXkuZnJvbShwKTtlbHNle2YucGl4ZWxEYXRhPW5ldyBVaW50MTZBcnJheShkKTtmb3IodmFyIHY9MDt2PGQ7disrKWYucGl4ZWxEYXRhW3ZdPXBbdl19dmFyIHg9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIGYucGVyZl90aW1ldG9kZWNvZGU9eC11LGguX2ZyZWUoYSksaC5fZnJlZShuKSxoLl9mcmVlKGMpLGguX2ZyZWUobyksaC5fZnJlZShpKSxoLl9mcmVlKGwpLGguX2ZyZWUocyksZn0odCxlLmJpdHNBbGxvY2F0ZWQ8PTg/MToyLDE9PT1lLnBpeGVsUmVwcmVzZW50YXRpb24pO3JldHVybiBlLmNvbHVtbnM9ci5zeCxlLnJvd3M9ci5zeSxlLnBpeGVsRGF0YT1yLnBpeGVsRGF0YSwxPHIubmJDaGFubmVscyYmKGUucGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbj1cIlJHQlwiKSxlfWZ1bmN0aW9uIG8oZSl7aWYoIWUudXNlUERGSlMmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBPcGVuSlBFRyl0aHJvdyBuZXcgRXJyb3IoXCJPcGVuSlBFRyBkZWNvZGVyIG5vdCBsb2FkZWRcIik7aWYoIShofHwoaD1PcGVuSlBFRygpKSYmaC5fanAyX2RlY29kZSkpdGhyb3cgbmV3IEVycm9yKFwiT3BlbkpQRUcgZmFpbGVkIHRvIGluaXRpYWxpemVcIil9ci5kKHQsXCJiXCIsZnVuY3Rpb24oKXtyZXR1cm4gb30pLHQuYT1mdW5jdGlvbihlLHQscil7dmFyIGE9Mzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9O3JldHVybiBvKHIpLGEudXNlUERGSlN8fHIudXNlUERGSlM/ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgSnB4SW1hZ2U7ci5wYXJzZSh0KTt2YXIgYT1yLnRpbGVzLmxlbmd0aDtpZigxIT09YSl0aHJvdyBuZXcgRXJyb3IoXCJKUEVHMjAwMCBkZWNvZGVyIHJldHVybmVkIGEgdGlsZUNvdW50IG9mIFwiLmNvbmNhdChhLFwiLCB3aGVuIDEgaXMgZXhwZWN0ZWRcIikpO3JldHVybiBlLmNvbHVtbnM9ci53aWR0aCxlLnJvd3M9ci5oZWlnaHQsZS5waXhlbERhdGE9ci50aWxlc1swXS5pdGVtcyxlfShlLHQpOm4oZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmE9XCIyLjIuMVwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kKHQsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gYX0pO3ZhciBuPXIoMCk7ZnVuY3Rpb24gYShlKXt2YXIgdD0hKDE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLHI9T2JqZWN0KG4uYSkoZS5waXhlbERhdGEpLGE9IShvKGUuc21hbGxlc3RQaXhlbFZhbHVlKSYmbyhlLmxhcmdlc3RQaXhlbFZhbHVlKSk7ITAhPT10fHxhPyhlLnNtYWxsZXN0UGl4ZWxWYWx1ZT1yLm1pbixlLmxhcmdlc3RQaXhlbFZhbHVlPXIubWF4KTooZS5zbWFsbGVzdFBpeGVsVmFsdWUhPT1yLm1pbiYmY29uc29sZS53YXJuKFwiSW1hZ2Ugc21hbGxlc3RQaXhlbFZhbHVlIHRhZyBpcyBpbmNvcnJlY3QuIFJlbmRlcmluZyBwZXJmb3JtYW5jZSB3aWxsIHN1ZmZlciBjb25zaWRlcmFibHkuXCIpLGUubGFyZ2VzdFBpeGVsVmFsdWUhPT1yLm1heCYmY29uc29sZS53YXJuKFwiSW1hZ2UgbGFyZ2VzdFBpeGVsVmFsdWUgdGFnIGlzIGluY29ycmVjdC4gUmVuZGVyaW5nIHBlcmZvcm1hbmNlIHdpbGwgc3VmZmVyIGNvbnNpZGVyYWJseS5cIikpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJ1ZmZlcixhPXQuYnl0ZU9mZnNldCxuPXQubGVuZ3RoO3JldHVybiAxNj09PWUuYml0c0FsbG9jYXRlZD8oYSUyJiYocj1yLnNsaWNlKGEpLGE9MCksMD09PWUucGl4ZWxSZXByZXNlbnRhdGlvbj9lLnBpeGVsRGF0YT1uZXcgVWludDE2QXJyYXkocixhLG4vMik6ZS5waXhlbERhdGE9bmV3IEludDE2QXJyYXkocixhLG4vMikpOjg9PT1lLmJpdHNBbGxvY2F0ZWR8fDE9PT1lLmJpdHNBbGxvY2F0ZWQ/ZS5waXhlbERhdGE9dDozMj09PWUuYml0c0FsbG9jYXRlZCYmKGElMiYmKHI9ci5zbGljZShhKSxhPTApLGUucGl4ZWxEYXRhPW5ldyBGbG9hdDMyQXJyYXkocixhLG4vNCkpLGV9O3ZhciBmPWZ1bmN0aW9uKGUsdCl7aWYoMTY9PT1lLmJpdHNBbGxvY2F0ZWQpe3ZhciByPXQuYnVmZmVyLGE9dC5ieXRlT2Zmc2V0LG49dC5sZW5ndGg7YSUyJiYocj1yLnNsaWNlKGEpLGE9MCksMD09PWUucGl4ZWxSZXByZXNlbnRhdGlvbj9lLnBpeGVsRGF0YT1uZXcgVWludDE2QXJyYXkocixhLG4vMik6ZS5waXhlbERhdGE9bmV3IEludDE2QXJyYXkocixhLG4vMik7Zm9yKHZhciBvPTA7bzxlLnBpeGVsRGF0YS5sZW5ndGg7bysrKWUucGl4ZWxEYXRhW29dPSgyNTUmKGk9ZS5waXhlbERhdGFbb10pKTw8OHxpPj44JjI1NX1lbHNlIDg9PT1lLmJpdHNBbGxvY2F0ZWQmJihlLnBpeGVsRGF0YT10KTt2YXIgaTtyZXR1cm4gZX07dmFyIGQ9ZnVuY3Rpb24oZSx0KXtpZig4PT09ZS5iaXRzQWxsb2NhdGVkKXJldHVybiBlLnBsYW5hckNvbmZpZ3VyYXRpb24/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dCxhPWUucm93cyplLmNvbHVtbnMsbj1uZXcgQXJyYXlCdWZmZXIoYSplLnNhbXBsZXNQZXJQaXhlbCksbz1uZXcgRGF0YVZpZXcoci5idWZmZXIsci5ieXRlT2Zmc2V0KSxpPW5ldyBJbnQ4QXJyYXkoci5idWZmZXIsci5ieXRlT2Zmc2V0KSxsPW5ldyBJbnQ4QXJyYXkobikscz0wLHU9by5nZXRJbnQzMigwLCEwKSxjPTA7Yzx1OysrYyl7cz1jKmE7dmFyIGY9by5nZXRJbnQzMig0KihjKzEpLCEwKSxkPW8uZ2V0SW50MzIoNCooYysyKSwhMCk7MD09PWQmJihkPXIubGVuZ3RoKTtmb3IodmFyIHA9YSp1O2Y8ZDspe3ZhciBtPWlbZisrXTtpZigwPD1tJiZtPD0xMjcpZm9yKHZhciBnPTA7ZzxtKzEmJnM8cDsrK2cpbFtzXT1pW2YrK10scysrO2Vsc2UgaWYobTw9LTEmJi0xMjc8PW0pZm9yKHZhciB2PWlbZisrXSx4PTA7eDwxLW0mJnM8cDsrK3gpbFtzXT12LHMrK319cmV0dXJuIGUucGl4ZWxEYXRhPW5ldyBVaW50OEFycmF5KG4pLGV9KGUsdCk6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dCxhPWUucm93cyplLmNvbHVtbnMsbj1uZXcgQXJyYXlCdWZmZXIoYSplLnNhbXBsZXNQZXJQaXhlbCksbz1uZXcgRGF0YVZpZXcoci5idWZmZXIsci5ieXRlT2Zmc2V0KSxpPW5ldyBJbnQ4QXJyYXkoci5idWZmZXIsci5ieXRlT2Zmc2V0KSxsPW5ldyBJbnQ4QXJyYXkobikscz0wLHU9by5nZXRJbnQzMigwLCEwKSxjPTA7Yzx1OysrYyl7cz1jO3ZhciBmPW8uZ2V0SW50MzIoNCooYysxKSwhMCksZD1vLmdldEludDMyKDQqKGMrMiksITApOzA9PT1kJiYoZD1yLmxlbmd0aCk7Zm9yKHZhciBwPWEqdTtmPGQ7KXt2YXIgbT1pW2YrK107aWYoMDw9bSYmbTw9MTI3KWZvcih2YXIgZz0wO2c8bSsxJiZzPHA7KytnKWxbc109aVtmKytdLHMrPWUuc2FtcGxlc1BlclBpeGVsO2Vsc2UgaWYobTw9LTEmJi0xMjc8PW0pZm9yKHZhciB2PWlbZisrXSx4PTA7eDwxLW0mJnM8cDsrK3gpbFtzXT12LHMrPWUuc2FtcGxlc1BlclBpeGVsfX1yZXR1cm4gZS5waXhlbERhdGE9bmV3IFVpbnQ4QXJyYXkobiksZX0oZSx0KTtpZigxNj09PWUuYml0c0FsbG9jYXRlZClyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dCxhPWUucm93cyplLmNvbHVtbnMsbj1uZXcgQXJyYXlCdWZmZXIoYSplLnNhbXBsZXNQZXJQaXhlbCoyKSxvPW5ldyBEYXRhVmlldyhyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQpLGk9bmV3IEludDhBcnJheShyLmJ1ZmZlcixyLmJ5dGVPZmZzZXQpLGw9bmV3IEludDhBcnJheShuKSxzPW8uZ2V0SW50MzIoMCwhMCksdT0wO3U8czsrK3Upe3ZhciBjPTAsZj0wPT09dT8xOjAsZD1vLmdldEludDMyKDQqKHUrMSksITApLHA9by5nZXRJbnQzMig0Kih1KzIpLCEwKTtmb3IoMD09PXAmJihwPXIubGVuZ3RoKTtkPHA7KXt2YXIgbT1pW2QrK107aWYoMDw9bSYmbTw9MTI3KWZvcih2YXIgZz0wO2c8bSsxJiZjPGE7KytnKWxbMipjK2ZdPWlbZCsrXSxjKys7ZWxzZSBpZihtPD0tMSYmLTEyNzw9bSlmb3IodmFyIHY9aVtkKytdLHg9MDt4PDEtbSYmYzxhOysreClsWzIqYytmXT12LGMrK319cmV0dXJuIDA9PT1lLnBpeGVsUmVwcmVzZW50YXRpb24/ZS5waXhlbERhdGE9bmV3IFVpbnQxNkFycmF5KG4pOmUucGl4ZWxEYXRhPW5ldyBJbnQxNkFycmF5KG4pLGV9KGUsdCk7dGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgcGl4ZWwgZm9ybWF0IGZvciBSTEVcIil9O3ZhciBwPWZ1bmN0aW9uKGUsdCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEpwZWdJbWFnZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBKUEVHIEJhc2VsaW5lIGRlY29kZXIgbG9hZGVkXCIpO3ZhciByPW5ldyBKcGVnSW1hZ2U7cmV0dXJuIHIucGFyc2UodCksci5jb2xvclRyYW5zZm9ybT0hMSw4PT09ZS5iaXRzQWxsb2NhdGVkPyhlLnBpeGVsRGF0YT1yLmdldERhdGEoZS5jb2x1bW5zLGUucm93cyksZSk6MTY9PT1lLmJpdHNBbGxvY2F0ZWQ/KGUucGl4ZWxEYXRhPXIuZ2V0RGF0YTE2KGUuY29sdW1ucyxlLnJvd3MpLGUpOnZvaWQgMH07dmFyIG09ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YganBlZ3x8dm9pZCAwPT09anBlZy5sb3NzbGVzc3x8dm9pZCAwPT09anBlZy5sb3NzbGVzcy5EZWNvZGVyKXRocm93IG5ldyBFcnJvcihcIk5vIEpQRUcgTG9zc2xlc3MgZGVjb2RlciBsb2FkZWRcIik7dmFyIHI9ZS5iaXRzQWxsb2NhdGVkPD04PzE6MixhPXQuYnVmZmVyLG49KG5ldyBqcGVnLmxvc3NsZXNzLkRlY29kZXIpLmRlY29kZShhLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCxyKTtyZXR1cm4gMD09PWUucGl4ZWxSZXByZXNlbnRhdGlvbj8xNj09PWUuYml0c0FsbG9jYXRlZD9lLnBpeGVsRGF0YT1uZXcgVWludDE2QXJyYXkobi5idWZmZXIpOmUucGl4ZWxEYXRhPW5ldyBVaW50OEFycmF5KG4uYnVmZmVyKTplLnBpeGVsRGF0YT1uZXcgSW50MTZBcnJheShuLmJ1ZmZlciksZX0sZz1yKDEpLHY9cigyKTt0LmE9ZnVuY3Rpb24oZSx0LHIsYSxuKXt2YXIgbz0obmV3IERhdGUpLmdldFRpbWUoKTtpZihcIjEuMi44NDAuMTAwMDguMS4yXCI9PT10KWU9YyhlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi4xXCI9PT10KWU9YyhlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi4yXCI9PT10KWU9ZihlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi4xLjk5XCI9PT10KWU9YyhlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi41XCI9PT10KWU9ZChlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi40LjUwXCI9PT10KWU9cChlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi40LjUxXCI9PT10KWU9cChlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi40LjU3XCI9PT10KWU9bShlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi40LjcwXCI9PT10KWU9bShlLHIpO2Vsc2UgaWYoXCIxLjIuODQwLjEwMDA4LjEuMi40LjgwXCI9PT10KWU9T2JqZWN0KGcuYSkoZSxyKTtlbHNlIGlmKFwiMS4yLjg0MC4xMDAwOC4xLjIuNC44MVwiPT09dCllPU9iamVjdChnLmEpKGUscik7ZWxzZSBpZihcIjEuMi44NDAuMTAwMDguMS4yLjQuOTBcIj09PXQpZT1PYmplY3Qodi5hKShlLHIsYSxuKTtlbHNle2lmKFwiMS4yLjg0MC4xMDAwOC4xLjIuNC45MVwiIT09dCl0aHJvdyBuZXcgRXJyb3IoXCJubyBkZWNvZGVyIGZvciB0cmFuc2ZlciBzeW50YXggXCIuY29uY2F0KHQpKTtlPU9iamVjdCh2LmEpKGUscixhLG4pfXZhciBpPXZvaWQgMCE9PWUucGl4ZWxSZXByZXNlbnRhdGlvbiYmMT09PWUucGl4ZWxSZXByZXNlbnRhdGlvbixsPWkmJnZvaWQgMCE9PWUuYml0c1N0b3JlZD8zMi1lLmJpdHNTdG9yZWQ6dm9pZCAwO2lmKGkmJnZvaWQgMCE9PWwpZm9yKHZhciBzPTA7czxlLnBpeGVsRGF0YS5sZW5ndGg7cysrKWUucGl4ZWxEYXRhW3NdPWUucGl4ZWxEYXRhW3NdPDxsPj5sO3ZhciB1PShuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiBlLmRlY29kZVRpbWVJbk1TPXUtbyxlfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Iucih0KTt2YXIgYT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiZGVjb2RlUkdCOiByZ2JCdWZmZXIgbXVzdCBub3QgYmUgdW5kZWZpbmVkXCIpO2lmKGUubGVuZ3RoJTMhPTApdGhyb3cgbmV3IEVycm9yKFwiZGVjb2RlUkdCOiByZ2JCdWZmZXIgbGVuZ3RoIG11c3QgYmUgZGl2aXNpYmxlIGJ5IDNcIik7Zm9yKHZhciByPWUubGVuZ3RoLzMsYT0wLG49MCxvPTA7bzxyO28rKyl0W24rK109ZVthKytdLHRbbisrXT1lW2ErK10sdFtuKytdPWVbYSsrXSx0W24rK109MjU1fSxuPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJkZWNvZGVSR0I6IHJnYkJ1ZmZlciBtdXN0IG5vdCBiZSB1bmRlZmluZWRcIik7aWYoZS5sZW5ndGglMyE9MCl0aHJvdyBuZXcgRXJyb3IoXCJkZWNvZGVSR0I6IHJnYkJ1ZmZlciBsZW5ndGggbXVzdCBiZSBkaXZpc2libGUgYnkgM1wiKTtmb3IodmFyIHI9ZS5sZW5ndGgvMyxhPTAsbj0wLG89cixpPTIqcixsPTA7bDxyO2wrKyl0W2ErK109ZVtuKytdLHRbYSsrXT1lW28rK10sdFthKytdPWVbaSsrXSx0W2ErK109MjU1fSxvPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJkZWNvZGVSR0I6IHlickJ1ZmZlciBtdXN0IG5vdCBiZSB1bmRlZmluZWRcIik7aWYoZS5sZW5ndGglMyE9MCl0aHJvdyBuZXcgRXJyb3IoXCJkZWNvZGVSR0I6IHlickJ1ZmZlciBsZW5ndGggbXVzdCBiZSBkaXZpc2JsZSBieSAzXCIpO2Zvcih2YXIgcj1lLmxlbmd0aC8zLGE9MCxuPTAsbz0wO288cjtvKyspe3ZhciBpPWVbYSsrXSxsPWVbYSsrXSxzPWVbYSsrXTt0W24rK109aSsxLjQwMioocy0xMjgpLHRbbisrXT1pLS4zNDQxNCoobC0xMjgpLS43MTQxNCoocy0xMjgpLHRbbisrXT1pKzEuNzcyKihsLTEyOCksdFtuKytdPTI1NX19LGk9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcImRlY29kZVJHQjogeWJyQnVmZmVyIG11c3Qgbm90IGJlIHVuZGVmaW5lZFwiKTtpZihlLmxlbmd0aCUzIT0wKXRocm93IG5ldyBFcnJvcihcImRlY29kZVJHQjogeWJyQnVmZmVyIGxlbmd0aCBtdXN0IGJlIGRpdmlzYmxlIGJ5IDNcIik7Zm9yKHZhciByPWUubGVuZ3RoLzMsYT0wLG49MCxvPXIsaT0yKnIsbD0wO2w8cjtsKyspe3ZhciBzPWVbbisrXSx1PWVbbysrXSxjPWVbaSsrXTt0W2ErK109cysxLjQwMiooYy0xMjgpLHRbYSsrXT1zLS4zNDQxNCoodS0xMjgpLS43MTQxNCooYy0xMjgpLHRbYSsrXT1zKzEuNzcyKih1LTEyOCksdFthKytdPTI1NX19O2Z1bmN0aW9uIHgoZSx0KXtmb3IodmFyIHI9ZS5sZW5ndGgsYT1uZXcgVWludDhDbGFtcGVkQXJyYXkociksbj0wO248cjsrK24pYVtuXT1lW25dPj50O3JldHVybiBhfXZhciBsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUuY29sdW1ucyplLnJvd3MsYT1lLnBpeGVsRGF0YSxuPWUucmVkUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEYXRhLG89ZS5ncmVlblBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGF0YSxpPWUuYmx1ZVBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGF0YSxsPWUucmVkUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEYXRhLmxlbmd0aCxzPTAsdT0wLGM9ZS5yZWRQYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3JbMV0sZj04PT09ZS5yZWRQYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3JbMl0/MDo4LGQ9eChuLGYpLHA9eChvLGYpLG09eChpLGYpLGc9MDtnPHI7KytnKXt2YXIgdj1hW3MrK107djxjP3Y9MDpjK2wtMTx2P3Y9bC0xOnYtPWMsdFt1KytdPWRbdl0sdFt1KytdPXBbdl0sdFt1KytdPW1bdl0sdFt1KytdPTI1NX19O2Z1bmN0aW9uIHMoZSx0KXtpZihlLmVsZW1lbnRzW3RdJiY2PT09ZS5lbGVtZW50c1t0XS5sZW5ndGgpcmV0dXJuW2UudWludDE2KHQsMCksZS51aW50MTYodCwxKSxlLnVpbnQxNih0LDIpXX1mdW5jdGlvbiB1KGUsdCxyKXtmb3IodmFyIGE9W10sbj1lLmVsZW1lbnRzW3RdLG89MDtvPHJbMF07bysrKTE2PT09clsyXT9hW29dPWUudWludDE2KHQsbyk6YVtvXT1lLmJ5dGVBcnJheVtvK24uZGF0YU9mZnNldF07cmV0dXJuIGF9dmFyIGc9ZnVuY3Rpb24oZSl7dmFyIHQscixhLG49e3NhbXBsZXNQZXJQaXhlbDplLnVpbnQxNihcIngwMDI4MDAwMlwiKSxwaG90b21ldHJpY0ludGVycHJldGF0aW9uOmUuc3RyaW5nKFwieDAwMjgwMDA0XCIpLHJvd3M6ZS51aW50MTYoXCJ4MDAyODAwMTBcIiksY29sdW1uczplLnVpbnQxNihcIngwMDI4MDAxMVwiKSxiaXRzQWxsb2NhdGVkOmUudWludDE2KFwieDAwMjgwMTAwXCIpLGJpdHNTdG9yZWQ6ZS51aW50MTYoXCJ4MDAyODAxMDFcIiksaGlnaEJpdDplLnVpbnQxNihcIngwMDI4MDEwMlwiKSxwaXhlbFJlcHJlc2VudGF0aW9uOmUudWludDE2KFwieDAwMjgwMTAzXCIpLHBsYW5hckNvbmZpZ3VyYXRpb246ZS51aW50MTYoXCJ4MDAyODAwMDZcIikscGl4ZWxBc3BlY3RSYXRpbzplLnN0cmluZyhcIngwMDI4MDAzNFwiKX07cmV0dXJuIHI9bixhPSh0PWUpLnVpbnQxNihcIngwMDI4MDEwM1wiKSxyLmxhcmdlc3RQaXhlbFZhbHVlPTA9PT1hPyhyLnNtYWxsZXN0UGl4ZWxWYWx1ZT10LnVpbnQxNihcIngwMDI4MDEwNlwiKSx0LnVpbnQxNihcIngwMDI4MDEwN1wiKSk6KHIuc21hbGxlc3RQaXhlbFZhbHVlPXQuaW50MTYoXCJ4MDAyODAxMDZcIiksdC5pbnQxNihcIngwMDI4MDEwN1wiKSksXCJQQUxFVFRFIENPTE9SXCI9PT1uLnBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24mJmUuZWxlbWVudHMueDAwMjgxMTAxJiZmdW5jdGlvbihlLHQpe3QucmVkUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEZXNjcmlwdG9yPXMoZSxcIngwMDI4MTEwMVwiKSx0LmdyZWVuUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEZXNjcmlwdG9yPXMoZSxcIngwMDI4MTEwMlwiKSx0LmJsdWVQYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3I9cyhlLFwieDAwMjgxMTAzXCIpLDA9PT10LnJlZFBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvclswXSYmKHQucmVkUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEZXNjcmlwdG9yWzBdPTY1NTM2LHQuZ3JlZW5QYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3JbMF09NjU1MzYsdC5ibHVlUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEZXNjcmlwdG9yWzBdPTY1NTM2KTt2YXIgcj10LnJlZFBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvclswXSxhPWUuZWxlbWVudHMueDAwMjgxMjAxLmxlbmd0aD09PXI/ODoxNjt0LnJlZFBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvclsyXSE9PWEmJih0LnJlZFBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvclsyXT1hLHQuZ3JlZW5QYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3JbMl09YSx0LmJsdWVQYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3JbMl09YSksdC5yZWRQYWxldHRlQ29sb3JMb29rdXBUYWJsZURhdGE9dShlLFwieDAwMjgxMjAxXCIsdC5yZWRQYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3IpLHQuZ3JlZW5QYWxldHRlQ29sb3JMb29rdXBUYWJsZURhdGE9dShlLFwieDAwMjgxMjAyXCIsdC5ncmVlblBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvciksdC5ibHVlUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEYXRhPXUoZSxcIngwMDI4MTIwM1wiLHQuYmx1ZVBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvcil9KGUsbiksbn07ZnVuY3Rpb24gYyhlLHQpe3ZhciByPXQudWludDE2KFwieDAwMjgzMDAyXCIsMCk7MD09PXImJihyPTY1NTM1KTtmb3IodmFyIGE9e2lkOlwiMVwiLGZpcnN0VmFsdWVNYXBwZWQ6MD09PWU/dC51aW50MTYoXCJ4MDAyODMwMDJcIiwxKTp0LmludDE2KFwieDAwMjgzMDAyXCIsMSksbnVtQml0c1BlckVudHJ5OnQudWludDE2KFwieDAwMjgzMDAyXCIsMiksbHV0OltdfSxuPTA7bjxyO24rKylhLmx1dFtuXT0wPT09ZT90LnVpbnQxNihcIngwMDI4MzAwNlwiLG4pOnQuaW50MTYoXCJ4MDAyODMwMDZcIixuKTtyZXR1cm4gYX12YXIgdj1mdW5jdGlvbihlLHQpe2lmKHQmJnQuaXRlbXMubGVuZ3RoKXtmb3IodmFyIHI9W10sYT0wO2E8dC5pdGVtcy5sZW5ndGg7YSsrKXt2YXIgbj1jKGUsdC5pdGVtc1thXS5kYXRhU2V0KTtuJiZyLnB1c2gobil9cmV0dXJuIHJ9fTt2YXIgaD1mdW5jdGlvbihlKXt2YXIgdD1lLnN0cmluZyhcIngwMDA4MDAxNlwiKTtpZihcIjEuMi44NDAuMTAwMDguNS4xLjQuMS4xLjJcIj09PXR8fFwiMS4yLjg0MC4xMDAwOC41LjEuNC4xLjEuMi4xXCI9PT10KXJldHVybiAxO3ZhciByLGEsbixvPWUuZmxvYXRTdHJpbmcoXCJ4MDAyODEwNTJcIiksaT1lLmZsb2F0U3RyaW5nKFwieDAwMjgxMDUzXCIpO3JldHVybiB2b2lkIDA9PT1vfHx2b2lkIDA9PT1pP2UuZWxlbWVudHMueDAwMjgzMDAwJiYwPGUuZWxlbWVudHMueDAwMjgzMDAwLmxlbmd0aD8wOmUudWludDE2KFwieDAwMjgwMTAzXCIpOihhPShyPWUpLnVpbnQxNihcIngwMDI4MDEwM1wiKSxuPXIudWludDE2KFwieDAwMjgwMTAxXCIpLCgwPT09YT8wOi0xPDxuLTEpKmkrbzwwPzE6MCl9O3ZhciB3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgYT1bXSxuPWUuc3RyaW5nKHQpO2lmKG4pe3ZhciBvPW4uc3BsaXQoXCJcXFxcXCIpO2lmKCEociYmby5sZW5ndGg8cikpe2Zvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKWEucHVzaChwYXJzZUZsb2F0KG9baV0pKTtyZXR1cm4gYX19fTt2YXIgZD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9dHx8MCxlJiZlLlZhbHVlP2UuVmFsdWUubGVuZ3RoPD10P3I6ZS5WYWx1ZVt0XTpyfTt2YXIgZj1mdW5jdGlvbihlLHQscil7dmFyIGE9ZChlLHQscik7aWYodm9pZCAwIT09YSlyZXR1cm4gcGFyc2VGbG9hdChhKX07dmFyIHA9ZnVuY3Rpb24oZSx0KXt2YXIgcj1kKGUsdCk7aWYodm9pZCAwIT09cilyZXR1cm4gcGFyc2VGbG9hdChyKX07dmFyIG09ZnVuY3Rpb24oZSx0KXtpZihlJiZlLlZhbHVlJiYhKHQmJmUuVmFsdWUubGVuZ3RoPHQpKXtmb3IodmFyIHI9W10sYT0wO2E8ZS5WYWx1ZS5sZW5ndGg7YSsrKXIucHVzaChwYXJzZUZsb2F0KGUuVmFsdWVbYV0pKTtyZXR1cm4gcn19LGI9W107dmFyIHk9e2FkZDpmdW5jdGlvbihlLHQpe2JbZV09dH0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBiW2VdfSxyZW1vdmU6ZnVuY3Rpb24oZSl7YltlXT12b2lkIDB9LHB1cmdlOmZ1bmN0aW9uKCl7Yj1bXX19O3ZhciBEPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZmUuZGljb21QYXJzZXIsYT15LmdldCh0KTtpZihhKXtpZihcImdlbmVyYWxTZXJpZXNNb2R1bGVcIj09PWUpcmV0dXJue21vZGFsaXR5OmQoYVtcIjAwMDgwMDYwXCJdKSxzZXJpZXNJbnN0YW5jZVVJRDpkKGFbXCIwMDIwMDAwZVwiXSksc2VyaWVzTnVtYmVyOnAoYVtcIjAwMjAwMDExXCJdKSxzdHVkeUluc3RhbmNlVUlEOmQoYVtcIjAwMjAwMDBkXCJdKSxzZXJpZXNEYXRlOnIucGFyc2VEQShkKGFbXCIwMDA4MDAyMVwiXSkpLHNlcmllc1RpbWU6ci5wYXJzZVRNKGQoYVtcIjAwMDgwMDMxXCJdLDAsXCJcIikpfTtpZihcInBhdGllbnRTdHVkeU1vZHVsZVwiPT09ZSlyZXR1cm57cGF0aWVudEFnZTpwKGFbXCIwMDEwMTAxMFwiXSkscGF0aWVudFNpemU6cChhW1wiMDAxMDEwMjBcIl0pLHBhdGllbnRXZWlnaHQ6cChhW1wiMDAxMDEwMzBcIl0pfTtpZihcImltYWdlUGxhbmVNb2R1bGVcIj09PWUpe3ZhciBuPW0oYVtcIjAwMjAwMDM3XCJdLDYpLG89bShhW1wiMDAyMDAwMzJcIl0sMyksaT1tKGFbXCIwMDI4MDAzMFwiXSwyKSxsPW51bGwscz1udWxsO2kmJihzPWlbMF0sbD1pWzFdKTt2YXIgdT1udWxsLGM9bnVsbDtyZXR1cm4gbiYmKHU9W3BhcnNlRmxvYXQoblswXSkscGFyc2VGbG9hdChuWzFdKSxwYXJzZUZsb2F0KG5bMl0pXSxjPVtwYXJzZUZsb2F0KG5bM10pLHBhcnNlRmxvYXQobls0XSkscGFyc2VGbG9hdChuWzVdKV0pLHtmcmFtZU9mUmVmZXJlbmNlVUlEOmQoYVtcIjAwMjAwMDUyXCJdKSxyb3dzOnAoYVtcIjAwMjgwMDEwXCJdKSxjb2x1bW5zOnAoYVtcIjAwMjgwMDExXCJdKSxpbWFnZU9yaWVudGF0aW9uUGF0aWVudDpuLHJvd0Nvc2luZXM6dSxjb2x1bW5Db3NpbmVzOmMsaW1hZ2VQb3NpdGlvblBhdGllbnQ6byxzbGljZVRoaWNrbmVzczpwKGFbXCIwMDE4MDA1MFwiXSksc2xpY2VMb2NhdGlvbjpwKGFbXCIwMDIwMTA0MVwiXSkscGl4ZWxTcGFjaW5nOmkscm93UGl4ZWxTcGFjaW5nOnMsY29sdW1uUGl4ZWxTcGFjaW5nOmx9fWlmKFwiaW1hZ2VQaXhlbE1vZHVsZVwiPT09ZSlyZXR1cm57c2FtcGxlc1BlclBpeGVsOnAoYVtcIjAwMjgwMDAyXCJdKSxwaG90b21ldHJpY0ludGVycHJldGF0aW9uOmQoYVtcIjAwMjgwMDA0XCJdKSxyb3dzOnAoYVtcIjAwMjgwMDEwXCJdKSxjb2x1bW5zOnAoYVtcIjAwMjgwMDExXCJdKSxiaXRzQWxsb2NhdGVkOnAoYVtcIjAwMjgwMTAwXCJdKSxiaXRzU3RvcmVkOnAoYVtcIjAwMjgwMTAxXCJdKSxoaWdoQml0OmQoYVtcIjAwMjgwMTAyXCJdKSxwaXhlbFJlcHJlc2VudGF0aW9uOnAoYVtcIjAwMjgwMTAzXCJdKSxwbGFuYXJDb25maWd1cmF0aW9uOnAoYVtcIjAwMjgwMDA2XCJdKSxwaXhlbEFzcGVjdFJhdGlvOmQoYVtcIjAwMjgwMDM0XCJdKSxzbWFsbGVzdFBpeGVsVmFsdWU6cChhW1wiMDAyODAxMDZcIl0pLGxhcmdlc3RQaXhlbFZhbHVlOnAoYVtcIjAwMjgwMTA3XCJdKSxyZWRQYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3I6bShhW1wiMDAyODExMDFcIl0pLGdyZWVuUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEZXNjcmlwdG9yOm0oYVtcIjAwMjgxMTAyXCJdKSxibHVlUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEZXNjcmlwdG9yOm0oYVtcIjAwMjgxMTAzXCJdKSxyZWRQYWxldHRlQ29sb3JMb29rdXBUYWJsZURhdGE6bShhW1wiMDAyODEyMDFcIl0pLGdyZWVuUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEYXRhOm0oYVtcIjAwMjgxMjAyXCJdKSxibHVlUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEYXRhOm0oYVtcIjAwMjgxMjAzXCJdKX07aWYoXCJ2b2lMdXRNb2R1bGVcIj09PWUpcmV0dXJue3dpbmRvd0NlbnRlcjptKGFbXCIwMDI4MTA1MFwiXSwxKSx3aW5kb3dXaWR0aDptKGFbXCIwMDI4MTA1MVwiXSwxKX07aWYoXCJtb2RhbGl0eUx1dE1vZHVsZVwiPT09ZSlyZXR1cm57cmVzY2FsZUludGVyY2VwdDpwKGFbXCIwMDI4MTA1MlwiXSkscmVzY2FsZVNsb3BlOnAoYVtcIjAwMjgxMDUzXCJdKSxyZXNjYWxlVHlwZTpkKGFbXCIwMDI4MTA1NFwiXSl9O2lmKFwic29wQ29tbW9uTW9kdWxlXCI9PT1lKXJldHVybntzb3BDbGFzc1VJRDpkKGFbXCIwMDA4MDAxNlwiXSksc29wSW5zdGFuY2VVSUQ6ZChhW1wiMDAwODAwMThcIl0pfTtpZihcInBldElzb3RvcGVNb2R1bGVcIj09PWUpe3ZhciBmPWQoYVtcIjAwNTQwMDE2XCJdKTtpZih2b2lkIDA9PT1mKXJldHVybjtyZXR1cm57cmFkaW9waGFybWFjZXV0aWNhbEluZm86e3JhZGlvcGhhcm1hY2V1dGljYWxTdGFydFRpbWU6ci5wYXJzZVRNKGQoZltcIjAwMTgxMDcyXCJdLDAsXCJcIikpLHJhZGlvbnVjbGlkZVRvdGFsRG9zZTpwKGZbXCIwMDE4MTA3NFwiXSkscmFkaW9udWNsaWRlSGFsZkxpZmU6cChmW1wiMDAxODEwNzVcIl0pfX19fX07ZnVuY3Rpb24gUChlLHQscil7aWYocitlLmxlbmd0aD50Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9cixuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXSE9PXRbYSsrXSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgVD1mdW5jdGlvbihlLHQscil7cj1yfHwwO2Zvcih2YXIgYT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpLHI9MCxhPWUubGVuZ3RoO3I8YTtyKyspdFtyXT1lLmNoYXJDb2RlQXQocik7cmV0dXJuIHR9KHQpLG49cjtuPGUubGVuZ3RoO24rKylpZihhWzBdPT09ZVtuXSYmUChhLGUsbikpcmV0dXJuIG47cmV0dXJuLTF9LEk9e2JlZm9yZVNlbmQ6ZnVuY3Rpb24oKXt9LGltYWdlQ3JlYXRlZDpmdW5jdGlvbigpe30sc3RyaWN0OiExLHVzZVdlYldvcmtlcnM6ITAsZGVjb2RlQ29uZmlnOnt1c2VQREZKUzohMX19O2Z1bmN0aW9uIEMoZSl7ST1PYmplY3QuYXNzaWduKEksZSl9ZnVuY3Rpb24gaygpe3JldHVybiBJfXZhciBBPWZ1bmN0aW9uKG8saSl7dmFyIG49Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGw9Mzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LHM9ZmUuY29ybmVyc3RvbmUsdT1rKCk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQscil7dmFyIGE9bmV3IFhNTEh0dHBSZXF1ZXN0O2Eub3BlbihcImdldFwiLG8sITApLGEucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIix1LmJlZm9yZVNlbmQoYSxpLG4sbCksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXthLnNldFJlcXVlc3RIZWFkZXIoZSxuW2VdKX0pLGwuZGVmZXJyZWQ9e3Jlc29sdmU6dCxyZWplY3Q6cn0sbC51cmw9byxsLmltYWdlSWQ9aSxhLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKGUpe3Uub25sb2Fkc3RhcnQmJnUub25sb2Fkc3RhcnQoZSxsKTt2YXIgdD17dXJsOm8saW1hZ2VJZDppfTtzLnRyaWdnZXJFdmVudChzLmV2ZW50cyxcImNvcm5lcnN0b25laW1hZ2Vsb2Fkc3RhcnRcIix0KX0sYS5vbmxvYWRlbmQ9ZnVuY3Rpb24oZSl7dS5vbmxvYWRlbmQmJnUub25sb2FkZW5kKGUsbCk7dmFyIHQ9e3VybDpvLGltYWdlSWQ6aX07cy50cmlnZ2VyRXZlbnQocy5ldmVudHMsXCJjb3JuZXJzdG9uZWltYWdlbG9hZGVuZFwiLHQpfSxhLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXt1Lm9ucmVhZHlzdGF0ZWNoYW5nZT91Lm9ucmVhZHlzdGF0ZWNoYW5nZShlLGwpOjQ9PT1hLnJlYWR5U3RhdGUmJigyMDA9PT1hLnN0YXR1cz90KGEucmVzcG9uc2UsYSk6cihhKSl9LGEub25wcm9ncmVzcz1mdW5jdGlvbihlKXt2YXIgdCxyLGE9ZS5sb2FkZWQ7ZS5sZW5ndGhDb21wdXRhYmxlJiYodD1lLnRvdGFsLHI9TWF0aC5yb3VuZChhL3QqMTAwKSksdS5vbnByb2dyZXNzJiZ1Lm9ucHJvZ3Jlc3MoZSxsKTt2YXIgbj17dXJsOm8saW1hZ2VJZDppLGxvYWRlZDphLHRvdGFsOnQscGVyY2VudENvbXBsZXRlOnJ9O3MudHJpZ2dlckV2ZW50KHMuZXZlbnRzLFwiY29ybmVyc3RvbmVpbWFnZWxvYWRwcm9ncmVzc1wiLG4pfSxhLnNlbmQoKX0pfSxMPXt4aHJSZXF1ZXN0OkEsc2V0T3B0aW9uczpDLGdldE9wdGlvbnM6a307dmFyIFM9ZnVuY3Rpb24oZSx0KXt2YXIgcj17YWNjZXB0OjI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocyx1KXtBKGUsdCxyKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUpLHI9VCh0LFwiXFxyXFxuXFxyXFxuXCIpOy0xPT09ciYmdShuZXcgRXJyb3IoXCJpbnZhbGlkIHJlc3BvbnNlIC0gbm8gbXVsdGlwYXJ0IG1pbWUgaGVhZGVyXCIpKTt2YXIgYT1mdW5jdGlvbihlLHQscil7dD10fHwwLHI9cnx8ZS5sZW5ndGgtdDtmb3IodmFyIGE9XCJcIixuPXQ7bjx0K3I7bisrKWErPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtuXSk7cmV0dXJuIGF9KHQsMCxyKS5zcGxpdChcIlxcclxcblwiKSxuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKFwiLS1cIj09PWVbdF0uc3Vic3RyKDAsMikpcmV0dXJuIGVbdF19KGEpO258fHUobmV3IEVycm9yKFwiaW52YWxpZCByZXNwb25zZSAtIG5vIGJvdW5kYXJ5IG1hcmtlclwiKSk7dmFyIG89cis0LGk9VCh0LG4sbyk7LTE9PT1pJiZ1KG5ldyBFcnJvcihcImludmFsaWQgcmVzcG9uc2UgLSB0ZXJtaW5hdGluZyBib3VuZGFyeSBub3QgZm91bmRcIikpO3ZhciBsPWktby0yO3Moe2NvbnRlbnRUeXBlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKFwiQ29udGVudC1UeXBlOlwiPT09ZVt0XS5zdWJzdHIoMCwxMykpcmV0dXJuIGVbdF0uc3Vic3RyKDEzKS50cmltKCl9KGEpLGltYWdlRnJhbWU6e3BpeGVsRGF0YTpuZXcgVWludDhBcnJheShlLG8sbCl9fSl9KX0pfTt2YXIgRSxPPWZ1bmN0aW9uKGUpe3ZhciB0PWZlLmNvcm5lcnN0b25lLm1ldGFEYXRhLmdldChcImltYWdlUGl4ZWxNb2R1bGVcIixlKTtyZXR1cm57c2FtcGxlc1BlclBpeGVsOnQuc2FtcGxlc1BlclBpeGVsLHBob3RvbWV0cmljSW50ZXJwcmV0YXRpb246dC5waG90b21ldHJpY0ludGVycHJldGF0aW9uLHBsYW5hckNvbmZpZ3VyYXRpb246dC5wbGFuYXJDb25maWd1cmF0aW9uLHJvd3M6dC5yb3dzLGNvbHVtbnM6dC5jb2x1bW5zLGJpdHNBbGxvY2F0ZWQ6dC5iaXRzQWxsb2NhdGVkLGJpdHNTdG9yZWQ6dC5iaXRzU3RvcmVkLHBpeGVsUmVwcmVzZW50YXRpb246dC5waXhlbFJlcHJlc2VudGF0aW9uLHNtYWxsZXN0UGl4ZWxWYWx1ZTp0LnNtYWxsZXN0UGl4ZWxWYWx1ZSxsYXJnZXN0UGl4ZWxWYWx1ZTp0Lmxhcmdlc3RQaXhlbFZhbHVlLHJlZFBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvcjp0LnJlZFBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvcixncmVlblBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGVzY3JpcHRvcjp0LmdyZWVuUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEZXNjcmlwdG9yLGJsdWVQYWxldHRlQ29sb3JMb29rdXBUYWJsZURlc2NyaXB0b3I6dC5ibHVlUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEZXNjcmlwdG9yLHJlZFBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGF0YTp0LnJlZFBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGF0YSxncmVlblBhbGV0dGVDb2xvckxvb2t1cFRhYmxlRGF0YTp0LmdyZWVuUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEYXRhLGJsdWVQYWxldHRlQ29sb3JMb29rdXBUYWJsZURhdGE6dC5ibHVlUGFsZXR0ZUNvbG9yTG9va3VwVGFibGVEYXRhLHBpeGVsRGF0YTp2b2lkIDB9fSxNPTAsXz1bXSxSPVtdLFc9aygpLFU9e21heFdlYldvcmtlcnM6bmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3l8fDEsc3RhcnRXZWJXb3JrZXJzT25EZW1hbmQ6ITAsd2ViV29ya2VyUGF0aDpcIi4uLy4uL2Rpc3QvY29ybmVyc3RvbmVXQURPSW1hZ2VMb2FkZXJXZWJXb3JrZXIuanNcIix3ZWJXb3JrZXJUYXNrUGF0aHM6W10sdGFza0NvbmZpZ3VyYXRpb246e2RlY29kZVRhc2s6e2xvYWRDb2RlY3NPblN0YXJ0dXA6ITAsaW5pdGlhbGl6ZUNvZGVjc09uU3RhcnR1cDohMSxjb2RlY3NQYXRoOlwiLi4vZGlzdC9jb3JuZXJzdG9uZVdBRE9JbWFnZUxvYWRlckNvZGVjcy5qc1wiLHVzZVBERkpTOiExLHN0cmljdDpXLnN0cmljdH19fSxCPXttYXhXZWJXb3JrZXJzOjAsbnVtV2ViV29ya2VyczowLG51bVRhc2tzUXVldWVkOjAsbnVtVGFza3NFeGVjdXRpbmc6MCxudW1UYXNrc0NvbXBsZXRlZDowLHRvdGFsVGFza1RpbWVJbk1TOjAsdG90YWxUaW1lRGVsYXllZEluTVM6MH07ZnVuY3Rpb24gVigpe2lmKF8ubGVuZ3RoKXtmb3IodmFyIGU9MDtlPFIubGVuZ3RoO2UrKylpZihcInJlYWR5XCI9PT1SW2VdLnN0YXR1cyl7UltlXS5zdGF0dXM9XCJidXN5XCI7dmFyIHQ9Xy5zaGlmdCgpO3Quc3RhcnQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIEIudG90YWxUaW1lRGVsYXllZEluTVMrPXItdC5hZGRlZCxSW2VdLnRhc2s9dCxSW2VdLndvcmtlci5wb3N0TWVzc2FnZSh7dGFza1R5cGU6dC50YXNrVHlwZSx3b3JrZXJJbmRleDplLGRhdGE6dC5kYXRhfSx0LnRyYW5zZmVyTGlzdCksdm9pZCBCLm51bVRhc2tzRXhlY3V0aW5nKyt9Ui5sZW5ndGg8RS5tYXhXZWJXb3JrZXJzJiZqKCl9fWZ1bmN0aW9uIEYoZSl7aWYoXCJpbml0aWFsaXplXCI9PT1lLmRhdGEudGFza1R5cGUpUltlLmRhdGEud29ya2VySW5kZXhdLnN0YXR1cz1cInJlYWR5XCIsVigpO2Vsc2V7dmFyIHQ9UltlLmRhdGEud29ya2VySW5kZXhdLnRhc2suc3RhcnQ7UltlLmRhdGEud29ya2VySW5kZXhdLnRhc2suZGVmZXJyZWQucmVzb2x2ZShlLmRhdGEucmVzdWx0KSxSW2UuZGF0YS53b3JrZXJJbmRleF0udGFzaz12b2lkIDAsQi5udW1UYXNrc0V4ZWN1dGluZy0tLFJbZS5kYXRhLndvcmtlckluZGV4XS5zdGF0dXM9XCJyZWFkeVwiLEIubnVtVGFza3NDb21wbGV0ZWQrKzt2YXIgcj0obmV3IERhdGUpLmdldFRpbWUoKTtCLnRvdGFsVGFza1RpbWVJbk1TKz1yLXQsVigpfX1mdW5jdGlvbiBqKCl7aWYoIShSLmxlbmd0aD49RS5tYXhXZWJXb3JrZXJzKSl7dmFyIGU9bmV3IFdvcmtlcihFLndlYldvcmtlclBhdGgpO1IucHVzaCh7d29ya2VyOmUsc3RhdHVzOlwiaW5pdGlhbGl6aW5nXCJ9KSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsRiksZS5wb3N0TWVzc2FnZSh7dGFza1R5cGU6XCJpbml0aWFsaXplXCIsd29ya2VySW5kZXg6Ui5sZW5ndGgtMSxjb25maWc6RX0pfX1mdW5jdGlvbiBHKGUpe2lmKGU9ZXx8VSxFKXRocm93IG5ldyBFcnJvcihcIldlYldvcmtlck1hbmFnZXIgYWxyZWFkeSBpbml0aWFsaXplZFwiKTtpZigoRT1lKS5tYXhXZWJXb3JrZXJzPUUubWF4V2ViV29ya2Vyc3x8bmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3l8fDEsIUUuc3RhcnRXZWJXb3JrZXJzT25EZW1hbmQpZm9yKHZhciB0PTA7dDxFLm1heFdlYldvcmtlcnM7dCsrKWooKX12YXIgSj17aW5pdGlhbGl6ZTpHLGxvYWRXZWJXb3JrZXJUYXNrOmZ1bmN0aW9uKGUsdCl7RS53ZWJXb3JrZXJUYXNrUGF0aHMucHVzaChlKSx0JiYoRS50YXNrQ29uZmlndXJhdGlvbj1PYmplY3QuYXNzaWduKEUudGFza0NvbmZpZ3VyYXRpb24sdCkpO2Zvcih2YXIgcj0wO3I8Ui5sZW5ndGg7cisrKVJbcl0ud29ya2VyLnBvc3RNZXNzYWdlKHt0YXNrVHlwZTpcImxvYWRXZWJXb3JrZXJUYXNrXCIsd29ya2VySW5kZXg6Ui5sZW5ndGgtMSxzb3VyY2VQYXRoOmUsY29uZmlnOkV9KX0sYWRkVGFzazpmdW5jdGlvbihlLHQpe3ZhciByPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGE9Mzxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1szXTp2b2lkIDA7RXx8RygpO3ZhciBuLG89e30saT1uZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe289e3Jlc29sdmU6ZSxyZWplY3Q6dH19KTtmb3Iobj0wO248Xy5sZW5ndGgmJiEoX1tuXS5wcmlvcml0eTxyKTtuKyspO3ZhciBsPU0rKztyZXR1cm4gXy5zcGxpY2UobiwwLHt0YXNrSWQ6bCx0YXNrVHlwZTplLHN0YXR1czpcInJlYWR5XCIsYWRkZWQ6KG5ldyBEYXRlKS5nZXRUaW1lKCksZGF0YTp0LGRlZmVycmVkOm8scHJpb3JpdHk6cix0cmFuc2Zlckxpc3Q6YX0pLFYoKSx7dGFza0lkOmwscHJvbWlzZTppfX0sZ2V0U3RhdGlzdGljczpmdW5jdGlvbigpe3JldHVybiBCLm1heFdlYldvcmtlcnM9RS5tYXhXZWJXb3JrZXJzLEIubnVtV2ViV29ya2Vycz1SLmxlbmd0aCxCLm51bVRhc2tzUXVldWVkPV8ubGVuZ3RoLEJ9LHNldFRhc2tQcmlvcml0eTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj0wO3I8Xy5sZW5ndGg7cisrKWlmKF9bcl0udGFza0lkPT09ZSl7dmFyIGE9Xy5zcGxpY2UociwxKVswXTtmb3IoYS5wcmlvcml0eT10LHI9MDtyPF8ubGVuZ3RoJiYhKF9bcl0ucHJpb3JpdHk8dCk7cisrKTtyZXR1cm4gXy5zcGxpY2UociwwLGEpLCEwfXJldHVybiExfSxjYW5jZWxUYXNrOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxfLmxlbmd0aDtyKyspaWYoX1tyXS50YXNrSWQ9PT1lKXJldHVybiBfLnNwbGljZShyLDEpLmRlZmVycmVkLnJlamVjdCh0KSwhMDtyZXR1cm4hMX19LHo9cigwKTtmdW5jdGlvbiBxKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgcjt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUodCkpfWNhdGNoKGUpe2lmKChyPWUpaW5zdGFuY2VvZiBVUklFcnJvcilyZXR1cm4gdDt0aHJvdyByfX0oU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShuZXcgVWludDhBcnJheShlKSkpKX12YXIgTj1mdW5jdGlvbihpLGUsbCl7dmFyIHM9KG5ldyBEYXRlKS5nZXRUaW1lKCkscj1uZXcgQmxvYihbZV0se3R5cGU6XCJpbWFnZS9qcGVnXCJ9KTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obyx0KXt2YXIgZT1uZXcgRmlsZVJlYWRlcjt2b2lkIDA9PT1lLnJlYWRBc0JpbmFyeVN0cmluZz9lLnJlYWRBc0FycmF5QnVmZmVyKHIpOmUucmVhZEFzQmluYXJ5U3RyaW5nKHIpLGUub25sb2FkPWZ1bmN0aW9uKCl7dmFyIG49bmV3IEltYWdlO24ub25sb2FkPWZ1bmN0aW9uKCl7bC5oZWlnaHQ9bi5oZWlnaHQsbC53aWR0aD1uLndpZHRoLGkucm93cz1uLmhlaWdodCxpLmNvbHVtbnM9bi53aWR0aDt2YXIgZT1sLmdldENvbnRleHQoXCIyZFwiKTtlLmRyYXdJbWFnZSh0aGlzLDAsMCk7dmFyIHQ9ZS5nZXRJbWFnZURhdGEoMCwwLG4ud2lkdGgsbi5oZWlnaHQpLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aS5waXhlbERhdGE9dC5kYXRhLGkuaW1hZ2VEYXRhPXQsaS5kZWNvZGVUaW1lSW5NUz1yLXM7dmFyIGE9T2JqZWN0KHouYSkoaS5waXhlbERhdGEpO2kuc21hbGxlc3RQaXhlbFZhbHVlPWEubWluLGkubGFyZ2VzdFBpeGVsVmFsdWU9YS5tYXgsbyhpKX0sbi5vbmVycm9yPWZ1bmN0aW9uKGUpe3QoZSl9LHZvaWQgMD09PWUucmVhZEFzQmluYXJ5U3RyaW5nP24uc3JjPVwiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxcIi5jb25jYXQod2luZG93LmJ0b2EocShlLnJlc3VsdCkpKTpuLnNyYz1cImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsXCIuY29uY2F0KHdpbmRvdy5idG9hKGUucmVzdWx0KSl9LGUub25lcnJvcj1mdW5jdGlvbihlKXt0KGUpfX0pfSxZPXIoNSksSD1yKDQpLEs9cigyKSxRPXIoMSksWD0hMTtmdW5jdGlvbiBaKG4sbyxpLGwpe3ZhciBlPWwucHJpb3JpdHl8fHZvaWQgMCx0PWwudHJhbnNmZXJQaXhlbERhdGE/W2kuYnVmZmVyXTp2b2lkIDAscj1rKCkscz1yLnN0cmljdCx1PXIuZGVjb2RlQ29uZmlnO3JldHVybiExPT09ci51c2VXZWJXb3JrZXJzPyghMT09PVgmJihPYmplY3QoSy5iKSh1KSxPYmplY3QoUS5iKSh1KSxYPSEwKSxuZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe3RyeXt2YXIgcj1bbixvLGksdSxsXSxhPVkuYS5hcHBseSh2b2lkIDAscik7T2JqZWN0KEguYSkoYSxzKSxlKGEpfWNhdGNoKGUpe3QoZSl9fSkpOkouYWRkVGFzayhcImRlY29kZVRhc2tcIix7aW1hZ2VGcmFtZTpuLHRyYW5zZmVyU3ludGF4Om8scGl4ZWxEYXRhOmksb3B0aW9uczpsfSxlLHQpLnByb21pc2V9dmFyICQ9ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIG49NDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOnt9O3JldHVyblwiMS4yLjg0MC4xMDAwOC4xLjJcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjFcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjJcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjEuOTlcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjVcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjQuNTBcIj09PXI/OCE9PWUuYml0c0FsbG9jYXRlZHx8MyE9PWUuc2FtcGxlc1BlclBpeGVsJiY0IT09ZS5zYW1wbGVzUGVyUGl4ZWw/WihlLHIsdCxuKTpOKGUsdCxhKTpcIjEuMi44NDAuMTAwMDguMS4yLjQuNTFcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjQuNTdcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjQuNzBcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjQuODBcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjQuODFcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjQuOTBcIj09PXI/WihlLHIsdCxuKTpcIjEuMi44NDAuMTAwMDguMS4yLjQuOTFcIj09PXI/WihlLHIsdCxuKTpuZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe3QobmV3IEVycm9yKFwiTm8gZGVjb2RlciBmb3IgdHJhbnNmZXIgc3ludGF4IFwiLmNvbmNhdChyKSkpfSl9LGVlPWZ1bmN0aW9uKGUpe3JldHVyblwiUkdCXCI9PT1lfHxcIlBBTEVUVEUgQ09MT1JcIj09PWV8fFwiWUJSX0ZVTExcIj09PWV8fFwiWUJSX0ZVTExfNDIyXCI9PT1lfHxcIllCUl9QQVJUSUFMXzQyMlwiPT09ZXx8XCJZQlJfUEFSVElBTF80MjBcIj09PWV8fFwiWUJSX1JDVFwiPT09ZXx8XCJZQlJfSUNUXCI9PT1lfTtmdW5jdGlvbiB0ZShlLHQpezA9PT1lLnBsYW5hckNvbmZpZ3VyYXRpb24/YShlLnBpeGVsRGF0YSx0KTpuKGUucGl4ZWxEYXRhLHQpfWZ1bmN0aW9uIHJlKGUsdCl7dmFyIHIsYSxuPXQuZGF0YTtpZihcIlJHQlwiPT09ZS5waG90b21ldHJpY0ludGVycHJldGF0aW9uKXRlKGUsbik7ZWxzZSBpZihcIllCUl9SQ1RcIj09PWUucGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbil0ZShlLG4pO2Vsc2UgaWYoXCJZQlJfSUNUXCI9PT1lLnBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24pdGUoZSxuKTtlbHNlIGlmKFwiUEFMRVRURSBDT0xPUlwiPT09ZS5waG90b21ldHJpY0ludGVycHJldGF0aW9uKWwoZSxuKTtlbHNlIGlmKFwiWUJSX0ZVTExfNDIyXCI9PT1lLnBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24pdGUoZSxuKTtlbHNle2lmKFwiWUJSX0ZVTExcIiE9PWUucGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJObyBjb2xvciBzcGFjZSBjb252ZXJzaW9uIGZvciBwaG90b21ldHJpYyBpbnRlcnByZXRhdGlvbiBcIi5jb25jYXQoZS5waG90b21ldHJpY0ludGVycHJldGF0aW9uKSk7YT1uLDA9PT0ocj1lKS5wbGFuYXJDb25maWd1cmF0aW9uP28oci5waXhlbERhdGEsYSk6aShyLnBpeGVsRGF0YSxhKX19dmFyIGFlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxlLnRyYW5zZmVyU3ludGF4LDg9PT1lLmJpdHNBbGxvY2F0ZWQmJlwiMS4yLjg0MC4xMDAwOC4xLjIuNC41MFwiPT09dCYmKDM9PT1lLnNhbXBsZXNQZXJQaXhlbHx8ND09PWUuc2FtcGxlc1BlclBpeGVsKSlyZXR1cm4hMH0sbmU9XCJcIjt2YXIgb2U9ZnVuY3Rpb24odixlLHgsdCl7aWYoIWV8fCFlLmxlbmd0aClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiVGhlIGZpbGUgZG9lcyBub3QgY29udGFpbiBpbWFnZSBkYXRhLlwiKSk7dmFyIGg9ZmUuY29ybmVyc3RvbmUsdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHI9Tyh2KSxhPSQocix4LGUsdyx0KTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZyxlKXthLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQscj1oLm1ldGFEYXRhLmdldChcImltYWdlUGxhbmVNb2R1bGVcIix2KXx8e30sYT1oLm1ldGFEYXRhLmdldChcInZvaUx1dE1vZHVsZVwiLHYpfHx7fSxuPWgubWV0YURhdGEuZ2V0KFwibW9kYWxpdHlMdXRNb2R1bGVcIix2KXx8e30sbz1oLm1ldGFEYXRhLmdldChcInNvcENvbW1vbk1vZHVsZVwiLHYpfHx7fSxpPWVlKGUucGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbik7aWYoIWFlKGUseCkmJigzMj09PSh0PWUpLmJpdHNBbGxvY2F0ZWQ/dC5waXhlbERhdGE9bmV3IEZsb2F0MzJBcnJheSh0LnBpeGVsRGF0YSk6MTY9PT10LmJpdHNBbGxvY2F0ZWQ/MD09PXQucGl4ZWxSZXByZXNlbnRhdGlvbj90LnBpeGVsRGF0YT1uZXcgVWludDE2QXJyYXkodC5waXhlbERhdGEpOnQucGl4ZWxEYXRhPW5ldyBJbnQxNkFycmF5KHQucGl4ZWxEYXRhKTp0LnBpeGVsRGF0YT1uZXcgVWludDhBcnJheSh0LnBpeGVsRGF0YSksaSkpe3cuaGVpZ2h0PWUucm93cyx3LndpZHRoPWUuY29sdW1uczt2YXIgbD13LmdldENvbnRleHQoXCIyZFwiKS5jcmVhdGVJbWFnZURhdGEoZS5jb2x1bW5zLGUucm93cyk7cmUoZSxsKSxlLmltYWdlRGF0YT1sLGUucGl4ZWxEYXRhPWwuZGF0YTt2YXIgcz1PYmplY3Qoei5hKShlLnBpeGVsRGF0YSk7ZS5zbWFsbGVzdFBpeGVsVmFsdWU9cy5taW4sZS5sYXJnZXN0UGl4ZWxWYWx1ZT1zLm1heH12YXIgdSxjPXtpbWFnZUlkOnYsY29sb3I6aSxjb2x1bW5QaXhlbFNwYWNpbmc6ci5jb2x1bW5QaXhlbFNwYWNpbmcsY29sdW1uczplLmNvbHVtbnMsaGVpZ2h0OmUucm93cyxpbnRlcmNlcHQ6bi5yZXNjYWxlSW50ZXJjZXB0P24ucmVzY2FsZUludGVyY2VwdDowLGludmVydDpcIk1PTk9DSFJPTUUxXCI9PT1lLnBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24sbWluUGl4ZWxWYWx1ZTplLnNtYWxsZXN0UGl4ZWxWYWx1ZSxtYXhQaXhlbFZhbHVlOmUubGFyZ2VzdFBpeGVsVmFsdWUscm93UGl4ZWxTcGFjaW5nOnIucm93UGl4ZWxTcGFjaW5nLHJvd3M6ZS5yb3dzLHNpemVJbkJ5dGVzOmUucGl4ZWxEYXRhLmxlbmd0aCxzbG9wZTpuLnJlc2NhbGVTbG9wZT9uLnJlc2NhbGVTbG9wZToxLHdpZHRoOmUuY29sdW1ucyx3aW5kb3dDZW50ZXI6YS53aW5kb3dDZW50ZXI/YS53aW5kb3dDZW50ZXJbMF06dm9pZCAwLHdpbmRvd1dpZHRoOmEud2luZG93V2lkdGg/YS53aW5kb3dXaWR0aFswXTp2b2lkIDAsZGVjb2RlVGltZUluTVM6ZS5kZWNvZGVUaW1lSW5NUyxmbG9hdFBpeGVsRGF0YTp2b2lkIDB9O2lmKGUucGl4ZWxEYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXt2YXIgZj1lLnBpeGVsRGF0YSxkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qoei5hKShlKSxyPU1hdGguYWJzKHQubWF4LXQubWluKS82NTUzNSxhPXQubWluLG49ZS5sZW5ndGgsbz1uZXcgVWludDE2QXJyYXkobiksaT02NTUzNSxsPTAscz0wO3M8bjtzKyspe3ZhciB1PU1hdGguZmxvb3IoKGVbc10tYSkvcik7b1tzXT11LGk9TWF0aC5taW4oaSx1KSxsPU1hdGgubWF4KGwsdSl9cmV0dXJue21pbjppLG1heDpsLGludFBpeGVsRGF0YTpvLHNsb3BlOnIsaW50ZXJjZXB0OmF9fShmKTtjLm1pblBpeGVsVmFsdWU9ZC5taW4sYy5tYXhQaXhlbFZhbHVlPWQubWF4LGMuc2xvcGU9ZC5zbG9wZSxjLmludGVyY2VwdD1kLmludGVyY2VwdCxjLmZsb2F0UGl4ZWxEYXRhPWYsYy5nZXRQaXhlbERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gZC5pbnRQaXhlbERhdGF9fWVsc2UgYy5nZXRQaXhlbERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gZS5waXhlbERhdGF9O2lmKGMuY29sb3ImJihjLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiBuZT09PXZ8fCh3LmhlaWdodD1jLnJvd3Msdy53aWR0aD1jLmNvbHVtbnMsdy5nZXRDb250ZXh0KFwiMmRcIikucHV0SW1hZ2VEYXRhKGUuaW1hZ2VEYXRhLDAsMCksbmU9diksd30pLG4ubW9kYWxpdHlMVVRTZXF1ZW5jZSYmMDxuLm1vZGFsaXR5TFVUU2VxdWVuY2UubGVuZ3RoJiZcIjEuMi44NDAuMTAwMDguNS4xLjQuMS4xLjEyLjFcIiE9PSh1PW8uc29wQ2xhc3NVSUQpJiZcIjEuMi44NDAuMTAwMDguNS4xLjQuMS4xLjEyLjIuMVwiIT09dSYmKGMubW9kYWxpdHlMVVQ9bi5tb2RhbGl0eUxVVFNlcXVlbmNlWzBdKSxhLnZvaUxVVFNlcXVlbmNlJiYwPGEudm9pTFVUU2VxdWVuY2UubGVuZ3RoJiYoYy52b2lMVVQ9YS52b2lMVVRTZXF1ZW5jZVswXSksYy5jb2xvciYmKGMud2luZG93V2lkdGg9MjU1LGMud2luZG93Q2VudGVyPTEyNyksdm9pZCAwPT09Yy53aW5kb3dDZW50ZXJ8fHZvaWQgMD09PWMud2luZG93V2lkdGgpe3ZhciBwPWMubWF4UGl4ZWxWYWx1ZSpjLnNsb3BlK2MuaW50ZXJjZXB0LG09Yy5taW5QaXhlbFZhbHVlKmMuc2xvcGUrYy5pbnRlcmNlcHQ7Yy53aW5kb3dXaWR0aD1wLW0sYy53aW5kb3dDZW50ZXI9KHArbSkvMn1nKGMpfSxlKX0pfTt2YXIgaWU9ZnVuY3Rpb24obyxpKXt2YXIgbD0obmV3IERhdGUpLmdldFRpbWUoKSx0PW8uc3Vic3RyaW5nKDcpO3JldHVybntwcm9taXNlOm5ldyBQcm9taXNlKGZ1bmN0aW9uKGEsbil7aWYodm9pZCAwPT09eS5nZXQobykpe3ZhciBlPW5ldyBFcnJvcihcIm5vIG1ldGFkYXRhIGZvciBpbWFnZUlkIFwiLmNvbmNhdChvKSk7cmV0dXJuIG4oZSl9Uyh0LG8sJ211bHRpcGFydC9yZWxhdGVkOyB0eXBlPVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCInKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PVwiMS4yLjg0MC4xMDAwOC4xLjJcIjtpZighZSlyZXR1cm4gdDt2YXIgcj1lLnNwbGl0KFwiO1wiKSxhPXt9O3IuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLnNwbGl0KFwiPVwiKTtpZigyPT09dC5sZW5ndGgpe3ZhciByPXRbMV0udHJpbSgpLnJlcGxhY2UoL1wiL2csXCJcIik7YVt0WzBdLnRyaW0oKV09cn19KTt2YXIgbj17XCJpbWFnZS9qcGVnXCI6XCIxLjIuODQwLjEwMDA4LjEuMi40LjcwXCIsXCJpbWFnZS94LWRpY29tLXJsZVwiOlwiMS4yLjg0MC4xMDAwOC4xLjIuNVwiLFwiaW1hZ2UveC1qbHNcIjpcIjEuMi44NDAuMTAwMDguMS4yLjQuODBcIixcImltYWdlL2pwMlwiOlwiMS4yLjg0MC4xMDAwOC4xLjIuNC45MFwiLFwiaW1hZ2UvanB4XCI6XCIxLjIuODQwLjEwMDA4LjEuMi40LjkyXCJ9O3JldHVybiBhW1widHJhbnNmZXItc3ludGF4XCJdP2FbXCJ0cmFuc2Zlci1zeW50YXhcIl06ZSYmIU9iamVjdC5rZXlzKGEpLmxlbmd0aCYmbltlXT9uW2VdOmEudHlwZSYmblthLnR5cGVdP25bYS50eXBlXTp0fShlLmNvbnRlbnRUeXBlKSxyPWUuaW1hZ2VGcmFtZS5waXhlbERhdGE7b2UobyxyLHQsaSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD0obmV3IERhdGUpLmdldFRpbWUoKTtlLmxvYWRUaW1lSW5NUz10LWwsYShlKX0sbil9LG4pfSksY2FuY2VsRm46dm9pZCAwfX0sbGU9e21ldGFEYXRhOntnZXROdW1iZXJTdHJpbmc6ZixnZXROdW1iZXJWYWx1ZTpwLGdldE51bWJlclZhbHVlczptLGdldFZhbHVlOmQsbWV0YURhdGFQcm92aWRlcjpEfSxmaW5kSW5kZXhPZlN0cmluZzpULGdldFBpeGVsRGF0YTpTLGxvYWRJbWFnZTppZSxtZXRhRGF0YU1hbmFnZXI6eSxyZWdpc3RlcjpmdW5jdGlvbihlKXtlLnJlZ2lzdGVySW1hZ2VMb2FkZXIoXCJ3YWRvcnNcIixpZSksZS5tZXRhRGF0YS5hZGRQcm92aWRlcihEKX19O3ZhciBzZSx1ZSxjZT1mdW5jdGlvbihlKXtsZS5yZWdpc3RlcihlKSxMZS5yZWdpc3RlcihlKX0sZmU9e3NldCBjb3JuZXJzdG9uZShlKXtjZShzZT1lKX0sZ2V0IGNvcm5lcnN0b25lKCl7aWYoIXNlKXtpZighd2luZG93fHwhd2luZG93LmNvcm5lcnN0b25lKXRocm93IG5ldyBFcnJvcihcImNvcm5lcnN0b25lV0FET0ltYWdlTG9hZGVyIHJlcXVpcmVzIGEgY29weSBvZiBDb3JuZXJzdG9uZSB0byB3b3JrIHByb3Blcmx5LiBQbGVhc2UgYWRkIGNvcm5lcnN0b25lV0FET0ltYWdlTG9hZGVyLmV4dGVybmFsLmNvcm5lcnN0b25lID0gY29ybmVyc3RvbmU7IHRvIHlvdXIgYXBwbGljYXRpb24uXCIpO3NlPXdpbmRvdy5jb3JuZXJzdG9uZSxjZShzZSl9cmV0dXJuIHNlfSxzZXQgZGljb21QYXJzZXIoZSl7dWU9ZX0sZ2V0IGRpY29tUGFyc2VyKCl7aWYoIXVlKXtpZighd2luZG93fHwhd2luZG93LmRpY29tUGFyc2VyKXRocm93IG5ldyBFcnJvcihcImNvcm5lcnN0b25lV0FET0ltYWdlTG9hZGVyIHJlcXVpcmVzIGEgY29weSBvZiBkaWNvbVBhcnNlciB0byB3b3JrIHByb3Blcmx5LiBQbGVhc2UgYWRkIGNvcm5lcnN0b25lV0FET0ltYWdlTG9hZGVyLmV4dGVybmFsLmRpY29tUGFyc2VyID0gZGljb21QYXJzZXI7IHRvIHlvdXIgYXBwbGljYXRpb24uXCIpO3VlPXdpbmRvdy5kaWNvbVBhcnNlcn1yZXR1cm4gdWV9fTt2YXIgZGU9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLmluZGV4T2YoXCI6XCIpLGE9ZS5zdWJzdHJpbmcocisxKSxuPWEuaW5kZXhPZihcImZyYW1lPVwiKTtpZigtMSE9PW4pe3ZhciBvPWEuc3Vic3RyKG4rNik7dD1wYXJzZUludChvLDEwKSxhPWEuc3Vic3RyKDAsbi0xKX1yZXR1cm57c2NoZW1lOmUuc3Vic3RyKDAsciksdXJsOmEsZnJhbWU6dH19LHBlPTAsbWU9e30sZ2U9e307ZnVuY3Rpb24gdmUoKXtyZXR1cm57Y2FjaGVTaXplSW5CeXRlczpwZSxudW1iZXJPZkRhdGFTZXRzQ2FjaGVkOk9iamVjdC5rZXlzKG1lKS5sZW5ndGh9fXZhciB4ZT17aXNMb2FkZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PW1lW2VdfSxsb2FkOmZ1bmN0aW9uKG8pe3ZhciBlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpBLHQ9Mjxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1syXTp2b2lkIDAsaT1mZS5jb3JuZXJzdG9uZSxsPWZlLmRpY29tUGFyc2VyO2lmKG1lW29dKXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlKXttZVtvXS5jYWNoZUNvdW50KyssZShtZVtvXS5kYXRhU2V0KX0pO2lmKGdlW29dKXJldHVybiBnZVtvXS5jYWNoZUNvdW50KyssZ2Vbb107dmFyIHI9ZShvLHQpLHM9bmV3IFByb21pc2UoZnVuY3Rpb24oYSxuKXtyLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQscj1uZXcgVWludDhBcnJheShlKTt0cnl7dD1sLnBhcnNlRGljb20ocil9Y2F0Y2goZSl7cmV0dXJuIG4oZSl9bWVbb109e2RhdGFTZXQ6dCxjYWNoZUNvdW50OnMuY2FjaGVDb3VudH0scGUrPXQuYnl0ZUFycmF5Lmxlbmd0aCxhKHQpLGkudHJpZ2dlckV2ZW50KGkuZXZlbnRzLFwiZGF0YXNldHNjYWNoZWNoYW5nZWRcIix7dXJpOm8sYWN0aW9uOlwibG9hZGVkXCIsY2FjaGVJbmZvOnZlKCl9KX0sbikudGhlbihmdW5jdGlvbigpe2RlbGV0ZSBnZVtvXX0sZnVuY3Rpb24oKXtkZWxldGUgZ2Vbb119KX0pO3JldHVybiBzLmNhY2hlQ291bnQ9MSxnZVtvXT1zfSx1bmxvYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZmUuY29ybmVyc3RvbmU7bWVbZV0mJihtZVtlXS5jYWNoZUNvdW50LS0sMD09PW1lW2VdLmNhY2hlQ291bnQmJihwZS09bWVbZV0uZGF0YVNldC5ieXRlQXJyYXkubGVuZ3RoLGRlbGV0ZSBtZVtlXSx0LnRyaWdnZXJFdmVudCh0LmV2ZW50cyxcImRhdGFzZXRzY2FjaGVjaGFuZ2VkXCIse3VyaTplLGFjdGlvbjpcInVubG9hZGVkXCIsY2FjaGVJbmZvOnZlKCl9KSkpfSxnZXRJbmZvOnZlLHB1cmdlOmZ1bmN0aW9uKCl7bWU9e30sZ2U9e319LGdldDpmdW5jdGlvbihlKXtpZihtZVtlXSlyZXR1cm4gbWVbZV0uZGF0YVNldH19O3ZhciBoZT1mdW5jdGlvbihlLHQpe3ZhciByPWZlLmRpY29tUGFyc2VyLGE9ZGUodCksbj14ZS5nZXQoYS51cmwpO2lmKG4pe2lmKFwiZ2VuZXJhbFNlcmllc01vZHVsZVwiPT09ZSlyZXR1cm57bW9kYWxpdHk6bi5zdHJpbmcoXCJ4MDAwODAwNjBcIiksc2VyaWVzSW5zdGFuY2VVSUQ6bi5zdHJpbmcoXCJ4MDAyMDAwMGVcIiksc2VyaWVzTnVtYmVyOm4uaW50U3RyaW5nKFwieDAwMjAwMDExXCIpLHN0dWR5SW5zdGFuY2VVSUQ6bi5zdHJpbmcoXCJ4MDAyMDAwMGRcIiksc2VyaWVzRGF0ZTpyLnBhcnNlREEobi5zdHJpbmcoXCJ4MDAwODAwMjFcIikpLHNlcmllc1RpbWU6ci5wYXJzZVRNKG4uc3RyaW5nKFwieDAwMDgwMDMxXCIpfHxcIlwiKX07aWYoXCJwYXRpZW50U3R1ZHlNb2R1bGVcIj09PWUpcmV0dXJue3BhdGllbnRBZ2U6bi5pbnRTdHJpbmcoXCJ4MDAxMDEwMTBcIikscGF0aWVudFNpemU6bi5mbG9hdFN0cmluZyhcIngwMDEwMTAyMFwiKSxwYXRpZW50V2VpZ2h0Om4uZmxvYXRTdHJpbmcoXCJ4MDAxMDEwMzBcIil9O2lmKFwiaW1hZ2VQbGFuZU1vZHVsZVwiPT09ZSl7dmFyIG89dyhuLFwieDAwMjAwMDM3XCIsNiksaT13KG4sXCJ4MDAyMDAwMzJcIiwzKSxsPXcobixcIngwMDI4MDAzMFwiLDIpLHM9bnVsbCx1PW51bGw7bCYmKHU9bFswXSxzPWxbMV0pO3ZhciBjPW51bGwsZj1udWxsO3JldHVybiBvJiYoYz1bcGFyc2VGbG9hdChvWzBdKSxwYXJzZUZsb2F0KG9bMV0pLHBhcnNlRmxvYXQob1syXSldLGY9W3BhcnNlRmxvYXQob1szXSkscGFyc2VGbG9hdChvWzRdKSxwYXJzZUZsb2F0KG9bNV0pXSkse2ZyYW1lT2ZSZWZlcmVuY2VVSUQ6bi5zdHJpbmcoXCJ4MDAyMDAwNTJcIikscm93czpuLnVpbnQxNihcIngwMDI4MDAxMFwiKSxjb2x1bW5zOm4udWludDE2KFwieDAwMjgwMDExXCIpLGltYWdlT3JpZW50YXRpb25QYXRpZW50Om8scm93Q29zaW5lczpjLGNvbHVtbkNvc2luZXM6ZixpbWFnZVBvc2l0aW9uUGF0aWVudDppLHNsaWNlVGhpY2tuZXNzOm4uZmxvYXRTdHJpbmcoXCJ4MDAxODAwNTBcIiksc2xpY2VMb2NhdGlvbjpuLmZsb2F0U3RyaW5nKFwieDAwMjAxMDQxXCIpLHBpeGVsU3BhY2luZzpsLHJvd1BpeGVsU3BhY2luZzp1LGNvbHVtblBpeGVsU3BhY2luZzpzfX1pZihcImltYWdlUGl4ZWxNb2R1bGVcIj09PWUpcmV0dXJuIGcobik7aWYoXCJtb2RhbGl0eUx1dE1vZHVsZVwiPT09ZSlyZXR1cm57cmVzY2FsZUludGVyY2VwdDpuLmZsb2F0U3RyaW5nKFwieDAwMjgxMDUyXCIpLHJlc2NhbGVTbG9wZTpuLmZsb2F0U3RyaW5nKFwieDAwMjgxMDUzXCIpLHJlc2NhbGVUeXBlOm4uc3RyaW5nKFwieDAwMjgxMDU0XCIpLG1vZGFsaXR5TFVUU2VxdWVuY2U6dihuLnVpbnQxNihcIngwMDI4MDEwM1wiKSxuLmVsZW1lbnRzLngwMDI4MzAwMCl9O2lmKFwidm9pTHV0TW9kdWxlXCI9PT1lKXt2YXIgZD1oKG4pO3JldHVybnt3aW5kb3dDZW50ZXI6dyhuLFwieDAwMjgxMDUwXCIsMSksd2luZG93V2lkdGg6dyhuLFwieDAwMjgxMDUxXCIsMSksdm9pTFVUU2VxdWVuY2U6dihkLG4uZWxlbWVudHMueDAwMjgzMDEwKX19aWYoXCJzb3BDb21tb25Nb2R1bGVcIj09PWUpcmV0dXJue3NvcENsYXNzVUlEOm4uc3RyaW5nKFwieDAwMDgwMDE2XCIpLHNvcEluc3RhbmNlVUlEOm4uc3RyaW5nKFwieDAwMDgwMDE4XCIpfTtpZihcInBldElzb3RvcGVNb2R1bGVcIj09PWUpe3ZhciBwPW4uZWxlbWVudHMueDAwNTQwMDE2O2lmKHZvaWQgMD09PXApcmV0dXJuO3ZhciBtPXAuaXRlbXNbMF0uZGF0YVNldDtyZXR1cm57cmFkaW9waGFybWFjZXV0aWNhbEluZm86e3JhZGlvcGhhcm1hY2V1dGljYWxTdGFydFRpbWU6ci5wYXJzZVRNKG0uc3RyaW5nKFwieDAwMTgxMDcyXCIpfHxcIlwiKSxyYWRpb251Y2xpZGVUb3RhbERvc2U6bS5mbG9hdFN0cmluZyhcIngwMDE4MTA3NFwiKSxyYWRpb251Y2xpZGVIYWxmTGlmZTptLmZsb2F0U3RyaW5nKFwieDAwMTgxMDc1XCIpfX19fX0sd2U9W107dmFyIGJlPXthZGQ6ZnVuY3Rpb24oZSl7dmFyIHQ9d2UucHVzaChlKTtyZXR1cm5cImRpY29tZmlsZTpcIi5jb25jYXQodC0xKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiB3ZVtlXX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3dlW2VdPXZvaWQgMH0scHVyZ2U6ZnVuY3Rpb24oKXt3ZT1bXX19O2Z1bmN0aW9uIHllKGUsdCl7dmFyIHIsYT1mZS5kaWNvbVBhcnNlcjtpZihlLmVsZW1lbnRzLng3ZmUwMDAxMCYmZS5lbGVtZW50cy54N2ZlMDAwMTAuYmFzaWNPZmZzZXRUYWJsZS5sZW5ndGgpcmV0dXJuIGEucmVhZEVuY2Fwc3VsYXRlZEltYWdlRnJhbWUoZSxlLmVsZW1lbnRzLng3ZmUwMDAxMCx0KTtpZigocj1lKS5pbnRTdHJpbmcoXCJ4MDAyODAwMDhcIik9PT1yLmVsZW1lbnRzLng3ZmUwMDAxMC5mcmFnbWVudHMubGVuZ3RoKXJldHVybiBhLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFGcm9tRnJhZ21lbnRzKGUsZS5lbGVtZW50cy54N2ZlMDAwMTAsdCk7dmFyIG49YS5jcmVhdGVKUEVHQmFzaWNPZmZzZXRUYWJsZShlLGUuZWxlbWVudHMueDdmZTAwMDEwKTtyZXR1cm4gYS5yZWFkRW5jYXBzdWxhdGVkSW1hZ2VGcmFtZShlLGUuZWxlbWVudHMueDdmZTAwMDEwLHQsbil9dmFyIERlPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGE9bmV3IFVpbnQ4QXJyYXkociksbj0wO248cjtuKyspe3ZhciBvPWVbTWF0aC5mbG9vcihuLzgpK3RdLGk9biU4O2Fbbl09byYxPDxpPzE6MH1yZXR1cm4gYX07dmFyIFBlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYT1lLmVsZW1lbnRzLng3ZmUwMDAxMHx8ZS5lbGVtZW50cy54N2ZlMDAwMDgsbj1lLnVpbnQxNihcIngwMDI4MDEwMFwiKSxvPWUudWludDE2KFwieDAwMjgwMDEwXCIpLGk9ZS51aW50MTYoXCJ4MDAyODAwMTFcIiksbD1lLnVpbnQxNihcIngwMDI4MDAwMlwiKSxzPWEuZGF0YU9mZnNldCx1PW8qaSpsO2lmKDg9PT1uKXtpZigocj1zK3QqdSk+PWUuYnl0ZUFycmF5Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJmcmFtZSBleGNlZWRzIHNpemUgb2YgcGl4ZWxEYXRhXCIpO3JldHVybiBuZXcgVWludDhBcnJheShlLmJ5dGVBcnJheS5idWZmZXIscix1KX1pZigxNj09PW4pe2lmKChyPXMrdCp1KjIpPj1lLmJ5dGVBcnJheS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiZnJhbWUgZXhjZWVkcyBzaXplIG9mIHBpeGVsRGF0YVwiKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZS5ieXRlQXJyYXkuYnVmZmVyLHIsMip1KX1pZigxPT09bil7aWYoKHI9cyt0KnUqLjEyNSk+PWUuYnl0ZUFycmF5Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJmcmFtZSBleGNlZWRzIHNpemUgb2YgcGl4ZWxEYXRhXCIpO3JldHVybiBEZShlLmJ5dGVBcnJheSxyLHUpfWlmKDMyIT09bil0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBwaXhlbCBmb3JtYXRcIik7aWYoKHI9cyt0KnUqNCk+PWUuYnl0ZUFycmF5Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJmcmFtZSBleGNlZWRzIHNpemUgb2YgcGl4ZWxEYXRhXCIpO3JldHVybiBuZXcgVWludDhBcnJheShlLmJ5dGVBcnJheS5idWZmZXIsciw0KnUpfTt2YXIgVGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZGUoZSkscj1wYXJzZUludCh0LnVybCwxMCksYT1iZS5nZXQocik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsZSl7dmFyIHQ9bmV3IEZpbGVSZWFkZXI7dC5vbmxvYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O3IodCl9LHQub25lcnJvcj1lLHQucmVhZEFzQXJyYXlCdWZmZXIoYSl9KX07dmFyIEllPWZ1bmN0aW9uKGUpe3ZhciB0PTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9ZS5lbGVtZW50cy54N2ZlMDAwMTB8fGUuZWxlbWVudHMueDdmZTAwMDA4O3JldHVybiByP3IuZW5jYXBzdWxhdGVkUGl4ZWxEYXRhP3llKGUsdCk6UGUoZSx0KTpudWxsfTtmdW5jdGlvbiBDZShlLHMpe3ZhciB1PTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLGM9Mzxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1szXTp2b2lkIDAsZj00PGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzRdOnZvaWQgMCxkPTU8YXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbNV06dm9pZCAwLHA9KG5ldyBEYXRlKS5nZXRUaW1lKCksbT17Y2FuY2VsRm46dm9pZCAwfTtyZXR1cm4gbS5wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGksbCl7ZS50aGVuKGZ1bmN0aW9uKHIpe3ZhciB0LGU9SWUocix1KSxhPXIuc3RyaW5nKFwieDAwMDIwMDEwXCIpLG49KG5ldyBEYXRlKS5nZXRUaW1lKCksbz1vZShzLGUsYSxmKTt0PXMsbS5kZWNhY2hlPWZ1bmN0aW9uKCl7dmFyIGU9ZGUodCk7eGUudW5sb2FkKGUudXJsKX0sby50aGVuKGZ1bmN0aW9uKGUpe2UuZGF0YT1yLGUuc2hhcmVkQ2FjaGVLZXk9Yzt2YXIgdD0obmV3IERhdGUpLmdldFRpbWUoKTtlLmxvYWRUaW1lSW5NUz1uLXAsZS50b3RhbFRpbWVJbk1TPXQtcCx2b2lkIDAhPT1kJiZ2b2lkIDAhPT1kLmltYWdlRG9uZUNhbGxiYWNrJiZkLmltYWdlRG9uZUNhbGxiYWNrKGUpLGkoZSl9LGZ1bmN0aW9uKGUpe2woe2Vycm9yOmUsZGF0YVNldDpyfSl9KX0sZnVuY3Rpb24oZSl7bCh7ZXJyb3I6ZX0pfSl9KSxtfWZ1bmN0aW9uIGtlKGUpe3JldHVyblwiZGljb213ZWJcIj09PWV8fFwid2Fkb3VyaVwiPT09ZT9BOlwiZGljb21maWxlXCI9PT1lP1RlOnZvaWQgMH1mdW5jdGlvbiBBZShlKXt2YXIgdD0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1kZShlKSxhPSh0PU9iamVjdC5hc3NpZ24oe30sdCkpLmxvYWRlcjtyZXR1cm4gdm9pZCAwPT09YT9hPWtlKHIuc2NoZW1lKTpkZWxldGUgdC5sb2FkZXIseGUuaXNMb2FkZWQoci51cmwpP2Z1bmN0aW9uKGksbCl7dmFyIHM9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsdT0zPGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzNdOnZvaWQgMCxjPTQ8YXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbNF06dm9pZCAwLGY9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJue3Byb21pc2U6bmV3IFByb21pc2UoZnVuY3Rpb24ocix0KXt2YXIgZSxhPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RyeXt2YXIgbj1JZShpLHMpLG89aS5zdHJpbmcoXCJ4MDAwMjAwMTBcIik7ZT1vZShsLG4sbyxjKX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0KHtlcnJvcjplLGRhdGFTZXQ6aX0pfWUudGhlbihmdW5jdGlvbihlKXtlLmRhdGE9aSxlLnNoYXJlZENhY2hlS2V5PXU7dmFyIHQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZS5sb2FkVGltZUluTVM9YS1mLGUudG90YWxUaW1lSW5NUz10LWYscihlKX0sdCl9KSxjYW5jZWxGbjp2b2lkIDB9fSh4ZS5nZXQoci51cmwsYSxlKSxlLHIuZnJhbWUsci51cmwsdCk6Q2UoeGUubG9hZChyLnVybCxhLGUpLGUsci5mcmFtZSxyLnVybCx0KX12YXIgTGU9e21ldGFEYXRhOntnZXRJbWFnZVBpeGVsTW9kdWxlOmcsZ2V0TFVUczp2LGdldE1vZGFsaXR5TFVUT3V0cHV0UGl4ZWxSZXByZXNlbnRhdGlvbjpoLGdldE51bWJlclZhbHVlczp3LG1ldGFEYXRhUHJvdmlkZXI6aGV9LGRhdGFTZXRDYWNoZU1hbmFnZXI6eGUsZmlsZU1hbmFnZXI6YmUsZ2V0RW5jYXBzdWxhdGVkSW1hZ2VGcmFtZTp5ZSxnZXRVbmNvbXByZXNzZWRJbWFnZUZyYW1lOlBlLGxvYWRGaWxlUmVxdWVzdDpUZSxsb2FkSW1hZ2VGcm9tUHJvbWlzZTpDZSxnZXRMb2FkZXJGb3JTY2hlbWU6a2UsbG9hZEltYWdlOkFlLHBhcnNlSW1hZ2VJZDpkZSx1bnBhY2tCaW5hcnlGcmFtZTpEZSxyZWdpc3RlcjpmdW5jdGlvbihlKXtlLnJlZ2lzdGVySW1hZ2VMb2FkZXIoXCJkaWNvbXdlYlwiLEFlKSxlLnJlZ2lzdGVySW1hZ2VMb2FkZXIoXCJ3YWRvdXJpXCIsQWUpLGUucmVnaXN0ZXJJbWFnZUxvYWRlcihcImRpY29tZmlsZVwiLEFlKSxlLm1ldGFEYXRhLmFkZFByb3ZpZGVyKGhlKX19O3ZhciBTZT1mdW5jdGlvbihlKXtDKGUpfSxFZT1yKDMpO3IuZCh0LFwiY29udmVydFJHQkNvbG9yQnlQaXhlbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSxyLmQodCxcImNvbnZlcnRSR0JDb2xvckJ5UGxhbmVcIixmdW5jdGlvbigpe3JldHVybiBufSksci5kKHQsXCJjb252ZXJ0WUJSRnVsbEJ5UGl4ZWxcIixmdW5jdGlvbigpe3JldHVybiBvfSksci5kKHQsXCJjb252ZXJ0WUJSRnVsbEJ5UGxhbmVcIixmdW5jdGlvbigpe3JldHVybiBpfSksci5kKHQsXCJjb252ZXJ0UEFMRVRURUNPTE9SXCIsZnVuY3Rpb24oKXtyZXR1cm4gbH0pLHIuZCh0LFwid2Fkb3VyaVwiLGZ1bmN0aW9uKCl7cmV0dXJuIExlfSksci5kKHQsXCJ3YWRvcnNcIixmdW5jdGlvbigpe3JldHVybiBsZX0pLHIuZCh0LFwiY29uZmlndXJlXCIsZnVuY3Rpb24oKXtyZXR1cm4gU2V9KSxyLmQodCxcImNvbnZlcnRDb2xvclNwYWNlXCIsZnVuY3Rpb24oKXtyZXR1cm4gcmV9KSxyLmQodCxcImNyZWF0ZUltYWdlXCIsZnVuY3Rpb24oKXtyZXR1cm4gb2V9KSxyLmQodCxcImRlY29kZUltYWdlRnJhbWVcIixmdW5jdGlvbigpe3JldHVybiAkfSksci5kKHQsXCJkZWNvZGVKUEVHQmFzZWxpbmU4Qml0Q29sb3JcIixmdW5jdGlvbigpe3JldHVybiBOfSksci5kKHQsXCJnZXRJbWFnZUZyYW1lXCIsZnVuY3Rpb24oKXtyZXR1cm4gT30pLHIuZCh0LFwiZ2V0TWluTWF4XCIsZnVuY3Rpb24oKXtyZXR1cm4gei5hfSksci5kKHQsXCJpc0NvbG9ySW1hZ2VcIixmdW5jdGlvbigpe3JldHVybiBlZX0pLHIuZCh0LFwiaXNKUEVHQmFzZWxpbmU4Qml0Q29sb3JcIixmdW5jdGlvbigpe3JldHVybiBhZX0pLHIuZCh0LFwid2ViV29ya2VyTWFuYWdlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSxyLmQodCxcInZlcnNpb25cIixmdW5jdGlvbigpe3JldHVybiBFZS5hfSksci5kKHQsXCJpbnRlcm5hbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSxyLmQodCxcImV4dGVybmFsXCIsZnVuY3Rpb24oKXtyZXR1cm4gZmV9KX1dKX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ybmVyc3RvbmVXQURPSW1hZ2VMb2FkZXIubWluLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/cornerstone-wado-image-loader/dist/cornerstoneWADOImageLoader.min.js\n");

/***/ }),

/***/ "../node_modules/dicom-parser/dist/dicomParser.min.js":
/*!************************************************************!*\
  !*** ../node_modules/dicom-parser/dist/dicomParser.min.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*! dicom-parser - 1.8.1 - 2018-05-16 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */\n!function(e,t){ true?module.exports=t():undefined}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=79)}([function(e,t){var r;r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(r=window)}e.exports=r},function(e,t,r){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nvar n=r(73),i=r(72),a=r(38);function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError(\"Invalid typed array length\");return f.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=f.prototype:(null===e&&(e=new f(t)),e.length=t),e}function f(e,t,r){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(e,t,r);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return h(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);f.TYPED_ARRAY_SUPPORT?(e=t).__proto__=f.prototype:e=d(e,t);return e}(e,t,r,n):\"string\"==typeof t?function(e,t,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!f.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(f.isBuffer(t)){var r=0|c(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||(n=t.length)!=n?s(e,0):d(e,t);if(\"Buffer\"===t.type&&a(t.data))return d(e,t.data)}var n;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function u(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|c(t)),!f.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|c(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function c(e){if(e>=o())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+o().toString(16)+\" bytes\");return 0|e}function p(e,t){if(f.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return z(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return Z(e).length;default:if(n)return z(e).length;t=(\"\"+t).toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof t&&(t=f.from(t,n)),f.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,i);if(\"number\"==typeof t)return t&=255,f.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function _(e,t,r,n,i){var a,o=1,s=e.length,f=t.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,f/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===f)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+f>s&&(r=s-f),a=r;a>=0;a--){for(var h=!0,d=0;d<f;d++)if(l(e,a+d)!==l(t,d)){h=!1;break}if(h)return a}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError(\"Invalid hex string\");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function y(e,t,r,n){return C(z(t,e.length-r),e,r,n)}function v(e,t,r,n){return C(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return v(e,t,r,n)}function E(e,t,r,n){return C(Z(t),e,r,n)}function x(e,t,r,n){return C(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,f,l=e[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=r)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[i+1]))&&(f=(31&l)<<6|63&a)>127&&(u=f);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(f=(15&l)<<12|(63&a)<<6|63&o)>2047&&(f<55296||f>57343)&&(u=f);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(f=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&f<1114112&&(u=f)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r=\"\",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=f,t.SlowBuffer=function(e){+e!=e&&(e=0);return f.alloc(+e)},t.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),f.poolSize=8192,f._augment=function(e){return e.__proto__=f.prototype,e},f.from=function(e,t,r){return l(null,e,t,r)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?\"string\"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},f.allocUnsafe=function(e){return h(null,e)},f.allocUnsafeSlow=function(e){return h(null,e)},f.isBuffer=function(e){return!(null==e||!e._isBuffer)},f.compare=function(e,t){if(!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},f.concat=function(e,t){if(!a(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=f.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!f.isBuffer(o))throw new TypeError('\"list\" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},f.byteLength=p,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},f.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?S(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return T(this,t,r);case\"utf8\":case\"utf-8\":return S(this,t,r);case\"ascii\":return P(this,t,r);case\"latin1\":case\"binary\":return O(this,t,r);case\"base64\":return k(this,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return R(this,t,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),n=!0}}.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e=\"\",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,r).match(/.{2}/g).join(\" \"),this.length>r&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},f.prototype.compare=function(e,t,r,n,i){if(!f.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,o=r-t,s=Math.min(a,o),l=this.slice(n,i),u=e.slice(t,r),h=0;h<s;++h)if(l[h]!==u[h]){a=l[h],o=u[h];break}return a<o?-1:o<a?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},f.prototype.write=function(e,t,r,n){if(void 0===t)n=\"utf8\",r=this.length,t=0;else if(void 0===r&&\"string\"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(r)?(r|=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var a=!1;;)switch(n){case\"hex\":return b(this,e,t,r);case\"utf8\":case\"utf-8\":return y(this,e,t,r);case\"ascii\":return v(this,e,t,r);case\"latin1\":case\"binary\":return w(this,e,t,r);case\"base64\":return E(this,e,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return x(this,e,t,r);default:if(a)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),a=!0}},f.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",a=t;a<r;++a)i+=j(e[a]);return i}function R(e,t,r){for(var n=e.slice(t,r),i=\"\",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>r)throw new RangeError(\"Trying to access beyond buffer length\")}function D(e,t,r,n,i,a){if(!f.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('\"value\" argument is out of bounds');if(r+n>e.length)throw new RangeError(\"Index out of range\")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function U(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function B(e,t,r,n,a){return a||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,a){return a||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}f.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),f.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=f.prototype;else{var i=t-e;r=new f(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},f.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},f.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},f.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},f.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},f.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},f.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},f.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},f.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},f.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},f.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},f.prototype.fill=function(e,t,r,n){if(\"string\"==typeof e){if(\"string\"==typeof t?(n=t,t=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!f.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n)}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError(\"Out of range index\");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),\"number\"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=f.isBuffer(e)?e:z(new f(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var N=/[^+\\/0-9A-Za-z-_]/g;function j(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(N,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function C(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(0))},function(e,t,r){\"use strict\";var n=r(10),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var a=r(6);a.inherits=r(5);var o=r(35),s=r(18);a.inherits(h,o);for(var f=i(s.prototype),l=0;l<f.length;l++){var u=f[l];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(c,this)}function c(e){e.end()}Object.defineProperty(h.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){var r,n,i=e.exports={};function a(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n=\"function\"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var f,l=[],u=!1,h=-1;function d(){u&&f&&(u=!1,f.length?l=f.concat(l):h=-1,l.length&&c())}function c(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(f=l,l=[];++h<t;)f&&f[h].run();h=-1,t=l.length}f=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||u||s(c)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){if(void 0===e)throw\"dicomParser.readTag: missing required parameter 'byteStream'\";var t=256*e.readUint16()*256,r=e.readUint16();return\"x\"+(\"00000000\"+(t+r).toString(16)).substr(-8)}},function(e,t){\"function\"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):\"[object Array]\"===r(e)},t.isBoolean=function(e){return\"boolean\"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return\"number\"==typeof e},t.isString=function(e){return\"string\"==typeof e},t.isSymbol=function(e){return\"symbol\"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return\"[object RegExp]\"===r(e)},t.isObject=function(e){return\"object\"==typeof e&&null!==e},t.isDate=function(e){return\"[object Date]\"===r(e)},t.isError=function(e){return\"[object Error]\"===r(e)||e instanceof Error},t.isFunction=function(e){return\"function\"==typeof e},t.isPrimitive=function(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(1).Buffer)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(14);function a(e,t){return void 0!==e.parser?e.parser:t}var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.byteArrayParser=t,this.byteArray=r,this.elements=n}return n(e,[{key:\"uint16\",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readUint16(this.byteArray,r.dataOffset+2*t)}},{key:\"int16\",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readInt16(this.byteArray,r.dataOffset+2*t)}},{key:\"uint32\",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readUint32(this.byteArray,r.dataOffset+4*t)}},{key:\"int32\",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readInt32(this.byteArray,r.dataOffset+4*t)}},{key:\"float\",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readFloat(this.byteArray,r.dataOffset+4*t)}},{key:\"double\",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readDouble(this.byteArray,r.dataOffset+8*t)}},{key:\"numStringValues\",value:function(e){var t=this.elements[e];if(t&&t.length>0){var r=(0,i.readFixedString)(this.byteArray,t.dataOffset,t.length).match(/\\\\/g);return null===r?1:r.length+1}}},{key:\"string\",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){var n=(0,i.readFixedString)(this.byteArray,r.dataOffset,r.length);return t>=0?n.split(\"\\\\\")[t].trim():n.trim()}}},{key:\"text\",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){var n=(0,i.readFixedString)(this.byteArray,r.dataOffset,r.length);return t>=0?n.split(\"\\\\\")[t].replace(/ +$/,\"\"):n.replace(/ +$/,\"\")}}},{key:\"floatString\",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseFloat(n)}}},{key:\"intString\",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseInt(n)}}},{key:\"attributeTag\",value:function(e){var t=this.elements[e];if(t&&4===t.length){var r=a(t,this.byteArrayParser).readUint16,n=this.byteArray,i=t.dataOffset;return\"x\"+(\"00000000\"+(256*r(n,i)*256+r(n,i+2)).toString(16)).substr(-8)}}}]),e}();t.default=o},function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)a=e[t],o.set(a,i),i+=a.length;return o}},o={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},function(e,t,r){var n=r(1),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),a(i,o),o.from=function(e,t,r){if(\"number\"==typeof e)throw new TypeError(\"Argument must not be a number\");return i(e,t,r)},o.alloc=function(e,t,r){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");var n=i(e);return void 0!==t?\"string\"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return i(e)},o.allocUnsafeSlow=function(e){if(\"number\"!=typeof e)throw new TypeError(\"Argument must be a number\");return n.SlowBuffer(e)}},function(e,t,r){\"use strict\";(function(t){!t.version||0===t.version.indexOf(\"v0.\")||0===t.version.indexOf(\"v1.\")&&0!==t.version.indexOf(\"v1.8.\")?e.exports={nextTick:function(e,r,n,i){if(\"function\"!=typeof e)throw new TypeError('\"callback\" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick(function(){e.apply(null,a)})}}}:e.exports=t}).call(this,r(3))},function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(t,r,n){if(void 0!==e&&t instanceof e)return t.slice(r,r+n);if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset+r,n);throw\"dicomParser.from: unknown type for byteArray\"}}).call(this,r(1).Buffer)},function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(11),o=(n=a)&&n.__esModule?n:{default:n},s=r(14);var f=function(){function t(r,n,i){if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),void 0===r)throw\"dicomParser.ByteStream: missing required parameter 'byteArrayParser'\";if(void 0===n)throw\"dicomParser.ByteStream: missing required parameter 'byteArray'\";if(n instanceof Uint8Array==!1&&n instanceof e==!1)throw\"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer\";if(i<0)throw\"dicomParser.ByteStream: parameter 'position' cannot be less than 0\";if(i>=n.length)throw\"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length\";this.byteArrayParser=r,this.byteArray=n,this.position=i||0,this.warnings=[]}return i(t,[{key:\"seek\",value:function(e){if(this.position+e<0)throw\"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0\";this.position+=e}},{key:\"readByteStream\",value:function(e){if(this.position+e>this.byteArray.length)throw\"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread\";var r=(0,o.default)(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,r)}},{key:\"readUint16\",value:function(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:\"readUint32\",value:function(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:\"readFixedString\",value:function(e){var t=(0,s.readFixedString)(this.byteArray,this.position,e);return this.position+=e,t}}]),t}();t.default=f}).call(this,r(1).Buffer)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){if(void 0===e)throw\"dicomParser.readSequenceItem: missing required parameter 'byteStream'\";var t={tag:(0,a.default)(e),length:e.readUint32(),dataOffset:e.position};if(\"xfffee000\"!==t.tag)throw\"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset \"+e.position;return t};var n,i=r(4),a=(n=i)&&n.__esModule?n:{default:n}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.readFixedString=function(e,t,r){if(r<0)throw\"dicomParser.readFixedString - length cannot be less than 0\";if(t+r>e.length)throw\"dicomParser.readFixedString: attempt to read past end of buffer\";for(var n,i=\"\",a=0;a<r;a++){if(0===(n=e[t+a]))return t+=r,i;i+=String.fromCharCode(n)}return i}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw\"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'\";var f={tag:(0,o.default)(e),vr:e.readFixedString(2)};2===l(f.vr)?(f.length=e.readUint16(),f.dataOffset=e.position):(e.seek(2),f.length=e.readUint32(),f.dataOffset=e.position);4294967295===f.length&&(f.hadUndefinedLength=!0);if(f.tag===r)return f;if(\"SQ\"===f.vr)return(0,s.default)(e,f,t),f;if(4294967295===f.length)return\"x7fe00010\"===f.tag?((0,n.default)(e,f,t),f):\"UN\"===f.vr?((0,i.default)(e,f),f):((0,a.default)(e,f),f);return e.seek(f.length),f};var n=f(r(42)),i=f(r(41)),a=f(r(24)),o=f(r(4)),s=f(r(40));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return\"OB\"===e||\"OW\"===e||\"SQ\"===e||\"OF\"===e||\"UT\"===e||\"UN\"===e?4:2}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.parseDicomDataSetExplicit=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?t.byteArray.length:r,void 0===t)throw\"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'\";if(r<t.position||r>t.byteArray.length)throw\"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'\";var a=e.elements;for(;t.position<r;){var o=(0,n.default)(t,e.warnings,i.untilTag);if(a[o.tag]=o,o.tag===i.untilTag)return}if(t.position>r)throw\"dicomParser:parseDicomDataSetExplicit: buffer overrun\"},t.parseDicomDataSetImplicit=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?e.byteArray.length:r,void 0===t)throw\"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'\";if(r<t.position||r>t.byteArray.length)throw\"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'\";var a=e.elements;for(;t.position<r;){var o=(0,i.default)(t,n.untilTag,n.vrCallback);if(a[o.tag]=o,o.tag===n.untilTag)return}};var n=a(r(15)),i=a(r(23));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r,s,l){if(s=s||1,l=l||t.fragments,void 0===e)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'\";if(void 0===t)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'\";if(void 0===r)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'\";if(void 0===s)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'\";if(\"x7fe00010\"!==t.tag)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010\";if(!0!==t.encapsulatedPixelData)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(!0!==t.hadUndefinedLength)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.basicOffsetTable)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.fragments)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(t.fragments.length<=0)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(r<0)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0\";if(r>=t.fragments.length)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments\";if(s<1)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0\";if(r+s>t.fragments.length)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments\";var u=new i.default(e.byteArrayParser,e.byteArray,t.dataOffset),h=(0,a.default)(u);if(\"xfffee000\"!==h.tag)throw\"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000\";u.seek(h.length);var d=u.position;if(1===s)return(0,o.default)(u.byteArray,d+l[r].offset+8,l[r].length);for(var c=f(l,r,s),p=(0,n.default)(u.byteArray,c),g=0,m=r;m<r+s;m++)for(var _=d+l[m].offset+8,b=0;b<l[m].length;b++)p[g++]=u.byteArray[_++];return p};var n=s(r(22)),i=s(r(12)),a=s(r(13)),o=s(r(11));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t,r){for(var n=0,i=t;i<t+r;i++)n+=e[i].length;return n}},function(e,t,r){\"use strict\";(function(t,n,i){var a=r(10);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,f=!t.browser&&[\"v0.10\",\"v0.9.\"].indexOf(t.version.slice(0,5))>-1?n:a.nextTick;b.WritableState=_;var l=r(6);l.inherits=r(5);var u={deprecate:r(61)},h=r(34),d=r(9).Buffer,c=i.Uint8Array||function(){};var p,g=r(33);function m(){}function _(e,t){s=s||r(2),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(a.nextTick(i,n),a.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit(\"error\",n)):(i(n),e._writableState.errorEmitted=!0,e.emit(\"error\",n),k(e,t))}(e,r,n,t,i);else{var o=E(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?f(v,e,r,o,i):v(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(s=s||r(2),!(p.call(b,this)||this instanceof s))return new b(e);this._writableState=new _(e,this),this.writable=!0,e&&(\"function\"==typeof e.write&&(this._write=e.write),\"function\"==typeof e.writev&&(this._writev=e.writev),\"function\"==typeof e.destroy&&(this._destroy=e.destroy),\"function\"==typeof e.final&&(this._final=e.final)),h.call(this)}function y(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit(\"drain\"))}(e,t),t.pendingcb--,n(),k(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,f=!0;r;)i[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;i.allBuffers=f,y(e,t,!0,t.length,i,\"\",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,u,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(r){t.pendingcb--,r&&e.emit(\"error\",r),t.prefinished=!0,e.emit(\"prefinish\"),k(e,t)})}function k(e,t){var r=E(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||(\"function\"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(x,e,t)):(t.prefinished=!0,e.emit(\"prefinish\")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit(\"finish\"))),r}l.inherits(b,h),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,\"buffer\",{get:u.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(e){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof _)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},b.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,d.isBuffer(n)||n instanceof c);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),\"function\"==typeof t&&(r=t,t=null),s?t=\"buffer\":t||(t=i.defaultEncoding),\"function\"!=typeof r&&(r=m),i.ended?function(e,t){var r=new Error(\"write after end\");e.emit(\"error\",r),a.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError(\"May not write null values to stream\"):\"string\"==typeof r||void 0===r||t.objectMode||(o=new TypeError(\"Invalid non-string/buffer chunk\")),o&&(e.emit(\"error\",o),a.nextTick(n,o),i=!1),i}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||\"string\"!=typeof t||(t=d.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i=\"buffer\",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,i,a);return f}(this,i,s,e,t,r)),o},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},b.prototype.setDefaultEncoding=function(e){if(\"string\"==typeof e&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,r){r(new Error(\"_write() is not implemented\"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;\"function\"==typeof e?(r=e,e=null,t=null):\"function\"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?a.nextTick(r):e.once(\"finish\",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(3),r(63).setImmediate,r(0))},function(e,t,r){(t=e.exports=r(35)).Stream=t,t.Readable=t,t.Writable=r(18),t.Duplex=r(2),t.Transform=r(31),t.PassThrough=r(60)},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return\"function\"==typeof e}function i(e){return\"object\"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||isNaN(e))throw TypeError(\"n must be a positive number\");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,f,l;if(this._events||(this._events={}),\"error\"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified \"error\" event. ('+t+\")\");throw u.context=t,u}if(a(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),o=(l=r.slice()).length,f=0;f<o;f++)l[f].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[e].length),\"function\"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError(\"listener must be a function\");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,a,o,s;if(!n(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,a=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(i(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readUint16: position cannot be less than 0\";if(t+2>e.length)throw\"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer\";return e[t]+256*e[t+1]},readInt16:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readInt16: position cannot be less than 0\";if(t+2>e.length)throw\"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer\";var r=e[t]+(e[t+1]<<8);return 32768&r&&(r=r-65535-1),r},readUint32:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readUint32: position cannot be less than 0\";if(t+4>e.length)throw\"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer\";return e[t]+256*e[t+1]+256*e[t+2]*256+256*e[t+3]*256*256},readInt32:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readInt32: position cannot be less than 0\";if(t+4>e.length)throw\"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer\";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readFloat: position cannot be less than 0\";if(t+4>e.length)throw\"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer\";var r=new Uint8Array(4);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readDouble: position cannot be less than 0\";if(t+8>e.length)throw\"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer\";var r=new Uint8Array(8);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7],new Float64Array(r.buffer)[0]}}},function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(t,r){if(void 0!==e&&t instanceof e)return e.alloc(r);if(t instanceof Uint8Array)return new Uint8Array(r);throw\"dicomParser.alloc: unknown type for byteArray\"}}).call(this,r(1).Buffer)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw\"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'\";var o={tag:(0,a.default)(e),length:e.readUint32(),dataOffset:e.position};4294967295===o.length&&(o.hadUndefinedLength=!0);if(o.tag===t)return o;if(s(o,e,r))return(0,i.default)(e,o),o;if(o.hadUndefinedLength)return(0,n.default)(e,o),o;return e.seek(o.length),o};var n=o(r(24)),i=o(r(39)),a=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(void 0!==r)return\"SQ\"===r(e.tag);if(t.position+4<=t.byteArray.length){var n=(0,a.default)(t);return t.seek(-4),\"xfffee000\"===n||\"xfffee0dd\"===n}return t.warnings.push(\"eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR\"),!1}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(void 0===e)throw\"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'\";var r=e.byteArray.length-8;for(;e.position<=r;){var n=e.readUint16();if(65534===n){var i=e.readUint16();if(57357===i){var a=e.readUint32();return 0!==a&&e.warnings(\"encountered non zero length following item delimiter at position \"+(e.position-4)+\" while reading element of undefined length with tag \"+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0};t.isStringVr=function(e){return n[e]},t.isPrivateTag=function(e){return parseInt(e[4],10)%2==1},t.parsePN=function(e){if(void 0!==e){var t=e.split(\"^\");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r,n,i){if(n=n||t.basicOffsetTable,i=i||t.fragments,void 0===e)throw\"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'\";if(void 0===t)throw\"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'\";if(void 0===r)throw\"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'\";if(void 0===n)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable\";if(\"x7fe00010\"!==t.tag)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)\";if(!0!==t.encapsulatedPixelData)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(!0!==t.hadUndefinedLength)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length\";if(void 0===t.fragments)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments\";if(0===n.length)throw\"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries\";if(r<0)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0\";if(r>=n.length)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length\";var f=n[r],l=o(i,f);if(void 0===l)throw\"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry\";var u=s(r,n,i,l);return(0,a.default)(e,t,l,u,i)};var n,i=r(17),a=(n=i)&&n.__esModule?n:{default:n};var o=function(e,t){for(var r=0;r<e.length;r++)if(e[r].offset===t)return r},s=function(e,t,r,n){if(e===t.length-1)return r.length-n;for(var i=t[e+1],a=n+1;a<r.length;a++)if(r[a].offset===i)return a-n;throw\"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table\"}},function(e,t,r){\"use strict\";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,i){var a=n,o=i+r;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t,r){\"use strict\";e.exports=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+t[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(e,t,r){(function(e,n){var i=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(\" \")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,function(e){if(\"%%\"===e)return\"%\";if(r>=a)return e;switch(e){case\"%s\":return String(n[r++]);case\"%d\":return Number(n[r++]);case\"%j\":try{return JSON.stringify(n[r++])}catch(e){return\"[Circular]\"}default:return e}}),f=n[r];r<a;f=n[++r])g(f)||!v(f)?o+=\" \"+f:o+=\" \"+s(f);return o},t.deprecate=function(r,i){if(b(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),a=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),u(n,e,n.depth)}function f(e,t){var r=s.styles[t];return r?\"\u001b[\"+s.colors[r][0]+\"m\"+e+\"\u001b[\"+s.colors[r][1]+\"m\":e}function l(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return _(i)||(i=u(e,i,n)),i}var a=function(e,t){if(b(t))return e.stylize(\"undefined\",\"undefined\");if(_(t)){var r=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(r,\"string\")}if(m(t))return e.stylize(\"\"+t,\"number\");if(p(t))return e.stylize(\"\"+t,\"boolean\");if(g(t))return e.stylize(\"null\",\"null\")}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),E(r)&&(o.indexOf(\"message\")>=0||o.indexOf(\"description\")>=0))return h(r);if(0===o.length){if(x(r)){var f=r.name?\": \"+r.name:\"\";return e.stylize(\"[Function\"+f+\"]\",\"special\")}if(y(r))return e.stylize(RegExp.prototype.toString.call(r),\"regexp\");if(w(r))return e.stylize(Date.prototype.toString.call(r),\"date\");if(E(r))return h(r)}var l,v=\"\",k=!1,S=[\"{\",\"}\"];(c(r)&&(k=!0,S=[\"[\",\"]\"]),x(r))&&(v=\" [Function\"+(r.name?\": \"+r.name:\"\")+\"]\");return y(r)&&(v=\" \"+RegExp.prototype.toString.call(r)),w(r)&&(v=\" \"+Date.prototype.toUTCString.call(r)),E(r)&&(v=\" \"+h(r)),0!==o.length||k&&0!=r.length?n<0?y(r)?e.stylize(RegExp.prototype.toString.call(r),\"regexp\"):e.stylize(\"[Object]\",\"special\"):(e.seen.push(r),l=k?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)P(t,String(o))?a.push(d(e,t,r,n,String(o),!0)):a.push(\"\");return i.forEach(function(i){i.match(/^\\d+$/)||a.push(d(e,t,r,n,i,!0))}),a}(e,r,n,s,o):o.map(function(t){return d(e,r,n,s,t,k)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf(\"\\n\")>=0&&0,e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0)>60)return r[0]+(\"\"===t?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+r[1];return r[0]+t+\" \"+e.join(\", \")+\" \"+r[1]}(l,v,S)):S[0]+v+S[1]}function h(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function d(e,t,r,n,i,a){var o,s,f;if((f=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=f.set?e.stylize(\"[Getter/Setter]\",\"special\"):e.stylize(\"[Getter]\",\"special\"):f.set&&(s=e.stylize(\"[Setter]\",\"special\")),P(n,i)||(o=\"[\"+i+\"]\"),s||(e.seen.indexOf(f.value)<0?(s=g(r)?u(e,f.value,null):u(e,f.value,r-1)).indexOf(\"\\n\")>-1&&(s=a?s.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):\"\\n\"+s.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\")):s=e.stylize(\"[Circular]\",\"special\")),b(o)){if(a&&i.match(/^\\d+$/))return s;(o=JSON.stringify(\"\"+i)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,\"name\")):(o=o.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),o=e.stylize(o,\"string\"))}return o+\": \"+s}function c(e){return Array.isArray(e)}function p(e){return\"boolean\"==typeof e}function g(e){return null===e}function m(e){return\"number\"==typeof e}function _(e){return\"string\"==typeof e}function b(e){return void 0===e}function y(e){return v(e)&&\"[object RegExp]\"===k(e)}function v(e){return\"object\"==typeof e&&null!==e}function w(e){return v(e)&&\"[object Date]\"===k(e)}function E(e){return v(e)&&(\"[object Error]\"===k(e)||e instanceof Error)}function x(e){return\"function\"==typeof e}function k(e){return Object.prototype.toString.call(e)}function S(e){return e<10?\"0\"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(a)&&(a=n.env.NODE_DEBUG||\"\"),e=e.toUpperCase(),!o[e])if(new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\").test(a)){var r=n.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error(\"%s %d: %s\",e,r,n)}}else o[e]=function(){};return o[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},t.isArray=c,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=_,t.isSymbol=function(e){return\"symbol\"==typeof e},t.isUndefined=b,t.isRegExp=y,t.isObject=v,t.isDate=w,t.isError=E,t.isFunction=x,t.isPrimitive=function(e){return null===e||\"boolean\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"symbol\"==typeof e||void 0===e},t.isBuffer=r(54);var A=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log(\"%s - %s\",(e=new Date,r=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(\":\"),[e.getDate(),A[e.getMonth()],r].join(\" \")),t.format.apply(t,arguments))},t.inherits=r(53),t._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(0),r(3))},function(e,t,r){\"use strict\";(function(t){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&\"function\"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(29),o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,f=\"foo\"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function u(e){return!i(e)&&(\"function\"==typeof t.ArrayBuffer&&(\"function\"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=e.exports=_,d=/\\s*function\\s+([^\\(\\s]*)\\s*/;function c(e){if(a.isFunction(e)){if(f)return e.name;var t=e.toString().match(d);return t&&t[1]}}function p(e,t){return\"string\"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(f||!a.isFunction(e))return a.inspect(e);var t=c(e);return\"[Function\"+(t?\": \"+t:\"\")+\"]\"}function m(e,t,r,n,i){throw new h.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function _(e,t){e||m(e,!0,t,\"==\",h.ok)}function b(e,t,r,o){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&\"object\"==typeof e||null!==t&&\"object\"==typeof t){if(u(e)&&u(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var f=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==f&&f===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=y(e),o=y(t);if(i&&!o||!i&&o)return!1;if(i)return e=s.call(e),t=s.call(t),b(e,t,r);var f,l,u=E(e),h=E(t);if(u.length!==h.length)return!1;for(u.sort(),h.sort(),l=u.length-1;l>=0;l--)if(u[l]!==h[l])return!1;for(l=u.length-1;l>=0;l--)if(f=u[l],!b(e[f],t[f],r,n))return!1;return!0}(e,t,r,o))}return r?e===t:e==t}function y(e){return\"[object Arguments]\"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if(\"[object RegExp]\"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,r,n){var i;if(\"function\"!=typeof t)throw new TypeError('\"block\" argument must be a function');\"string\"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?\" (\"+r.name+\").\":\".\")+(n?\" \"+n:\".\"),e&&!i&&m(i,r,\"Missing expected exception\"+n);var o=\"string\"==typeof n,s=!e&&a.isError(i),f=!e&&i&&!r;if((s&&o&&v(i,r)||f)&&m(i,r,\"Got unwanted exception\"+n),e&&i&&r&&!v(i,r)||!e&&i)throw i}h.AssertionError=function(e){var t;this.name=\"AssertionError\",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(g((t=this).actual),128)+\" \"+t.operator+\" \"+p(g(t.expected),128),this.generatedMessage=!0);var r=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,a=c(r),o=i.indexOf(\"\\n\"+a);if(o>=0){var s=i.indexOf(\"\\n\",o+1);i=i.substring(s+1)}this.stack=i}}},a.inherits(h.AssertionError,Error),h.fail=m,h.ok=_,h.equal=function(e,t,r){e!=t&&m(e,t,r,\"==\",h.equal)},h.notEqual=function(e,t,r){e==t&&m(e,t,r,\"!=\",h.notEqual)},h.deepEqual=function(e,t,r){b(e,t,!1)||m(e,t,r,\"deepEqual\",h.deepEqual)},h.deepStrictEqual=function(e,t,r){b(e,t,!0)||m(e,t,r,\"deepStrictEqual\",h.deepStrictEqual)},h.notDeepEqual=function(e,t,r){b(e,t,!1)&&m(e,t,r,\"notDeepEqual\",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,r,n){b(t,r,!0)&&m(t,r,n,\"notDeepStrictEqual\",e)},h.strictEqual=function(e,t,r){e!==t&&m(e,t,r,\"===\",h.strictEqual)},h.notStrictEqual=function(e,t,r){e===t&&m(e,t,r,\"!==\",h.notStrictEqual)},h.throws=function(e,t,r){w(!0,e,t,r)},h.doesNotThrow=function(e,t,r){w(!1,e,t,r)},h.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t}}).call(this,r(0))},function(e,t,r){\"use strict\";e.exports=a;var n=r(2),i=r(6);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit(\"error\",new Error(\"write callback called multiple times\"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(\"function\"==typeof e.transform&&(this._transform=e.transform),\"function\"==typeof e.flush&&(this._flush=e.flush)),this.on(\"prefinish\",o)}function o(){var e=this;\"function\"==typeof this._flush?this._flush(function(t,r){s(e,t,r)}):s(this,null,null)}function s(e,t,r){if(t)return e.emit(\"error\",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error(\"Calling transform done when ws.length != 0\");if(e._transformState.transforming)throw new Error(\"Calling transform done when still transforming\");return e.push(null)}i.inherits=r(5),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error(\"_transform() is not implemented\")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit(\"close\")})}},function(e,t,r){\"use strict\";var n=r(9).Buffer,i=n.isEncoding||function(e){switch((e=\"\"+e)&&e.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return\"utf8\";for(var t;;)switch(e){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return e;default:if(t)return;e=(\"\"+e).toLowerCase(),t=!0}}(e);if(\"string\"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error(\"Unknown encoding: \"+e);return t||e}(e),this.encoding){case\"utf16le\":this.text=f,this.end=l,t=4;break;case\"utf8\":this.fillLast=s,t=4;break;case\"base64\":this.text=u,this.end=h,t=3;break;default:return this.write=d,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,\"\".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,\"\".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,\"\".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function f(e,t){if((e.length-t)%2==0){var r=e.toString(\"utf16le\",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString(\"utf16le\",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):\"\";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString(\"utf16le\",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString(\"base64\",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString(\"base64\",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+this.lastChar.toString(\"base64\",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function c(e){return e&&e.length?this.write(e):\"\"}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return\"\";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return\"\";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||\"\"},a.prototype.end=function(e){var t=e&&e.length?this.write(e):\"\";return this.lastNeed?t+\"\".repeat(this.lastTotal-this.lastNeed):t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString(\"utf8\",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString(\"utf8\",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){\"use strict\";var n=r(10);function i(e,t){e.emit(\"error\",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){e.exports=r(20).EventEmitter},function(e,t,r){\"use strict\";(function(t,n){var i=r(10);e.exports=y;var a,o=r(38);y.ReadableState=b;r(20).EventEmitter;var s=function(e,t){return e.listeners(t).length},f=r(34),l=r(9).Buffer,u=t.Uint8Array||function(){};var h=r(6);h.inherits=r(5);var d=r(66),c=void 0;c=d&&d.debuglog?d.debuglog(\"stream\"):function(){};var p,g=r(65),m=r(33);h.inherits(y,f);var _=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function b(e,t){a=a||r(2),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(32).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(a=a||r(2),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&(\"function\"==typeof e.read&&(this._read=e.read),\"function\"==typeof e.destroy&&(this._destroy=e.destroy)),f.call(this)}function v(e,t,r,n,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}(e,o)):(i||(a=function(e,t){var r;n=t,l.isBuffer(n)||n instanceof u||\"string\"==typeof t||void 0===t||e.objectMode||(r=new TypeError(\"Invalid non-string/buffer chunk\"));var n;return r}(o,t)),a?e.emit(\"error\",a):o.objectMode||t&&t.length>0?(\"string\"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n?o.endEmitted?e.emit(\"error\",new Error(\"stream.unshift() after end event\")):w(e,o,t,!0):o.ended?e.emit(\"error\",new Error(\"stream.push() after EOF\")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):A(e,o)):w(e,o,t,!1))):n||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit(\"data\",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),A(e,t)}Object.defineProperty(y.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:\"string\"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=\"\"),r=!0),v(this,e,t,!1,r)},y.prototype.unshift=function(e){return v(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=r(32).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var E=8388608;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c(\"emitReadable\",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(S,e):S(e))}function S(e){c(\"emit readable\"),e.emit(\"readable\"),R(e)}function A(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(P,e,t))}function P(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c(\"maybeReadMore read 0\"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function O(e){c(\"readable nexttick read 0\"),e.read(0)}function T(e,t){t.reading||(c(\"resume read 0\"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit(\"resume\"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(c(\"flow\",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(\"\"):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=l.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,o),0===(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function D(e){var t=e._readableState;if(t.length>0)throw new Error('\"endReadable()\" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit(\"end\"))}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){c(\"read\",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c(\"read: emitReadable\",t.length,t.ended),0===t.length&&t.ended?D(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return c(\"need readable\",i),(0===t.length||t.length-e<t.highWaterMark)&&c(\"length less than watermark\",i=!0),t.ended||t.reading?c(\"reading or ended\",i=!1):i&&(c(\"do read\"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit(\"data\",n),n},y.prototype._read=function(e){this.emit(\"error\",new Error(\"_read() is not implemented\"))},y.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c(\"pipe count=%d opts=%j\",a.pipesCount,t);var f=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?u:y;function l(t,n){c(\"onunpipe\"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c(\"cleanup\"),e.removeListener(\"close\",_),e.removeListener(\"finish\",b),e.removeListener(\"drain\",h),e.removeListener(\"error\",m),e.removeListener(\"unpipe\",l),r.removeListener(\"end\",u),r.removeListener(\"end\",y),r.removeListener(\"data\",g),d=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function u(){c(\"onend\"),e.end()}a.endEmitted?i.nextTick(f):r.once(\"end\",f),e.on(\"unpipe\",l);var h=function(e){return function(){var t=e._readableState;c(\"pipeOnDrain\",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,\"data\")&&(t.flowing=!0,R(e))}}(r);e.on(\"drain\",h);var d=!1;var p=!1;function g(t){c(\"ondata\"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==F(a.pipes,e))&&!d&&(c(\"false write response, pause\",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(t){c(\"onerror\",t),y(),e.removeListener(\"error\",m),0===s(e,\"error\")&&e.emit(\"error\",t)}function _(){e.removeListener(\"finish\",b),y()}function b(){c(\"onfinish\"),e.removeListener(\"close\",_),y()}function y(){c(\"unpipe\"),r.unpipe(e)}return r.on(\"data\",g),function(e,t,r){if(\"function\"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,\"error\",m),e.once(\"close\",_),e.once(\"finish\",b),e.emit(\"pipe\",r),a.flowing||(c(\"pipe resume\"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(\"unpipe\",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit(\"unpipe\",this,r);return this}var o=F(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit(\"unpipe\",this,r),this)},y.prototype.on=function(e,t){var r=f.prototype.on.call(this,e,t);if(\"data\"===e)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):i.nextTick(O,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(c(\"resume\"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(T,e,t))}(this,e)),this},y.prototype.pause=function(){return c(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(c(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on(\"end\",function(){if(c(\"wrapped end\"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on(\"data\",function(i){(c(\"wrapped data\"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&\"function\"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<_.length;a++)e.on(_[a],this.emit.bind(this,_[a]));return this._read=function(t){c(\"wrapped _read\",t),n&&(n=!1,e.resume())},this},y._fromList=I}).call(this,r(0),r(3))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(void 0===e)throw\"dicomParser.readPart10Header: missing required parameter 'byteArray'\";var r=new n.default(a.default,e);return function(){!function(){if(r.seek(128),\"DICM\"!==r.readFixedString(4))throw\"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.\"}();var e=[],t={};for(;r.position<r.byteArray.length;){var n=r.position,s=(0,o.default)(r,e);if(s.tag>\"x0002ffff\"){r.position=n;break}s.parser=a.default,t[s.tag]=s}var f=new i.default(r.byteArrayParser,r.byteArray,t);return f.warnings=r.warnings,f.position=r.position,f}()};var n=s(r(12)),i=s(r(7)),a=s(r(21)),o=s(r(15));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readUint16: position cannot be less than 0\";if(t+2>e.length)throw\"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer\";return(e[t]<<8)+e[t+1]},readInt16:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readInt16: position cannot be less than 0\";if(t+2>e.length)throw\"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer\";var r=(e[t]<<8)+e[t+1];return 32768&r&&(r=r-65535-1),r},readUint32:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readUint32: position cannot be less than 0\";if(t+4>e.length)throw\"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer\";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readInt32: position cannot be less than 0\";if(t+4>e.length)throw\"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer\";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readFloat: position cannot be less than 0\";if(t+4>e.length)throw\"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer\";var r=new Uint8Array(4);return r[3]=e[t],r[2]=e[t+1],r[1]=e[t+2],r[0]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readDouble: position cannot be less than 0\";if(t+8>e.length)throw\"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer\";var r=new Uint8Array(8);return r[7]=e[t],r[6]=e[t+1],r[5]=e[t+2],r[4]=e[t+3],r[3]=e[t+4],r[2]=e[t+5],r[1]=e[t+6],r[0]=e[t+7],new Float64Array(r.buffer)[0]}}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==r.call(e)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw\"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'\";if(void 0===t)throw\"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'\";t.items=[],4294967295===t.length?function(e,t,r){for(;e.position+4<=e.byteArray.length;){var n=(0,o.default)(e);if(e.seek(-4),\"xfffee0dd\"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var i=l(e,r);t.items.push(i)}e.warnings.push(\"eof encountered before finding sequence delimiter in sequence of undefined length\"),t.length=e.byteArray.length-t.dataOffset}(e,t,r):function(e,t,r){var n=t.dataOffset+t.length;for(;e.position<n;){var i=l(e,r);t.items.push(i)}}(e,t,r)};var n=f(r(7)),i=f(r(23)),a=f(r(13)),o=f(r(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=(0,a.default)(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=function(e,t){for(var r={};e.position<e.byteArray.length;){var a=(0,i.default)(e,void 0,t);if(r[a.tag]=a,\"xfffee00d\"===a.tag)return new n.default(e.byteArrayParser,e.byteArray,r)}return e.warnings.push(\"eof encountered before finding sequence item delimiter in sequence item of undefined length\"),new n.default(e.byteArrayParser,e.byteArray,r)}(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetImplicit(r.dataSet,e,e.position+r.length,{vrCallback:t})),r}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw\"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'\";if(void 0===t)throw\"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'\";t.items=[],4294967295===t.length?function(e,t,r){for(;e.position+4<=e.byteArray.length;){var n=(0,o.default)(e);if(e.seek(-4),\"xfffee0dd\"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var i=l(e,r);t.items.push(i)}r.push(\"eof encountered before finding sequence delimitation tag while reading sequence of undefined length\"),t.length=e.position-t.dataOffset}(e,t,r):function(e,t,r){var n=t.dataOffset+t.length;for(;e.position<n;){var i=l(e,r);t.items.push(i)}}(e,t,r)};var n=f(r(7)),i=f(r(15)),a=f(r(13)),o=f(r(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=(0,a.default)(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=function(e,t){for(var r={};e.position<e.byteArray.length;){var a=(0,i.default)(e,t);if(r[a.tag]=a,\"xfffee00d\"===a.tag)return new n.default(e.byteArrayParser,e.byteArray,r)}return t.push(\"eof encountered before finding item delimiter tag while reading sequence item of undefined length\"),new n.default(e.byteArrayParser,e.byteArray,r)}(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetExplicit(r.dataSet,e,e.position+r.length)),r}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(void 0===e)throw\"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'\";var r=e.byteArray.length-8;for(;e.position<=r;){var n=e.readUint16();if(65534===n){var i=e.readUint16();if(57565===i){var a=e.readUint32();return 0!==a&&e.warnings(\"encountered non zero length following item delimiter at position \"+(e.position-4)+\" while reading element of undefined length with tag \"+t.tag),void(t.length=e.position-t.dataOffset)}}}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw\"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'\";if(void 0===t)throw\"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'\";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],\"xfffee000\"!==(0,a.default)(e))throw\"dicomParser.findEndOfEncapsulatedElement: basic offset table not found\";for(var n=e.readUint32()/4,i=0;i<n;i++){var o=e.readUint32();t.basicOffsetTable.push(o)}var s=e.position;for(;e.position<e.byteArray.length;){var f=(0,a.default)(e),l=e.readUint32();if(\"xfffee0dd\"===f)return e.seek(l),void(t.length=e.position-t.dataOffset);if(\"xfffee000\"!==f)return r&&r.push(\"unexpected tag \"+f+\" while searching for end of pixel data element with undefined length\"),l>e.byteArray.length-e.position&&(l=e.byteArray.length-e.position),t.fragments.push({offset:e.position-s-8,position:e.position,length:l}),e.seek(l),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-s-8,position:e.position,length:l}),e.seek(l)}r&&r.push(\"pixel data element \"+t.tag+\" missing sequence delimiter tag xfffee0dd\")};var n,i=r(4),a=(n=i)&&n.__esModule?n:{default:n}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(void 0===e||void 0===t)throw\"dicomParser.explicitElementToString: missing required parameters\";if(void 0===t.vr)throw\"dicomParser.explicitElementToString: cannot convert implicit element to string\";var r,i=t.vr,a=t.tag;function o(t,r){for(var n=\"\",i=0;i<t;i++)0!==i&&(n+=\"/\"),n+=r.call(e,a,i).toString();return n}if(!0===n.isStringVr(i))r=e.string(a);else{if(\"AT\"===i){var s=e.uint32(a);if(void 0===s)return;return s<0&&(s=4294967295+s+1),\"x\"+s.toString(16).toUpperCase()}\"US\"===i?r=o(t.length/2,e.uint16):\"SS\"===i?r=o(t.length/2,e.int16):\"UL\"===i?r=o(t.length/4,e.uint32):\"SL\"===i?r=o(t.length/4,e.int32):\"FD\"===i?r=o(t.length/8,e.double):\"FL\"===i&&(r=o(t.length/4,e.float))}return r};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(25))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r){o||(o=!0,console&&console.log&&console.log(\"WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated\"));if(void 0===e)throw\"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'\";if(void 0===t)throw\"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'\";if(void 0===r)throw\"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'\";if(\"x7fe00010\"!==t.tag)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)\";if(!0!==t.encapsulatedPixelData)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data\";if(!0!==t.hadUndefinedLength)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.basicOffsetTable)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.fragments)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data\";if(r<0)throw\"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0\";if(0!==t.basicOffsetTable.length)return(0,n.default)(e,t,r);return(0,i.default)(e,t,0,t.fragments.length)};var n=a(r(26)),i=a(r(17));function a(e){return e&&e.__esModule?e:{default:e}}var o=!1},function(e,t,r){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){\"use strict\";var n=r(8),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,f,l,u,h,d){var c,p,g,m,_,b,y,v,w,E=d.bits,x=0,k=0,S=0,A=0,P=0,O=0,T=0,R=0,I=0,D=0,L=null,F=0,U=new n.Buf16(16),B=new n.Buf16(16),M=null,N=0;for(x=0;x<=15;x++)U[x]=0;for(k=0;k<f;k++)U[t[r+k]]++;for(P=E,A=15;A>=1&&0===U[A];A--);if(P>A&&(P=A),0===A)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(S=1;S<A&&0===U[S];S++);for(P<S&&(P=S),R=1,x=1;x<=15;x++)if(R<<=1,(R-=U[x])<0)return-1;if(R>0&&(0===e||1!==A))return-1;for(B[1]=0,x=1;x<15;x++)B[x+1]=B[x]+U[x];for(k=0;k<f;k++)0!==t[r+k]&&(h[B[t[r+k]]++]=k);if(0===e?(L=M=h,b=19):1===e?(L=i,F-=257,M=a,N-=257,b=256):(L=o,M=s,b=-1),D=0,k=0,x=S,_=u,O=P,T=0,g=-1,m=(I=1<<P)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){y=x-T,h[k]<b?(v=0,w=h[k]):h[k]>b?(v=M[N+h[k]],w=L[F+h[k]]):(v=96,w=0),c=1<<x-T,S=p=1<<O;do{l[_+(D>>T)+(p-=c)]=y<<24|v<<16|w|0}while(0!==p);for(c=1<<x-1;D&c;)c>>=1;if(0!==c?(D&=c-1,D+=c):D=0,k++,0==--U[x]){if(x===A)break;x=t[r+h[k]]}if(x>P&&(D&m)!==g){for(0===T&&(T=P),_+=S,R=1<<(O=x-T);O+T<A&&!((R-=U[O+T])<=0);)O++,R<<=1;if(I+=1<<O,1===e&&I>852||2===e&&I>592)return 1;l[g=D&m]=P<<24|O<<16|_-u|0}}return 0!==D&&(l[_+D]=x-T<<24|64<<16|0),d.bits=P,0}},function(e,t,r){\"use strict\";e.exports=function(e,t){var r,n,i,a,o,s,f,l,u,h,d,c,p,g,m,_,b,y,v,w,E,x,k,S,A;r=e.state,n=e.next_in,S=e.input,i=n+(e.avail_in-5),a=e.next_out,A=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),f=r.dmax,l=r.wsize,u=r.whave,h=r.wnext,d=r.window,c=r.hold,p=r.bits,g=r.lencode,m=r.distcode,_=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(c+=S[n++]<<p,p+=8,c+=S[n++]<<p,p+=8),y=g[c&_];t:for(;;){if(c>>>=v=y>>>24,p-=v,0===(v=y>>>16&255))A[a++]=65535&y;else{if(!(16&v)){if(0==(64&v)){y=g[(65535&y)+(c&(1<<v)-1)];continue t}if(32&v){r.mode=12;break e}e.msg=\"invalid literal/length code\",r.mode=30;break e}w=65535&y,(v&=15)&&(p<v&&(c+=S[n++]<<p,p+=8),w+=c&(1<<v)-1,c>>>=v,p-=v),p<15&&(c+=S[n++]<<p,p+=8,c+=S[n++]<<p,p+=8),y=m[c&b];r:for(;;){if(c>>>=v=y>>>24,p-=v,!(16&(v=y>>>16&255))){if(0==(64&v)){y=m[(65535&y)+(c&(1<<v)-1)];continue r}e.msg=\"invalid distance code\",r.mode=30;break e}if(E=65535&y,p<(v&=15)&&(c+=S[n++]<<p,(p+=8)<v&&(c+=S[n++]<<p,p+=8)),(E+=c&(1<<v)-1)>f){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(c>>>=v,p-=v,E>(v=a-o)){if((v=E-v)>u&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(x=0,k=d,0===h){if(x+=l-v,v<w){w-=v;do{A[a++]=d[x++]}while(--v);x=a-E,k=A}}else if(h<v){if(x+=l+h-v,(v-=h)<w){w-=v;do{A[a++]=d[x++]}while(--v);if(x=0,h<w){w-=v=h;do{A[a++]=d[x++]}while(--v);x=a-E,k=A}}}else if(x+=h-v,v<w){w-=v;do{A[a++]=d[x++]}while(--v);x=a-E,k=A}for(;w>2;)A[a++]=k[x++],A[a++]=k[x++],A[a++]=k[x++],w-=3;w&&(A[a++]=k[x++],w>1&&(A[a++]=k[x++]))}else{x=a-E;do{A[a++]=A[x++],A[a++]=A[x++],A[a++]=A[x++],w-=3}while(w>2);w&&(A[a++]=A[x++],w>1&&(A[a++]=A[x++]))}break}}break}}while(n<i&&a<s);n-=w=p>>3,c&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=c,r.bits=p}},function(e,t,r){\"use strict\";var n=r(8),i=r(28),a=r(27),o=r(47),s=r(46),f=0,l=1,u=2,h=4,d=5,c=6,p=0,g=1,m=2,_=-2,b=-3,y=-4,v=-5,w=8,E=1,x=2,k=3,S=4,A=5,P=6,O=7,T=8,R=9,I=10,D=11,L=12,F=13,U=14,B=15,M=16,N=17,j=18,z=19,Z=20,C=21,q=22,Y=23,W=24,H=25,G=26,V=27,K=28,J=29,X=30,$=31,Q=32,ee=852,te=592,re=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ie(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=E,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,p):_}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ie(e)):_}function oe(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ae(e))):_}function se(e,t){var r,i;return e?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=i,i.window=null,(r=oe(e,t))!==p&&(e.state=null),r):_}var fe,le,ue=!0;function he(e){if(ue){var t;for(fe=new n.Buf32(512),le=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,fe,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,le,0,e.work,{bits:5}),ue=!1}e.lencode=fe,e.lenbits=9,e.distcode=le,e.distbits=5}function de(e,t,r,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),n.arraySet(o.window,t,r-i,a,o.wnext),(i-=a)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=ae,t.inflateReset2=oe,t.inflateResetKeep=ie,t.inflateInit=function(e){return se(e,re)},t.inflateInit2=se,t.inflate=function(e,t){var r,ee,te,re,ie,ae,oe,se,fe,le,ue,ce,pe,ge,me,_e,be,ye,ve,we,Ee,xe,ke,Se,Ae=0,Pe=new n.Buf8(4),Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return _;(r=e.state).mode===L&&(r.mode=F),ie=e.next_out,te=e.output,oe=e.avail_out,re=e.next_in,ee=e.input,ae=e.avail_in,se=r.hold,fe=r.bits,le=ae,ue=oe,xe=p;e:for(;;)switch(r.mode){case E:if(0===r.wrap){r.mode=F;break}for(;fe<16;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(2&r.wrap&&35615===se){r.check=0,Pe[0]=255&se,Pe[1]=se>>>8&255,r.check=a(r.check,Pe,2,0),se=0,fe=0,r.mode=x;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg=\"incorrect header check\",r.mode=X;break}if((15&se)!==w){e.msg=\"unknown compression method\",r.mode=X;break}if(fe-=4,Ee=8+(15&(se>>>=4)),0===r.wbits)r.wbits=Ee;else if(Ee>r.wbits){e.msg=\"invalid window size\",r.mode=X;break}r.dmax=1<<Ee,e.adler=r.check=1,r.mode=512&se?I:L,se=0,fe=0;break;case x:for(;fe<16;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(r.flags=se,(255&r.flags)!==w){e.msg=\"unknown compression method\",r.mode=X;break}if(57344&r.flags){e.msg=\"unknown header flags set\",r.mode=X;break}r.head&&(r.head.text=se>>8&1),512&r.flags&&(Pe[0]=255&se,Pe[1]=se>>>8&255,r.check=a(r.check,Pe,2,0)),se=0,fe=0,r.mode=k;case k:for(;fe<32;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}r.head&&(r.head.time=se),512&r.flags&&(Pe[0]=255&se,Pe[1]=se>>>8&255,Pe[2]=se>>>16&255,Pe[3]=se>>>24&255,r.check=a(r.check,Pe,4,0)),se=0,fe=0,r.mode=S;case S:for(;fe<16;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}r.head&&(r.head.xflags=255&se,r.head.os=se>>8),512&r.flags&&(Pe[0]=255&se,Pe[1]=se>>>8&255,r.check=a(r.check,Pe,2,0)),se=0,fe=0,r.mode=A;case A:if(1024&r.flags){for(;fe<16;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}r.length=se,r.head&&(r.head.extra_len=se),512&r.flags&&(Pe[0]=255&se,Pe[1]=se>>>8&255,r.check=a(r.check,Pe,2,0)),se=0,fe=0}else r.head&&(r.head.extra=null);r.mode=P;case P:if(1024&r.flags&&((ce=r.length)>ae&&(ce=ae),ce&&(r.head&&(Ee=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,ee,re,ce,Ee)),512&r.flags&&(r.check=a(r.check,ee,ce,re)),ae-=ce,re+=ce,r.length-=ce),r.length))break e;r.length=0,r.mode=O;case O:if(2048&r.flags){if(0===ae)break e;ce=0;do{Ee=ee[re+ce++],r.head&&Ee&&r.length<65536&&(r.head.name+=String.fromCharCode(Ee))}while(Ee&&ce<ae);if(512&r.flags&&(r.check=a(r.check,ee,ce,re)),ae-=ce,re+=ce,Ee)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=T;case T:if(4096&r.flags){if(0===ae)break e;ce=0;do{Ee=ee[re+ce++],r.head&&Ee&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ee))}while(Ee&&ce<ae);if(512&r.flags&&(r.check=a(r.check,ee,ce,re)),ae-=ce,re+=ce,Ee)break e}else r.head&&(r.head.comment=null);r.mode=R;case R:if(512&r.flags){for(;fe<16;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(se!==(65535&r.check)){e.msg=\"header crc mismatch\",r.mode=X;break}se=0,fe=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=L;break;case I:for(;fe<32;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}e.adler=r.check=ne(se),se=0,fe=0,r.mode=D;case D:if(0===r.havedict)return e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=ae,r.hold=se,r.bits=fe,m;e.adler=r.check=1,r.mode=L;case L:if(t===d||t===c)break e;case F:if(r.last){se>>>=7&fe,fe-=7&fe,r.mode=V;break}for(;fe<3;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}switch(r.last=1&se,fe-=1,3&(se>>>=1)){case 0:r.mode=U;break;case 1:if(he(r),r.mode=Z,t===c){se>>>=2,fe-=2;break e}break;case 2:r.mode=N;break;case 3:e.msg=\"invalid block type\",r.mode=X}se>>>=2,fe-=2;break;case U:for(se>>>=7&fe,fe-=7&fe;fe<32;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if((65535&se)!=(se>>>16^65535)){e.msg=\"invalid stored block lengths\",r.mode=X;break}if(r.length=65535&se,se=0,fe=0,r.mode=B,t===c)break e;case B:r.mode=M;case M:if(ce=r.length){if(ce>ae&&(ce=ae),ce>oe&&(ce=oe),0===ce)break e;n.arraySet(te,ee,re,ce,ie),ae-=ce,re+=ce,oe-=ce,ie+=ce,r.length-=ce;break}r.mode=L;break;case N:for(;fe<14;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(r.nlen=257+(31&se),se>>>=5,fe-=5,r.ndist=1+(31&se),se>>>=5,fe-=5,r.ncode=4+(15&se),se>>>=4,fe-=4,r.nlen>286||r.ndist>30){e.msg=\"too many length or distance symbols\",r.mode=X;break}r.have=0,r.mode=j;case j:for(;r.have<r.ncode;){for(;fe<3;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}r.lens[Oe[r.have++]]=7&se,se>>>=3,fe-=3}for(;r.have<19;)r.lens[Oe[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ke={bits:r.lenbits},xe=s(f,r.lens,0,19,r.lencode,0,r.work,ke),r.lenbits=ke.bits,xe){e.msg=\"invalid code lengths set\",r.mode=X;break}r.have=0,r.mode=z;case z:for(;r.have<r.nlen+r.ndist;){for(;_e=(Ae=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,be=65535&Ae,!((me=Ae>>>24)<=fe);){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(be<16)se>>>=me,fe-=me,r.lens[r.have++]=be;else{if(16===be){for(Se=me+2;fe<Se;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(se>>>=me,fe-=me,0===r.have){e.msg=\"invalid bit length repeat\",r.mode=X;break}Ee=r.lens[r.have-1],ce=3+(3&se),se>>>=2,fe-=2}else if(17===be){for(Se=me+3;fe<Se;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}fe-=me,Ee=0,ce=3+(7&(se>>>=me)),se>>>=3,fe-=3}else{for(Se=me+7;fe<Se;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}fe-=me,Ee=0,ce=11+(127&(se>>>=me)),se>>>=7,fe-=7}if(r.have+ce>r.nlen+r.ndist){e.msg=\"invalid bit length repeat\",r.mode=X;break}for(;ce--;)r.lens[r.have++]=Ee}}if(r.mode===X)break;if(0===r.lens[256]){e.msg=\"invalid code -- missing end-of-block\",r.mode=X;break}if(r.lenbits=9,ke={bits:r.lenbits},xe=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,ke),r.lenbits=ke.bits,xe){e.msg=\"invalid literal/lengths set\",r.mode=X;break}if(r.distbits=6,r.distcode=r.distdyn,ke={bits:r.distbits},xe=s(u,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ke),r.distbits=ke.bits,xe){e.msg=\"invalid distances set\",r.mode=X;break}if(r.mode=Z,t===c)break e;case Z:r.mode=C;case C:if(ae>=6&&oe>=258){e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=ae,r.hold=se,r.bits=fe,o(e,ue),ie=e.next_out,te=e.output,oe=e.avail_out,re=e.next_in,ee=e.input,ae=e.avail_in,se=r.hold,fe=r.bits,r.mode===L&&(r.back=-1);break}for(r.back=0;_e=(Ae=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,be=65535&Ae,!((me=Ae>>>24)<=fe);){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(_e&&0==(240&_e)){for(ye=me,ve=_e,we=be;_e=(Ae=r.lencode[we+((se&(1<<ye+ve)-1)>>ye)])>>>16&255,be=65535&Ae,!(ye+(me=Ae>>>24)<=fe);){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}se>>>=ye,fe-=ye,r.back+=ye}if(se>>>=me,fe-=me,r.back+=me,r.length=be,0===_e){r.mode=G;break}if(32&_e){r.back=-1,r.mode=L;break}if(64&_e){e.msg=\"invalid literal/length code\",r.mode=X;break}r.extra=15&_e,r.mode=q;case q:if(r.extra){for(Se=r.extra;fe<Se;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}r.length+=se&(1<<r.extra)-1,se>>>=r.extra,fe-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Y;case Y:for(;_e=(Ae=r.distcode[se&(1<<r.distbits)-1])>>>16&255,be=65535&Ae,!((me=Ae>>>24)<=fe);){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(0==(240&_e)){for(ye=me,ve=_e,we=be;_e=(Ae=r.distcode[we+((se&(1<<ye+ve)-1)>>ye)])>>>16&255,be=65535&Ae,!(ye+(me=Ae>>>24)<=fe);){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}se>>>=ye,fe-=ye,r.back+=ye}if(se>>>=me,fe-=me,r.back+=me,64&_e){e.msg=\"invalid distance code\",r.mode=X;break}r.offset=be,r.extra=15&_e,r.mode=W;case W:if(r.extra){for(Se=r.extra;fe<Se;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}r.offset+=se&(1<<r.extra)-1,se>>>=r.extra,fe-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg=\"invalid distance too far back\",r.mode=X;break}r.mode=H;case H:if(0===oe)break e;if(ce=ue-oe,r.offset>ce){if((ce=r.offset-ce)>r.whave&&r.sane){e.msg=\"invalid distance too far back\",r.mode=X;break}ce>r.wnext?(ce-=r.wnext,pe=r.wsize-ce):pe=r.wnext-ce,ce>r.length&&(ce=r.length),ge=r.window}else ge=te,pe=ie-r.offset,ce=r.length;ce>oe&&(ce=oe),oe-=ce,r.length-=ce;do{te[ie++]=ge[pe++]}while(--ce);0===r.length&&(r.mode=C);break;case G:if(0===oe)break e;te[ie++]=r.length,oe--,r.mode=C;break;case V:if(r.wrap){for(;fe<32;){if(0===ae)break e;ae--,se|=ee[re++]<<fe,fe+=8}if(ue-=oe,e.total_out+=ue,r.total+=ue,ue&&(e.adler=r.check=r.flags?a(r.check,te,ue,ie-ue):i(r.check,te,ue,ie-ue)),ue=oe,(r.flags?se:ne(se))!==r.check){e.msg=\"incorrect data check\",r.mode=X;break}se=0,fe=0}r.mode=K;case K:if(r.wrap&&r.flags){for(;fe<32;){if(0===ae)break e;ae--,se+=ee[re++]<<fe,fe+=8}if(se!==(4294967295&r.total)){e.msg=\"incorrect length check\",r.mode=X;break}se=0,fe=0}r.mode=J;case J:xe=g;break e;case X:xe=b;break e;case $:return y;case Q:default:return _}return e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=ae,r.hold=se,r.bits=fe,(r.wsize||ue!==e.avail_out&&r.mode<X&&(r.mode<V||t!==h))&&de(e,e.output,e.next_out,ue-e.avail_out)?(r.mode=$,y):(le-=e.avail_in,ue-=e.avail_out,e.total_in+=le,e.total_out+=ue,r.total+=ue,r.wrap&&ue&&(e.adler=r.check=r.flags?a(r.check,te,ue,e.next_out-ue):i(r.check,te,ue,e.next_out-ue)),e.data_type=r.bits+(r.last?64:0)+(r.mode===L?128:0)+(r.mode===Z||r.mode===B?256:0),(0===le&&0===ue||t===h)&&xe===p&&(xe=v),xe)},t.inflateEnd=function(e){if(!e||!e.state)return _;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?_:(r.head=t,t.done=!1,p):_},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==D?_:r.mode===D&&i(1,t,n,0)!==r.check?b:de(e,t,n,n)?(r.mode=$,y):(r.havedict=1,p):_},t.inflateInfo=\"pako inflate (from Nodeca project)\"},function(e,t,r){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},function(e,t,r){\"use strict\";var n=r(8),i=4,a=0,o=1,s=2;function f(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,u=1,h=2,d=29,c=256,p=c+1+d,g=30,m=19,_=2*p+1,b=15,y=16,v=7,w=256,E=16,x=17,k=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(p+2));f(T);var R=new Array(2*g);f(R);var I=new Array(512);f(I);var D=new Array(256);f(D);var L=new Array(d);f(L);var F,U,B,M=new Array(g);function N(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function j(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return e<256?I[e]:I[256+(e>>>7)]}function Z(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,r){e.bi_valid>y-r?(e.bi_buf|=t<<e.bi_valid&65535,Z(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=r-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function q(e,t,r){C(e,r[2*t],r[2*t+1])}function Y(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function W(e,t,r){var n,i,a=new Array(b+1),o=0;for(n=1;n<=b;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=Y(a[s]++,s))}}function H(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<m;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function G(e){e.bi_valid>8?Z(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function K(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&V(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!V(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function J(e,t,r){var n,i,a,o,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?q(e,i,t):(q(e,(a=D[i])+c+1,t),0!==(o=S[a])&&C(e,i-=L[a],o),q(e,a=z(--n),r),0!==(o=A[a])&&C(e,n-=M[a],o))}while(s<e.last_lit);q(e,w,t)}function X(e,t){var r,n,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,f=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<f;r++)0!==a[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)K(e,a,r);i=f;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,K(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,o,s,f=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,c=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(a=0;a<=b;a++)e.bl_count[a]=0;for(f[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)(a=f[2*f[2*(n=e.heap[r])+1]+1]+1)>p&&(a=p,g++),f[2*n+1]=a,n>l||(e.bl_count[a]++,o=0,n>=c&&(o=d[n-c]),s=f[2*n],e.opt_len+=s*(a+o),h&&(e.static_len+=s*(u[2*n+1]+o)));if(0!==g){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)(i=e.heap[--r])>l||(f[2*i+1]!==a&&(e.opt_len+=(a-f[2*i+1])*f[2*i],f[2*i+1]=a),n--)}}(e,t),W(a,l,e.bl_count)}function $(e,t,r){var n,i,a=-1,o=t[1],s=0,f=7,l=4;for(0===o&&(f=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++s<f&&i===o||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*E]++):s<=10?e.bl_tree[2*x]++:e.bl_tree[2*k]++,s=0,a=i,0===o?(f=138,l=3):i===o?(f=6,l=3):(f=7,l=4))}function Q(e,t,r){var n,i,a=-1,o=t[1],s=0,f=7,l=4;for(0===o&&(f=138,l=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++s<f&&i===o)){if(s<l)do{q(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(q(e,i,e.bl_tree),s--),q(e,E,e.bl_tree),C(e,s-3,2)):s<=10?(q(e,x,e.bl_tree),C(e,s-3,3)):(q(e,k,e.bl_tree),C(e,s-11,7));s=0,a=i,0===o?(f=138,l=3):i===o?(f=6,l=3):(f=7,l=4)}}f(M);var ee=!1;function te(e,t,r,i){C(e,(l<<1)+(i?1:0),3),function(e,t,r,i){G(e),i&&(Z(e,r),Z(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){ee||(function(){var e,t,r,n,i,a=new Array(b+1);for(r=0,n=0;n<d-1;n++)for(L[n]=r,e=0;e<1<<S[n];e++)D[r++]=n;for(D[r-1]=n,i=0,n=0;n<16;n++)for(M[n]=i,e=0;e<1<<A[n];e++)I[i++]=n;for(i>>=7;n<g;n++)for(M[n]=i<<7,e=0;e<1<<A[n]-7;e++)I[256+i++]=n;for(t=0;t<=b;t++)a[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,a[8]++;for(;e<=255;)T[2*e+1]=9,e++,a[9]++;for(;e<=279;)T[2*e+1]=7,e++,a[7]++;for(;e<=287;)T[2*e+1]=8,e++,a[8]++;for(W(T,p+1,a),e=0;e<g;e++)R[2*e+1]=5,R[2*e]=Y(e,5);F=new N(T,S,c+1,p,b),U=new N(R,A,0,g,b),B=new N(new Array(0),P,0,m,v)}(),ee=!0),e.l_desc=new j(e.dyn_ltree,F),e.d_desc=new j(e.dyn_dtree,U),e.bl_desc=new j(e.bl_tree,B),e.bi_buf=0,e.bi_valid=0,H(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,r,n){var f,l,d=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return o;return a}(e)),X(e,e.l_desc),X(e,e.d_desc),d=function(e){var t;for($(e,e.dyn_ltree,e.l_desc.max_code),$(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=m-1;t>=3&&0===e.bl_tree[2*O[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),f=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=f&&(f=l)):f=l=r+5,r+4<=f&&-1!==t?te(e,t,r,n):e.strategy===i||l===f?(C(e,(u<<1)+(n?1:0),3),J(e,T,R)):(C(e,(h<<1)+(n?1:0),3),function(e,t,r,n){var i;for(C(e,t-257,5),C(e,r-1,5),C(e,n-4,4),i=0;i<n;i++)C(e,e.bl_tree[2*O[i]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,d+1),J(e,e.dyn_ltree,e.dyn_dtree)),H(e),n&&G(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(D[r]+c+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){C(e,u<<1,3),q(e,w,T),function(e){16===e.bi_valid?(Z(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){\"use strict\";var n,i=r(8),a=r(50),o=r(28),s=r(27),f=r(49),l=0,u=1,h=3,d=4,c=5,p=0,g=1,m=-2,_=-3,b=-5,y=-1,v=1,w=2,E=3,x=4,k=0,S=2,A=8,P=9,O=15,T=8,R=286,I=30,D=19,L=2*R+1,F=15,U=3,B=258,M=B+U+1,N=32,j=42,z=69,Z=73,C=91,q=103,Y=113,W=666,H=1,G=2,V=3,K=4,J=3;function X(e,t){return e.msg=f[t],t}function $(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t){var r,n,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,f=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,l=e.window,u=e.w_mask,h=e.prev,d=e.strstart+B,c=l[a+o-1],p=l[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(r=t)+o]===p&&l[r+o-1]===c&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do{}while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<d);if(n=B-(d-a),a=d-B,n>o){if(e.match_start=t,o=n,n>=s)break;c=l[a+o-1],p=l[a+o]}}}while((t=h[t&u])>f&&0!=--i);return o<=e.lookahead?o:e.lookahead}function ae(e){var t,r,n,a,f,l,u,h,d,c,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-M)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--r);t=r=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--r);a+=p}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,h=e.strstart+e.lookahead,d=a,c=void 0,(c=l.avail_in)>d&&(c=d),r=0===c?0:(l.avail_in-=c,i.arraySet(u,l.input,l.next_in,c,h),1===l.state.wrap?l.adler=o(l.adler,u,c,h):2===l.state.wrap&&(l.adler=s(l.adler,u,c,h)),l.next_in+=c,l.total_in+=c,c),e.lookahead+=r,e.lookahead+e.insert>=U)for(f=e.strstart-e.insert,e.ins_h=e.window[f],e.ins_h=(e.ins_h<<e.hash_shift^e.window[f+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[f+U-1])&e.hash_mask,e.prev[f&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=f,f++,e.insert--,!(e.lookahead+e.insert<U)););}while(e.lookahead<M&&0!==e.strm.avail_in)}function oe(e,t){for(var r,n;;){if(e.lookahead<M){if(ae(e),e.lookahead<M&&t===l)return H;if(0===e.lookahead)break}if(r=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-M&&(e.match_length=ie(e,r)),e.match_length>=U)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-U),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=U){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return H}return e.insert=e.strstart<U-1?e.strstart:U-1,t===d?(te(e,!0),0===e.strm.avail_out?V:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?H:G}function se(e,t){for(var r,n,i;;){if(e.lookahead<M){if(ae(e),e.lookahead<M&&t===l)return H;if(0===e.lookahead)break}if(r=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=U-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-M&&(e.match_length=ie(e,r),e.match_length<=5&&(e.strategy===v||e.match_length===U&&e.strstart-e.match_start>4096)&&(e.match_length=U-1)),e.prev_length>=U&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-U,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-U),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=U-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return H}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return H}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<U-1?e.strstart:U-1,t===d?(te(e,!0),0===e.strm.avail_out?V:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?H:G}function fe(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function le(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=S,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?j:Y,e.adler=2===t.wrap?0:1,t.last_flush=l,a._tr_init(t),p):X(e,m)}function ue(e){var t,r=le(e);return r===p&&((t=e.state).window_size=2*t.w_size,Q(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=U-1,t.match_available=0,t.ins_h=0),r}function he(e,t,r,n,a,o){if(!e)return m;var s=1;if(t===y&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>P||r!==A||n<8||n>15||t<0||t>9||o<0||o>x)return X(e,m);8===n&&(n=9);var f=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*L),this.dyn_dtree=new i.Buf16(2*(2*I+1)),this.bl_tree=new i.Buf16(2*(2*D+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(F+1),this.heap=new i.Buf16(2*R+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*R+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=f,f.strm=e,f.wrap=s,f.gzhead=null,f.w_bits=n,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=a+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+U-1)/U),f.window=new i.Buf8(2*f.w_size),f.head=new i.Buf16(f.hash_size),f.prev=new i.Buf16(f.w_size),f.lit_bufsize=1<<a+6,f.pending_buf_size=4*f.lit_bufsize,f.pending_buf=new i.Buf8(f.pending_buf_size),f.d_buf=1*f.lit_bufsize,f.l_buf=3*f.lit_bufsize,f.level=t,f.strategy=o,f.method=r,ue(e)}n=[new fe(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===l)return H;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return H;if(e.strstart-e.block_start>=e.w_size-M&&(te(e,!1),0===e.strm.avail_out))return H}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?V:K):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),H)}),new fe(4,4,8,4,oe),new fe(4,5,16,8,oe),new fe(4,6,32,32,oe),new fe(4,4,16,16,se),new fe(8,16,32,32,se),new fe(8,16,128,128,se),new fe(8,32,128,256,se),new fe(32,128,258,1024,se),new fe(32,258,258,4096,se)],t.deflateInit=function(e,t){return he(e,t,A,O,T,k)},t.deflateInit2=he,t.deflateReset=ue,t.deflateResetKeep=le,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,p):m},t.deflate=function(e,t){var r,i,o,f;if(!e||!e.state||t>c||t<0)return e?X(e,m):m;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===W&&t!==d)return X(e,0===e.avail_out?b:m);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===j)if(2===i.wrap)e.adler=0,re(i,31),re(i,139),re(i,8),i.gzhead?(re(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),re(i,255&i.gzhead.time),re(i,i.gzhead.time>>8&255),re(i,i.gzhead.time>>16&255),re(i,i.gzhead.time>>24&255),re(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),re(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(re(i,255&i.gzhead.extra.length),re(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=z):(re(i,0),re(i,0),re(i,0),re(i,0),re(i,0),re(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),re(i,J),i.status=Y);else{var _=A+(i.w_bits-8<<4)<<8;_|=(i.strategy>=w||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(_|=N),_+=31-_%31,i.status=Y,ne(i,_),0!==i.strstart&&(ne(i,e.adler>>>16),ne(i,65535&e.adler)),e.adler=1}if(i.status===z)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending!==i.pending_buf_size));)re(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Z)}else i.status=Z;if(i.status===Z)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending===i.pending_buf_size)){f=1;break}f=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,re(i,f)}while(0!==f);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===f&&(i.gzindex=0,i.status=C)}else i.status=C;if(i.status===C)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending===i.pending_buf_size)){f=1;break}f=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,re(i,f)}while(0!==f);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===f&&(i.status=q)}else i.status=q;if(i.status===q&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(re(i,255&e.adler),re(i,e.adler>>8&255),e.adler=0,i.status=Y)):i.status=Y),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&$(t)<=$(r)&&t!==d)return X(e,b);if(i.status===W&&0!==e.avail_in)return X(e,b);if(0!==e.avail_in||0!==i.lookahead||t!==l&&i.status!==W){var y=i.strategy===w?function(e,t){for(var r;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===l)return H;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return H}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?V:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?H:G}(i,t):i.strategy===E?function(e,t){for(var r,n,i,o,s=e.window;;){if(e.lookahead<=B){if(ae(e),e.lookahead<=B&&t===l)return H;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=U&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=e.strstart+B;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);e.match_length=B-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=U?(r=a._tr_tally(e,1,e.match_length-U),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(te(e,!1),0===e.strm.avail_out))return H}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?V:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?H:G}(i,t):n[i.level].func(i,t);if(y!==V&&y!==K||(i.status=W),y===H||y===V)return 0===e.avail_out&&(i.last_flush=-1),p;if(y===G&&(t===u?a._tr_align(i):t!==c&&(a._tr_stored_block(i,0,0,!1),t===h&&(Q(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,p}return t!==d?p:i.wrap<=0?g:(2===i.wrap?(re(i,255&e.adler),re(i,e.adler>>8&255),re(i,e.adler>>16&255),re(i,e.adler>>24&255),re(i,255&e.total_in),re(i,e.total_in>>8&255),re(i,e.total_in>>16&255),re(i,e.total_in>>24&255)):(ne(i,e.adler>>>16),ne(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==j&&t!==z&&t!==Z&&t!==C&&t!==q&&t!==Y&&t!==W?X(e,m):(e.state=null,t===Y?X(e,_):p):m},t.deflateSetDictionary=function(e,t){var r,n,a,s,f,l,u,h,d=t.length;if(!e||!e.state)return m;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==j||r.lookahead)return m;for(1===s&&(e.adler=o(e.adler,t,d,0)),r.wrap=0,d>=r.w_size&&(0===s&&(Q(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,t,d-r.w_size,r.w_size,0),t=h,d=r.w_size),f=e.avail_in,l=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,ae(r);r.lookahead>=U;){n=r.strstart,a=r.lookahead-(U-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+U-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--a);r.strstart=n,r.lookahead=U-1,ae(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=U-1,r.match_available=0,e.next_in=l,e.input=u,e.avail_in=f,r.wrap=s,p},t.deflateInfo=\"pako deflate (from Nodeca project)\"},function(e,t,r){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},function(e,t){\"function\"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&\"object\"==typeof e&&\"function\"==typeof e.copy&&\"function\"==typeof e.fill&&\"function\"==typeof e.readUInt8}},function(e,t,r){\"use strict\";(function(e,n){var i=r(30),a=r(52),o=r(51),s=r(48),f=r(45);for(var l in f)t[l]=f[l];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;function u(e){if(\"number\"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError(\"Bad argument\");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}u.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,\"close before init\"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},u.prototype.write=function(e,t,r,n,i,a,o){return this._write(!0,e,t,r,n,i,a,o)},u.prototype.writeSync=function(e,t,r,n,i,a,o){return this._write(!1,e,t,r,n,i,a,o)},u.prototype._write=function(r,a,o,s,f,l,u,h){if(i.equal(arguments.length,8),i(this.init_done,\"write before init\"),i(this.mode!==t.NONE,\"already finalized\"),i.equal(!1,this.write_in_progress,\"write already in progress\"),i.equal(!1,this.pending_close,\"close is pending\"),this.write_in_progress=!0,i.equal(!1,void 0===a,\"must provide flush value\"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error(\"Invalid flush value\");if(null==o&&(o=e.alloc(0),f=0,s=0),this.strm.avail_in=f,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=l,this.strm.next_out=u,this.flush=a,!r)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return n.nextTick(function(){d._process(),d._after()}),this},u.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},u.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error(\"invalid number of gzip magic number bytes read\")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error(\"Unknown mode \"+this.mode)}},u.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error(\"unexpected end of file\"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error(\"Missing dictionary\"):this._error(\"Bad dictionary\"),!1;default:return this._error(\"Zlib error\"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},u.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(e,r,n,a,o){i(4===arguments.length||5===arguments.length,\"init(windowBits, level, memLevel, strategy, [dictionary])\"),i(e>=8&&e<=15,\"invalid windowBits\"),i(r>=-1&&r<=9,\"invalid compression level\"),i(n>=1&&n<=9,\"invalid memlevel\"),i(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,\"invalid strategy\"),this._init(r,e,n,a,o),this._setDictionary()},u.prototype.params=function(){throw new Error(\"deflateParams Not supported\")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(e,r,n,i,f){switch(this.level=e,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error(\"Unknown mode \"+this.mode)}this.err!==t.Z_OK&&this._error(\"Init error\"),this.dictionary=f,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error(\"Failed to set dictionary\")}},u.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error(\"Failed to reset stream\")},t.Zlib=u}).call(this,r(1).Buffer,r(3))},function(e,t,r){e.exports=r(19).PassThrough},function(e,t,r){e.exports=r(19).Transform},function(e,t,r){e.exports=r(2)},function(e,t,r){e.exports=r(18)},function(e,t,r){\"use strict\";e.exports=a;var n=r(31),i=r(6);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=r(5),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&\"true\"===String(r).toLowerCase()}e.exports=function(e,t){if(r(\"noDeprecation\"))return e;var n=!1;return function(){if(!n){if(r(\"throwDeprecation\"))throw new Error(t);r(\"traceDeprecation\")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(0))},function(e,t,r){(function(e,t){!function(e,r){\"use strict\";if(!e.setImmediate){var n,i,a,o,s,f=1,l={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,\"[object process]\"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(\"\",\"*\"),e.onmessage=r,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){a.port2.postMessage(e)}):h&&\"onreadystatechange\"in h.createElement(\"script\")?(i=h.documentElement,n=function(e){var t=h.createElement(\"script\");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(o=\"setImmediate$\"+Math.random()+\"$\",s=function(t){t.source===e&&\"string\"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener(\"message\",s,!1):e.attachEvent(\"onmessage\",s),n=function(t){e.postMessage(o+t,\"*\")}),d.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[f]=i,n(f),f++},d.clearImmediate=c}function c(e){delete l[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{c(e),u=!1}}}}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,r(0),r(3))},function(e,t,r){(function(e){var n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(62),t.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(e,t){},function(e,t,r){\"use strict\";var n=r(9).Buffer,i=r(64);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return\"\";for(var t=this.head,r=\"\"+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,a=n.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=a,i=s,t.copy(r,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+\" \"+e})},function(e,t){},function(e,t,r){e.exports=i;var n=r(20).EventEmitter;function i(){n.call(this)}r(5)(i,n),i.Readable=r(19),i.Writable=r(59),i.Duplex=r(58),i.Transform=r(57),i.PassThrough=r(56),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on(\"data\",i),e.on(\"drain\",a),e._isStdio||t&&!1===t.end||(r.on(\"end\",s),r.on(\"close\",f));var o=!1;function s(){o||(o=!0,e.end())}function f(){o||(o=!0,\"function\"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===n.listenerCount(this,\"error\"))throw e}function u(){r.removeListener(\"data\",i),e.removeListener(\"drain\",a),r.removeListener(\"end\",s),r.removeListener(\"close\",f),r.removeListener(\"error\",l),e.removeListener(\"error\",l),r.removeListener(\"end\",u),r.removeListener(\"close\",u),e.removeListener(\"close\",u)}return r.on(\"error\",l),e.on(\"error\",l),r.on(\"end\",u),r.on(\"close\",u),e.on(\"close\",u),e.emit(\"pipe\",r),e}},function(e,t,r){\"use strict\";(function(e){var n=r(1).Buffer,i=r(67).Transform,a=r(55),o=r(29),s=r(30).ok,f=r(1).kMaxLength,l=\"Cannot create final Buffer. It would be larger than 0x\"+f.toString(16)+\" bytes\";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(a),h=0;h<u.length;h++){var d=u[h];d.match(/^Z/)&&Object.defineProperty(t,d,{enumerable:!0,value:a[d],writable:!1})}for(var c={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(c),g=0;g<p.length;g++){var m=p[g];c[c[m]]=m}function _(e,t,r){var i=[],a=0;function o(){for(var t;null!==(t=e.read());)i.push(t),a+=t.length;e.once(\"readable\",o)}function s(){var t,o=null;a>=f?o=new RangeError(l):t=n.concat(i,a),i=[],e.close(),r(o,t)}e.on(\"error\",function(t){e.removeListener(\"end\",s),e.removeListener(\"readable\",o),r(t)}),e.on(\"end\",s),e.end(t),o()}function b(e,t){if(\"string\"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError(\"Not a string or buffer\");var r=e._finishFlushFlag;return e._processChunk(t,r)}function y(e){if(!(this instanceof y))return new y(e);P.call(this,e,a.DEFLATE)}function v(e){if(!(this instanceof v))return new v(e);P.call(this,e,a.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);P.call(this,e,a.GZIP)}function E(e){if(!(this instanceof E))return new E(e);P.call(this,e,a.GUNZIP)}function x(e){if(!(this instanceof x))return new x(e);P.call(this,e,a.DEFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);P.call(this,e,a.INFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);P.call(this,e,a.UNZIP)}function A(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function P(e,r){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!A(e.flush))throw new Error(\"Invalid flush flag: \"+e.flush);if(e.finishFlush&&!A(e.finishFlush))throw new Error(\"Invalid flush flag: \"+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error(\"Invalid chunk size: \"+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error(\"Invalid windowBits: \"+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error(\"Invalid compression level: \"+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error(\"Invalid memLevel: \"+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error(\"Invalid strategy: \"+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error(\"Invalid dictionary: it should be a Buffer instance\");this._handle=new a.Zlib(r);var s=this;this._hadError=!1,this._handle.onerror=function(e,r){O(s),s._hadError=!0;var n=new Error(e);n.errno=r,n.code=t.codes[r],s.emit(\"error\",n)};var f=t.Z_DEFAULT_COMPRESSION;\"number\"==typeof e.level&&(f=e.level);var l=t.Z_DEFAULT_STRATEGY;\"number\"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,f,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=f,this._strategy=l,this.once(\"end\",this.close),Object.defineProperty(this,\"_closed\",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function O(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function T(e){e.emit(\"close\")}Object.defineProperty(t,\"codes\",{enumerable:!0,value:Object.freeze(c),writable:!1}),t.Deflate=y,t.Inflate=v,t.Gzip=w,t.Gunzip=E,t.DeflateRaw=x,t.InflateRaw=k,t.Unzip=S,t.createDeflate=function(e){return new y(e)},t.createInflate=function(e){return new v(e)},t.createDeflateRaw=function(e){return new x(e)},t.createInflateRaw=function(e){return new k(e)},t.createGzip=function(e){return new w(e)},t.createGunzip=function(e){return new E(e)},t.createUnzip=function(e){return new S(e)},t.deflate=function(e,t,r){return\"function\"==typeof t&&(r=t,t={}),_(new y(t),e,r)},t.deflateSync=function(e,t){return b(new y(t),e)},t.gzip=function(e,t,r){return\"function\"==typeof t&&(r=t,t={}),_(new w(t),e,r)},t.gzipSync=function(e,t){return b(new w(t),e)},t.deflateRaw=function(e,t,r){return\"function\"==typeof t&&(r=t,t={}),_(new x(t),e,r)},t.deflateRawSync=function(e,t){return b(new x(t),e)},t.unzip=function(e,t,r){return\"function\"==typeof t&&(r=t,t={}),_(new S(t),e,r)},t.unzipSync=function(e,t){return b(new S(t),e)},t.inflate=function(e,t,r){return\"function\"==typeof t&&(r=t,t={}),_(new v(t),e,r)},t.inflateSync=function(e,t){return b(new v(t),e)},t.gunzip=function(e,t,r){return\"function\"==typeof t&&(r=t,t={}),_(new E(t),e,r)},t.gunzipSync=function(e,t){return b(new E(t),e)},t.inflateRaw=function(e,t,r){return\"function\"==typeof t&&(r=t,t={}),_(new k(t),e,r)},t.inflateRawSync=function(e,t){return b(new k(t),e)},o.inherits(P,i),P.prototype.params=function(r,n,i){if(r<t.Z_MIN_LEVEL||r>t.Z_MAX_LEVEL)throw new RangeError(\"Invalid compression level: \"+r);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError(\"Invalid strategy: \"+n);if(this._level!==r||this._strategy!==n){var o=this;this.flush(a.Z_SYNC_FLUSH,function(){s(o._handle,\"zlib binding closed\"),o._handle.params(r,n),o._hadError||(o._level=r,o._strategy=n,i&&i())})}else e.nextTick(i)},P.prototype.reset=function(){return s(this._handle,\"zlib binding closed\"),this._handle.reset()},P.prototype._flush=function(e){this._transform(n.alloc(0),\"\",e)},P.prototype.flush=function(t,r){var i=this,o=this._writableState;(\"function\"==typeof t||void 0===t&&!r)&&(r=t,t=a.Z_FULL_FLUSH),o.ended?r&&e.nextTick(r):o.ending?r&&this.once(\"end\",r):o.needDrain?r&&this.once(\"drain\",function(){return i.flush(t,r)}):(this._flushFlag=t,this.write(n.alloc(0),\"\",r))},P.prototype.close=function(t){O(this,t),e.nextTick(T,this)},P.prototype._transform=function(e,t,r){var i,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||n.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,i,r)):r(new Error(\"zlib binding closed\")):r(new Error(\"invalid input\"))},P.prototype._processChunk=function(e,t,r){var i=e&&e.length,a=this._chunkSize-this._offset,o=0,u=this,h=\"function\"==typeof r;if(!h){var d,c=[],p=0;this.on(\"error\",function(e){d=e}),s(this._handle,\"zlib binding closed\");do{var g=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,a)}while(!this._hadError&&b(g[0],g[1]));if(this._hadError)throw d;if(p>=f)throw O(this),new RangeError(l);var m=n.concat(c,p);return O(this),m}s(this._handle,\"zlib binding closed\");var _=this._handle.write(t,e,o,i,this._buffer,this._offset,a);function b(f,l){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var d=a-l;if(s(d>=0,\"have should not go down\"),d>0){var g=u._buffer.slice(u._offset,u._offset+d);u._offset+=d,h?u.push(g):(c.push(g),p+=g.length)}if((0===l||u._offset>=u._chunkSize)&&(a=u._chunkSize,u._offset=0,u._buffer=n.allocUnsafe(u._chunkSize)),0===l){if(o+=i-f,i=f,!h)return!0;var m=u._handle.write(t,e,o,i,u._buffer,u._offset,u._chunkSize);return m.callback=b,void(m.buffer=e)}if(!h)return!1;r()}}_.buffer=e,_.callback=b},o.inherits(y,P),o.inherits(v,P),o.inherits(w,P),o.inherits(E,P),o.inherits(x,P),o.inherits(k,P),o.inherits(S,P)}).call(this,r(3))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(t,d){if(void 0===t)throw\"dicomParser.parseDicom: missing required parameter 'byteArray'\";function c(f){var c=function(e){if(void 0===e.elements.x00020010)throw\"dicomParser.parseDicom: missing required meta header attribute 0002,0010\";var r=e.elements.x00020010;return u.readFixedString(t,r.dataOffset,r.length)}(f),p=function(e){if(\"1.2.840.10008.1.2\"===e)return!1;return!0}(c),g=function(o,f){if(\"1.2.840.10008.1.2.1.99\"===o){if(d&&d.inflater){var u=d.inflater(t,f);return new a.default(s.default,u,0)}if(void 0!==e&&this.module!==e){var h=r(68),c=(0,l.default)(t,f,t.length-f),p=h.inflateRawSync(c),g=(0,n.default)(t,p.length+f);return t.copy(g,0,0,f),p.copy(g,f),new a.default(s.default,g,0)}if(\"undefined\"!=typeof pako){var m=t.slice(f),_=pako.inflateRaw(m),b=(0,n.default)(t,_.length+f);return b.set(t.slice(0,f),0),b.set(_,f),new a.default(s.default,b,0)}throw\"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax\"}if(\"1.2.840.10008.1.2.2\"===o)return new a.default(i.default,t,f);return new a.default(s.default,t,f)}(c,f.position),m=new o.default(g.byteArrayParser,g.byteArray,{});m.warnings=g.warnings;try{p?h.parseDicomDataSetExplicit(m,g,g.byteArray.length,d):h.parseDicomDataSetImplicit(m,g,g.byteArray.length,d)}catch(e){var _={exception:e,dataSet:m};throw _}return m}return p=(0,f.default)(t,d),g=c(p),function(e,t){for(var r in e.elements)e.elements.hasOwnProperty(r)&&(t.elements[r]=e.elements[r]);return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}(p,g);var p,g};var n=c(r(22)),i=c(r(37)),a=c(r(12)),o=c(r(7)),s=c(r(21)),f=c(r(36)),l=c(r(11)),u=d(r(14)),h=d(r(16));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}}).call(this,r(69)(e))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=\"1.8.1\"},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,f=(1<<s)-1,l=f>>1,u=-7,h=r?i-1:0,d=r?-1:1,c=e[t+h];for(h+=d,a=c&(1<<-u)-1,c>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===a)a=1-l;else{if(a===f)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,n),a-=l}return(c?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,f,l=8*a-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:a-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-o))<1&&(o--,f*=2),(t+=o+h>=1?d/f:d*Math.pow(2,1-h))*f>=2&&(o++,f/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*f-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+c]=255&s,c+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+c]=255&o,c+=p,o/=256,l-=8);e[r+c-p]|=128*g}},function(e,t,r){\"use strict\";t.byteLength=function(e){return 3*e.length/4-l(e)},t.toByteArray=function(e){var t,r,n,o,s,f=e.length;o=l(e),s=new a(3*f/4-o),r=o>0?f-4:f;var u=0;for(t=0;t<r;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],s[u++]=n>>16&255,s[u++]=n>>8&255,s[u++]=255&n;2===o?(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,s[u++]=255&n):1===o&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,s[u++]=n>>8&255,s[u++]=255&n);return s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=\"\",o=[],s=0,f=r-i;s<f;s+=16383)o.push(u(e,s,s+16383>f?f:s+16383));1===i?(t=e[r-1],a+=n[t>>2],a+=n[t<<4&63],a+=\"==\"):2===i&&(t=(e[r-2]<<8)+e[r-1],a+=n[t>>10],a+=n[t>>4&63],a+=n[t<<2&63],a+=\"=\");return o.push(a),o.join(\"\")};for(var n=[],i=[],a=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",s=0,f=o.length;s<f;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");return\"=\"===e[t-2]?2:\"=\"===e[t-1]?1:0}function u(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},function(e,t,r){\"use strict\";function n(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function i(e,t,r){var i=t.fragments[r];return!(!n(e,i.position+i.length-2)&&!n(e,i.position+i.length-3))}function a(e,t,r){for(var n=r;n<t.fragments.length;n++)if(i(e,t,n))return n}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw\"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet\";if(void 0===t)throw\"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement\";if(\"x7fe00010\"!==t.tag)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'\";if(!0!==t.encapsulatedPixelData)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(!0!==t.hadUndefinedLength)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.basicOffsetTable)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.fragments)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(t.fragments.length<=0)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(r&&r.length<=0)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length\";r=r||t.fragments;var n=[],i=0;for(;;){n.push(t.fragments[i].offset);var o=a(e,t,i);if(void 0===o||o===t.fragments.length-1)return n;i=o+1}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function e(t,r){if(void 0===t)throw\"dicomParser.explicitDataSetToJS: missing required parameter dataSet\";r=r||{omitPrivateAttibutes:!0,maxElementLength:128};var n={};for(var i in t.elements){var s=t.elements[i];if(!0!==r.omitPrivateAttibutes||!o.isPrivateTag(i))if(s.items){for(var f=[],l=0;l<s.items.length;l++)f.push(e(s.items[l].dataSet,r));n[i]=f}else{var u;u=void 0,s.length<r.maxElementLength&&(u=(0,a.default)(t,s)),n[i]=void 0!==u?u:{dataOffset:s.dataOffset,length:s.length}}}return n};var n,i=r(43),a=(n=i)&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(25))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(e&&8===e.length){var r=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),i=parseInt(e.substring(6,8),10);if(t&&!0!==function(e,t,r){if(isNaN(r))return!1;return t>0&&t<=12&&e>0&&e<=function(e,t){switch(e){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(t,r)}(i,n,r))throw\"invalid DA '\"+e+\"'\";return{year:r,month:n,day:i}}if(t)throw\"invalid DA '\"+e+\"'\";return}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(e.length>=2){var r=parseInt(e.substring(0,2),10),n=e.length>=4?parseInt(e.substring(2,4),10):void 0,i=e.length>=6?parseInt(e.substring(4,6),10):void 0,a=e.length>=8?parseInt(e.substring(7,13),10):void 0;if(t&&(isNaN(r)||void 0!==n&&isNaN(n)||void 0!==i&&isNaN(i)||void 0!==a&&isNaN(a)||r<0||r>23||n&&(n<0||n>59)||i&&(i<0||i>59)||a&&(a<0||a>999999)))throw\"invalid TM '\"+e+\"'\";return{hours:r,minutes:n,seconds:i,fractionalSeconds:a}}if(t)throw\"invalid TM '\"+e+\"'\";return}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(25);Object.keys(n).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var i=r(77);Object.defineProperty(t,\"parseTM\",{enumerable:!0,get:function(){return l(i).default}});var a=r(76);Object.defineProperty(t,\"parseDA\",{enumerable:!0,get:function(){return l(a).default}});var o=r(43);Object.defineProperty(t,\"explicitElementToString\",{enumerable:!0,get:function(){return l(o).default}});var s=r(75);Object.defineProperty(t,\"explicitDataSetToJS\",{enumerable:!0,get:function(){return l(s).default}});var f=r(74);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"createJPEGBasicOffsetTable\",{enumerable:!0,get:function(){return l(f).default}})},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(78);Object.keys(n).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var i=r(16);Object.keys(i).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=r(14);Object.keys(a).forEach(function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var o=r(22);Object.defineProperty(t,\"alloc\",{enumerable:!0,get:function(){return P(o).default}});var s=r(71);Object.defineProperty(t,\"version\",{enumerable:!0,get:function(){return P(s).default}});var f=r(37);Object.defineProperty(t,\"bigEndianByteArrayParser\",{enumerable:!0,get:function(){return P(f).default}});var l=r(12);Object.defineProperty(t,\"ByteStream\",{enumerable:!0,get:function(){return P(l).default}});var u=r(11);Object.defineProperty(t,\"sharedCopy\",{enumerable:!0,get:function(){return P(u).default}});var h=r(7);Object.defineProperty(t,\"DataSet\",{enumerable:!0,get:function(){return P(h).default}});var d=r(41);Object.defineProperty(t,\"findAndSetUNElementLength\",{enumerable:!0,get:function(){return P(d).default}});var c=r(42);Object.defineProperty(t,\"findEndOfEncapsulatedElement\",{enumerable:!0,get:function(){return P(c).default}});var p=r(24);Object.defineProperty(t,\"findItemDelimitationItemAndSetElementLength\",{enumerable:!0,get:function(){return P(p).default}});var g=r(21);Object.defineProperty(t,\"littleEndianByteArrayParser\",{enumerable:!0,get:function(){return P(g).default}});var m=r(70);Object.defineProperty(t,\"parseDicom\",{enumerable:!0,get:function(){return P(m).default}});var _=r(15);Object.defineProperty(t,\"readDicomElementExplicit\",{enumerable:!0,get:function(){return P(_).default}});var b=r(23);Object.defineProperty(t,\"readDicomElementImplicit\",{enumerable:!0,get:function(){return P(b).default}});var y=r(26);Object.defineProperty(t,\"readEncapsulatedImageFrame\",{enumerable:!0,get:function(){return P(y).default}});var v=r(44);Object.defineProperty(t,\"readEncapsulatedPixelData\",{enumerable:!0,get:function(){return P(v).default}});var w=r(17);Object.defineProperty(t,\"readEncapsulatedPixelDataFromFragments\",{enumerable:!0,get:function(){return P(w).default}});var E=r(36);Object.defineProperty(t,\"readPart10Header\",{enumerable:!0,get:function(){return P(E).default}});var x=r(40);Object.defineProperty(t,\"readSequenceItemsExplicit\",{enumerable:!0,get:function(){return P(x).default}});var k=r(39);Object.defineProperty(t,\"readSequenceItemsImplicit\",{enumerable:!0,get:function(){return P(k).default}});var S=r(13);Object.defineProperty(t,\"readSequenceItem\",{enumerable:!0,get:function(){return P(S).default}});var A=r(4);function P(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"readTag\",{enumerable:!0,get:function(){return P(A).default}})}])});\n//# sourceMappingURL=dicomParser.min.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2RpY29tLXBhcnNlci9kaXN0L2RpY29tUGFyc2VyLm1pbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvZGljb20tcGFyc2VyL2Rpc3QvZGljb21QYXJzZXIubWluLmpzPzU0YzMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIGRpY29tLXBhcnNlciAtIDEuOC4xIC0gMjAxOC0wNS0xNiB8IChjKSAyMDE3IENocmlzIEhhZmV5IHwgaHR0cHM6Ly9naXRodWIuY29tL2Nvcm5lcnN0b25lanMvZGljb21QYXJzZXIgKi9cbiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZGljb20tcGFyc2VyXCIsW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1tcImRpY29tLXBhcnNlclwiXT10KCk6ZS5kaWNvbVBhcnNlcj10KCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIGk9dFtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsciksaS5sPSEwLGkuZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxuKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0sci5yPWZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxyLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHIuZCh0LFwiYVwiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPVwiXCIscihyLnM9NzkpfShbZnVuY3Rpb24oZSx0KXt2YXIgcjtyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e3I9cnx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfHwoMCxldmFsKShcInRoaXNcIil9Y2F0Y2goZSl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKHI9d2luZG93KX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtcbi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbnZhciBuPXIoNzMpLGk9cig3MiksYT1yKDM4KTtmdW5jdGlvbiBvKCl7cmV0dXJuIGYuVFlQRURfQVJSQVlfU1VQUE9SVD8yMTQ3NDgzNjQ3OjEwNzM3NDE4MjN9ZnVuY3Rpb24gcyhlLHQpe2lmKG8oKTx0KXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGhcIik7cmV0dXJuIGYuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT1uZXcgVWludDhBcnJheSh0KSkuX19wcm90b19fPWYucHJvdG90eXBlOihudWxsPT09ZSYmKGU9bmV3IGYodCkpLGUubGVuZ3RoPXQpLGV9ZnVuY3Rpb24gZihlLHQscil7aWYoIShmLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBmKSlyZXR1cm4gbmV3IGYoZSx0LHIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gaCh0aGlzLGUpfXJldHVybiBsKHRoaXMsZSx0LHIpfWZ1bmN0aW9uIGwoZSx0LHIsbil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24oZSx0LHIsbil7aWYodC5ieXRlTGVuZ3RoLHI8MHx8dC5ieXRlTGVuZ3RoPHIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInb2Zmc2V0JyBpcyBvdXQgb2YgYm91bmRzXCIpO2lmKHQuYnl0ZUxlbmd0aDxyKyhufHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHNcIik7dD12b2lkIDA9PT1yJiZ2b2lkIDA9PT1uP25ldyBVaW50OEFycmF5KHQpOnZvaWQgMD09PW4/bmV3IFVpbnQ4QXJyYXkodCxyKTpuZXcgVWludDhBcnJheSh0LHIsbik7Zi5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPXQpLl9fcHJvdG9fXz1mLnByb3RvdHlwZTplPWQoZSx0KTtyZXR1cm4gZX0oZSx0LHIsbik6XCJzdHJpbmdcIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSx0LHIpe1wic3RyaW5nXCI9PXR5cGVvZiByJiZcIlwiIT09cnx8KHI9XCJ1dGY4XCIpO2lmKCFmLmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgbj0wfHAodCxyKSxpPShlPXMoZSxuKSkud3JpdGUodCxyKTtpIT09biYmKGU9ZS5zbGljZSgwLGkpKTtyZXR1cm4gZX0oZSx0LHIpOmZ1bmN0aW9uKGUsdCl7aWYoZi5pc0J1ZmZlcih0KSl7dmFyIHI9MHxjKHQubGVuZ3RoKTtyZXR1cm4gMD09PShlPXMoZSxyKSkubGVuZ3RoP2U6KHQuY29weShlLDAsMCxyKSxlKX1pZih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fFwibGVuZ3RoXCJpbiB0KXJldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0Lmxlbmd0aHx8KG49dC5sZW5ndGgpIT1uP3MoZSwwKTpkKGUsdCk7aWYoXCJCdWZmZXJcIj09PXQudHlwZSYmYSh0LmRhdGEpKXJldHVybiBkKGUsdC5kYXRhKX12YXIgbjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LlwiKX0oZSx0KX1mdW5jdGlvbiB1KGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKTtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gaChlLHQpe2lmKHUodCksZT1zKGUsdDwwPzA6MHxjKHQpKSwhZi5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcih2YXIgcj0wO3I8dDsrK3IpZVtyXT0wO3JldHVybiBlfWZ1bmN0aW9uIGQoZSx0KXt2YXIgcj10Lmxlbmd0aDwwPzA6MHxjKHQubGVuZ3RoKTtlPXMoZSxyKTtmb3IodmFyIG49MDtuPHI7bis9MSllW25dPTI1NSZ0W25dO3JldHVybiBlfWZ1bmN0aW9uIGMoZSl7aWYoZT49bygpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK28oKS50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8ZX1mdW5jdGlvbiBwKGUsdCl7aWYoZi5pc0J1ZmZlcihlKSlyZXR1cm4gZS5sZW5ndGg7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIGUuYnl0ZUxlbmd0aDtcInN0cmluZ1wiIT10eXBlb2YgZSYmKGU9XCJcIitlKTt2YXIgcj1lLmxlbmd0aDtpZigwPT09cilyZXR1cm4gMDtmb3IodmFyIG49ITE7Oylzd2l0Y2godCl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gcjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlIHZvaWQgMDpyZXR1cm4geihlKS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIDIqcjtjYXNlXCJoZXhcIjpyZXR1cm4gcj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIFooZSkubGVuZ3RoO2RlZmF1bHQ6aWYobilyZXR1cm4geihlKS5sZW5ndGg7dD0oXCJcIit0KS50b0xvd2VyQ2FzZSgpLG49ITB9fWZ1bmN0aW9uIGcoZSx0LHIpe3ZhciBuPWVbdF07ZVt0XT1lW3JdLGVbcl09bn1mdW5jdGlvbiBtKGUsdCxyLG4saSl7aWYoMD09PWUubGVuZ3RoKXJldHVybi0xO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByPyhuPXIscj0wKTpyPjIxNDc0ODM2NDc/cj0yMTQ3NDgzNjQ3OnI8LTIxNDc0ODM2NDgmJihyPS0yMTQ3NDgzNjQ4KSxyPStyLGlzTmFOKHIpJiYocj1pPzA6ZS5sZW5ndGgtMSkscjwwJiYocj1lLmxlbmd0aCtyKSxyPj1lLmxlbmd0aCl7aWYoaSlyZXR1cm4tMTtyPWUubGVuZ3RoLTF9ZWxzZSBpZihyPDApe2lmKCFpKXJldHVybi0xO3I9MH1pZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9Zi5mcm9tKHQsbikpLGYuaXNCdWZmZXIodCkpcmV0dXJuIDA9PT10Lmxlbmd0aD8tMTpfKGUsdCxyLG4saSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIHQmPTI1NSxmLlRZUEVEX0FSUkFZX1NVUFBPUlQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/aT9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSx0LHIpOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoZSx0LHIpOl8oZSxbdF0scixuLGkpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gXyhlLHQscixuLGkpe3ZhciBhLG89MSxzPWUubGVuZ3RoLGY9dC5sZW5ndGg7aWYodm9pZCAwIT09biYmKFwidWNzMlwiPT09KG49U3RyaW5nKG4pLnRvTG93ZXJDYXNlKCkpfHxcInVjcy0yXCI9PT1ufHxcInV0ZjE2bGVcIj09PW58fFwidXRmLTE2bGVcIj09PW4pKXtpZihlLmxlbmd0aDwyfHx0Lmxlbmd0aDwyKXJldHVybi0xO289MixzLz0yLGYvPTIsci89Mn1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIDE9PT1vP2VbdF06ZS5yZWFkVUludDE2QkUodCpvKX1pZihpKXt2YXIgdT0tMTtmb3IoYT1yO2E8czthKyspaWYobChlLGEpPT09bCh0LC0xPT09dT8wOmEtdSkpe2lmKC0xPT09dSYmKHU9YSksYS11KzE9PT1mKXJldHVybiB1Km99ZWxzZS0xIT09dSYmKGEtPWEtdSksdT0tMX1lbHNlIGZvcihyK2Y+cyYmKHI9cy1mKSxhPXI7YT49MDthLS0pe2Zvcih2YXIgaD0hMCxkPTA7ZDxmO2QrKylpZihsKGUsYStkKSE9PWwodCxkKSl7aD0hMTticmVha31pZihoKXJldHVybiBhfXJldHVybi0xfWZ1bmN0aW9uIGIoZSx0LHIsbil7cj1OdW1iZXIocil8fDA7dmFyIGk9ZS5sZW5ndGgtcjtuPyhuPU51bWJlcihuKSk+aSYmKG49aSk6bj1pO3ZhciBhPXQubGVuZ3RoO2lmKGElMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nXCIpO24+YS8yJiYobj1hLzIpO2Zvcih2YXIgbz0wO288bjsrK28pe3ZhciBzPXBhcnNlSW50KHQuc3Vic3RyKDIqbywyKSwxNik7aWYoaXNOYU4ocykpcmV0dXJuIG87ZVtyK29dPXN9cmV0dXJuIG99ZnVuY3Rpb24geShlLHQscixuKXtyZXR1cm4gQyh6KHQsZS5sZW5ndGgtciksZSxyLG4pfWZ1bmN0aW9uIHYoZSx0LHIsbil7cmV0dXJuIEMoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoOysrcil0LnB1c2goMjU1JmUuY2hhckNvZGVBdChyKSk7cmV0dXJuIHR9KHQpLGUscixuKX1mdW5jdGlvbiB3KGUsdCxyLG4pe3JldHVybiB2KGUsdCxyLG4pfWZ1bmN0aW9uIEUoZSx0LHIsbil7cmV0dXJuIEMoWih0KSxlLHIsbil9ZnVuY3Rpb24geChlLHQscixuKXtyZXR1cm4gQyhmdW5jdGlvbihlLHQpe2Zvcih2YXIgcixuLGksYT1bXSxvPTA7bzxlLmxlbmd0aCYmISgodC09Mik8MCk7KytvKXI9ZS5jaGFyQ29kZUF0KG8pLG49cj4+OCxpPXIlMjU2LGEucHVzaChpKSxhLnB1c2gobik7cmV0dXJuIGF9KHQsZS5sZW5ndGgtciksZSxyLG4pfWZ1bmN0aW9uIGsoZSx0LHIpe3JldHVybiAwPT09dCYmcj09PWUubGVuZ3RoP24uZnJvbUJ5dGVBcnJheShlKTpuLmZyb21CeXRlQXJyYXkoZS5zbGljZSh0LHIpKX1mdW5jdGlvbiBTKGUsdCxyKXtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2Zvcih2YXIgbj1bXSxpPXQ7aTxyOyl7dmFyIGEsbyxzLGYsbD1lW2ldLHU9bnVsbCxoPWw+MjM5PzQ6bD4yMjM/MzpsPjE5MT8yOjE7aWYoaStoPD1yKXN3aXRjaChoKXtjYXNlIDE6bDwxMjgmJih1PWwpO2JyZWFrO2Nhc2UgMjoxMjg9PSgxOTImKGE9ZVtpKzFdKSkmJihmPSgzMSZsKTw8Nnw2MyZhKT4xMjcmJih1PWYpO2JyZWFrO2Nhc2UgMzphPWVbaSsxXSxvPWVbaSsyXSwxMjg9PSgxOTImYSkmJjEyOD09KDE5MiZvKSYmKGY9KDE1JmwpPDwxMnwoNjMmYSk8PDZ8NjMmbyk+MjA0NyYmKGY8NTUyOTZ8fGY+NTczNDMpJiYodT1mKTticmVhaztjYXNlIDQ6YT1lW2krMV0sbz1lW2krMl0scz1lW2krM10sMTI4PT0oMTkyJmEpJiYxMjg9PSgxOTImbykmJjEyOD09KDE5MiZzKSYmKGY9KDE1JmwpPDwxOHwoNjMmYSk8PDEyfCg2MyZvKTw8Nnw2MyZzKT42NTUzNSYmZjwxMTE0MTEyJiYodT1mKX1udWxsPT09dT8odT02NTUzMyxoPTEpOnU+NjU1MzUmJih1LT02NTUzNixuLnB1c2godT4+PjEwJjEwMjN8NTUyOTYpLHU9NTYzMjB8MTAyMyZ1KSxuLnB1c2godSksaSs9aH1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodDw9QSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZSk7dmFyIHI9XCJcIixuPTA7Zm9yKDtuPHQ7KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUuc2xpY2UobixuKz1BKSk7cmV0dXJuIHJ9KG4pfXQuQnVmZmVyPWYsdC5TbG93QnVmZmVyPWZ1bmN0aW9uKGUpeytlIT1lJiYoZT0wKTtyZXR1cm4gZi5hbGxvYygrZSl9LHQuSU5TUEVDVF9NQVhfQllURVM9NTAsZi5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PWUuVFlQRURfQVJSQVlfU1VQUE9SVD9lLlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnN1YmFycmF5JiYwPT09ZS5zdWJhcnJheSgxLDEpLmJ5dGVMZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLHQua01heExlbmd0aD1vKCksZi5wb29sU2l6ZT04MTkyLGYuX2F1Z21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19fPWYucHJvdG90eXBlLGV9LGYuZnJvbT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGwobnVsbCxlLHQscil9LGYuVFlQRURfQVJSQVlfU1VQUE9SVCYmKGYucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxmLl9fcHJvdG9fXz1VaW50OEFycmF5LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5zcGVjaWVzJiZmW1N5bWJvbC5zcGVjaWVzXT09PWYmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLFN5bWJvbC5zcGVjaWVzLHt2YWx1ZTpudWxsLGNvbmZpZ3VyYWJsZTohMH0pKSxmLmFsbG9jPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHUodCksdDw9MD9zKGUsdCk6dm9pZCAwIT09cj9cInN0cmluZ1wiPT10eXBlb2Ygbj9zKGUsdCkuZmlsbChyLG4pOnMoZSx0KS5maWxsKHIpOnMoZSx0KX0obnVsbCxlLHQscil9LGYuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGgobnVsbCxlKX0sZi5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGgobnVsbCxlKX0sZi5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4hKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9LGYuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKCFmLmlzQnVmZmVyKGUpfHwhZi5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIG11c3QgYmUgQnVmZmVyc1wiKTtpZihlPT09dClyZXR1cm4gMDtmb3IodmFyIHI9ZS5sZW5ndGgsbj10Lmxlbmd0aCxpPTAsYT1NYXRoLm1pbihyLG4pO2k8YTsrK2kpaWYoZVtpXSE9PXRbaV0pe3I9ZVtpXSxuPXRbaV07YnJlYWt9cmV0dXJuIHI8bj8tMTpuPHI/MTowfSxmLmlzRW5jb2Rpbmc9ZnVuY3Rpb24oZSl7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxmLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCFhKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gZi5hbGxvYygwKTt2YXIgcjtpZih2b2lkIDA9PT10KWZvcih0PTAscj0wO3I8ZS5sZW5ndGg7KytyKXQrPWVbcl0ubGVuZ3RoO3ZhciBuPWYuYWxsb2NVbnNhZmUodCksaT0wO2ZvcihyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBvPWVbcl07aWYoIWYuaXNCdWZmZXIobykpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7by5jb3B5KG4saSksaSs9by5sZW5ndGh9cmV0dXJuIG59LGYuYnl0ZUxlbmd0aD1wLGYucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxmLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0c1wiKTtmb3IodmFyIHQ9MDt0PGU7dCs9MilnKHRoaXMsdCx0KzEpO3JldHVybiB0aGlzfSxmLnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IodmFyIHQ9MDt0PGU7dCs9NClnKHRoaXMsdCx0KzMpLGcodGhpcyx0KzEsdCsyKTtyZXR1cm4gdGhpc30sZi5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU4IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHNcIik7Zm9yKHZhciB0PTA7dDxlO3QrPTgpZyh0aGlzLHQsdCs3KSxnKHRoaXMsdCsxLHQrNiksZyh0aGlzLHQrMix0KzUpLGcodGhpcyx0KzMsdCs0KTtyZXR1cm4gdGhpc30sZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT0wfHRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT9cIlwiOjA9PT1hcmd1bWVudHMubGVuZ3RoP1ModGhpcywwLGUpOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0hMTtpZigodm9pZCAwPT09dHx8dDwwKSYmKHQ9MCksdD50aGlzLmxlbmd0aClyZXR1cm5cIlwiO2lmKCh2b2lkIDA9PT1yfHxyPnRoaXMubGVuZ3RoKSYmKHI9dGhpcy5sZW5ndGgpLHI8PTApcmV0dXJuXCJcIjtpZigocj4+Pj0wKTw9KHQ+Pj49MCkpcmV0dXJuXCJcIjtmb3IoZXx8KGU9XCJ1dGY4XCIpOzspc3dpdGNoKGUpe2Nhc2VcImhleFwiOnJldHVybiBUKHRoaXMsdCxyKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gUyh0aGlzLHQscik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gUCh0aGlzLHQscik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIE8odGhpcyx0LHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBrKHRoaXMsdCxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gUih0aGlzLHQscik7ZGVmYXVsdDppZihuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlKTtlPShlK1wiXCIpLnRvTG93ZXJDYXNlKCksbj0hMH19LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZi5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKCFmLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO3JldHVybiB0aGlzPT09ZXx8MD09PWYuY29tcGFyZSh0aGlzLGUpfSxmLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIGU9XCJcIixyPXQuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJihlPXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLHIpLm1hdGNoKC8uezJ9L2cpLmpvaW4oXCIgXCIpLHRoaXMubGVuZ3RoPnImJihlKz1cIiAuLi4gXCIpKSxcIjxCdWZmZXIgXCIrZStcIj5cIn0sZi5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQscixuLGkpe2lmKCFmLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PXImJihyPWU/ZS5sZW5ndGg6MCksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09aSYmKGk9dGhpcy5sZW5ndGgpLHQ8MHx8cj5lLmxlbmd0aHx8bjwwfHxpPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKG4+PWkmJnQ+PXIpcmV0dXJuIDA7aWYobj49aSlyZXR1cm4tMTtpZih0Pj1yKXJldHVybiAxO2lmKHQ+Pj49MCxyPj4+PTAsbj4+Pj0wLGk+Pj49MCx0aGlzPT09ZSlyZXR1cm4gMDtmb3IodmFyIGE9aS1uLG89ci10LHM9TWF0aC5taW4oYSxvKSxsPXRoaXMuc2xpY2UobixpKSx1PWUuc2xpY2UodCxyKSxoPTA7aDxzOysraClpZihsW2hdIT09dVtoXSl7YT1sW2hdLG89dVtoXTticmVha31yZXR1cm4gYTxvPy0xOm88YT8xOjB9LGYucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZihlLHQscil9LGYucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBtKHRoaXMsZSx0LHIsITApfSxmLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIG0odGhpcyxlLHQsciwhMSl9LGYucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHZvaWQgMD09PXQpbj1cInV0ZjhcIixyPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PXImJlwic3RyaW5nXCI9PXR5cGVvZiB0KW49dCxyPXRoaXMubGVuZ3RoLHQ9MDtlbHNle2lmKCFpc0Zpbml0ZSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTt0fD0wLGlzRmluaXRlKHIpPyhyfD0wLHZvaWQgMD09PW4mJihuPVwidXRmOFwiKSk6KG49cixyPXZvaWQgMCl9dmFyIGk9dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09cnx8cj5pKSYmKHI9aSksZS5sZW5ndGg+MCYmKHI8MHx8dDwwKXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO258fChuPVwidXRmOFwiKTtmb3IodmFyIGE9ITE7Oylzd2l0Y2gobil7Y2FzZVwiaGV4XCI6cmV0dXJuIGIodGhpcyxlLHQscik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHkodGhpcyxlLHQscik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gdih0aGlzLGUsdCxyKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gdyh0aGlzLGUsdCxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gRSh0aGlzLGUsdCxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4geCh0aGlzLGUsdCxyKTtkZWZhdWx0OmlmKGEpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK24pO249KFwiXCIrbikudG9Mb3dlckNhc2UoKSxhPSEwfX0sZi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3ZhciBBPTQwOTY7ZnVuY3Rpb24gUChlLHQscil7dmFyIG49XCJcIjtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2Zvcih2YXIgaT10O2k8cjsrK2kpbis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmZVtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gTyhlLHQscil7dmFyIG49XCJcIjtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2Zvcih2YXIgaT10O2k8cjsrK2kpbis9U3RyaW5nLmZyb21DaGFyQ29kZShlW2ldKTtyZXR1cm4gbn1mdW5jdGlvbiBUKGUsdCxyKXt2YXIgbj1lLmxlbmd0aDsoIXR8fHQ8MCkmJih0PTApLCghcnx8cjwwfHxyPm4pJiYocj1uKTtmb3IodmFyIGk9XCJcIixhPXQ7YTxyOysrYSlpKz1qKGVbYV0pO3JldHVybiBpfWZ1bmN0aW9uIFIoZSx0LHIpe2Zvcih2YXIgbj1lLnNsaWNlKHQsciksaT1cIlwiLGE9MDthPG4ubGVuZ3RoO2ErPTIpaSs9U3RyaW5nLmZyb21DaGFyQ29kZShuW2FdKzI1NipuW2ErMV0pO3JldHVybiBpfWZ1bmN0aW9uIEkoZSx0LHIpe2lmKGUlMSE9MHx8ZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwib2Zmc2V0IGlzIG5vdCB1aW50XCIpO2lmKGUrdD5yKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKX1mdW5jdGlvbiBEKGUsdCxyLG4saSxhKXtpZighZi5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih0Pml8fHQ8YSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihyK24+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gTChlLHQscixuKXt0PDAmJih0PTY1NTM1K3QrMSk7Zm9yKHZhciBpPTAsYT1NYXRoLm1pbihlLmxlbmd0aC1yLDIpO2k8YTsrK2kpZVtyK2ldPSh0JjI1NTw8OCoobj9pOjEtaSkpPj4+OCoobj9pOjEtaSl9ZnVuY3Rpb24gRihlLHQscixuKXt0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKTtmb3IodmFyIGk9MCxhPU1hdGgubWluKGUubGVuZ3RoLXIsNCk7aTxhOysraSllW3IraV09dD4+PjgqKG4/aTozLWkpJjI1NX1mdW5jdGlvbiBVKGUsdCxyLG4saSxhKXtpZihyK24+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIEIoZSx0LHIsbixhKXtyZXR1cm4gYXx8VShlLDAsciw0KSxpLndyaXRlKGUsdCxyLG4sMjMsNCkscis0fWZ1bmN0aW9uIE0oZSx0LHIsbixhKXtyZXR1cm4gYXx8VShlLDAsciw4KSxpLndyaXRlKGUsdCxyLG4sNTIsOCkscis4fWYucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj10aGlzLmxlbmd0aDtpZihlPX5+ZSx0PXZvaWQgMD09PXQ/bjp+fnQsZTwwPyhlKz1uKTwwJiYoZT0wKTplPm4mJihlPW4pLHQ8MD8odCs9bik8MCYmKHQ9MCk6dD5uJiYodD1uKSx0PGUmJih0PWUpLGYuVFlQRURfQVJSQVlfU1VQUE9SVCkocj10aGlzLnN1YmFycmF5KGUsdCkpLl9fcHJvdG9fXz1mLnByb3RvdHlwZTtlbHNle3ZhciBpPXQtZTtyPW5ldyBmKGksdm9pZCAwKTtmb3IodmFyIGE9MDthPGk7KythKXJbYV09dGhpc1thK2VdfXJldHVybiByfSxmLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGUsdCxyKXtlfD0wLHR8PTAscnx8SShlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW2VdLGk9MSxhPTA7KythPHQmJihpKj0yNTYpOyluKz10aGlzW2UrYV0qaTtyZXR1cm4gbn0sZi5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbihlLHQscil7ZXw9MCx0fD0wLHJ8fEkoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dGhpc1tlKy0tdF0saT0xO3Q+MCYmKGkqPTI1Nik7KW4rPXRoaXNbZSstLXRdKmk7cmV0dXJuIG59LGYucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxJKGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0sZi5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEkoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OH0sZi5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEkoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdPDw4fHRoaXNbZSsxXX0sZi5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEkoZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSxmLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8SShlLDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbZV0rKHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXSl9LGYucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbihlLHQscil7ZXw9MCx0fD0wLHJ8fEkoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dGhpc1tlXSxpPTEsYT0wOysrYTx0JiYoaSo9MjU2KTspbis9dGhpc1tlK2FdKmk7cmV0dXJuIG4+PShpKj0xMjgpJiYobi09TWF0aC5wb3coMiw4KnQpKSxufSxmLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24oZSx0LHIpe2V8PTAsdHw9MCxyfHxJKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPXQsaT0xLGE9dGhpc1tlKy0tbl07bj4wJiYoaSo9MjU2KTspYSs9dGhpc1tlKy0tbl0qaTtyZXR1cm4gYT49KGkqPTEyOCkmJihhLT1NYXRoLnBvdygyLDgqdCkpLGF9LGYucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEkoZSwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1tlXT8tMSooMjU1LXRoaXNbZV0rMSk6dGhpc1tlXX0sZi5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24oZSx0KXt0fHxJKGUsMix0aGlzLmxlbmd0aCk7dmFyIHI9dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIDMyNzY4JnI/NDI5NDkwMTc2MHxyOnJ9LGYucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7dHx8SShlLDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxmLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxJKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNnx0aGlzW2UrM108PDI0fSxmLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxJKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSxmLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxJKGUsNCx0aGlzLmxlbmd0aCksaS5yZWFkKHRoaXMsZSwhMCwyMyw0KX0sZi5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8SShlLDQsdGhpcy5sZW5ndGgpLGkucmVhZCh0aGlzLGUsITEsMjMsNCl9LGYucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxJKGUsOCx0aGlzLmxlbmd0aCksaS5yZWFkKHRoaXMsZSwhMCw1Miw4KX0sZi5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fEkoZSw4LHRoaXMubGVuZ3RoKSxpLnJlYWQodGhpcyxlLCExLDUyLDgpfSxmLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbihlLHQscixuKXsoZT0rZSx0fD0wLHJ8PTAsbil8fEQodGhpcyxlLHQscixNYXRoLnBvdygyLDgqciktMSwwKTt2YXIgaT0xLGE9MDtmb3IodGhpc1t0XT0yNTUmZTsrK2E8ciYmKGkqPTI1Nik7KXRoaXNbdCthXT1lL2kmMjU1O3JldHVybiB0K3J9LGYucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKGUsdCxyLG4peyhlPStlLHR8PTAscnw9MCxuKXx8RCh0aGlzLGUsdCxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBpPXItMSxhPTE7Zm9yKHRoaXNbdCtpXT0yNTUmZTstLWk+PTAmJihhKj0yNTYpOyl0aGlzW3QraV09ZS9hJjI1NTtyZXR1cm4gdCtyfSxmLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fEQodGhpcyxlLHQsMSwyNTUsMCksZi5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSx0aGlzW3RdPTI1NSZlLHQrMX0sZi5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxEKHRoaXMsZSx0LDIsNjU1MzUsMCksZi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6TCh0aGlzLGUsdCwhMCksdCsyfSxmLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fEQodGhpcyxlLHQsMiw2NTUzNSwwKSxmLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpMKHRoaXMsZSx0LCExKSx0KzJ9LGYucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8RCh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksZi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUpOkYodGhpcyxlLHQsITApLHQrNH0sZi5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxEKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxmLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSk6Rih0aGlzLGUsdCwhMSksdCs0fSxmLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGU9K2UsdHw9MCwhbil7dmFyIGk9TWF0aC5wb3coMiw4KnItMSk7RCh0aGlzLGUsdCxyLGktMSwtaSl9dmFyIGE9MCxvPTEscz0wO2Zvcih0aGlzW3RdPTI1NSZlOysrYTxyJiYobyo9MjU2KTspZTwwJiYwPT09cyYmMCE9PXRoaXNbdCthLTFdJiYocz0xKSx0aGlzW3QrYV09KGUvbz4+MCktcyYyNTU7cmV0dXJuIHQrcn0sZi5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihlLHQscixuKXtpZihlPStlLHR8PTAsIW4pe3ZhciBpPU1hdGgucG93KDIsOCpyLTEpO0QodGhpcyxlLHQscixpLTEsLWkpfXZhciBhPXItMSxvPTEscz0wO2Zvcih0aGlzW3QrYV09MjU1JmU7LS1hPj0wJiYobyo9MjU2KTspZTwwJiYwPT09cyYmMCE9PXRoaXNbdCthKzFdJiYocz0xKSx0aGlzW3QrYV09KGUvbz4+MCktcyYyNTU7cmV0dXJuIHQrcn0sZi5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fEQodGhpcyxlLHQsMSwxMjcsLTEyOCksZi5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSxlPDAmJihlPTI1NStlKzEpLHRoaXNbdF09MjU1JmUsdCsxfSxmLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8RCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksZi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6TCh0aGlzLGUsdCwhMCksdCsyfSxmLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8RCh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksZi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6TCh0aGlzLGUsdCwhMSksdCsyfSxmLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8RCh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGYuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrM109ZT4+PjI0KTpGKHRoaXMsZSx0LCEwKSx0KzR9LGYucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxEKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSksZi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOkYodGhpcyxlLHQsITEpLHQrNH0sZi5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gQih0aGlzLGUsdCwhMCxyKX0sZi5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gQih0aGlzLGUsdCwhMSxyKX0sZi5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIE0odGhpcyxlLHQsITAscil9LGYucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBNKHRoaXMsZSx0LCExLHIpfSxmLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHJ8fChyPTApLG58fDA9PT1ufHwobj10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSxuPjAmJm48ciYmKG49ciksbj09PXIpcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihyPDB8fHI+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihuPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtuPnRoaXMubGVuZ3RoJiYobj10aGlzLmxlbmd0aCksZS5sZW5ndGgtdDxuLXImJihuPWUubGVuZ3RoLXQrcik7dmFyIGksYT1uLXI7aWYodGhpcz09PWUmJnI8dCYmdDxuKWZvcihpPWEtMTtpPj0wOy0taSllW2krdF09dGhpc1tpK3JdO2Vsc2UgaWYoYTwxZTN8fCFmLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKGk9MDtpPGE7KytpKWVbaSt0XT10aGlzW2krcl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkocixyK2EpLHQpO3JldHVybiBhfSxmLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdD8obj10LHQ9MCxyPXRoaXMubGVuZ3RoKTpcInN0cmluZ1wiPT10eXBlb2YgciYmKG49cixyPXRoaXMubGVuZ3RoKSwxPT09ZS5sZW5ndGgpe3ZhciBpPWUuY2hhckNvZGVBdCgwKTtpPDI1NiYmKGU9aSl9aWYodm9pZCAwIT09biYmXCJzdHJpbmdcIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4mJiFmLmlzRW5jb2RpbmcobikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK24pfWVsc2VcIm51bWJlclwiPT10eXBlb2YgZSYmKGUmPTI1NSk7aWYodDwwfHx0aGlzLmxlbmd0aDx0fHx0aGlzLmxlbmd0aDxyKXRocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKHI8PXQpcmV0dXJuIHRoaXM7dmFyIGE7aWYodD4+Pj0wLHI9dm9pZCAwPT09cj90aGlzLmxlbmd0aDpyPj4+MCxlfHwoZT0wKSxcIm51bWJlclwiPT10eXBlb2YgZSlmb3IoYT10O2E8cjsrK2EpdGhpc1thXT1lO2Vsc2V7dmFyIG89Zi5pc0J1ZmZlcihlKT9lOnoobmV3IGYoZSxuKS50b1N0cmluZygpKSxzPW8ubGVuZ3RoO2ZvcihhPTA7YTxyLXQ7KythKXRoaXNbYSt0XT1vW2Elc119cmV0dXJuIHRoaXN9O3ZhciBOPS9bXitcXC8wLTlBLVphLXotX10vZztmdW5jdGlvbiBqKGUpe3JldHVybiBlPDE2P1wiMFwiK2UudG9TdHJpbmcoMTYpOmUudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIHooZSx0KXt2YXIgcjt0PXR8fDEvMDtmb3IodmFyIG49ZS5sZW5ndGgsaT1udWxsLGE9W10sbz0wO288bjsrK28pe2lmKChyPWUuY2hhckNvZGVBdChvKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFpKXtpZihyPjU2MzE5KXsodC09Myk+LTEmJmEucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYobysxPT09bil7KHQtPTMpPi0xJiZhLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWk9cjtjb250aW51ZX1pZihyPDU2MzIwKXsodC09Myk+LTEmJmEucHVzaCgyMzksMTkxLDE4OSksaT1yO2NvbnRpbnVlfXI9NjU1MzYrKGktNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgaSYmKHQtPTMpPi0xJiZhLnB1c2goMjM5LDE5MSwxODkpO2lmKGk9bnVsbCxyPDEyOCl7aWYoKHQtPTEpPDApYnJlYWs7YS5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigodC09Mik8MClicmVhazthLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKHQtPTMpPDApYnJlYWs7YS5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKCh0LT00KTwwKWJyZWFrO2EucHVzaChyPj4xOHwyNDAscj4+MTImNjN8MTI4LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KX19cmV0dXJuIGF9ZnVuY3Rpb24gWihlKXtyZXR1cm4gbi50b0J5dGVBcnJheShmdW5jdGlvbihlKXtpZigoZT1mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX0oZSkucmVwbGFjZShOLFwiXCIpKS5sZW5ndGg8MilyZXR1cm5cIlwiO2Zvcig7ZS5sZW5ndGglNCE9MDspZSs9XCI9XCI7cmV0dXJuIGV9KGUpKX1mdW5jdGlvbiBDKGUsdCxyLG4pe2Zvcih2YXIgaT0wO2k8biYmIShpK3I+PXQubGVuZ3RofHxpPj1lLmxlbmd0aCk7KytpKXRbaStyXT1lW2ldO3JldHVybiBpfX0pLmNhbGwodGhpcyxyKDApKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMTApLGk9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKXQucHVzaChyKTtyZXR1cm4gdH07ZS5leHBvcnRzPWg7dmFyIGE9cig2KTthLmluaGVyaXRzPXIoNSk7dmFyIG89cigzNSkscz1yKDE4KTthLmluaGVyaXRzKGgsbyk7Zm9yKHZhciBmPWkocy5wcm90b3R5cGUpLGw9MDtsPGYubGVuZ3RoO2wrKyl7dmFyIHU9ZltsXTtoLnByb3RvdHlwZVt1XXx8KGgucHJvdG90eXBlW3VdPXMucHJvdG90eXBlW3VdKX1mdW5jdGlvbiBoKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGgpKXJldHVybiBuZXcgaChlKTtvLmNhbGwodGhpcyxlKSxzLmNhbGwodGhpcyxlKSxlJiYhMT09PWUucmVhZGFibGUmJih0aGlzLnJlYWRhYmxlPSExKSxlJiYhMT09PWUud3JpdGFibGUmJih0aGlzLndyaXRhYmxlPSExKSx0aGlzLmFsbG93SGFsZk9wZW49ITAsZSYmITE9PT1lLmFsbG93SGFsZk9wZW4mJih0aGlzLmFsbG93SGFsZk9wZW49ITEpLHRoaXMub25jZShcImVuZFwiLGQpfWZ1bmN0aW9uIGQoKXt0aGlzLmFsbG93SGFsZk9wZW58fHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWR8fG4ubmV4dFRpY2soYyx0aGlzKX1mdW5jdGlvbiBjKGUpe2UuZW5kKCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLFwiZGVzdHJveWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ2b2lkIDAhPT10aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkKX0sc2V0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD1lLHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPWUpfX0pLGgucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7dGhpcy5wdXNoKG51bGwpLHRoaXMuZW5kKCksbi5uZXh0VGljayh0LGUpfX0sZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9ZS5leHBvcnRzPXt9O2Z1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIG8oKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcyhlKXtpZihyPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChyPT09YXx8IXIpJiZzZXRUaW1lb3V0KXJldHVybiByPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gcihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDphfWNhdGNoKGUpe3I9YX10cnl7bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0Om99Y2F0Y2goZSl7bj1vfX0oKTt2YXIgZixsPVtdLHU9ITEsaD0tMTtmdW5jdGlvbiBkKCl7dSYmZiYmKHU9ITEsZi5sZW5ndGg/bD1mLmNvbmNhdChsKTpoPS0xLGwubGVuZ3RoJiZjKCkpfWZ1bmN0aW9uIGMoKXtpZighdSl7dmFyIGU9cyhkKTt1PSEwO2Zvcih2YXIgdD1sLmxlbmd0aDt0Oyl7Zm9yKGY9bCxsPVtdOysraDx0OylmJiZmW2hdLnJ1bigpO2g9LTEsdD1sLmxlbmd0aH1mPW51bGwsdT0hMSxmdW5jdGlvbihlKXtpZihuPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKG49PT1vfHwhbikmJmNsZWFyVGltZW91dClyZXR1cm4gbj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtuKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBwKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gZygpe31pLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07bC5wdXNoKG5ldyBwKGUsdCkpLDEhPT1sLmxlbmd0aHx8dXx8cyhjKX0scC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0saS50aXRsZT1cImJyb3dzZXJcIixpLmJyb3dzZXI9ITAsaS5lbnY9e30saS5hcmd2PVtdLGkudmVyc2lvbj1cIlwiLGkudmVyc2lvbnM9e30saS5vbj1nLGkuYWRkTGlzdGVuZXI9ZyxpLm9uY2U9ZyxpLm9mZj1nLGkucmVtb3ZlTGlzdGVuZXI9ZyxpLnJlbW92ZUFsbExpc3RlbmVycz1nLGkuZW1pdD1nLGkucHJlcGVuZExpc3RlbmVyPWcsaS5wcmVwZW5kT25jZUxpc3RlbmVyPWcsaS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LGkuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0saS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0saS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGkudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvd1wiZGljb21QYXJzZXIucmVhZFRhZzogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgJ2J5dGVTdHJlYW0nXCI7dmFyIHQ9MjU2KmUucmVhZFVpbnQxNigpKjI1NixyPWUucmVhZFVpbnQxNigpO3JldHVyblwieFwiKyhcIjAwMDAwMDAwXCIrKHQrcikudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTgpfX0sZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9OmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQ7dmFyIHI9ZnVuY3Rpb24oKXt9O3IucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyByLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX10LmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheShlKTpcIltvYmplY3QgQXJyYXldXCI9PT1yKGUpfSx0LmlzQm9vbGVhbj1mdW5jdGlvbihlKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGV9LHQuaXNOdWxsPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZX0sdC5pc051bGxPclVuZGVmaW5lZD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZX0sdC5pc051bWJlcj1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX0sdC5pc1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0sdC5pc1N5bWJvbD1mdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZX0sdC5pc1VuZGVmaW5lZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZX0sdC5pc1JlZ0V4cD1mdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09cihlKX0sdC5pc09iamVjdD1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWV9LHQuaXNEYXRlPWZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09cihlKX0sdC5pc0Vycm9yPWZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBFcnJvcl1cIj09PXIoZSl8fGUgaW5zdGFuY2VvZiBFcnJvcn0sdC5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9LHQuaXNQcmltaXRpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJzeW1ib2xcIj09dHlwZW9mIGV8fHZvaWQgMD09PWV9LHQuaXNCdWZmZXI9ZS5pc0J1ZmZlcn0pLmNhbGwodGhpcyxyKDEpLkJ1ZmZlcil9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLGk9cigxNCk7ZnVuY3Rpb24gYShlLHQpe3JldHVybiB2b2lkIDAhPT1lLnBhcnNlcj9lLnBhcnNlcjp0fXZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmJ5dGVBcnJheVBhcnNlcj10LHRoaXMuYnl0ZUFycmF5PXIsdGhpcy5lbGVtZW50cz1ufXJldHVybiBuKGUsW3trZXk6XCJ1aW50MTZcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZWxlbWVudHNbZV07aWYodD12b2lkIDAhPT10P3Q6MCxyJiYwIT09ci5sZW5ndGgpcmV0dXJuIGEocix0aGlzLmJ5dGVBcnJheVBhcnNlcikucmVhZFVpbnQxNih0aGlzLmJ5dGVBcnJheSxyLmRhdGFPZmZzZXQrMip0KX19LHtrZXk6XCJpbnQxNlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5lbGVtZW50c1tlXTtpZih0PXZvaWQgMCE9PXQ/dDowLHImJjAhPT1yLmxlbmd0aClyZXR1cm4gYShyLHRoaXMuYnl0ZUFycmF5UGFyc2VyKS5yZWFkSW50MTYodGhpcy5ieXRlQXJyYXksci5kYXRhT2Zmc2V0KzIqdCl9fSx7a2V5OlwidWludDMyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmVsZW1lbnRzW2VdO2lmKHQ9dm9pZCAwIT09dD90OjAsciYmMCE9PXIubGVuZ3RoKXJldHVybiBhKHIsdGhpcy5ieXRlQXJyYXlQYXJzZXIpLnJlYWRVaW50MzIodGhpcy5ieXRlQXJyYXksci5kYXRhT2Zmc2V0KzQqdCl9fSx7a2V5OlwiaW50MzJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZWxlbWVudHNbZV07aWYodD12b2lkIDAhPT10P3Q6MCxyJiYwIT09ci5sZW5ndGgpcmV0dXJuIGEocix0aGlzLmJ5dGVBcnJheVBhcnNlcikucmVhZEludDMyKHRoaXMuYnl0ZUFycmF5LHIuZGF0YU9mZnNldCs0KnQpfX0se2tleTpcImZsb2F0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmVsZW1lbnRzW2VdO2lmKHQ9dm9pZCAwIT09dD90OjAsciYmMCE9PXIubGVuZ3RoKXJldHVybiBhKHIsdGhpcy5ieXRlQXJyYXlQYXJzZXIpLnJlYWRGbG9hdCh0aGlzLmJ5dGVBcnJheSxyLmRhdGFPZmZzZXQrNCp0KX19LHtrZXk6XCJkb3VibGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZWxlbWVudHNbZV07aWYodD12b2lkIDAhPT10P3Q6MCxyJiYwIT09ci5sZW5ndGgpcmV0dXJuIGEocix0aGlzLmJ5dGVBcnJheVBhcnNlcikucmVhZERvdWJsZSh0aGlzLmJ5dGVBcnJheSxyLmRhdGFPZmZzZXQrOCp0KX19LHtrZXk6XCJudW1TdHJpbmdWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmVsZW1lbnRzW2VdO2lmKHQmJnQubGVuZ3RoPjApe3ZhciByPSgwLGkucmVhZEZpeGVkU3RyaW5nKSh0aGlzLmJ5dGVBcnJheSx0LmRhdGFPZmZzZXQsdC5sZW5ndGgpLm1hdGNoKC9cXFxcL2cpO3JldHVybiBudWxsPT09cj8xOnIubGVuZ3RoKzF9fX0se2tleTpcInN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5lbGVtZW50c1tlXTtpZihyJiZyLmxlbmd0aD4wKXt2YXIgbj0oMCxpLnJlYWRGaXhlZFN0cmluZykodGhpcy5ieXRlQXJyYXksci5kYXRhT2Zmc2V0LHIubGVuZ3RoKTtyZXR1cm4gdD49MD9uLnNwbGl0KFwiXFxcXFwiKVt0XS50cmltKCk6bi50cmltKCl9fX0se2tleTpcInRleHRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZWxlbWVudHNbZV07aWYociYmci5sZW5ndGg+MCl7dmFyIG49KDAsaS5yZWFkRml4ZWRTdHJpbmcpKHRoaXMuYnl0ZUFycmF5LHIuZGF0YU9mZnNldCxyLmxlbmd0aCk7cmV0dXJuIHQ+PTA/bi5zcGxpdChcIlxcXFxcIilbdF0ucmVwbGFjZSgvICskLyxcIlwiKTpuLnJlcGxhY2UoLyArJC8sXCJcIil9fX0se2tleTpcImZsb2F0U3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmVsZW1lbnRzW2VdO2lmKHImJnIubGVuZ3RoPjApe3Q9dm9pZCAwIT09dD90OjA7dmFyIG49dGhpcy5zdHJpbmcoZSx0KTtpZih2b2lkIDAhPT1uKXJldHVybiBwYXJzZUZsb2F0KG4pfX19LHtrZXk6XCJpbnRTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZWxlbWVudHNbZV07aWYociYmci5sZW5ndGg+MCl7dD12b2lkIDAhPT10P3Q6MDt2YXIgbj10aGlzLnN0cmluZyhlLHQpO2lmKHZvaWQgMCE9PW4pcmV0dXJuIHBhcnNlSW50KG4pfX19LHtrZXk6XCJhdHRyaWJ1dGVUYWdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmVsZW1lbnRzW2VdO2lmKHQmJjQ9PT10Lmxlbmd0aCl7dmFyIHI9YSh0LHRoaXMuYnl0ZUFycmF5UGFyc2VyKS5yZWFkVWludDE2LG49dGhpcy5ieXRlQXJyYXksaT10LmRhdGFPZmZzZXQ7cmV0dXJuXCJ4XCIrKFwiMDAwMDAwMDBcIisoMjU2KnIobixpKSoyNTYrcihuLGkrMikpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC04KX19fV0pLGV9KCk7dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQxNkFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgSW50MzJBcnJheTtmdW5jdGlvbiBpKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXQuYXNzaWduPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7dC5sZW5ndGg7KXt2YXIgcj10LnNoaWZ0KCk7aWYocil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihyK1wibXVzdCBiZSBub24tb2JqZWN0XCIpO2Zvcih2YXIgbiBpbiByKWkocixuKSYmKGVbbl09cltuXSl9fXJldHVybiBlfSx0LnNocmlua0J1Zj1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxlbmd0aD09PXQ/ZTplLnN1YmFycmF5P2Uuc3ViYXJyYXkoMCx0KTooZS5sZW5ndGg9dCxlKX07dmFyIGE9e2FycmF5U2V0OmZ1bmN0aW9uKGUsdCxyLG4saSl7aWYodC5zdWJhcnJheSYmZS5zdWJhcnJheSllLnNldCh0LnN1YmFycmF5KHIscituKSxpKTtlbHNlIGZvcih2YXIgYT0wO2E8bjthKyspZVtpK2FdPXRbcithXX0sZmxhdHRlbkNodW5rczpmdW5jdGlvbihlKXt2YXIgdCxyLG4saSxhLG87Zm9yKG49MCx0PTAscj1lLmxlbmd0aDt0PHI7dCsrKW4rPWVbdF0ubGVuZ3RoO2ZvcihvPW5ldyBVaW50OEFycmF5KG4pLGk9MCx0PTAscj1lLmxlbmd0aDt0PHI7dCsrKWE9ZVt0XSxvLnNldChhLGkpLGkrPWEubGVuZ3RoO3JldHVybiBvfX0sbz17YXJyYXlTZXQ6ZnVuY3Rpb24oZSx0LHIsbixpKXtmb3IodmFyIGE9MDthPG47YSsrKWVbaSthXT10W3IrYV19LGZsYXR0ZW5DaHVua3M6ZnVuY3Rpb24oZSl7cmV0dXJuW10uY29uY2F0LmFwcGx5KFtdLGUpfX07dC5zZXRUeXBlZD1mdW5jdGlvbihlKXtlPyh0LkJ1Zjg9VWludDhBcnJheSx0LkJ1ZjE2PVVpbnQxNkFycmF5LHQuQnVmMzI9SW50MzJBcnJheSx0LmFzc2lnbih0LGEpKToodC5CdWY4PUFycmF5LHQuQnVmMTY9QXJyYXksdC5CdWYzMj1BcnJheSx0LmFzc2lnbih0LG8pKX0sdC5zZXRUeXBlZChuKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMSksaT1uLkJ1ZmZlcjtmdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciByIGluIGUpdFtyXT1lW3JdfWZ1bmN0aW9uIG8oZSx0LHIpe3JldHVybiBpKGUsdCxyKX1pLmZyb20mJmkuYWxsb2MmJmkuYWxsb2NVbnNhZmUmJmkuYWxsb2NVbnNhZmVTbG93P2UuZXhwb3J0cz1uOihhKG4sdCksdC5CdWZmZXI9byksYShpLG8pLG8uZnJvbT1mdW5jdGlvbihlLHQscil7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyXCIpO3JldHVybiBpKGUsdCxyKX0sby5hbGxvYz1mdW5jdGlvbihlLHQscil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7dmFyIG49aShlKTtyZXR1cm4gdm9pZCAwIT09dD9cInN0cmluZ1wiPT10eXBlb2Ygcj9uLmZpbGwodCxyKTpuLmZpbGwodCk6bi5maWxsKDApLG59LG8uYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIGkoZSl9LG8uYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBuLlNsb3dCdWZmZXIoZSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpeyF0LnZlcnNpb258fDA9PT10LnZlcnNpb24uaW5kZXhPZihcInYwLlwiKXx8MD09PXQudmVyc2lvbi5pbmRleE9mKFwidjEuXCIpJiYwIT09dC52ZXJzaW9uLmluZGV4T2YoXCJ2MS44LlwiKT9lLmV4cG9ydHM9e25leHRUaWNrOmZ1bmN0aW9uKGUscixuLGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3ZhciBhLG8scz1hcmd1bWVudHMubGVuZ3RoO3N3aXRjaChzKXtjYXNlIDA6Y2FzZSAxOnJldHVybiB0Lm5leHRUaWNrKGUpO2Nhc2UgMjpyZXR1cm4gdC5uZXh0VGljayhmdW5jdGlvbigpe2UuY2FsbChudWxsLHIpfSk7Y2FzZSAzOnJldHVybiB0Lm5leHRUaWNrKGZ1bmN0aW9uKCl7ZS5jYWxsKG51bGwscixuKX0pO2Nhc2UgNDpyZXR1cm4gdC5uZXh0VGljayhmdW5jdGlvbigpe2UuY2FsbChudWxsLHIsbixpKX0pO2RlZmF1bHQ6Zm9yKGE9bmV3IEFycmF5KHMtMSksbz0wO288YS5sZW5ndGg7KWFbbysrXT1hcmd1bWVudHNbb107cmV0dXJuIHQubmV4dFRpY2soZnVuY3Rpb24oKXtlLmFwcGx5KG51bGwsYSl9KX19fTplLmV4cG9ydHM9dH0pLmNhbGwodGhpcyxyKDMpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHZvaWQgMCE9PWUmJnQgaW5zdGFuY2VvZiBlKXJldHVybiB0LnNsaWNlKHIscituKTtpZih0IGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0K3Isbik7dGhyb3dcImRpY29tUGFyc2VyLmZyb206IHVua25vd24gdHlwZSBmb3IgYnl0ZUFycmF5XCJ9fSkuY2FsbCh0aGlzLHIoMSkuQnVmZmVyKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbixpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksYT1yKDExKSxvPShuPWEpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufSxzPXIoMTQpO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChyLG4saSl7aWYoZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHZvaWQgMD09PXIpdGhyb3dcImRpY29tUGFyc2VyLkJ5dGVTdHJlYW06IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdieXRlQXJyYXlQYXJzZXInXCI7aWYodm9pZCAwPT09bil0aHJvd1wiZGljb21QYXJzZXIuQnl0ZVN0cmVhbTogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgJ2J5dGVBcnJheSdcIjtpZihuIGluc3RhbmNlb2YgVWludDhBcnJheT09ITEmJm4gaW5zdGFuY2VvZiBlPT0hMSl0aHJvd1wiZGljb21QYXJzZXIuQnl0ZVN0cmVhbTogcGFyYW1ldGVyIGJ5dGVBcnJheSBpcyBub3Qgb2YgdHlwZSBVaW50OEFycmF5IG9yIEJ1ZmZlclwiO2lmKGk8MCl0aHJvd1wiZGljb21QYXJzZXIuQnl0ZVN0cmVhbTogcGFyYW1ldGVyICdwb3NpdGlvbicgY2Fubm90IGJlIGxlc3MgdGhhbiAwXCI7aWYoaT49bi5sZW5ndGgpdGhyb3dcImRpY29tUGFyc2VyLkJ5dGVTdHJlYW06IHBhcmFtZXRlciAncG9zaXRpb24nIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJ2J5dGVBcnJheScgbGVuZ3RoXCI7dGhpcy5ieXRlQXJyYXlQYXJzZXI9cix0aGlzLmJ5dGVBcnJheT1uLHRoaXMucG9zaXRpb249aXx8MCx0aGlzLndhcm5pbmdzPVtdfXJldHVybiBpKHQsW3trZXk6XCJzZWVrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5wb3NpdGlvbitlPDApdGhyb3dcImRpY29tUGFyc2VyLkJ5dGVTdHJlYW0ucHJvdG90eXBlLnNlZWs6IGNhbm5vdCBzZWVrIHRvIHBvc2l0aW9uIDwgMFwiO3RoaXMucG9zaXRpb24rPWV9fSx7a2V5OlwicmVhZEJ5dGVTdHJlYW1cIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLnBvc2l0aW9uK2U+dGhpcy5ieXRlQXJyYXkubGVuZ3RoKXRocm93XCJkaWNvbVBhcnNlci5CeXRlU3RyZWFtLnByb3RvdHlwZS5yZWFkQnl0ZVN0cmVhbTogcmVhZEJ5dGVTdHJlYW0gLSBidWZmZXIgb3ZlcnJlYWRcIjt2YXIgcj0oMCxvLmRlZmF1bHQpKHRoaXMuYnl0ZUFycmF5LHRoaXMucG9zaXRpb24sZSk7cmV0dXJuIHRoaXMucG9zaXRpb24rPWUsbmV3IHQodGhpcy5ieXRlQXJyYXlQYXJzZXIscil9fSx7a2V5OlwicmVhZFVpbnQxNlwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ieXRlQXJyYXlQYXJzZXIucmVhZFVpbnQxNih0aGlzLmJ5dGVBcnJheSx0aGlzLnBvc2l0aW9uKTtyZXR1cm4gdGhpcy5wb3NpdGlvbis9MixlfX0se2tleTpcInJlYWRVaW50MzJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuYnl0ZUFycmF5UGFyc2VyLnJlYWRVaW50MzIodGhpcy5ieXRlQXJyYXksdGhpcy5wb3NpdGlvbik7cmV0dXJuIHRoaXMucG9zaXRpb24rPTQsZX19LHtrZXk6XCJyZWFkRml4ZWRTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0oMCxzLnJlYWRGaXhlZFN0cmluZykodGhpcy5ieXRlQXJyYXksdGhpcy5wb3NpdGlvbixlKTtyZXR1cm4gdGhpcy5wb3NpdGlvbis9ZSx0fX1dKSx0fSgpO3QuZGVmYXVsdD1mfSkuY2FsbCh0aGlzLHIoMSkuQnVmZmVyKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93XCJkaWNvbVBhcnNlci5yZWFkU2VxdWVuY2VJdGVtOiBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciAnYnl0ZVN0cmVhbSdcIjt2YXIgdD17dGFnOigwLGEuZGVmYXVsdCkoZSksbGVuZ3RoOmUucmVhZFVpbnQzMigpLGRhdGFPZmZzZXQ6ZS5wb3NpdGlvbn07aWYoXCJ4ZmZmZWUwMDBcIiE9PXQudGFnKXRocm93XCJkaWNvbVBhcnNlci5yZWFkU2VxdWVuY2VJdGVtOiBpdGVtIHRhZyAoRkZGRSxFMDAwKSBub3QgZm91bmQgYXQgb2Zmc2V0IFwiK2UucG9zaXRpb247cmV0dXJuIHR9O3ZhciBuLGk9cig0KSxhPShuPWkpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucmVhZEZpeGVkU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXtpZihyPDApdGhyb3dcImRpY29tUGFyc2VyLnJlYWRGaXhlZFN0cmluZyAtIGxlbmd0aCBjYW5ub3QgYmUgbGVzcyB0aGFuIDBcIjtpZih0K3I+ZS5sZW5ndGgpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRGaXhlZFN0cmluZzogYXR0ZW1wdCB0byByZWFkIHBhc3QgZW5kIG9mIGJ1ZmZlclwiO2Zvcih2YXIgbixpPVwiXCIsYT0wO2E8cjthKyspe2lmKDA9PT0obj1lW3QrYV0pKXJldHVybiB0Kz1yLGk7aSs9U3RyaW5nLmZyb21DaGFyQ29kZShuKX1yZXR1cm4gaX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PWUpdGhyb3dcImRpY29tUGFyc2VyLnJlYWREaWNvbUVsZW1lbnRFeHBsaWNpdDogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgJ2J5dGVTdHJlYW0nXCI7dmFyIGY9e3RhZzooMCxvLmRlZmF1bHQpKGUpLHZyOmUucmVhZEZpeGVkU3RyaW5nKDIpfTsyPT09bChmLnZyKT8oZi5sZW5ndGg9ZS5yZWFkVWludDE2KCksZi5kYXRhT2Zmc2V0PWUucG9zaXRpb24pOihlLnNlZWsoMiksZi5sZW5ndGg9ZS5yZWFkVWludDMyKCksZi5kYXRhT2Zmc2V0PWUucG9zaXRpb24pOzQyOTQ5NjcyOTU9PT1mLmxlbmd0aCYmKGYuaGFkVW5kZWZpbmVkTGVuZ3RoPSEwKTtpZihmLnRhZz09PXIpcmV0dXJuIGY7aWYoXCJTUVwiPT09Zi52cilyZXR1cm4oMCxzLmRlZmF1bHQpKGUsZix0KSxmO2lmKDQyOTQ5NjcyOTU9PT1mLmxlbmd0aClyZXR1cm5cIng3ZmUwMDAxMFwiPT09Zi50YWc/KCgwLG4uZGVmYXVsdCkoZSxmLHQpLGYpOlwiVU5cIj09PWYudnI/KCgwLGkuZGVmYXVsdCkoZSxmKSxmKTooKDAsYS5kZWZhdWx0KShlLGYpLGYpO3JldHVybiBlLnNlZWsoZi5sZW5ndGgpLGZ9O3ZhciBuPWYocig0MikpLGk9ZihyKDQxKSksYT1mKHIoMjQpKSxvPWYocig0KSkscz1mKHIoNDApKTtmdW5jdGlvbiBmKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgbD1mdW5jdGlvbihlKXtyZXR1cm5cIk9CXCI9PT1lfHxcIk9XXCI9PT1lfHxcIlNRXCI9PT1lfHxcIk9GXCI9PT1lfHxcIlVUXCI9PT1lfHxcIlVOXCI9PT1lPzQ6Mn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnBhcnNlRGljb21EYXRhU2V0RXhwbGljaXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTtpZihyPXZvaWQgMD09PXI/dC5ieXRlQXJyYXkubGVuZ3RoOnIsdm9pZCAwPT09dCl0aHJvd1wiZGljb21QYXJzZXIucGFyc2VEaWNvbURhdGFTZXRFeHBsaWNpdDogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgJ2J5dGVTdHJlYW0nXCI7aWYocjx0LnBvc2l0aW9ufHxyPnQuYnl0ZUFycmF5Lmxlbmd0aCl0aHJvd1wiZGljb21QYXJzZXIucGFyc2VEaWNvbURhdGFTZXRFeHBsaWNpdDogaW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdtYXhQIG9zaXRpb24nXCI7dmFyIGE9ZS5lbGVtZW50cztmb3IoO3QucG9zaXRpb248cjspe3ZhciBvPSgwLG4uZGVmYXVsdCkodCxlLndhcm5pbmdzLGkudW50aWxUYWcpO2lmKGFbby50YWddPW8sby50YWc9PT1pLnVudGlsVGFnKXJldHVybn1pZih0LnBvc2l0aW9uPnIpdGhyb3dcImRpY29tUGFyc2VyOnBhcnNlRGljb21EYXRhU2V0RXhwbGljaXQ6IGJ1ZmZlciBvdmVycnVuXCJ9LHQucGFyc2VEaWNvbURhdGFTZXRJbXBsaWNpdD1mdW5jdGlvbihlLHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9O2lmKHI9dm9pZCAwPT09cj9lLmJ5dGVBcnJheS5sZW5ndGg6cix2b2lkIDA9PT10KXRocm93XCJkaWNvbVBhcnNlci5wYXJzZURpY29tRGF0YVNldEltcGxpY2l0OiBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciAnYnl0ZVN0cmVhbSdcIjtpZihyPHQucG9zaXRpb258fHI+dC5ieXRlQXJyYXkubGVuZ3RoKXRocm93XCJkaWNvbVBhcnNlci5wYXJzZURpY29tRGF0YVNldEltcGxpY2l0OiBpbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ21heFBvc2l0aW9uJ1wiO3ZhciBhPWUuZWxlbWVudHM7Zm9yKDt0LnBvc2l0aW9uPHI7KXt2YXIgbz0oMCxpLmRlZmF1bHQpKHQsbi51bnRpbFRhZyxuLnZyQ2FsbGJhY2spO2lmKGFbby50YWddPW8sby50YWc9PT1uLnVudGlsVGFnKXJldHVybn19O3ZhciBuPWEocigxNSkpLGk9YShyKDIzKSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxyLHMsbCl7aWYocz1zfHwxLGw9bHx8dC5mcmFnbWVudHMsdm9pZCAwPT09ZSl0aHJvd1wiZGljb21QYXJzZXIucmVhZEVuY2Fwc3VsYXRlZFBpeGVsRGF0YUZyb21GcmFnbWVudHM6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdkYXRhU2V0J1wiO2lmKHZvaWQgMD09PXQpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFGcm9tRnJhZ21lbnRzOiBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciAncGl4ZWxEYXRhRWxlbWVudCdcIjtpZih2b2lkIDA9PT1yKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkUGl4ZWxEYXRhRnJvbUZyYWdtZW50czogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgJ3N0YXJ0RnJhZ21lbnRJbmRleCdcIjtpZih2b2lkIDA9PT1zKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkUGl4ZWxEYXRhRnJvbUZyYWdtZW50czogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgJ251bUZyYWdtZW50cydcIjtpZihcIng3ZmUwMDAxMFwiIT09dC50YWcpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFGcm9tRnJhZ21lbnRzOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIHJlZmVycyB0byBub24gcGl4ZWwgZGF0YSB0YWcgKGV4cGVjdGVkIHRhZyA9IHg3ZmUwMDAxMFwiO2lmKCEwIT09dC5lbmNhcHN1bGF0ZWRQaXhlbERhdGEpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFGcm9tRnJhZ21lbnRzOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYoITAhPT10LmhhZFVuZGVmaW5lZExlbmd0aCl0aHJvd1wiZGljb21QYXJzZXIucmVhZEVuY2Fwc3VsYXRlZFBpeGVsRGF0YUZyb21GcmFnbWVudHM6IHBhcmFtZXRlciAncGl4ZWxEYXRhRWxlbWVudCcgcmVmZXJzIHRvIHBpeGVsIGRhdGEgZWxlbWVudCB0aGF0IGRvZXMgbm90IGhhdmUgZW5jYXBzdWxhdGVkIHBpeGVsIGRhdGFcIjtpZih2b2lkIDA9PT10LmJhc2ljT2Zmc2V0VGFibGUpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFGcm9tRnJhZ21lbnRzOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYodm9pZCAwPT09dC5mcmFnbWVudHMpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFGcm9tRnJhZ21lbnRzOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYodC5mcmFnbWVudHMubGVuZ3RoPD0wKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkUGl4ZWxEYXRhRnJvbUZyYWdtZW50czogcGFyYW1ldGVyICdwaXhlbERhdGFFbGVtZW50JyByZWZlcnMgdG8gcGl4ZWwgZGF0YSBlbGVtZW50IHRoYXQgZG9lcyBub3QgaGF2ZSBlbmNhcHN1bGF0ZWQgcGl4ZWwgZGF0YVwiO2lmKHI8MCl0aHJvd1wiZGljb21QYXJzZXIucmVhZEVuY2Fwc3VsYXRlZFBpeGVsRGF0YUZyb21GcmFnbWVudHM6IHBhcmFtZXRlciAnc3RhcnRGcmFnbWVudEluZGV4JyBtdXN0IGJlID49IDBcIjtpZihyPj10LmZyYWdtZW50cy5sZW5ndGgpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFGcm9tRnJhZ21lbnRzOiBwYXJhbWV0ZXIgJ3N0YXJ0RnJhZ21lbnRJbmRleCcgbXVzdCBiZSA8IG51bWJlciBvZiBmcmFnbWVudHNcIjtpZihzPDEpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFGcm9tRnJhZ21lbnRzOiBwYXJhbWV0ZXIgJ251bUZyYWdtZW50cycgbXVzdCBiZSA+IDBcIjtpZihyK3M+dC5mcmFnbWVudHMubGVuZ3RoKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkUGl4ZWxEYXRhRnJvbUZyYWdtZW50czogcGFyYW1ldGVyICdzdGFydEZyYWdtZW50JyArICdudW1GcmFnbWVudHMnIDwgbnVtYmVyIG9mIGZyYWdtZW50c1wiO3ZhciB1PW5ldyBpLmRlZmF1bHQoZS5ieXRlQXJyYXlQYXJzZXIsZS5ieXRlQXJyYXksdC5kYXRhT2Zmc2V0KSxoPSgwLGEuZGVmYXVsdCkodSk7aWYoXCJ4ZmZmZWUwMDBcIiE9PWgudGFnKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkUGl4ZWxEYXRhOiBtaXNzaW5nIGJhc2ljIG9mZnNldCB0YWJsZSB4ZmZmZWUwMDBcIjt1LnNlZWsoaC5sZW5ndGgpO3ZhciBkPXUucG9zaXRpb247aWYoMT09PXMpcmV0dXJuKDAsby5kZWZhdWx0KSh1LmJ5dGVBcnJheSxkK2xbcl0ub2Zmc2V0KzgsbFtyXS5sZW5ndGgpO2Zvcih2YXIgYz1mKGwscixzKSxwPSgwLG4uZGVmYXVsdCkodS5ieXRlQXJyYXksYyksZz0wLG09cjttPHIrczttKyspZm9yKHZhciBfPWQrbFttXS5vZmZzZXQrOCxiPTA7YjxsW21dLmxlbmd0aDtiKyspcFtnKytdPXUuYnl0ZUFycmF5W18rK107cmV0dXJuIHB9O3ZhciBuPXMocigyMikpLGk9cyhyKDEyKSksYT1zKHIoMTMpKSxvPXMocigxMSkpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBmPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49MCxpPXQ7aTx0K3I7aSsrKW4rPWVbaV0ubGVuZ3RoO3JldHVybiBufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0LG4saSl7dmFyIGE9cigxMCk7ZnVuY3Rpb24gbyhlKXt2YXIgdD10aGlzO3RoaXMubmV4dD1udWxsLHRoaXMuZW50cnk9bnVsbCx0aGlzLmZpbmlzaD1mdW5jdGlvbigpeyFmdW5jdGlvbihlLHQscil7dmFyIG49ZS5lbnRyeTtlLmVudHJ5PW51bGw7Zm9yKDtuOyl7dmFyIGk9bi5jYWxsYmFjazt0LnBlbmRpbmdjYi0tLGkociksbj1uLm5leHR9dC5jb3JrZWRSZXF1ZXN0c0ZyZWU/dC5jb3JrZWRSZXF1ZXN0c0ZyZWUubmV4dD1lOnQuY29ya2VkUmVxdWVzdHNGcmVlPWV9KHQsZSl9fWUuZXhwb3J0cz1iO3ZhciBzLGY9IXQuYnJvd3NlciYmW1widjAuMTBcIixcInYwLjkuXCJdLmluZGV4T2YodC52ZXJzaW9uLnNsaWNlKDAsNSkpPi0xP246YS5uZXh0VGljaztiLldyaXRhYmxlU3RhdGU9Xzt2YXIgbD1yKDYpO2wuaW5oZXJpdHM9cig1KTt2YXIgdT17ZGVwcmVjYXRlOnIoNjEpfSxoPXIoMzQpLGQ9cig5KS5CdWZmZXIsYz1pLlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fTt2YXIgcCxnPXIoMzMpO2Z1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gXyhlLHQpe3M9c3x8cigyKSxlPWV8fHt9O3ZhciBuPXQgaW5zdGFuY2VvZiBzO3RoaXMub2JqZWN0TW9kZT0hIWUub2JqZWN0TW9kZSxuJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISFlLndyaXRhYmxlT2JqZWN0TW9kZSk7dmFyIGk9ZS5oaWdoV2F0ZXJNYXJrLGw9ZS53cml0YWJsZUhpZ2hXYXRlck1hcmssdT10aGlzLm9iamVjdE1vZGU/MTY6MTYzODQ7dGhpcy5oaWdoV2F0ZXJNYXJrPWl8fDA9PT1pP2k6biYmKGx8fDA9PT1sKT9sOnUsdGhpcy5oaWdoV2F0ZXJNYXJrPU1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKSx0aGlzLmZpbmFsQ2FsbGVkPSExLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMTt2YXIgaD0hMT09PWUuZGVjb2RlU3RyaW5nczt0aGlzLmRlY29kZVN0cmluZ3M9IWgsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9ZS5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMubGVuZ3RoPTAsdGhpcy53cml0aW5nPSExLHRoaXMuY29ya2VkPTAsdGhpcy5zeW5jPSEwLHRoaXMuYnVmZmVyUHJvY2Vzc2luZz0hMSx0aGlzLm9ud3JpdGU9ZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5fd3JpdGFibGVTdGF0ZSxuPXIuc3luYyxpPXIud3JpdGVjYjtpZihmdW5jdGlvbihlKXtlLndyaXRpbmc9ITEsZS53cml0ZWNiPW51bGwsZS5sZW5ndGgtPWUud3JpdGVsZW4sZS53cml0ZWxlbj0wfShyKSx0KSFmdW5jdGlvbihlLHQscixuLGkpey0tdC5wZW5kaW5nY2Iscj8oYS5uZXh0VGljayhpLG4pLGEubmV4dFRpY2soayxlLHQpLGUuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLGUuZW1pdChcImVycm9yXCIsbikpOihpKG4pLGUuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLGUuZW1pdChcImVycm9yXCIsbiksayhlLHQpKX0oZSxyLG4sdCxpKTtlbHNle3ZhciBvPUUocik7b3x8ci5jb3JrZWR8fHIuYnVmZmVyUHJvY2Vzc2luZ3x8IXIuYnVmZmVyZWRSZXF1ZXN0fHx3KGUsciksbj9mKHYsZSxyLG8saSk6dihlLHIsbyxpKX19KHQsZSl9LHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVsZW49MCx0aGlzLmJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMucGVuZGluZ2NiPTAsdGhpcy5wcmVmaW5pc2hlZD0hMSx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50PTAsdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWU9bmV3IG8odGhpcyl9ZnVuY3Rpb24gYihlKXtpZihzPXN8fHIoMiksIShwLmNhbGwoYix0aGlzKXx8dGhpcyBpbnN0YW5jZW9mIHMpKXJldHVybiBuZXcgYihlKTt0aGlzLl93cml0YWJsZVN0YXRlPW5ldyBfKGUsdGhpcyksdGhpcy53cml0YWJsZT0hMCxlJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS53cml0ZSYmKHRoaXMuX3dyaXRlPWUud3JpdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUud3JpdGV2JiYodGhpcy5fd3JpdGV2PWUud3JpdGV2KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmRlc3Ryb3kmJih0aGlzLl9kZXN0cm95PWUuZGVzdHJveSksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5maW5hbCYmKHRoaXMuX2ZpbmFsPWUuZmluYWwpKSxoLmNhbGwodGhpcyl9ZnVuY3Rpb24geShlLHQscixuLGksYSxvKXt0LndyaXRlbGVuPW4sdC53cml0ZWNiPW8sdC53cml0aW5nPSEwLHQuc3luYz0hMCxyP2UuX3dyaXRldihpLHQub253cml0ZSk6ZS5fd3JpdGUoaSxhLHQub253cml0ZSksdC5zeW5jPSExfWZ1bmN0aW9uIHYoZSx0LHIsbil7cnx8ZnVuY3Rpb24oZSx0KXswPT09dC5sZW5ndGgmJnQubmVlZERyYWluJiYodC5uZWVkRHJhaW49ITEsZS5lbWl0KFwiZHJhaW5cIikpfShlLHQpLHQucGVuZGluZ2NiLS0sbigpLGsoZSx0KX1mdW5jdGlvbiB3KGUsdCl7dC5idWZmZXJQcm9jZXNzaW5nPSEwO3ZhciByPXQuYnVmZmVyZWRSZXF1ZXN0O2lmKGUuX3dyaXRldiYmciYmci5uZXh0KXt2YXIgbj10LmJ1ZmZlcmVkUmVxdWVzdENvdW50LGk9bmV3IEFycmF5KG4pLGE9dC5jb3JrZWRSZXF1ZXN0c0ZyZWU7YS5lbnRyeT1yO2Zvcih2YXIgcz0wLGY9ITA7cjspaVtzXT1yLHIuaXNCdWZ8fChmPSExKSxyPXIubmV4dCxzKz0xO2kuYWxsQnVmZmVycz1mLHkoZSx0LCEwLHQubGVuZ3RoLGksXCJcIixhLmZpbmlzaCksdC5wZW5kaW5nY2IrKyx0Lmxhc3RCdWZmZXJlZFJlcXVlc3Q9bnVsbCxhLm5leHQ/KHQuY29ya2VkUmVxdWVzdHNGcmVlPWEubmV4dCxhLm5leHQ9bnVsbCk6dC5jb3JrZWRSZXF1ZXN0c0ZyZWU9bmV3IG8odCksdC5idWZmZXJlZFJlcXVlc3RDb3VudD0wfWVsc2V7Zm9yKDtyOyl7dmFyIGw9ci5jaHVuayx1PXIuZW5jb2RpbmcsaD1yLmNhbGxiYWNrO2lmKHkoZSx0LCExLHQub2JqZWN0TW9kZT8xOmwubGVuZ3RoLGwsdSxoKSxyPXIubmV4dCx0LmJ1ZmZlcmVkUmVxdWVzdENvdW50LS0sdC53cml0aW5nKWJyZWFrfW51bGw9PT1yJiYodC5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfXQuYnVmZmVyZWRSZXF1ZXN0PXIsdC5idWZmZXJQcm9jZXNzaW5nPSExfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIGUuZW5kaW5nJiYwPT09ZS5sZW5ndGgmJm51bGw9PT1lLmJ1ZmZlcmVkUmVxdWVzdCYmIWUuZmluaXNoZWQmJiFlLndyaXRpbmd9ZnVuY3Rpb24geChlLHQpe2UuX2ZpbmFsKGZ1bmN0aW9uKHIpe3QucGVuZGluZ2NiLS0sciYmZS5lbWl0KFwiZXJyb3JcIixyKSx0LnByZWZpbmlzaGVkPSEwLGUuZW1pdChcInByZWZpbmlzaFwiKSxrKGUsdCl9KX1mdW5jdGlvbiBrKGUsdCl7dmFyIHI9RSh0KTtyZXR1cm4gciYmKCFmdW5jdGlvbihlLHQpe3QucHJlZmluaXNoZWR8fHQuZmluYWxDYWxsZWR8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLl9maW5hbD8odC5wZW5kaW5nY2IrKyx0LmZpbmFsQ2FsbGVkPSEwLGEubmV4dFRpY2soeCxlLHQpKToodC5wcmVmaW5pc2hlZD0hMCxlLmVtaXQoXCJwcmVmaW5pc2hcIikpKX0oZSx0KSwwPT09dC5wZW5kaW5nY2ImJih0LmZpbmlzaGVkPSEwLGUuZW1pdChcImZpbmlzaFwiKSkpLHJ9bC5pbmhlcml0cyhiLGgpLF8ucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJ1ZmZlcmVkUmVxdWVzdCx0PVtdO2U7KXQucHVzaChlKSxlPWUubmV4dDtyZXR1cm4gdH0sZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDp1LmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJ1ZmZlcigpfSxcIl93cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyIGluc3RlYWQuXCIsXCJERVAwMDAzXCIpfSl9Y2F0Y2goZSl7fX0oKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5oYXNJbnN0YW5jZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgRnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0/KHA9RnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGIsU3ltYm9sLmhhc0luc3RhbmNlLHt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hIXAuY2FsbCh0aGlzLGUpfHx0aGlzPT09YiYmKGUmJmUuX3dyaXRhYmxlU3RhdGUgaW5zdGFuY2VvZiBfKX19KSk6cD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXN9LGIucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXt0aGlzLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIkNhbm5vdCBwaXBlLCBub3QgcmVhZGFibGVcIikpfSxiLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQscil7dmFyIG4saT10aGlzLl93cml0YWJsZVN0YXRlLG89ITEscz0haS5vYmplY3RNb2RlJiYobj1lLGQuaXNCdWZmZXIobil8fG4gaW5zdGFuY2VvZiBjKTtyZXR1cm4gcyYmIWQuaXNCdWZmZXIoZSkmJihlPWZ1bmN0aW9uKGUpe3JldHVybiBkLmZyb20oZSl9KGUpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9bnVsbCkscz90PVwiYnVmZmVyXCI6dHx8KHQ9aS5kZWZhdWx0RW5jb2RpbmcpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJihyPW0pLGkuZW5kZWQ/ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgRXJyb3IoXCJ3cml0ZSBhZnRlciBlbmRcIik7ZS5lbWl0KFwiZXJyb3JcIixyKSxhLm5leHRUaWNrKHQscil9KHRoaXMscik6KHN8fGZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPSEwLG89ITE7cmV0dXJuIG51bGw9PT1yP289bmV3IFR5cGVFcnJvcihcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIpOlwic3RyaW5nXCI9PXR5cGVvZiByfHx2b2lkIDA9PT1yfHx0Lm9iamVjdE1vZGV8fChvPW5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rXCIpKSxvJiYoZS5lbWl0KFwiZXJyb3JcIixvKSxhLm5leHRUaWNrKG4sbyksaT0hMSksaX0odGhpcyxpLGUscikpJiYoaS5wZW5kaW5nY2IrKyxvPWZ1bmN0aW9uKGUsdCxyLG4saSxhKXtpZighcil7dmFyIG89ZnVuY3Rpb24oZSx0LHIpe2Uub2JqZWN0TW9kZXx8ITE9PT1lLmRlY29kZVN0cmluZ3N8fFwic3RyaW5nXCIhPXR5cGVvZiB0fHwodD1kLmZyb20odCxyKSk7cmV0dXJuIHR9KHQsbixpKTtuIT09byYmKHI9ITAsaT1cImJ1ZmZlclwiLG49byl9dmFyIHM9dC5vYmplY3RNb2RlPzE6bi5sZW5ndGg7dC5sZW5ndGgrPXM7dmFyIGY9dC5sZW5ndGg8dC5oaWdoV2F0ZXJNYXJrO2Z8fCh0Lm5lZWREcmFpbj0hMCk7aWYodC53cml0aW5nfHx0LmNvcmtlZCl7dmFyIGw9dC5sYXN0QnVmZmVyZWRSZXF1ZXN0O3QubGFzdEJ1ZmZlcmVkUmVxdWVzdD17Y2h1bms6bixlbmNvZGluZzppLGlzQnVmOnIsY2FsbGJhY2s6YSxuZXh0Om51bGx9LGw/bC5uZXh0PXQubGFzdEJ1ZmZlcmVkUmVxdWVzdDp0LmJ1ZmZlcmVkUmVxdWVzdD10Lmxhc3RCdWZmZXJlZFJlcXVlc3QsdC5idWZmZXJlZFJlcXVlc3RDb3VudCs9MX1lbHNlIHkoZSx0LCExLHMsbixpLGEpO3JldHVybiBmfSh0aGlzLGkscyxlLHQscikpLG99LGIucHJvdG90eXBlLmNvcms9ZnVuY3Rpb24oKXt0aGlzLl93cml0YWJsZVN0YXRlLmNvcmtlZCsrfSxiLnByb3RvdHlwZS51bmNvcms9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl93cml0YWJsZVN0YXRlO2UuY29ya2VkJiYoZS5jb3JrZWQtLSxlLndyaXRpbmd8fGUuY29ya2VkfHxlLmZpbmlzaGVkfHxlLmJ1ZmZlclByb2Nlc3Npbmd8fCFlLmJ1ZmZlcmVkUmVxdWVzdHx8dyh0aGlzLGUpKX0sYi5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1lLnRvTG93ZXJDYXNlKCkpLCEoW1wiaGV4XCIsXCJ1dGY4XCIsXCJ1dGYtOFwiLFwiYXNjaWlcIixcImJpbmFyeVwiLFwiYmFzZTY0XCIsXCJ1Y3MyXCIsXCJ1Y3MtMlwiLFwidXRmMTZsZVwiLFwidXRmLTE2bGVcIixcInJhd1wiXS5pbmRleE9mKChlK1wiXCIpLnRvTG93ZXJDYXNlKCkpPi0xKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZSk7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nPWUsdGhpc30sYi5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGUsdCxyKXtyKG5ldyBFcnJvcihcIl93cml0ZSgpIGlzIG5vdCBpbXBsZW1lbnRlZFwiKSl9LGIucHJvdG90eXBlLl93cml0ZXY9bnVsbCxiLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX3dyaXRhYmxlU3RhdGU7XCJmdW5jdGlvblwiPT10eXBlb2YgZT8ocj1lLGU9bnVsbCx0PW51bGwpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD1udWxsKSxudWxsIT09ZSYmdm9pZCAwIT09ZSYmdGhpcy53cml0ZShlLHQpLG4uY29ya2VkJiYobi5jb3JrZWQ9MSx0aGlzLnVuY29yaygpKSxuLmVuZGluZ3x8bi5maW5pc2hlZHx8ZnVuY3Rpb24oZSx0LHIpe3QuZW5kaW5nPSEwLGsoZSx0KSxyJiYodC5maW5pc2hlZD9hLm5leHRUaWNrKHIpOmUub25jZShcImZpbmlzaFwiLHIpKTt0LmVuZGVkPSEwLGUud3JpdGFibGU9ITF9KHRoaXMsbixyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwiZGVzdHJveWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD1lKX19KSxiLnByb3RvdHlwZS5kZXN0cm95PWcuZGVzdHJveSxiLnByb3RvdHlwZS5fdW5kZXN0cm95PWcudW5kZXN0cm95LGIucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7dGhpcy5lbmQoKSx0KGUpfX0pLmNhbGwodGhpcyxyKDMpLHIoNjMpLnNldEltbWVkaWF0ZSxyKDApKX0sZnVuY3Rpb24oZSx0LHIpeyh0PWUuZXhwb3J0cz1yKDM1KSkuU3RyZWFtPXQsdC5SZWFkYWJsZT10LHQuV3JpdGFibGU9cigxOCksdC5EdXBsZXg9cigyKSx0LlRyYW5zZm9ybT1yKDMxKSx0LlBhc3NUaHJvdWdoPXIoNjApfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9ZnVuY3Rpb24gbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZS5leHBvcnRzPXIsci5FdmVudEVtaXR0ZXI9cixyLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMCxyLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDB8fGlzTmFOKGUpKXRocm93IFR5cGVFcnJvcihcIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdCxyLG8scyxmLGw7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSxcImVycm9yXCI9PT1lJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8aSh0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKCh0PWFyZ3VtZW50c1sxXSlpbnN0YW5jZW9mIEVycm9yKXRocm93IHQ7dmFyIHU9bmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyt0K1wiKVwiKTt0aHJvdyB1LmNvbnRleHQ9dCx1fWlmKGEocj10aGlzLl9ldmVudHNbZV0pKXJldHVybiExO2lmKG4ocikpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpyLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOnIuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOnIuY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksci5hcHBseSh0aGlzLHMpfWVsc2UgaWYoaShyKSlmb3Iocz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbz0obD1yLnNsaWNlKCkpLmxlbmd0aCxmPTA7ZjxvO2YrKylsW2ZdLmFwcGx5KHRoaXMscyk7cmV0dXJuITB9LHIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG87aWYoIW4odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KFwibmV3TGlzdGVuZXJcIixlLG4odC5saXN0ZW5lcik/dC5saXN0ZW5lcjp0KSx0aGlzLl9ldmVudHNbZV0/aSh0aGlzLl9ldmVudHNbZV0pP3RoaXMuX2V2ZW50c1tlXS5wdXNoKHQpOnRoaXMuX2V2ZW50c1tlXT1bdGhpcy5fZXZlbnRzW2VdLHRdOnRoaXMuX2V2ZW50c1tlXT10LGkodGhpcy5fZXZlbnRzW2VdKSYmIXRoaXMuX2V2ZW50c1tlXS53YXJuZWQmJihvPWEodGhpcy5fbWF4TGlzdGVuZXJzKT9yLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dGhpcy5fbWF4TGlzdGVuZXJzKSYmbz4wJiZ0aGlzLl9ldmVudHNbZV0ubGVuZ3RoPm8mJih0aGlzLl9ldmVudHNbZV0ud2FybmVkPSEwLGNvbnNvbGUuZXJyb3IoXCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LlwiLHRoaXMuX2V2ZW50c1tlXS5sZW5ndGgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUudHJhY2UmJmNvbnNvbGUudHJhY2UoKSksdGhpc30sci5wcm90b3R5cGUub249ci5wcm90b3R5cGUuYWRkTGlzdGVuZXIsci5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe2lmKCFuKHQpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt2YXIgcj0hMTtmdW5jdGlvbiBpKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcihlLGkpLHJ8fChyPSEwLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gaS5saXN0ZW5lcj10LHRoaXMub24oZSxpKSx0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciByLGEsbyxzO2lmKCFuKHQpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW2VdKXJldHVybiB0aGlzO2lmKG89KHI9dGhpcy5fZXZlbnRzW2VdKS5sZW5ndGgsYT0tMSxyPT09dHx8bihyLmxpc3RlbmVyKSYmci5saXN0ZW5lcj09PXQpZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSx0KTtlbHNlIGlmKGkocikpe2ZvcihzPW87cy0tID4wOylpZihyW3NdPT09dHx8cltzXS5saXN0ZW5lciYmcltzXS5saXN0ZW5lcj09PXQpe2E9czticmVha31pZihhPDApcmV0dXJuIHRoaXM7MT09PXIubGVuZ3RoPyhyLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0pOnIuc3BsaWNlKGEsMSksdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsdCl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxyO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1tlXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodCBpbiB0aGlzLl9ldmVudHMpXCJyZW1vdmVMaXN0ZW5lclwiIT09dCYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnModCk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPXt9LHRoaXN9aWYobihyPXRoaXMuX2V2ZW50c1tlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIpO2Vsc2UgaWYocilmb3IoO3IubGVuZ3RoOyl0aGlzLnJlbW92ZUxpc3RlbmVyKGUscltyLmxlbmd0aC0xXSk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpc30sci5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXT9uKHRoaXMuX2V2ZW50c1tlXSk/W3RoaXMuX2V2ZW50c1tlXV06dGhpcy5fZXZlbnRzW2VdLnNsaWNlKCk6W119LHIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZXZlbnRzKXt2YXIgdD10aGlzLl9ldmVudHNbZV07aWYobih0KSlyZXR1cm4gMTtpZih0KXJldHVybiB0Lmxlbmd0aH1yZXR1cm4gMH0sci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXJDb3VudCh0KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9e3JlYWRVaW50MTY6ZnVuY3Rpb24oZSx0KXtpZih0PDApdGhyb3dcImxpdHRsZUVuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkVWludDE2OiBwb3NpdGlvbiBjYW5ub3QgYmUgbGVzcyB0aGFuIDBcIjtpZih0KzI+ZS5sZW5ndGgpdGhyb3dcImxpdHRsZUVuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkVWludDE2OiBhdHRlbXB0IHRvIHJlYWQgcGFzdCBlbmQgb2YgYnVmZmVyXCI7cmV0dXJuIGVbdF0rMjU2KmVbdCsxXX0scmVhZEludDE2OmZ1bmN0aW9uKGUsdCl7aWYodDwwKXRocm93XCJsaXR0bGVFbmRpYW5CeXRlQXJyYXlQYXJzZXIucmVhZEludDE2OiBwb3NpdGlvbiBjYW5ub3QgYmUgbGVzcyB0aGFuIDBcIjtpZih0KzI+ZS5sZW5ndGgpdGhyb3dcImxpdHRsZUVuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkSW50MTY6IGF0dGVtcHQgdG8gcmVhZCBwYXN0IGVuZCBvZiBidWZmZXJcIjt2YXIgcj1lW3RdKyhlW3QrMV08PDgpO3JldHVybiAzMjc2OCZyJiYocj1yLTY1NTM1LTEpLHJ9LHJlYWRVaW50MzI6ZnVuY3Rpb24oZSx0KXtpZih0PDApdGhyb3dcImxpdHRsZUVuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkVWludDMyOiBwb3NpdGlvbiBjYW5ub3QgYmUgbGVzcyB0aGFuIDBcIjtpZih0KzQ+ZS5sZW5ndGgpdGhyb3dcImxpdHRsZUVuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkVWludDMyOiBhdHRlbXB0IHRvIHJlYWQgcGFzdCBlbmQgb2YgYnVmZmVyXCI7cmV0dXJuIGVbdF0rMjU2KmVbdCsxXSsyNTYqZVt0KzJdKjI1NisyNTYqZVt0KzNdKjI1NioyNTZ9LHJlYWRJbnQzMjpmdW5jdGlvbihlLHQpe2lmKHQ8MCl0aHJvd1wibGl0dGxlRW5kaWFuQnl0ZUFycmF5UGFyc2VyLnJlYWRJbnQzMjogcG9zaXRpb24gY2Fubm90IGJlIGxlc3MgdGhhbiAwXCI7aWYodCs0PmUubGVuZ3RoKXRocm93XCJsaXR0bGVFbmRpYW5CeXRlQXJyYXlQYXJzZXIucmVhZEludDMyOiBhdHRlbXB0IHRvIHJlYWQgcGFzdCBlbmQgb2YgYnVmZmVyXCI7cmV0dXJuIGVbdF0rKGVbdCsxXTw8OCkrKGVbdCsyXTw8MTYpKyhlW3QrM108PDI0KX0scmVhZEZsb2F0OmZ1bmN0aW9uKGUsdCl7aWYodDwwKXRocm93XCJsaXR0bGVFbmRpYW5CeXRlQXJyYXlQYXJzZXIucmVhZEZsb2F0OiBwb3NpdGlvbiBjYW5ub3QgYmUgbGVzcyB0aGFuIDBcIjtpZih0KzQ+ZS5sZW5ndGgpdGhyb3dcImxpdHRsZUVuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkRmxvYXQ6IGF0dGVtcHQgdG8gcmVhZCBwYXN0IGVuZCBvZiBidWZmZXJcIjt2YXIgcj1uZXcgVWludDhBcnJheSg0KTtyZXR1cm4gclswXT1lW3RdLHJbMV09ZVt0KzFdLHJbMl09ZVt0KzJdLHJbM109ZVt0KzNdLG5ldyBGbG9hdDMyQXJyYXkoci5idWZmZXIpWzBdfSxyZWFkRG91YmxlOmZ1bmN0aW9uKGUsdCl7aWYodDwwKXRocm93XCJsaXR0bGVFbmRpYW5CeXRlQXJyYXlQYXJzZXIucmVhZERvdWJsZTogcG9zaXRpb24gY2Fubm90IGJlIGxlc3MgdGhhbiAwXCI7aWYodCs4PmUubGVuZ3RoKXRocm93XCJsaXR0bGVFbmRpYW5CeXRlQXJyYXlQYXJzZXIucmVhZERvdWJsZTogYXR0ZW1wdCB0byByZWFkIHBhc3QgZW5kIG9mIGJ1ZmZlclwiO3ZhciByPW5ldyBVaW50OEFycmF5KDgpO3JldHVybiByWzBdPWVbdF0sclsxXT1lW3QrMV0sclsyXT1lW3QrMl0sclszXT1lW3QrM10scls0XT1lW3QrNF0scls1XT1lW3QrNV0scls2XT1lW3QrNl0scls3XT1lW3QrN10sbmV3IEZsb2F0NjRBcnJheShyLmJ1ZmZlcilbMF19fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24odCxyKXtpZih2b2lkIDAhPT1lJiZ0IGluc3RhbmNlb2YgZSlyZXR1cm4gZS5hbGxvYyhyKTtpZih0IGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocik7dGhyb3dcImRpY29tUGFyc2VyLmFsbG9jOiB1bmtub3duIHR5cGUgZm9yIGJ5dGVBcnJheVwifX0pLmNhbGwodGhpcyxyKDEpLkJ1ZmZlcil9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PWUpdGhyb3dcImRpY29tUGFyc2VyLnJlYWREaWNvbUVsZW1lbnRJbXBsaWNpdDogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgJ2J5dGVTdHJlYW0nXCI7dmFyIG89e3RhZzooMCxhLmRlZmF1bHQpKGUpLGxlbmd0aDplLnJlYWRVaW50MzIoKSxkYXRhT2Zmc2V0OmUucG9zaXRpb259OzQyOTQ5NjcyOTU9PT1vLmxlbmd0aCYmKG8uaGFkVW5kZWZpbmVkTGVuZ3RoPSEwKTtpZihvLnRhZz09PXQpcmV0dXJuIG87aWYocyhvLGUscikpcmV0dXJuKDAsaS5kZWZhdWx0KShlLG8pLG87aWYoby5oYWRVbmRlZmluZWRMZW5ndGgpcmV0dXJuKDAsbi5kZWZhdWx0KShlLG8pLG87cmV0dXJuIGUuc2VlayhvLmxlbmd0aCksb307dmFyIG49byhyKDI0KSksaT1vKHIoMzkpKSxhPW8ocig0KSk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMCE9PXIpcmV0dXJuXCJTUVwiPT09cihlLnRhZyk7aWYodC5wb3NpdGlvbis0PD10LmJ5dGVBcnJheS5sZW5ndGgpe3ZhciBuPSgwLGEuZGVmYXVsdCkodCk7cmV0dXJuIHQuc2VlaygtNCksXCJ4ZmZmZWUwMDBcIj09PW58fFwieGZmZmVlMGRkXCI9PT1ufXJldHVybiB0Lndhcm5pbmdzLnB1c2goXCJlb2YgZW5jb3VudGVyZWQgYmVmb3JlIGZpbmRpbmcgc2VxdWVuY2UgaXRlbSB0YWcgb3Igc2VxdWVuY2UgZGVsaW1pdGVyIHRhZyBpbiBwZWVraW5nIHRvIGRldGVybWluZSBWUlwiKSwhMX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRGljb21FbGVtZW50SW1wbGljaXQ6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdieXRlU3RyZWFtJ1wiO3ZhciByPWUuYnl0ZUFycmF5Lmxlbmd0aC04O2Zvcig7ZS5wb3NpdGlvbjw9cjspe3ZhciBuPWUucmVhZFVpbnQxNigpO2lmKDY1NTM0PT09bil7dmFyIGk9ZS5yZWFkVWludDE2KCk7aWYoNTczNTc9PT1pKXt2YXIgYT1lLnJlYWRVaW50MzIoKTtyZXR1cm4gMCE9PWEmJmUud2FybmluZ3MoXCJlbmNvdW50ZXJlZCBub24gemVybyBsZW5ndGggZm9sbG93aW5nIGl0ZW0gZGVsaW1pdGVyIGF0IHBvc2l0aW9uIFwiKyhlLnBvc2l0aW9uLTQpK1wiIHdoaWxlIHJlYWRpbmcgZWxlbWVudCBvZiB1bmRlZmluZWQgbGVuZ3RoIHdpdGggdGFnIFwiK3QudGFnKSx2b2lkKHQubGVuZ3RoPWUucG9zaXRpb24tdC5kYXRhT2Zmc2V0KX19fXQubGVuZ3RoPWUuYnl0ZUFycmF5Lmxlbmd0aC10LmRhdGFPZmZzZXQsZS5zZWVrKGUuYnl0ZUFycmF5Lmxlbmd0aC1lLnBvc2l0aW9uKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj17QUU6ITAsQVM6ITAsQVQ6ITEsQ1M6ITAsREE6ITAsRFM6ITAsRFQ6ITAsRkw6ITEsRkQ6ITEsSVM6ITAsTE86ITAsTFQ6ITAsT0I6ITEsT0Q6ITEsT0Y6ITEsT1c6ITEsUE46ITAsU0g6ITAsU0w6ITEsU1E6ITEsU1M6ITEsU1Q6ITAsVE06ITAsVUk6ITAsVUw6ITEsVU46dm9pZCAwLFVSOiEwLFVTOiExLFVUOiEwfTt0LmlzU3RyaW5nVnI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV19LHQuaXNQcml2YXRlVGFnPWZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlWzRdLDEwKSUyPT0xfSx0LnBhcnNlUE49ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSl7dmFyIHQ9ZS5zcGxpdChcIl5cIik7cmV0dXJue2ZhbWlseU5hbWU6dFswXSxnaXZlbk5hbWU6dFsxXSxtaWRkbGVOYW1lOnRbMl0scHJlZml4OnRbM10sc3VmZml4OnRbNF19fX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LHIsbixpKXtpZihuPW58fHQuYmFzaWNPZmZzZXRUYWJsZSxpPWl8fHQuZnJhZ21lbnRzLHZvaWQgMD09PWUpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRJbWFnZUZyYW1lOiBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciAnZGF0YVNldCdcIjtpZih2b2lkIDA9PT10KXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkSW1hZ2VGcmFtZTogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnXCI7aWYodm9pZCAwPT09cil0aHJvd1wiZGljb21QYXJzZXIucmVhZEVuY2Fwc3VsYXRlZEltYWdlRnJhbWU6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdmcmFtZUluZGV4J1wiO2lmKHZvaWQgMD09PW4pdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRJbWFnZUZyYW1lOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIGRvZXMgbm90IGhhdmUgYmFzaWNPZmZzZXRUYWJsZVwiO2lmKFwieDdmZTAwMDEwXCIhPT10LnRhZyl0aHJvd1wiZGljb21QYXJzZXIucmVhZEVuY2Fwc3VsYXRlZEltYWdlRnJhbWU6IHBhcmFtZXRlciAncGl4ZWxEYXRhRWxlbWVudCcgcmVmZXJzIHRvIG5vbiBwaXhlbCBkYXRhIHRhZyAoZXhwZWN0ZWQgdGFnID0geDdmZTAwMDEwKVwiO2lmKCEwIT09dC5lbmNhcHN1bGF0ZWRQaXhlbERhdGEpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRJbWFnZUZyYW1lOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYoITAhPT10LmhhZFVuZGVmaW5lZExlbmd0aCl0aHJvd1wiZGljb21QYXJzZXIucmVhZEVuY2Fwc3VsYXRlZEltYWdlRnJhbWU6IHBhcmFtZXRlciAncGl4ZWxEYXRhRWxlbWVudCcgcmVmZXJzIHRvIHBpeGVsIGRhdGEgZWxlbWVudCB0aGF0IGRvZXMgbm90IGhhdmUgdW5kZWZpbmVkIGxlbmd0aFwiO2lmKHZvaWQgMD09PXQuZnJhZ21lbnRzKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkSW1hZ2VGcmFtZTogcGFyYW1ldGVyICdwaXhlbERhdGFFbGVtZW50JyByZWZlcnMgdG8gcGl4ZWwgZGF0YSBlbGVtZW50IHRoYXQgZG9lcyBub3QgaGF2ZSBmcmFnbWVudHNcIjtpZigwPT09bi5sZW5ndGgpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRJbWFnZUZyYW1lOiBiYXNpY09mZnNldFRhYmxlIGhhcyB6ZXJvIGVudHJpZXNcIjtpZihyPDApdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRJbWFnZUZyYW1lOiBwYXJhbWV0ZXIgJ2ZyYW1lSW5kZXgnIG11c3QgYmUgPj0gMFwiO2lmKHI+PW4ubGVuZ3RoKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkSW1hZ2VGcmFtZTogcGFyYW1ldGVyICdmcmFtZUluZGV4JyBtdXN0IGJlIDwgYmFzaWNPZmZzZXRUYWJsZS5sZW5ndGhcIjt2YXIgZj1uW3JdLGw9byhpLGYpO2lmKHZvaWQgMD09PWwpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRJbWFnZUZyYW1lOiB1bmFibGUgdG8gZmluZCBmcmFnbWVudCB0aGF0IG1hdGNoZXMgYmFzaWMgb2Zmc2V0IHRhYmxlIGVudHJ5XCI7dmFyIHU9cyhyLG4saSxsKTtyZXR1cm4oMCxhLmRlZmF1bHQpKGUsdCxsLHUsaSl9O3ZhciBuLGk9cigxNyksYT0obj1pKSYmbi5fX2VzTW9kdWxlP246e2RlZmF1bHQ6bn07dmFyIG89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLm9mZnNldD09PXQpcmV0dXJuIHJ9LHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoZT09PXQubGVuZ3RoLTEpcmV0dXJuIHIubGVuZ3RoLW47Zm9yKHZhciBpPXRbZSsxXSxhPW4rMTthPHIubGVuZ3RoO2ErKylpZihyW2FdLm9mZnNldD09PWkpcmV0dXJuIGEtbjt0aHJvd1wiZGljb21QYXJzZXIuY2FsY3VsYXRlTnVtYmVyT2ZGcmFnbWVudHNGb3JGcmFtZTogY291bGQgbm90IGZpbmQgZnJhZ21lbnQgd2l0aCBvZmZzZXQgbWF0Y2hpbmcgYmFzaWMgb2Zmc2V0IHRhYmxlXCJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxyPTA7cjwyNTY7cisrKXtlPXI7Zm9yKHZhciBuPTA7bjw4O24rKyllPTEmZT8zOTg4MjkyMzg0XmU+Pj4xOmU+Pj4xO3Rbcl09ZX1yZXR1cm4gdH0oKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGE9bixvPWkrcjtlXj0tMTtmb3IodmFyIHM9aTtzPG87cysrKWU9ZT4+PjheYVsyNTUmKGVedFtzXSldO3JldHVybi0xXmV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgaT02NTUzNSZlfDAsYT1lPj4+MTYmNjU1MzV8MCxvPTA7MCE9PXI7KXtyLT1vPXI+MmUzPzJlMzpyO2Rve2E9YSsoaT1pK3RbbisrXXwwKXwwfXdoaWxlKC0tbyk7aSU9NjU1MjEsYSU9NjU1MjF9cmV0dXJuIGl8YTw8MTZ8MH19LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSxuKXt2YXIgaT0vJVtzZGolXS9nO3QuZm9ybWF0PWZ1bmN0aW9uKGUpe2lmKCFfKGUpKXtmb3IodmFyIHQ9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdC5wdXNoKHMoYXJndW1lbnRzW3JdKSk7cmV0dXJuIHQuam9pbihcIiBcIil9cj0xO2Zvcih2YXIgbj1hcmd1bWVudHMsYT1uLmxlbmd0aCxvPVN0cmluZyhlKS5yZXBsYWNlKGksZnVuY3Rpb24oZSl7aWYoXCIlJVwiPT09ZSlyZXR1cm5cIiVcIjtpZihyPj1hKXJldHVybiBlO3N3aXRjaChlKXtjYXNlXCIlc1wiOnJldHVybiBTdHJpbmcobltyKytdKTtjYXNlXCIlZFwiOnJldHVybiBOdW1iZXIobltyKytdKTtjYXNlXCIlalwiOnRyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkobltyKytdKX1jYXRjaChlKXtyZXR1cm5cIltDaXJjdWxhcl1cIn1kZWZhdWx0OnJldHVybiBlfX0pLGY9bltyXTtyPGE7Zj1uWysrcl0pZyhmKXx8IXYoZik/bys9XCIgXCIrZjpvKz1cIiBcIitzKGYpO3JldHVybiBvfSx0LmRlcHJlY2F0ZT1mdW5jdGlvbihyLGkpe2lmKGIoZS5wcm9jZXNzKSlyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5kZXByZWNhdGUocixpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2lmKCEwPT09bi5ub0RlcHJlY2F0aW9uKXJldHVybiByO3ZhciBhPSExO3JldHVybiBmdW5jdGlvbigpe2lmKCFhKXtpZihuLnRocm93RGVwcmVjYXRpb24pdGhyb3cgbmV3IEVycm9yKGkpO24udHJhY2VEZXByZWNhdGlvbj9jb25zb2xlLnRyYWNlKGkpOmNvbnNvbGUuZXJyb3IoaSksYT0hMH1yZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTt2YXIgYSxvPXt9O2Z1bmN0aW9uIHMoZSxyKXt2YXIgbj17c2VlbjpbXSxzdHlsaXplOmx9O3JldHVybiBhcmd1bWVudHMubGVuZ3RoPj0zJiYobi5kZXB0aD1hcmd1bWVudHNbMl0pLGFyZ3VtZW50cy5sZW5ndGg+PTQmJihuLmNvbG9ycz1hcmd1bWVudHNbM10pLHAocik/bi5zaG93SGlkZGVuPXI6ciYmdC5fZXh0ZW5kKG4sciksYihuLnNob3dIaWRkZW4pJiYobi5zaG93SGlkZGVuPSExKSxiKG4uZGVwdGgpJiYobi5kZXB0aD0yKSxiKG4uY29sb3JzKSYmKG4uY29sb3JzPSExKSxiKG4uY3VzdG9tSW5zcGVjdCkmJihuLmN1c3RvbUluc3BlY3Q9ITApLG4uY29sb3JzJiYobi5zdHlsaXplPWYpLHUobixlLG4uZGVwdGgpfWZ1bmN0aW9uIGYoZSx0KXt2YXIgcj1zLnN0eWxlc1t0XTtyZXR1cm4gcj9cIlx1MDAxYltcIitzLmNvbG9yc1tyXVswXStcIm1cIitlK1wiXHUwMDFiW1wiK3MuY29sb3JzW3JdWzFdK1wibVwiOmV9ZnVuY3Rpb24gbChlLHQpe3JldHVybiBlfWZ1bmN0aW9uIHUoZSxyLG4pe2lmKGUuY3VzdG9tSW5zcGVjdCYmciYmeChyLmluc3BlY3QpJiZyLmluc3BlY3QhPT10Lmluc3BlY3QmJighci5jb25zdHJ1Y3Rvcnx8ci5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPT1yKSl7dmFyIGk9ci5pbnNwZWN0KG4sZSk7cmV0dXJuIF8oaSl8fChpPXUoZSxpLG4pKSxpfXZhciBhPWZ1bmN0aW9uKGUsdCl7aWYoYih0KSlyZXR1cm4gZS5zdHlsaXplKFwidW5kZWZpbmVkXCIsXCJ1bmRlZmluZWRcIik7aWYoXyh0KSl7dmFyIHI9XCInXCIrSlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvXlwifFwiJC9nLFwiXCIpLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpK1wiJ1wiO3JldHVybiBlLnN0eWxpemUocixcInN0cmluZ1wiKX1pZihtKHQpKXJldHVybiBlLnN0eWxpemUoXCJcIit0LFwibnVtYmVyXCIpO2lmKHAodCkpcmV0dXJuIGUuc3R5bGl6ZShcIlwiK3QsXCJib29sZWFuXCIpO2lmKGcodCkpcmV0dXJuIGUuc3R5bGl6ZShcIm51bGxcIixcIm51bGxcIil9KGUscik7aWYoYSlyZXR1cm4gYTt2YXIgbz1PYmplY3Qua2V5cyhyKSxzPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxyKXt0W2VdPSEwfSksdH0obyk7aWYoZS5zaG93SGlkZGVuJiYobz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKSksRShyKSYmKG8uaW5kZXhPZihcIm1lc3NhZ2VcIik+PTB8fG8uaW5kZXhPZihcImRlc2NyaXB0aW9uXCIpPj0wKSlyZXR1cm4gaChyKTtpZigwPT09by5sZW5ndGgpe2lmKHgocikpe3ZhciBmPXIubmFtZT9cIjogXCIrci5uYW1lOlwiXCI7cmV0dXJuIGUuc3R5bGl6ZShcIltGdW5jdGlvblwiK2YrXCJdXCIsXCJzcGVjaWFsXCIpfWlmKHkocikpcmV0dXJuIGUuc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwociksXCJyZWdleHBcIik7aWYodyhyKSlyZXR1cm4gZS5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwociksXCJkYXRlXCIpO2lmKEUocikpcmV0dXJuIGgocil9dmFyIGwsdj1cIlwiLGs9ITEsUz1bXCJ7XCIsXCJ9XCJdOyhjKHIpJiYoaz0hMCxTPVtcIltcIixcIl1cIl0pLHgocikpJiYodj1cIiBbRnVuY3Rpb25cIisoci5uYW1lP1wiOiBcIityLm5hbWU6XCJcIikrXCJdXCIpO3JldHVybiB5KHIpJiYodj1cIiBcIitSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocikpLHcocikmJih2PVwiIFwiK0RhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwocikpLEUocikmJih2PVwiIFwiK2gocikpLDAhPT1vLmxlbmd0aHx8ayYmMCE9ci5sZW5ndGg/bjwwP3kocik/ZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSxcInJlZ2V4cFwiKTplLnN0eWxpemUoXCJbT2JqZWN0XVwiLFwic3BlY2lhbFwiKTooZS5zZWVuLnB1c2gociksbD1rP2Z1bmN0aW9uKGUsdCxyLG4saSl7Zm9yKHZhciBhPVtdLG89MCxzPXQubGVuZ3RoO288czsrK28pUCh0LFN0cmluZyhvKSk/YS5wdXNoKGQoZSx0LHIsbixTdHJpbmcobyksITApKTphLnB1c2goXCJcIik7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihpKXtpLm1hdGNoKC9eXFxkKyQvKXx8YS5wdXNoKGQoZSx0LHIsbixpLCEwKSl9KSxhfShlLHIsbixzLG8pOm8ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBkKGUscixuLHMsdCxrKX0pLGUuc2Vlbi5wb3AoKSxmdW5jdGlvbihlLHQscil7aWYoZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMCx0LmluZGV4T2YoXCJcXG5cIik+PTAmJjAsZSt0LnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLFwiXCIpLmxlbmd0aCsxfSwwKT42MClyZXR1cm4gclswXSsoXCJcIj09PXQ/XCJcIjp0K1wiXFxuIFwiKStcIiBcIitlLmpvaW4oXCIsXFxuICBcIikrXCIgXCIrclsxXTtyZXR1cm4gclswXSt0K1wiIFwiK2Uuam9pbihcIiwgXCIpK1wiIFwiK3JbMV19KGwsdixTKSk6U1swXSt2K1NbMV19ZnVuY3Rpb24gaChlKXtyZXR1cm5cIltcIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKStcIl1cIn1mdW5jdGlvbiBkKGUsdCxyLG4saSxhKXt2YXIgbyxzLGY7aWYoKGY9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGkpfHx7dmFsdWU6dFtpXX0pLmdldD9zPWYuc2V0P2Uuc3R5bGl6ZShcIltHZXR0ZXIvU2V0dGVyXVwiLFwic3BlY2lhbFwiKTplLnN0eWxpemUoXCJbR2V0dGVyXVwiLFwic3BlY2lhbFwiKTpmLnNldCYmKHM9ZS5zdHlsaXplKFwiW1NldHRlcl1cIixcInNwZWNpYWxcIikpLFAobixpKXx8KG89XCJbXCIraStcIl1cIiksc3x8KGUuc2Vlbi5pbmRleE9mKGYudmFsdWUpPDA/KHM9ZyhyKT91KGUsZi52YWx1ZSxudWxsKTp1KGUsZi52YWx1ZSxyLTEpKS5pbmRleE9mKFwiXFxuXCIpPi0xJiYocz1hP3Muc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiICBcIitlfSkuam9pbihcIlxcblwiKS5zdWJzdHIoMik6XCJcXG5cIitzLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5cIiAgIFwiK2V9KS5qb2luKFwiXFxuXCIpKTpzPWUuc3R5bGl6ZShcIltDaXJjdWxhcl1cIixcInNwZWNpYWxcIikpLGIobykpe2lmKGEmJmkubWF0Y2goL15cXGQrJC8pKXJldHVybiBzOyhvPUpTT04uc3RyaW5naWZ5KFwiXCIraSkpLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKT8obz1vLnN1YnN0cigxLG8ubGVuZ3RoLTIpLG89ZS5zdHlsaXplKG8sXCJuYW1lXCIpKToobz1vLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpLnJlcGxhY2UoLyheXCJ8XCIkKS9nLFwiJ1wiKSxvPWUuc3R5bGl6ZShvLFwic3RyaW5nXCIpKX1yZXR1cm4gbytcIjogXCIrc31mdW5jdGlvbiBjKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIG51bGw9PT1lfWZ1bmN0aW9uIG0oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gXyhlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX1mdW5jdGlvbiBiKGUpe3JldHVybiB2b2lkIDA9PT1lfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIHYoZSkmJlwiW29iamVjdCBSZWdFeHBdXCI9PT1rKGUpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIHcoZSl7cmV0dXJuIHYoZSkmJlwiW29iamVjdCBEYXRlXVwiPT09ayhlKX1mdW5jdGlvbiBFKGUpe3JldHVybiB2KGUpJiYoXCJbb2JqZWN0IEVycm9yXVwiPT09ayhlKXx8ZSBpbnN0YW5jZW9mIEVycm9yKX1mdW5jdGlvbiB4KGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9ZnVuY3Rpb24gayhlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIGU8MTA/XCIwXCIrZS50b1N0cmluZygxMCk6ZS50b1N0cmluZygxMCl9dC5kZWJ1Z2xvZz1mdW5jdGlvbihlKXtpZihiKGEpJiYoYT1uLmVudi5OT0RFX0RFQlVHfHxcIlwiKSxlPWUudG9VcHBlckNhc2UoKSwhb1tlXSlpZihuZXcgUmVnRXhwKFwiXFxcXGJcIitlK1wiXFxcXGJcIixcImlcIikudGVzdChhKSl7dmFyIHI9bi5waWQ7b1tlXT1mdW5jdGlvbigpe3ZhciBuPXQuZm9ybWF0LmFwcGx5KHQsYXJndW1lbnRzKTtjb25zb2xlLmVycm9yKFwiJXMgJWQ6ICVzXCIsZSxyLG4pfX1lbHNlIG9bZV09ZnVuY3Rpb24oKXt9O3JldHVybiBvW2VdfSx0Lmluc3BlY3Q9cyxzLmNvbG9ycz17Ym9sZDpbMSwyMl0saXRhbGljOlszLDIzXSx1bmRlcmxpbmU6WzQsMjRdLGludmVyc2U6WzcsMjddLHdoaXRlOlszNywzOV0sZ3JleTpbOTAsMzldLGJsYWNrOlszMCwzOV0sYmx1ZTpbMzQsMzldLGN5YW46WzM2LDM5XSxncmVlbjpbMzIsMzldLG1hZ2VudGE6WzM1LDM5XSxyZWQ6WzMxLDM5XSx5ZWxsb3c6WzMzLDM5XX0scy5zdHlsZXM9e3NwZWNpYWw6XCJjeWFuXCIsbnVtYmVyOlwieWVsbG93XCIsYm9vbGVhbjpcInllbGxvd1wiLHVuZGVmaW5lZDpcImdyZXlcIixudWxsOlwiYm9sZFwiLHN0cmluZzpcImdyZWVuXCIsZGF0ZTpcIm1hZ2VudGFcIixyZWdleHA6XCJyZWRcIn0sdC5pc0FycmF5PWMsdC5pc0Jvb2xlYW49cCx0LmlzTnVsbD1nLHQuaXNOdWxsT3JVbmRlZmluZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9LHQuaXNOdW1iZXI9bSx0LmlzU3RyaW5nPV8sdC5pc1N5bWJvbD1mdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZX0sdC5pc1VuZGVmaW5lZD1iLHQuaXNSZWdFeHA9eSx0LmlzT2JqZWN0PXYsdC5pc0RhdGU9dyx0LmlzRXJyb3I9RSx0LmlzRnVuY3Rpb249eCx0LmlzUHJpbWl0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fFwic3ltYm9sXCI9PXR5cGVvZiBlfHx2b2lkIDA9PT1lfSx0LmlzQnVmZmVyPXIoNTQpO3ZhciBBPVtcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl07ZnVuY3Rpb24gUChlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX10LmxvZz1mdW5jdGlvbigpe3ZhciBlLHI7Y29uc29sZS5sb2coXCIlcyAtICVzXCIsKGU9bmV3IERhdGUscj1bUyhlLmdldEhvdXJzKCkpLFMoZS5nZXRNaW51dGVzKCkpLFMoZS5nZXRTZWNvbmRzKCkpXS5qb2luKFwiOlwiKSxbZS5nZXREYXRlKCksQVtlLmdldE1vbnRoKCldLHJdLmpvaW4oXCIgXCIpKSx0LmZvcm1hdC5hcHBseSh0LGFyZ3VtZW50cykpfSx0LmluaGVyaXRzPXIoNTMpLHQuX2V4dGVuZD1mdW5jdGlvbihlLHQpe2lmKCF0fHwhdih0KSlyZXR1cm4gZTtmb3IodmFyIHI9T2JqZWN0LmtleXModCksbj1yLmxlbmd0aDtuLS07KWVbcltuXV09dFtyW25dXTtyZXR1cm4gZX19KS5jYWxsKHRoaXMscigwKSxyKDMpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXtcbi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbmZ1bmN0aW9uIG4oZSx0KXtpZihlPT09dClyZXR1cm4gMDtmb3IodmFyIHI9ZS5sZW5ndGgsbj10Lmxlbmd0aCxpPTAsYT1NYXRoLm1pbihyLG4pO2k8YTsrK2kpaWYoZVtpXSE9PXRbaV0pe3I9ZVtpXSxuPXRbaV07YnJlYWt9cmV0dXJuIHI8bj8tMTpuPHI/MTowfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHQuQnVmZmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LkJ1ZmZlci5pc0J1ZmZlcj90LkJ1ZmZlci5pc0J1ZmZlcihlKTohKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9dmFyIGE9cigyOSksbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLGY9XCJmb29cIj09PWZ1bmN0aW9uKCl7fS5uYW1lO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiB1KGUpe3JldHVybiFpKGUpJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5BcnJheUJ1ZmZlciYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcoZSk6ISFlJiYoZSBpbnN0YW5jZW9mIERhdGFWaWV3fHwhIShlLmJ1ZmZlciYmZS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpKSl9dmFyIGg9ZS5leHBvcnRzPV8sZD0vXFxzKmZ1bmN0aW9uXFxzKyhbXlxcKFxcc10qKVxccyovO2Z1bmN0aW9uIGMoZSl7aWYoYS5pc0Z1bmN0aW9uKGUpKXtpZihmKXJldHVybiBlLm5hbWU7dmFyIHQ9ZS50b1N0cmluZygpLm1hdGNoKGQpO3JldHVybiB0JiZ0WzFdfX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZS5sZW5ndGg8dD9lOmUuc2xpY2UoMCx0KTplfWZ1bmN0aW9uIGcoZSl7aWYoZnx8IWEuaXNGdW5jdGlvbihlKSlyZXR1cm4gYS5pbnNwZWN0KGUpO3ZhciB0PWMoZSk7cmV0dXJuXCJbRnVuY3Rpb25cIisodD9cIjogXCIrdDpcIlwiKStcIl1cIn1mdW5jdGlvbiBtKGUsdCxyLG4saSl7dGhyb3cgbmV3IGguQXNzZXJ0aW9uRXJyb3Ioe21lc3NhZ2U6cixhY3R1YWw6ZSxleHBlY3RlZDp0LG9wZXJhdG9yOm4sc3RhY2tTdGFydEZ1bmN0aW9uOml9KX1mdW5jdGlvbiBfKGUsdCl7ZXx8bShlLCEwLHQsXCI9PVwiLGgub2spfWZ1bmN0aW9uIGIoZSx0LHIsbyl7aWYoZT09PXQpcmV0dXJuITA7aWYoaShlKSYmaSh0KSlyZXR1cm4gMD09PW4oZSx0KTtpZihhLmlzRGF0ZShlKSYmYS5pc0RhdGUodCkpcmV0dXJuIGUuZ2V0VGltZSgpPT09dC5nZXRUaW1lKCk7aWYoYS5pc1JlZ0V4cChlKSYmYS5pc1JlZ0V4cCh0KSlyZXR1cm4gZS5zb3VyY2U9PT10LnNvdXJjZSYmZS5nbG9iYWw9PT10Lmdsb2JhbCYmZS5tdWx0aWxpbmU9PT10Lm11bHRpbGluZSYmZS5sYXN0SW5kZXg9PT10Lmxhc3RJbmRleCYmZS5pZ25vcmVDYXNlPT09dC5pZ25vcmVDYXNlO2lmKG51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZXx8bnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0KXtpZih1KGUpJiZ1KHQpJiZsKGUpPT09bCh0KSYmIShlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHxlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSlyZXR1cm4gMD09PW4obmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpLG5ldyBVaW50OEFycmF5KHQuYnVmZmVyKSk7aWYoaShlKSE9PWkodCkpcmV0dXJuITE7dmFyIGY9KG89b3x8e2FjdHVhbDpbXSxleHBlY3RlZDpbXX0pLmFjdHVhbC5pbmRleE9mKGUpO3JldHVybi0xIT09ZiYmZj09PW8uZXhwZWN0ZWQuaW5kZXhPZih0KXx8KG8uYWN0dWFsLnB1c2goZSksby5leHBlY3RlZC5wdXNoKHQpLGZ1bmN0aW9uKGUsdCxyLG4pe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lfHxudWxsPT09dHx8dm9pZCAwPT09dClyZXR1cm4hMTtpZihhLmlzUHJpbWl0aXZlKGUpfHxhLmlzUHJpbWl0aXZlKHQpKXJldHVybiBlPT09dDtpZihyJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpcmV0dXJuITE7dmFyIGk9eShlKSxvPXkodCk7aWYoaSYmIW98fCFpJiZvKXJldHVybiExO2lmKGkpcmV0dXJuIGU9cy5jYWxsKGUpLHQ9cy5jYWxsKHQpLGIoZSx0LHIpO3ZhciBmLGwsdT1FKGUpLGg9RSh0KTtpZih1Lmxlbmd0aCE9PWgubGVuZ3RoKXJldHVybiExO2Zvcih1LnNvcnQoKSxoLnNvcnQoKSxsPXUubGVuZ3RoLTE7bD49MDtsLS0paWYodVtsXSE9PWhbbF0pcmV0dXJuITE7Zm9yKGw9dS5sZW5ndGgtMTtsPj0wO2wtLSlpZihmPXVbbF0sIWIoZVtmXSx0W2ZdLHIsbikpcmV0dXJuITE7cmV0dXJuITB9KGUsdCxyLG8pKX1yZXR1cm4gcj9lPT09dDplPT10fWZ1bmN0aW9uIHkoZSl7cmV0dXJuXCJbb2JqZWN0IEFyZ3VtZW50c11cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIHYoZSx0KXtpZighZXx8IXQpcmV0dXJuITE7aWYoXCJbb2JqZWN0IFJlZ0V4cF1cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiB0LnRlc3QoZSk7dHJ5e2lmKGUgaW5zdGFuY2VvZiB0KXJldHVybiEwfWNhdGNoKGUpe31yZXR1cm4hRXJyb3IuaXNQcm90b3R5cGVPZih0KSYmITA9PT10LmNhbGwoe30sZSl9ZnVuY3Rpb24gdyhlLHQscixuKXt2YXIgaTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYmxvY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcInN0cmluZ1wiPT10eXBlb2YgciYmKG49cixyPW51bGwpLGk9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e2UoKX1jYXRjaChlKXt0PWV9cmV0dXJuIHR9KHQpLG49KHImJnIubmFtZT9cIiAoXCIrci5uYW1lK1wiKS5cIjpcIi5cIikrKG4/XCIgXCIrbjpcIi5cIiksZSYmIWkmJm0oaSxyLFwiTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb25cIituKTt2YXIgbz1cInN0cmluZ1wiPT10eXBlb2YgbixzPSFlJiZhLmlzRXJyb3IoaSksZj0hZSYmaSYmIXI7aWYoKHMmJm8mJnYoaSxyKXx8ZikmJm0oaSxyLFwiR290IHVud2FudGVkIGV4Y2VwdGlvblwiK24pLGUmJmkmJnImJiF2KGkscil8fCFlJiZpKXRocm93IGl9aC5Bc3NlcnRpb25FcnJvcj1mdW5jdGlvbihlKXt2YXIgdDt0aGlzLm5hbWU9XCJBc3NlcnRpb25FcnJvclwiLHRoaXMuYWN0dWFsPWUuYWN0dWFsLHRoaXMuZXhwZWN0ZWQ9ZS5leHBlY3RlZCx0aGlzLm9wZXJhdG9yPWUub3BlcmF0b3IsZS5tZXNzYWdlPyh0aGlzLm1lc3NhZ2U9ZS5tZXNzYWdlLHRoaXMuZ2VuZXJhdGVkTWVzc2FnZT0hMSk6KHRoaXMubWVzc2FnZT1wKGcoKHQ9dGhpcykuYWN0dWFsKSwxMjgpK1wiIFwiK3Qub3BlcmF0b3IrXCIgXCIrcChnKHQuZXhwZWN0ZWQpLDEyOCksdGhpcy5nZW5lcmF0ZWRNZXNzYWdlPSEwKTt2YXIgcj1lLnN0YWNrU3RhcnRGdW5jdGlvbnx8bTtpZihFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHIpO2Vsc2V7dmFyIG49bmV3IEVycm9yO2lmKG4uc3RhY2spe3ZhciBpPW4uc3RhY2ssYT1jKHIpLG89aS5pbmRleE9mKFwiXFxuXCIrYSk7aWYobz49MCl7dmFyIHM9aS5pbmRleE9mKFwiXFxuXCIsbysxKTtpPWkuc3Vic3RyaW5nKHMrMSl9dGhpcy5zdGFjaz1pfX19LGEuaW5oZXJpdHMoaC5Bc3NlcnRpb25FcnJvcixFcnJvciksaC5mYWlsPW0saC5vaz1fLGguZXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2UhPXQmJm0oZSx0LHIsXCI9PVwiLGguZXF1YWwpfSxoLm5vdEVxdWFsPWZ1bmN0aW9uKGUsdCxyKXtlPT10JiZtKGUsdCxyLFwiIT1cIixoLm5vdEVxdWFsKX0saC5kZWVwRXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2IoZSx0LCExKXx8bShlLHQscixcImRlZXBFcXVhbFwiLGguZGVlcEVxdWFsKX0saC5kZWVwU3RyaWN0RXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2IoZSx0LCEwKXx8bShlLHQscixcImRlZXBTdHJpY3RFcXVhbFwiLGguZGVlcFN0cmljdEVxdWFsKX0saC5ub3REZWVwRXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2IoZSx0LCExKSYmbShlLHQscixcIm5vdERlZXBFcXVhbFwiLGgubm90RGVlcEVxdWFsKX0saC5ub3REZWVwU3RyaWN0RXF1YWw9ZnVuY3Rpb24gZSh0LHIsbil7Yih0LHIsITApJiZtKHQscixuLFwibm90RGVlcFN0cmljdEVxdWFsXCIsZSl9LGguc3RyaWN0RXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2UhPT10JiZtKGUsdCxyLFwiPT09XCIsaC5zdHJpY3RFcXVhbCl9LGgubm90U3RyaWN0RXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2U9PT10JiZtKGUsdCxyLFwiIT09XCIsaC5ub3RTdHJpY3RFcXVhbCl9LGgudGhyb3dzPWZ1bmN0aW9uKGUsdCxyKXt3KCEwLGUsdCxyKX0saC5kb2VzTm90VGhyb3c9ZnVuY3Rpb24oZSx0LHIpe3coITEsZSx0LHIpfSxoLmlmRXJyb3I9ZnVuY3Rpb24oZSl7aWYoZSl0aHJvdyBlfTt2YXIgRT1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpby5jYWxsKGUscikmJnQucHVzaChyKTtyZXR1cm4gdH19KS5jYWxsKHRoaXMscigwKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9YTt2YXIgbj1yKDIpLGk9cig2KTtmdW5jdGlvbiBhKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGEpKXJldHVybiBuZXcgYShlKTtuLmNhbGwodGhpcyxlKSx0aGlzLl90cmFuc2Zvcm1TdGF0ZT17YWZ0ZXJUcmFuc2Zvcm06ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl90cmFuc2Zvcm1TdGF0ZTtyLnRyYW5zZm9ybWluZz0hMTt2YXIgbj1yLndyaXRlY2I7aWYoIW4pcmV0dXJuIHRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwid3JpdGUgY2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzXCIpKTtyLndyaXRlY2h1bms9bnVsbCxyLndyaXRlY2I9bnVsbCxudWxsIT10JiZ0aGlzLnB1c2godCksbihlKTt2YXIgaT10aGlzLl9yZWFkYWJsZVN0YXRlO2kucmVhZGluZz0hMSwoaS5uZWVkUmVhZGFibGV8fGkubGVuZ3RoPGkuaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQoaS5oaWdoV2F0ZXJNYXJrKX0uYmluZCh0aGlzKSxuZWVkVHJhbnNmb3JtOiExLHRyYW5zZm9ybWluZzohMSx3cml0ZWNiOm51bGwsd3JpdGVjaHVuazpudWxsLHdyaXRlZW5jb2Rpbmc6bnVsbH0sdGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGU9ITAsdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jPSExLGUmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRyYW5zZm9ybSYmKHRoaXMuX3RyYW5zZm9ybT1lLnRyYW5zZm9ybSksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5mbHVzaCYmKHRoaXMuX2ZsdXNoPWUuZmx1c2gpKSx0aGlzLm9uKFwicHJlZmluaXNoXCIsbyl9ZnVuY3Rpb24gbygpe3ZhciBlPXRoaXM7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZmx1c2g/dGhpcy5fZmx1c2goZnVuY3Rpb24odCxyKXtzKGUsdCxyKX0pOnModGhpcyxudWxsLG51bGwpfWZ1bmN0aW9uIHMoZSx0LHIpe2lmKHQpcmV0dXJuIGUuZW1pdChcImVycm9yXCIsdCk7aWYobnVsbCE9ciYmZS5wdXNoKHIpLGUuX3dyaXRhYmxlU3RhdGUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiB3cy5sZW5ndGggIT0gMFwiKTtpZihlLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZ1wiKTtyZXR1cm4gZS5wdXNoKG51bGwpfWkuaW5oZXJpdHM9cig1KSxpLmluaGVyaXRzKGEsbiksYS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtPSExLG4ucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLGUsdCl9LGEucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oZSx0LHIpe3Rocm93IG5ldyBFcnJvcihcIl90cmFuc2Zvcm0oKSBpcyBub3QgaW1wbGVtZW50ZWRcIil9LGEucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fdHJhbnNmb3JtU3RhdGU7aWYobi53cml0ZWNiPXIsbi53cml0ZWNodW5rPWUsbi53cml0ZWVuY29kaW5nPXQsIW4udHJhbnNmb3JtaW5nKXt2YXIgaT10aGlzLl9yZWFkYWJsZVN0YXRlOyhuLm5lZWRUcmFuc2Zvcm18fGkubmVlZFJlYWRhYmxlfHxpLmxlbmd0aDxpLmhpZ2hXYXRlck1hcmspJiZ0aGlzLl9yZWFkKGkuaGlnaFdhdGVyTWFyayl9fSxhLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl90cmFuc2Zvcm1TdGF0ZTtudWxsIT09dC53cml0ZWNodW5rJiZ0LndyaXRlY2ImJiF0LnRyYW5zZm9ybWluZz8odC50cmFuc2Zvcm1pbmc9ITAsdGhpcy5fdHJhbnNmb3JtKHQud3JpdGVjaHVuayx0LndyaXRlZW5jb2RpbmcsdC5hZnRlclRyYW5zZm9ybSkpOnQubmVlZFRyYW5zZm9ybT0hMH0sYS5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO24ucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcyxlLGZ1bmN0aW9uKGUpe3QoZSksci5lbWl0KFwiY2xvc2VcIil9KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDkpLkJ1ZmZlcixpPW4uaXNFbmNvZGluZ3x8ZnVuY3Rpb24oZSl7c3dpdGNoKChlPVwiXCIrZSkmJmUudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpjYXNlXCJyYXdcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX07ZnVuY3Rpb24gYShlKXt2YXIgdDtzd2l0Y2godGhpcy5lbmNvZGluZz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZighZSlyZXR1cm5cInV0ZjhcIjtmb3IodmFyIHQ7Oylzd2l0Y2goZSl7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuXCJ1dGY4XCI7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuXCJ1dGYxNmxlXCI7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuXCJsYXRpbjFcIjtjYXNlXCJiYXNlNjRcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImhleFwiOnJldHVybiBlO2RlZmF1bHQ6aWYodClyZXR1cm47ZT0oXCJcIitlKS50b0xvd2VyQ2FzZSgpLHQ9ITB9fShlKTtpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmKG4uaXNFbmNvZGluZz09PWl8fCFpKGUpKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlKTtyZXR1cm4gdHx8ZX0oZSksdGhpcy5lbmNvZGluZyl7Y2FzZVwidXRmMTZsZVwiOnRoaXMudGV4dD1mLHRoaXMuZW5kPWwsdD00O2JyZWFrO2Nhc2VcInV0ZjhcIjp0aGlzLmZpbGxMYXN0PXMsdD00O2JyZWFrO2Nhc2VcImJhc2U2NFwiOnRoaXMudGV4dD11LHRoaXMuZW5kPWgsdD0zO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMud3JpdGU9ZCx2b2lkKHRoaXMuZW5kPWMpfXRoaXMubGFzdE5lZWQ9MCx0aGlzLmxhc3RUb3RhbD0wLHRoaXMubGFzdENoYXI9bi5hbGxvY1Vuc2FmZSh0KX1mdW5jdGlvbiBvKGUpe3JldHVybiBlPD0xMjc/MDplPj41PT02PzI6ZT4+ND09MTQ/MzplPj4zPT0zMD80Oi0xfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCxyPWZ1bmN0aW9uKGUsdCxyKXtpZigxMjghPSgxOTImdFswXSkpcmV0dXJuIGUubGFzdE5lZWQ9MCxcIu+/vVwiLnJlcGVhdChyKTtpZihlLmxhc3ROZWVkPjEmJnQubGVuZ3RoPjEpe2lmKDEyOCE9KDE5MiZ0WzFdKSlyZXR1cm4gZS5sYXN0TmVlZD0xLFwi77+9XCIucmVwZWF0KHIrMSk7aWYoZS5sYXN0TmVlZD4yJiZ0Lmxlbmd0aD4yJiYxMjghPSgxOTImdFsyXSkpcmV0dXJuIGUubGFzdE5lZWQ9MixcIu+/vVwiLnJlcGVhdChyKzIpfX0odGhpcyxlLHQpO3JldHVybiB2b2lkIDAhPT1yP3I6dGhpcy5sYXN0TmVlZDw9ZS5sZW5ndGg/KGUuY29weSh0aGlzLmxhc3RDaGFyLHQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCkpOihlLmNvcHkodGhpcy5sYXN0Q2hhcix0LDAsZS5sZW5ndGgpLHZvaWQodGhpcy5sYXN0TmVlZC09ZS5sZW5ndGgpKX1mdW5jdGlvbiBmKGUsdCl7aWYoKGUubGVuZ3RoLXQpJTI9PTApe3ZhciByPWUudG9TdHJpbmcoXCJ1dGYxNmxlXCIsdCk7aWYocil7dmFyIG49ci5jaGFyQ29kZUF0KHIubGVuZ3RoLTEpO2lmKG4+PTU1Mjk2JiZuPD01NjMxOSlyZXR1cm4gdGhpcy5sYXN0TmVlZD0yLHRoaXMubGFzdFRvdGFsPTQsdGhpcy5sYXN0Q2hhclswXT1lW2UubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09ZVtlLmxlbmd0aC0xXSxyLnNsaWNlKDAsLTEpfXJldHVybiByfXJldHVybiB0aGlzLmxhc3ROZWVkPTEsdGhpcy5sYXN0VG90YWw9Mix0aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMV0sZS50b1N0cmluZyhcInV0ZjE2bGVcIix0LGUubGVuZ3RoLTEpfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9ZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKTpcIlwiO2lmKHRoaXMubGFzdE5lZWQpe3ZhciByPXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQ7cmV0dXJuIHQrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcInV0ZjE2bGVcIiwwLHIpfXJldHVybiB0fWZ1bmN0aW9uIHUoZSx0KXt2YXIgcj0oZS5sZW5ndGgtdCklMztyZXR1cm4gMD09PXI/ZS50b1N0cmluZyhcImJhc2U2NFwiLHQpOih0aGlzLmxhc3ROZWVkPTMtcix0aGlzLmxhc3RUb3RhbD0zLDE9PT1yP3RoaXMubGFzdENoYXJbMF09ZVtlLmxlbmd0aC0xXToodGhpcy5sYXN0Q2hhclswXT1lW2UubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09ZVtlLmxlbmd0aC0xXSksZS50b1N0cmluZyhcImJhc2U2NFwiLHQsZS5sZW5ndGgtcikpfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP3QrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcImJhc2U2NFwiLDAsMy10aGlzLmxhc3ROZWVkKTp0fWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGUudG9TdHJpbmcodGhpcy5lbmNvZGluZyl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKTpcIlwifXQuU3RyaW5nRGVjb2Rlcj1hLGEucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5cIlwiO3ZhciB0LHI7aWYodGhpcy5sYXN0TmVlZCl7aWYodm9pZCAwPT09KHQ9dGhpcy5maWxsTGFzdChlKSkpcmV0dXJuXCJcIjtyPXRoaXMubGFzdE5lZWQsdGhpcy5sYXN0TmVlZD0wfWVsc2Ugcj0wO3JldHVybiByPGUubGVuZ3RoP3Q/dCt0aGlzLnRleHQoZSxyKTp0aGlzLnRleHQoZSxyKTp0fHxcIlwifSxhLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP3QrXCLvv71cIi5yZXBlYXQodGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCk6dH0sYS5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihlLHQpe3ZhciByPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10Lmxlbmd0aC0xO2lmKG48cilyZXR1cm4gMDt2YXIgaT1vKHRbbl0pO2lmKGk+PTApcmV0dXJuIGk+MCYmKGUubGFzdE5lZWQ9aS0xKSxpO2lmKC0tbjxyKXJldHVybiAwO2lmKChpPW8odFtuXSkpPj0wKXJldHVybiBpPjAmJihlLmxhc3ROZWVkPWktMiksaTtpZigtLW48cilyZXR1cm4gMDtpZigoaT1vKHRbbl0pKT49MClyZXR1cm4gaT4wJiYoMj09PWk/aT0wOmUubGFzdE5lZWQ9aS0zKSxpO3JldHVybiAwfSh0aGlzLGUsdCk7aWYoIXRoaXMubGFzdE5lZWQpcmV0dXJuIGUudG9TdHJpbmcoXCJ1dGY4XCIsdCk7dGhpcy5sYXN0VG90YWw9cjt2YXIgbj1lLmxlbmd0aC0oci10aGlzLmxhc3ROZWVkKTtyZXR1cm4gZS5jb3B5KHRoaXMubGFzdENoYXIsMCxuKSxlLnRvU3RyaW5nKFwidXRmOFwiLHQsbil9LGEucHJvdG90eXBlLmZpbGxMYXN0PWZ1bmN0aW9uKGUpe2lmKHRoaXMubGFzdE5lZWQ8PWUubGVuZ3RoKXJldHVybiBlLmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpO2UuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCxlLmxlbmd0aCksdGhpcy5sYXN0TmVlZC09ZS5sZW5ndGh9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxMCk7ZnVuY3Rpb24gaShlLHQpe2UuZW1pdChcImVycm9yXCIsdCl9ZS5leHBvcnRzPXtkZXN0cm95OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxhPXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkLG89dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7cmV0dXJuIGF8fG8/KHQ/dChlKTohZXx8dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWR8fG4ubmV4dFRpY2soaSx0aGlzLGUpLHRoaXMpOih0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITApLHRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fZGVzdHJveShlfHxudWxsLGZ1bmN0aW9uKGUpeyF0JiZlPyhuLm5leHRUaWNrKGkscixlKSxyLl93cml0YWJsZVN0YXRlJiYoci5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITApKTp0JiZ0KGUpfSksdGhpcyl9LHVuZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmc9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITEpLHRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITEpfX19LGZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigyMCkuRXZlbnRFbWl0dGVyfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQsbil7dmFyIGk9cigxMCk7ZS5leHBvcnRzPXk7dmFyIGEsbz1yKDM4KTt5LlJlYWRhYmxlU3RhdGU9YjtyKDIwKS5FdmVudEVtaXR0ZXI7dmFyIHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5saXN0ZW5lcnModCkubGVuZ3RofSxmPXIoMzQpLGw9cig5KS5CdWZmZXIsdT10LlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fTt2YXIgaD1yKDYpO2guaW5oZXJpdHM9cig1KTt2YXIgZD1yKDY2KSxjPXZvaWQgMDtjPWQmJmQuZGVidWdsb2c/ZC5kZWJ1Z2xvZyhcInN0cmVhbVwiKTpmdW5jdGlvbigpe307dmFyIHAsZz1yKDY1KSxtPXIoMzMpO2guaW5oZXJpdHMoeSxmKTt2YXIgXz1bXCJlcnJvclwiLFwiY2xvc2VcIixcImRlc3Ryb3lcIixcInBhdXNlXCIsXCJyZXN1bWVcIl07ZnVuY3Rpb24gYihlLHQpe2E9YXx8cigyKSxlPWV8fHt9O3ZhciBuPXQgaW5zdGFuY2VvZiBhO3RoaXMub2JqZWN0TW9kZT0hIWUub2JqZWN0TW9kZSxuJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISFlLnJlYWRhYmxlT2JqZWN0TW9kZSk7dmFyIGk9ZS5oaWdoV2F0ZXJNYXJrLG89ZS5yZWFkYWJsZUhpZ2hXYXRlck1hcmsscz10aGlzLm9iamVjdE1vZGU/MTY6MTYzODQ7dGhpcy5oaWdoV2F0ZXJNYXJrPWl8fDA9PT1pP2k6biYmKG98fDA9PT1vKT9vOnMsdGhpcy5oaWdoV2F0ZXJNYXJrPU1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKSx0aGlzLmJ1ZmZlcj1uZXcgZyx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9bnVsbCx0aGlzLnBpcGVzQ291bnQ9MCx0aGlzLmZsb3dpbmc9bnVsbCx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5zeW5jPSEwLHRoaXMubmVlZFJlYWRhYmxlPSExLHRoaXMuZW1pdHRlZFJlYWRhYmxlPSExLHRoaXMucmVhZGFibGVMaXN0ZW5pbmc9ITEsdGhpcy5yZXN1bWVTY2hlZHVsZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9ZS5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMuYXdhaXREcmFpbj0wLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLGUuZW5jb2RpbmcmJihwfHwocD1yKDMyKS5TdHJpbmdEZWNvZGVyKSx0aGlzLmRlY29kZXI9bmV3IHAoZS5lbmNvZGluZyksdGhpcy5lbmNvZGluZz1lLmVuY29kaW5nKX1mdW5jdGlvbiB5KGUpe2lmKGE9YXx8cigyKSwhKHRoaXMgaW5zdGFuY2VvZiB5KSlyZXR1cm4gbmV3IHkoZSk7dGhpcy5fcmVhZGFibGVTdGF0ZT1uZXcgYihlLHRoaXMpLHRoaXMucmVhZGFibGU9ITAsZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVhZCYmKHRoaXMuX3JlYWQ9ZS5yZWFkKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmRlc3Ryb3kmJih0aGlzLl9kZXN0cm95PWUuZGVzdHJveSkpLGYuY2FsbCh0aGlzKX1mdW5jdGlvbiB2KGUsdCxyLG4saSl7dmFyIGEsbz1lLl9yZWFkYWJsZVN0YXRlO251bGw9PT10PyhvLnJlYWRpbmc9ITEsZnVuY3Rpb24oZSx0KXtpZih0LmVuZGVkKXJldHVybjtpZih0LmRlY29kZXIpe3ZhciByPXQuZGVjb2Rlci5lbmQoKTtyJiZyLmxlbmd0aCYmKHQuYnVmZmVyLnB1c2gociksdC5sZW5ndGgrPXQub2JqZWN0TW9kZT8xOnIubGVuZ3RoKX10LmVuZGVkPSEwLGsoZSl9KGUsbykpOihpfHwoYT1mdW5jdGlvbihlLHQpe3ZhciByO249dCxsLmlzQnVmZmVyKG4pfHxuIGluc3RhbmNlb2YgdXx8XCJzdHJpbmdcIj09dHlwZW9mIHR8fHZvaWQgMD09PXR8fGUub2JqZWN0TW9kZXx8KHI9bmV3IFR5cGVFcnJvcihcIkludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmtcIikpO3ZhciBuO3JldHVybiByfShvLHQpKSxhP2UuZW1pdChcImVycm9yXCIsYSk6by5vYmplY3RNb2RlfHx0JiZ0Lmxlbmd0aD4wPyhcInN0cmluZ1wiPT10eXBlb2YgdHx8by5vYmplY3RNb2RlfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1sLnByb3RvdHlwZXx8KHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGwuZnJvbShlKX0odCkpLG4/by5lbmRFbWl0dGVkP2UuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnRcIikpOncoZSxvLHQsITApOm8uZW5kZWQ/ZS5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRlwiKSk6KG8ucmVhZGluZz0hMSxvLmRlY29kZXImJiFyPyh0PW8uZGVjb2Rlci53cml0ZSh0KSxvLm9iamVjdE1vZGV8fDAhPT10Lmxlbmd0aD93KGUsbyx0LCExKTpBKGUsbykpOncoZSxvLHQsITEpKSk6bnx8KG8ucmVhZGluZz0hMSkpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hZS5lbmRlZCYmKGUubmVlZFJlYWRhYmxlfHxlLmxlbmd0aDxlLmhpZ2hXYXRlck1hcmt8fDA9PT1lLmxlbmd0aCl9KG8pfWZ1bmN0aW9uIHcoZSx0LHIsbil7dC5mbG93aW5nJiYwPT09dC5sZW5ndGgmJiF0LnN5bmM/KGUuZW1pdChcImRhdGFcIixyKSxlLnJlYWQoMCkpOih0Lmxlbmd0aCs9dC5vYmplY3RNb2RlPzE6ci5sZW5ndGgsbj90LmJ1ZmZlci51bnNoaWZ0KHIpOnQuYnVmZmVyLnB1c2gociksdC5uZWVkUmVhZGFibGUmJmsoZSkpLEEoZSx0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoeS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPWUpfX0pLHkucHJvdG90eXBlLmRlc3Ryb3k9bS5kZXN0cm95LHkucHJvdG90eXBlLl91bmRlc3Ryb3k9bS51bmRlc3Ryb3kseS5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXt0aGlzLnB1c2gobnVsbCksdChlKX0seS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gbi5vYmplY3RNb2RlP3I9ITA6XCJzdHJpbmdcIj09dHlwZW9mIGUmJigodD10fHxuLmRlZmF1bHRFbmNvZGluZykhPT1uLmVuY29kaW5nJiYoZT1sLmZyb20oZSx0KSx0PVwiXCIpLHI9ITApLHYodGhpcyxlLHQsITEscil9LHkucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHYodGhpcyxlLG51bGwsITAsITEpfSx5LnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiExPT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nfSx5LnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gcHx8KHA9cigzMikuU3RyaW5nRGVjb2RlciksdGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPW5ldyBwKGUpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9ZSx0aGlzfTt2YXIgRT04Mzg4NjA4O2Z1bmN0aW9uIHgoZSx0KXtyZXR1cm4gZTw9MHx8MD09PXQubGVuZ3RoJiZ0LmVuZGVkPzA6dC5vYmplY3RNb2RlPzE6ZSE9ZT90LmZsb3dpbmcmJnQubGVuZ3RoP3QuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg6dC5sZW5ndGg6KGU+dC5oaWdoV2F0ZXJNYXJrJiYodC5oaWdoV2F0ZXJNYXJrPWZ1bmN0aW9uKGUpe3JldHVybiBlPj1FP2U9RTooZS0tLGV8PWU+Pj4xLGV8PWU+Pj4yLGV8PWU+Pj40LGV8PWU+Pj44LGV8PWU+Pj4xNixlKyspLGV9KGUpKSxlPD10Lmxlbmd0aD9lOnQuZW5kZWQ/dC5sZW5ndGg6KHQubmVlZFJlYWRhYmxlPSEwLDApKX1mdW5jdGlvbiBrKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7dC5uZWVkUmVhZGFibGU9ITEsdC5lbWl0dGVkUmVhZGFibGV8fChjKFwiZW1pdFJlYWRhYmxlXCIsdC5mbG93aW5nKSx0LmVtaXR0ZWRSZWFkYWJsZT0hMCx0LnN5bmM/aS5uZXh0VGljayhTLGUpOlMoZSkpfWZ1bmN0aW9uIFMoZSl7YyhcImVtaXQgcmVhZGFibGVcIiksZS5lbWl0KFwicmVhZGFibGVcIiksUihlKX1mdW5jdGlvbiBBKGUsdCl7dC5yZWFkaW5nTW9yZXx8KHQucmVhZGluZ01vcmU9ITAsaS5uZXh0VGljayhQLGUsdCkpfWZ1bmN0aW9uIFAoZSx0KXtmb3IodmFyIHI9dC5sZW5ndGg7IXQucmVhZGluZyYmIXQuZmxvd2luZyYmIXQuZW5kZWQmJnQubGVuZ3RoPHQuaGlnaFdhdGVyTWFyayYmKGMoXCJtYXliZVJlYWRNb3JlIHJlYWQgMFwiKSxlLnJlYWQoMCksciE9PXQubGVuZ3RoKTspcj10Lmxlbmd0aDt0LnJlYWRpbmdNb3JlPSExfWZ1bmN0aW9uIE8oZSl7YyhcInJlYWRhYmxlIG5leHR0aWNrIHJlYWQgMFwiKSxlLnJlYWQoMCl9ZnVuY3Rpb24gVChlLHQpe3QucmVhZGluZ3x8KGMoXCJyZXN1bWUgcmVhZCAwXCIpLGUucmVhZCgwKSksdC5yZXN1bWVTY2hlZHVsZWQ9ITEsdC5hd2FpdERyYWluPTAsZS5lbWl0KFwicmVzdW1lXCIpLFIoZSksdC5mbG93aW5nJiYhdC5yZWFkaW5nJiZlLnJlYWQoMCl9ZnVuY3Rpb24gUihlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO2ZvcihjKFwiZmxvd1wiLHQuZmxvd2luZyk7dC5mbG93aW5nJiZudWxsIT09ZS5yZWFkKCk7KTt9ZnVuY3Rpb24gSShlLHQpe3JldHVybiAwPT09dC5sZW5ndGg/bnVsbDoodC5vYmplY3RNb2RlP3I9dC5idWZmZXIuc2hpZnQoKTohZXx8ZT49dC5sZW5ndGg/KHI9dC5kZWNvZGVyP3QuYnVmZmVyLmpvaW4oXCJcIik6MT09PXQuYnVmZmVyLmxlbmd0aD90LmJ1ZmZlci5oZWFkLmRhdGE6dC5idWZmZXIuY29uY2F0KHQubGVuZ3RoKSx0LmJ1ZmZlci5jbGVhcigpKTpyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtlPHQuaGVhZC5kYXRhLmxlbmd0aD8obj10LmhlYWQuZGF0YS5zbGljZSgwLGUpLHQuaGVhZC5kYXRhPXQuaGVhZC5kYXRhLnNsaWNlKGUpKTpuPWU9PT10LmhlYWQuZGF0YS5sZW5ndGg/dC5zaGlmdCgpOnI/ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmhlYWQsbj0xLGk9ci5kYXRhO2UtPWkubGVuZ3RoO2Zvcig7cj1yLm5leHQ7KXt2YXIgYT1yLmRhdGEsbz1lPmEubGVuZ3RoP2EubGVuZ3RoOmU7aWYobz09PWEubGVuZ3RoP2krPWE6aSs9YS5zbGljZSgwLGUpLDA9PT0oZS09bykpe289PT1hLmxlbmd0aD8oKytuLHIubmV4dD90LmhlYWQ9ci5uZXh0OnQuaGVhZD10LnRhaWw9bnVsbCk6KHQuaGVhZD1yLHIuZGF0YT1hLnNsaWNlKG8pKTticmVha30rK259cmV0dXJuIHQubGVuZ3RoLT1uLGl9KGUsdCk6ZnVuY3Rpb24oZSx0KXt2YXIgcj1sLmFsbG9jVW5zYWZlKGUpLG49dC5oZWFkLGk9MTtuLmRhdGEuY29weShyKSxlLT1uLmRhdGEubGVuZ3RoO2Zvcig7bj1uLm5leHQ7KXt2YXIgYT1uLmRhdGEsbz1lPmEubGVuZ3RoP2EubGVuZ3RoOmU7aWYoYS5jb3B5KHIsci5sZW5ndGgtZSwwLG8pLDA9PT0oZS09bykpe289PT1hLmxlbmd0aD8oKytpLG4ubmV4dD90LmhlYWQ9bi5uZXh0OnQuaGVhZD10LnRhaWw9bnVsbCk6KHQuaGVhZD1uLG4uZGF0YT1hLnNsaWNlKG8pKTticmVha30rK2l9cmV0dXJuIHQubGVuZ3RoLT1pLHJ9KGUsdCk7cmV0dXJuIG59KGUsdC5idWZmZXIsdC5kZWNvZGVyKSxyKTt2YXIgcn1mdW5jdGlvbiBEKGUpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7aWYodC5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoJ1wiZW5kUmVhZGFibGUoKVwiIGNhbGxlZCBvbiBub24tZW1wdHkgc3RyZWFtJyk7dC5lbmRFbWl0dGVkfHwodC5lbmRlZD0hMCxpLm5leHRUaWNrKEwsdCxlKSl9ZnVuY3Rpb24gTChlLHQpe2UuZW5kRW1pdHRlZHx8MCE9PWUubGVuZ3RofHwoZS5lbmRFbWl0dGVkPSEwLHQucmVhZGFibGU9ITEsdC5lbWl0KFwiZW5kXCIpKX1mdW5jdGlvbiBGKGUsdCl7Zm9yKHZhciByPTAsbj1lLmxlbmd0aDtyPG47cisrKWlmKGVbcl09PT10KXJldHVybiByO3JldHVybi0xfXkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7YyhcInJlYWRcIixlKSxlPXBhcnNlSW50KGUsMTApO3ZhciB0PXRoaXMuX3JlYWRhYmxlU3RhdGUscj1lO2lmKDAhPT1lJiYodC5lbWl0dGVkUmVhZGFibGU9ITEpLDA9PT1lJiZ0Lm5lZWRSZWFkYWJsZSYmKHQubGVuZ3RoPj10LmhpZ2hXYXRlck1hcmt8fHQuZW5kZWQpKXJldHVybiBjKFwicmVhZDogZW1pdFJlYWRhYmxlXCIsdC5sZW5ndGgsdC5lbmRlZCksMD09PXQubGVuZ3RoJiZ0LmVuZGVkP0QodGhpcyk6ayh0aGlzKSxudWxsO2lmKDA9PT0oZT14KGUsdCkpJiZ0LmVuZGVkKXJldHVybiAwPT09dC5sZW5ndGgmJkQodGhpcyksbnVsbDt2YXIgbixpPXQubmVlZFJlYWRhYmxlO3JldHVybiBjKFwibmVlZCByZWFkYWJsZVwiLGkpLCgwPT09dC5sZW5ndGh8fHQubGVuZ3RoLWU8dC5oaWdoV2F0ZXJNYXJrKSYmYyhcImxlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrXCIsaT0hMCksdC5lbmRlZHx8dC5yZWFkaW5nP2MoXCJyZWFkaW5nIG9yIGVuZGVkXCIsaT0hMSk6aSYmKGMoXCJkbyByZWFkXCIpLHQucmVhZGluZz0hMCx0LnN5bmM9ITAsMD09PXQubGVuZ3RoJiYodC5uZWVkUmVhZGFibGU9ITApLHRoaXMuX3JlYWQodC5oaWdoV2F0ZXJNYXJrKSx0LnN5bmM9ITEsdC5yZWFkaW5nfHwoZT14KHIsdCkpKSxudWxsPT09KG49ZT4wP0koZSx0KTpudWxsKT8odC5uZWVkUmVhZGFibGU9ITAsZT0wKTp0Lmxlbmd0aC09ZSwwPT09dC5sZW5ndGgmJih0LmVuZGVkfHwodC5uZWVkUmVhZGFibGU9ITApLHIhPT1lJiZ0LmVuZGVkJiZEKHRoaXMpKSxudWxsIT09biYmdGhpcy5lbWl0KFwiZGF0YVwiLG4pLG59LHkucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUpe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiX3JlYWQoKSBpcyBub3QgaW1wbGVtZW50ZWRcIikpfSx5LnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxhPXRoaXMuX3JlYWRhYmxlU3RhdGU7c3dpdGNoKGEucGlwZXNDb3VudCl7Y2FzZSAwOmEucGlwZXM9ZTticmVhaztjYXNlIDE6YS5waXBlcz1bYS5waXBlcyxlXTticmVhaztkZWZhdWx0OmEucGlwZXMucHVzaChlKX1hLnBpcGVzQ291bnQrPTEsYyhcInBpcGUgY291bnQ9JWQgb3B0cz0lalwiLGEucGlwZXNDb3VudCx0KTt2YXIgZj0oIXR8fCExIT09dC5lbmQpJiZlIT09bi5zdGRvdXQmJmUhPT1uLnN0ZGVycj91Onk7ZnVuY3Rpb24gbCh0LG4pe2MoXCJvbnVucGlwZVwiKSx0PT09ciYmbiYmITE9PT1uLmhhc1VucGlwZWQmJihuLmhhc1VucGlwZWQ9ITAsYyhcImNsZWFudXBcIiksZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsXyksZS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGIpLGUucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLGgpLGUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG0pLGUucmVtb3ZlTGlzdGVuZXIoXCJ1bnBpcGVcIixsKSxyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsdSksci5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHkpLHIucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsZyksZD0hMCwhYS5hd2FpdERyYWlufHxlLl93cml0YWJsZVN0YXRlJiYhZS5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW58fGgoKSl9ZnVuY3Rpb24gdSgpe2MoXCJvbmVuZFwiKSxlLmVuZCgpfWEuZW5kRW1pdHRlZD9pLm5leHRUaWNrKGYpOnIub25jZShcImVuZFwiLGYpLGUub24oXCJ1bnBpcGVcIixsKTt2YXIgaD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO2MoXCJwaXBlT25EcmFpblwiLHQuYXdhaXREcmFpbiksdC5hd2FpdERyYWluJiZ0LmF3YWl0RHJhaW4tLSwwPT09dC5hd2FpdERyYWluJiZzKGUsXCJkYXRhXCIpJiYodC5mbG93aW5nPSEwLFIoZSkpfX0ocik7ZS5vbihcImRyYWluXCIsaCk7dmFyIGQ9ITE7dmFyIHA9ITE7ZnVuY3Rpb24gZyh0KXtjKFwib25kYXRhXCIpLHA9ITEsITEhPT1lLndyaXRlKHQpfHxwfHwoKDE9PT1hLnBpcGVzQ291bnQmJmEucGlwZXM9PT1lfHxhLnBpcGVzQ291bnQ+MSYmLTEhPT1GKGEucGlwZXMsZSkpJiYhZCYmKGMoXCJmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2VcIixyLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4pLHIuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbisrLHA9ITApLHIucGF1c2UoKSl9ZnVuY3Rpb24gbSh0KXtjKFwib25lcnJvclwiLHQpLHkoKSxlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixtKSwwPT09cyhlLFwiZXJyb3JcIikmJmUuZW1pdChcImVycm9yXCIsdCl9ZnVuY3Rpb24gXygpe2UucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixiKSx5KCl9ZnVuY3Rpb24gYigpe2MoXCJvbmZpbmlzaFwiKSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixfKSx5KCl9ZnVuY3Rpb24geSgpe2MoXCJ1bnBpcGVcIiksci51bnBpcGUoZSl9cmV0dXJuIHIub24oXCJkYXRhXCIsZyksZnVuY3Rpb24oZSx0LHIpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucHJlcGVuZExpc3RlbmVyKXJldHVybiBlLnByZXBlbmRMaXN0ZW5lcih0LHIpO2UuX2V2ZW50cyYmZS5fZXZlbnRzW3RdP28oZS5fZXZlbnRzW3RdKT9lLl9ldmVudHNbdF0udW5zaGlmdChyKTplLl9ldmVudHNbdF09W3IsZS5fZXZlbnRzW3RdXTplLm9uKHQscil9KGUsXCJlcnJvclwiLG0pLGUub25jZShcImNsb3NlXCIsXyksZS5vbmNlKFwiZmluaXNoXCIsYiksZS5lbWl0KFwicGlwZVwiLHIpLGEuZmxvd2luZ3x8KGMoXCJwaXBlIHJlc3VtZVwiKSxyLnJlc3VtZSgpKSxlfSx5LnByb3RvdHlwZS51bnBpcGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVhZGFibGVTdGF0ZSxyPXtoYXNVbnBpcGVkOiExfTtpZigwPT09dC5waXBlc0NvdW50KXJldHVybiB0aGlzO2lmKDE9PT10LnBpcGVzQ291bnQpcmV0dXJuIGUmJmUhPT10LnBpcGVzP3RoaXM6KGV8fChlPXQucGlwZXMpLHQucGlwZXM9bnVsbCx0LnBpcGVzQ291bnQ9MCx0LmZsb3dpbmc9ITEsZSYmZS5lbWl0KFwidW5waXBlXCIsdGhpcyxyKSx0aGlzKTtpZighZSl7dmFyIG49dC5waXBlcyxpPXQucGlwZXNDb3VudDt0LnBpcGVzPW51bGwsdC5waXBlc0NvdW50PTAsdC5mbG93aW5nPSExO2Zvcih2YXIgYT0wO2E8aTthKyspblthXS5lbWl0KFwidW5waXBlXCIsdGhpcyxyKTtyZXR1cm4gdGhpc312YXIgbz1GKHQucGlwZXMsZSk7cmV0dXJuLTE9PT1vP3RoaXM6KHQucGlwZXMuc3BsaWNlKG8sMSksdC5waXBlc0NvdW50LT0xLDE9PT10LnBpcGVzQ291bnQmJih0LnBpcGVzPXQucGlwZXNbMF0pLGUuZW1pdChcInVucGlwZVwiLHRoaXMsciksdGhpcyl9LHkucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9Zi5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsdCk7aWYoXCJkYXRhXCI9PT1lKSExIT09dGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nJiZ0aGlzLnJlc3VtZSgpO2Vsc2UgaWYoXCJyZWFkYWJsZVwiPT09ZSl7dmFyIG49dGhpcy5fcmVhZGFibGVTdGF0ZTtuLmVuZEVtaXR0ZWR8fG4ucmVhZGFibGVMaXN0ZW5pbmd8fChuLnJlYWRhYmxlTGlzdGVuaW5nPW4ubmVlZFJlYWRhYmxlPSEwLG4uZW1pdHRlZFJlYWRhYmxlPSExLG4ucmVhZGluZz9uLmxlbmd0aCYmayh0aGlzKTppLm5leHRUaWNrKE8sdGhpcykpfXJldHVybiByfSx5LnByb3RvdHlwZS5hZGRMaXN0ZW5lcj15LnByb3RvdHlwZS5vbix5LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiBlLmZsb3dpbmd8fChjKFwicmVzdW1lXCIpLGUuZmxvd2luZz0hMCxmdW5jdGlvbihlLHQpe3QucmVzdW1lU2NoZWR1bGVkfHwodC5yZXN1bWVTY2hlZHVsZWQ9ITAsaS5uZXh0VGljayhULGUsdCkpfSh0aGlzLGUpKSx0aGlzfSx5LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiBjKFwiY2FsbCBwYXVzZSBmbG93aW5nPSVqXCIsdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSwhMSE9PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyYmKGMoXCJwYXVzZVwiKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9ITEsdGhpcy5lbWl0KFwicGF1c2VcIikpLHRoaXN9LHkucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMuX3JlYWRhYmxlU3RhdGUsbj0hMTtmb3IodmFyIGkgaW4gZS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7aWYoYyhcIndyYXBwZWQgZW5kXCIpLHIuZGVjb2RlciYmIXIuZW5kZWQpe3ZhciBlPXIuZGVjb2Rlci5lbmQoKTtlJiZlLmxlbmd0aCYmdC5wdXNoKGUpfXQucHVzaChudWxsKX0pLGUub24oXCJkYXRhXCIsZnVuY3Rpb24oaSl7KGMoXCJ3cmFwcGVkIGRhdGFcIiksci5kZWNvZGVyJiYoaT1yLmRlY29kZXIud3JpdGUoaSkpLCFyLm9iamVjdE1vZGV8fG51bGwhPT1pJiZ2b2lkIDAhPT1pKSYmKChyLm9iamVjdE1vZGV8fGkmJmkubGVuZ3RoKSYmKHQucHVzaChpKXx8KG49ITAsZS5wYXVzZSgpKSkpfSksZSl2b2lkIDA9PT10aGlzW2ldJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW2ldJiYodGhpc1tpXT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZVt0XS5hcHBseShlLGFyZ3VtZW50cyl9fShpKSk7Zm9yKHZhciBhPTA7YTxfLmxlbmd0aDthKyspZS5vbihfW2FdLHRoaXMuZW1pdC5iaW5kKHRoaXMsX1thXSkpO3JldHVybiB0aGlzLl9yZWFkPWZ1bmN0aW9uKHQpe2MoXCJ3cmFwcGVkIF9yZWFkXCIsdCksbiYmKG49ITEsZS5yZXN1bWUoKSl9LHRoaXN9LHkuX2Zyb21MaXN0PUl9KS5jYWxsKHRoaXMscigwKSxyKDMpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRQYXJ0MTBIZWFkZXI6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdieXRlQXJyYXknXCI7dmFyIHI9bmV3IG4uZGVmYXVsdChhLmRlZmF1bHQsZSk7cmV0dXJuIGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKCl7aWYoci5zZWVrKDEyOCksXCJESUNNXCIhPT1yLnJlYWRGaXhlZFN0cmluZyg0KSl0aHJvd1wiZGljb21QYXJzZXIucmVhZFBhcnQxMEhlYWRlcjogRElDTSBwcmVmaXggbm90IGZvdW5kIGF0IGxvY2F0aW9uIDEzMiAtIHRoaXMgaXMgbm90IGEgdmFsaWQgRElDT00gUDEwIGZpbGUuXCJ9KCk7dmFyIGU9W10sdD17fTtmb3IoO3IucG9zaXRpb248ci5ieXRlQXJyYXkubGVuZ3RoOyl7dmFyIG49ci5wb3NpdGlvbixzPSgwLG8uZGVmYXVsdCkocixlKTtpZihzLnRhZz5cIngwMDAyZmZmZlwiKXtyLnBvc2l0aW9uPW47YnJlYWt9cy5wYXJzZXI9YS5kZWZhdWx0LHRbcy50YWddPXN9dmFyIGY9bmV3IGkuZGVmYXVsdChyLmJ5dGVBcnJheVBhcnNlcixyLmJ5dGVBcnJheSx0KTtyZXR1cm4gZi53YXJuaW5ncz1yLndhcm5pbmdzLGYucG9zaXRpb249ci5wb3NpdGlvbixmfSgpfTt2YXIgbj1zKHIoMTIpKSxpPXMocig3KSksYT1zKHIoMjEpKSxvPXMocigxNSkpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD17cmVhZFVpbnQxNjpmdW5jdGlvbihlLHQpe2lmKHQ8MCl0aHJvd1wiYmlnRW5kaWFuQnl0ZUFycmF5UGFyc2VyLnJlYWRVaW50MTY6IHBvc2l0aW9uIGNhbm5vdCBiZSBsZXNzIHRoYW4gMFwiO2lmKHQrMj5lLmxlbmd0aCl0aHJvd1wiYmlnRW5kaWFuQnl0ZUFycmF5UGFyc2VyLnJlYWRVaW50MTY6IGF0dGVtcHQgdG8gcmVhZCBwYXN0IGVuZCBvZiBidWZmZXJcIjtyZXR1cm4oZVt0XTw8OCkrZVt0KzFdfSxyZWFkSW50MTY6ZnVuY3Rpb24oZSx0KXtpZih0PDApdGhyb3dcImJpZ0VuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkSW50MTY6IHBvc2l0aW9uIGNhbm5vdCBiZSBsZXNzIHRoYW4gMFwiO2lmKHQrMj5lLmxlbmd0aCl0aHJvd1wiYmlnRW5kaWFuQnl0ZUFycmF5UGFyc2VyLnJlYWRJbnQxNjogYXR0ZW1wdCB0byByZWFkIHBhc3QgZW5kIG9mIGJ1ZmZlclwiO3ZhciByPShlW3RdPDw4KStlW3QrMV07cmV0dXJuIDMyNzY4JnImJihyPXItNjU1MzUtMSkscn0scmVhZFVpbnQzMjpmdW5jdGlvbihlLHQpe2lmKHQ8MCl0aHJvd1wiYmlnRW5kaWFuQnl0ZUFycmF5UGFyc2VyLnJlYWRVaW50MzI6IHBvc2l0aW9uIGNhbm5vdCBiZSBsZXNzIHRoYW4gMFwiO2lmKHQrND5lLmxlbmd0aCl0aHJvd1wiYmlnRW5kaWFuQnl0ZUFycmF5UGFyc2VyLnJlYWRVaW50MzI6IGF0dGVtcHQgdG8gcmVhZCBwYXN0IGVuZCBvZiBidWZmZXJcIjtyZXR1cm4gMjU2KigyNTYqKDI1NiplW3RdK2VbdCsxXSkrZVt0KzJdKStlW3QrM119LHJlYWRJbnQzMjpmdW5jdGlvbihlLHQpe2lmKHQ8MCl0aHJvd1wiYmlnRW5kaWFuQnl0ZUFycmF5UGFyc2VyLnJlYWRJbnQzMjogcG9zaXRpb24gY2Fubm90IGJlIGxlc3MgdGhhbiAwXCI7aWYodCs0PmUubGVuZ3RoKXRocm93XCJiaWdFbmRpYW5CeXRlQXJyYXlQYXJzZXIucmVhZEludDMyOiBhdHRlbXB0IHRvIHJlYWQgcGFzdCBlbmQgb2YgYnVmZmVyXCI7cmV0dXJuKGVbdF08PDI0KSsoZVt0KzFdPDwxNikrKGVbdCsyXTw8OCkrZVt0KzNdfSxyZWFkRmxvYXQ6ZnVuY3Rpb24oZSx0KXtpZih0PDApdGhyb3dcImJpZ0VuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkRmxvYXQ6IHBvc2l0aW9uIGNhbm5vdCBiZSBsZXNzIHRoYW4gMFwiO2lmKHQrND5lLmxlbmd0aCl0aHJvd1wiYmlnRW5kaWFuQnl0ZUFycmF5UGFyc2VyLnJlYWRGbG9hdDogYXR0ZW1wdCB0byByZWFkIHBhc3QgZW5kIG9mIGJ1ZmZlclwiO3ZhciByPW5ldyBVaW50OEFycmF5KDQpO3JldHVybiByWzNdPWVbdF0sclsyXT1lW3QrMV0sclsxXT1lW3QrMl0sclswXT1lW3QrM10sbmV3IEZsb2F0MzJBcnJheShyLmJ1ZmZlcilbMF19LHJlYWREb3VibGU6ZnVuY3Rpb24oZSx0KXtpZih0PDApdGhyb3dcImJpZ0VuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkRG91YmxlOiBwb3NpdGlvbiBjYW5ub3QgYmUgbGVzcyB0aGFuIDBcIjtpZih0Kzg+ZS5sZW5ndGgpdGhyb3dcImJpZ0VuZGlhbkJ5dGVBcnJheVBhcnNlci5yZWFkRG91YmxlOiBhdHRlbXB0IHRvIHJlYWQgcGFzdCBlbmQgb2YgYnVmZmVyXCI7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoOCk7cmV0dXJuIHJbN109ZVt0XSxyWzZdPWVbdCsxXSxyWzVdPWVbdCsyXSxyWzRdPWVbdCszXSxyWzNdPWVbdCs0XSxyWzJdPWVbdCs1XSxyWzFdPWVbdCs2XSxyWzBdPWVbdCs3XSxuZXcgRmxvYXQ2NEFycmF5KHIuYnVmZmVyKVswXX19fSxmdW5jdGlvbihlLHQpe3ZhciByPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PXIuY2FsbChlKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PWUpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRTZXF1ZW5jZUl0ZW1zSW1wbGljaXQ6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdieXRlU3RyZWFtJ1wiO2lmKHZvaWQgMD09PXQpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRTZXF1ZW5jZUl0ZW1zSW1wbGljaXQ6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdlbGVtZW50J1wiO3QuaXRlbXM9W10sNDI5NDk2NzI5NT09PXQubGVuZ3RoP2Z1bmN0aW9uKGUsdCxyKXtmb3IoO2UucG9zaXRpb24rNDw9ZS5ieXRlQXJyYXkubGVuZ3RoOyl7dmFyIG49KDAsby5kZWZhdWx0KShlKTtpZihlLnNlZWsoLTQpLFwieGZmZmVlMGRkXCI9PT1uKXJldHVybiB0Lmxlbmd0aD1lLnBvc2l0aW9uLXQuZGF0YU9mZnNldCxlLnNlZWsoOCksdDt2YXIgaT1sKGUscik7dC5pdGVtcy5wdXNoKGkpfWUud2FybmluZ3MucHVzaChcImVvZiBlbmNvdW50ZXJlZCBiZWZvcmUgZmluZGluZyBzZXF1ZW5jZSBkZWxpbWl0ZXIgaW4gc2VxdWVuY2Ugb2YgdW5kZWZpbmVkIGxlbmd0aFwiKSx0Lmxlbmd0aD1lLmJ5dGVBcnJheS5sZW5ndGgtdC5kYXRhT2Zmc2V0fShlLHQscik6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZGF0YU9mZnNldCt0Lmxlbmd0aDtmb3IoO2UucG9zaXRpb248bjspe3ZhciBpPWwoZSxyKTt0Lml0ZW1zLnB1c2goaSl9fShlLHQscil9O3ZhciBuPWYocig3KSksaT1mKHIoMjMpKSxhPWYocigxMykpLG89ZihyKDQpKSxzPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocigxNikpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGwoZSx0KXt2YXIgcj0oMCxhLmRlZmF1bHQpKGUpO3JldHVybiA0Mjk0OTY3Mjk1PT09ci5sZW5ndGg/KHIuaGFkVW5kZWZpbmVkTGVuZ3RoPSEwLHIuZGF0YVNldD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj17fTtlLnBvc2l0aW9uPGUuYnl0ZUFycmF5Lmxlbmd0aDspe3ZhciBhPSgwLGkuZGVmYXVsdCkoZSx2b2lkIDAsdCk7aWYoclthLnRhZ109YSxcInhmZmZlZTAwZFwiPT09YS50YWcpcmV0dXJuIG5ldyBuLmRlZmF1bHQoZS5ieXRlQXJyYXlQYXJzZXIsZS5ieXRlQXJyYXkscil9cmV0dXJuIGUud2FybmluZ3MucHVzaChcImVvZiBlbmNvdW50ZXJlZCBiZWZvcmUgZmluZGluZyBzZXF1ZW5jZSBpdGVtIGRlbGltaXRlciBpbiBzZXF1ZW5jZSBpdGVtIG9mIHVuZGVmaW5lZCBsZW5ndGhcIiksbmV3IG4uZGVmYXVsdChlLmJ5dGVBcnJheVBhcnNlcixlLmJ5dGVBcnJheSxyKX0oZSx0KSxyLmxlbmd0aD1lLnBvc2l0aW9uLXIuZGF0YU9mZnNldCk6KHIuZGF0YVNldD1uZXcgbi5kZWZhdWx0KGUuYnl0ZUFycmF5UGFyc2VyLGUuYnl0ZUFycmF5LHt9KSxzLnBhcnNlRGljb21EYXRhU2V0SW1wbGljaXQoci5kYXRhU2V0LGUsZS5wb3NpdGlvbityLmxlbmd0aCx7dnJDYWxsYmFjazp0fSkpLHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT1lKXRocm93XCJkaWNvbVBhcnNlci5yZWFkU2VxdWVuY2VJdGVtc0V4cGxpY2l0OiBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciAnYnl0ZVN0cmVhbSdcIjtpZih2b2lkIDA9PT10KXRocm93XCJkaWNvbVBhcnNlci5yZWFkU2VxdWVuY2VJdGVtc0V4cGxpY2l0OiBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlciAnZWxlbWVudCdcIjt0Lml0ZW1zPVtdLDQyOTQ5NjcyOTU9PT10Lmxlbmd0aD9mdW5jdGlvbihlLHQscil7Zm9yKDtlLnBvc2l0aW9uKzQ8PWUuYnl0ZUFycmF5Lmxlbmd0aDspe3ZhciBuPSgwLG8uZGVmYXVsdCkoZSk7aWYoZS5zZWVrKC00KSxcInhmZmZlZTBkZFwiPT09bilyZXR1cm4gdC5sZW5ndGg9ZS5wb3NpdGlvbi10LmRhdGFPZmZzZXQsZS5zZWVrKDgpLHQ7dmFyIGk9bChlLHIpO3QuaXRlbXMucHVzaChpKX1yLnB1c2goXCJlb2YgZW5jb3VudGVyZWQgYmVmb3JlIGZpbmRpbmcgc2VxdWVuY2UgZGVsaW1pdGF0aW9uIHRhZyB3aGlsZSByZWFkaW5nIHNlcXVlbmNlIG9mIHVuZGVmaW5lZCBsZW5ndGhcIiksdC5sZW5ndGg9ZS5wb3NpdGlvbi10LmRhdGFPZmZzZXR9KGUsdCxyKTpmdW5jdGlvbihlLHQscil7dmFyIG49dC5kYXRhT2Zmc2V0K3QubGVuZ3RoO2Zvcig7ZS5wb3NpdGlvbjxuOyl7dmFyIGk9bChlLHIpO3QuaXRlbXMucHVzaChpKX19KGUsdCxyKX07dmFyIG49ZihyKDcpKSxpPWYocigxNSkpLGE9ZihyKDEzKSksbz1mKHIoNCkpLHM9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShyKDE2KSk7ZnVuY3Rpb24gZihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbChlLHQpe3ZhciByPSgwLGEuZGVmYXVsdCkoZSk7cmV0dXJuIDQyOTQ5NjcyOTU9PT1yLmxlbmd0aD8oci5oYWRVbmRlZmluZWRMZW5ndGg9ITAsci5kYXRhU2V0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXt9O2UucG9zaXRpb248ZS5ieXRlQXJyYXkubGVuZ3RoOyl7dmFyIGE9KDAsaS5kZWZhdWx0KShlLHQpO2lmKHJbYS50YWddPWEsXCJ4ZmZmZWUwMGRcIj09PWEudGFnKXJldHVybiBuZXcgbi5kZWZhdWx0KGUuYnl0ZUFycmF5UGFyc2VyLGUuYnl0ZUFycmF5LHIpfXJldHVybiB0LnB1c2goXCJlb2YgZW5jb3VudGVyZWQgYmVmb3JlIGZpbmRpbmcgaXRlbSBkZWxpbWl0ZXIgdGFnIHdoaWxlIHJlYWRpbmcgc2VxdWVuY2UgaXRlbSBvZiB1bmRlZmluZWQgbGVuZ3RoXCIpLG5ldyBuLmRlZmF1bHQoZS5ieXRlQXJyYXlQYXJzZXIsZS5ieXRlQXJyYXkscil9KGUsdCksci5sZW5ndGg9ZS5wb3NpdGlvbi1yLmRhdGFPZmZzZXQpOihyLmRhdGFTZXQ9bmV3IG4uZGVmYXVsdChlLmJ5dGVBcnJheVBhcnNlcixlLmJ5dGVBcnJheSx7fSkscy5wYXJzZURpY29tRGF0YVNldEV4cGxpY2l0KHIuZGF0YVNldCxlLGUucG9zaXRpb24rci5sZW5ndGgpKSxyfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUpdGhyb3dcImRpY29tUGFyc2VyLmZpbmRBbmRTZXRVTkVsZW1lbnRMZW5ndGg6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdieXRlU3RyZWFtJ1wiO3ZhciByPWUuYnl0ZUFycmF5Lmxlbmd0aC04O2Zvcig7ZS5wb3NpdGlvbjw9cjspe3ZhciBuPWUucmVhZFVpbnQxNigpO2lmKDY1NTM0PT09bil7dmFyIGk9ZS5yZWFkVWludDE2KCk7aWYoNTc1NjU9PT1pKXt2YXIgYT1lLnJlYWRVaW50MzIoKTtyZXR1cm4gMCE9PWEmJmUud2FybmluZ3MoXCJlbmNvdW50ZXJlZCBub24gemVybyBsZW5ndGggZm9sbG93aW5nIGl0ZW0gZGVsaW1pdGVyIGF0IHBvc2l0aW9uIFwiKyhlLnBvc2l0aW9uLTQpK1wiIHdoaWxlIHJlYWRpbmcgZWxlbWVudCBvZiB1bmRlZmluZWQgbGVuZ3RoIHdpdGggdGFnIFwiK3QudGFnKSx2b2lkKHQubGVuZ3RoPWUucG9zaXRpb24tdC5kYXRhT2Zmc2V0KX19fXQubGVuZ3RoPWUuYnl0ZUFycmF5Lmxlbmd0aC10LmRhdGFPZmZzZXQsZS5zZWVrKGUuYnl0ZUFycmF5Lmxlbmd0aC1lLnBvc2l0aW9uKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PWUpdGhyb3dcImRpY29tUGFyc2VyLmZpbmRFbmRPZkVuY2Fwc3VsYXRlZEVsZW1lbnQ6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdieXRlU3RyZWFtJ1wiO2lmKHZvaWQgMD09PXQpdGhyb3dcImRpY29tUGFyc2VyLmZpbmRFbmRPZkVuY2Fwc3VsYXRlZEVsZW1lbnQ6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdlbGVtZW50J1wiO2lmKHQuZW5jYXBzdWxhdGVkUGl4ZWxEYXRhPSEwLHQuYmFzaWNPZmZzZXRUYWJsZT1bXSx0LmZyYWdtZW50cz1bXSxcInhmZmZlZTAwMFwiIT09KDAsYS5kZWZhdWx0KShlKSl0aHJvd1wiZGljb21QYXJzZXIuZmluZEVuZE9mRW5jYXBzdWxhdGVkRWxlbWVudDogYmFzaWMgb2Zmc2V0IHRhYmxlIG5vdCBmb3VuZFwiO2Zvcih2YXIgbj1lLnJlYWRVaW50MzIoKS80LGk9MDtpPG47aSsrKXt2YXIgbz1lLnJlYWRVaW50MzIoKTt0LmJhc2ljT2Zmc2V0VGFibGUucHVzaChvKX12YXIgcz1lLnBvc2l0aW9uO2Zvcig7ZS5wb3NpdGlvbjxlLmJ5dGVBcnJheS5sZW5ndGg7KXt2YXIgZj0oMCxhLmRlZmF1bHQpKGUpLGw9ZS5yZWFkVWludDMyKCk7aWYoXCJ4ZmZmZWUwZGRcIj09PWYpcmV0dXJuIGUuc2VlayhsKSx2b2lkKHQubGVuZ3RoPWUucG9zaXRpb24tdC5kYXRhT2Zmc2V0KTtpZihcInhmZmZlZTAwMFwiIT09ZilyZXR1cm4gciYmci5wdXNoKFwidW5leHBlY3RlZCB0YWcgXCIrZitcIiB3aGlsZSBzZWFyY2hpbmcgZm9yIGVuZCBvZiBwaXhlbCBkYXRhIGVsZW1lbnQgd2l0aCB1bmRlZmluZWQgbGVuZ3RoXCIpLGw+ZS5ieXRlQXJyYXkubGVuZ3RoLWUucG9zaXRpb24mJihsPWUuYnl0ZUFycmF5Lmxlbmd0aC1lLnBvc2l0aW9uKSx0LmZyYWdtZW50cy5wdXNoKHtvZmZzZXQ6ZS5wb3NpdGlvbi1zLTgscG9zaXRpb246ZS5wb3NpdGlvbixsZW5ndGg6bH0pLGUuc2VlayhsKSx2b2lkKHQubGVuZ3RoPWUucG9zaXRpb24tdC5kYXRhT2Zmc2V0KTt0LmZyYWdtZW50cy5wdXNoKHtvZmZzZXQ6ZS5wb3NpdGlvbi1zLTgscG9zaXRpb246ZS5wb3NpdGlvbixsZW5ndGg6bH0pLGUuc2VlayhsKX1yJiZyLnB1c2goXCJwaXhlbCBkYXRhIGVsZW1lbnQgXCIrdC50YWcrXCIgbWlzc2luZyBzZXF1ZW5jZSBkZWxpbWl0ZXIgdGFnIHhmZmZlZTBkZFwiKX07dmFyIG4saT1yKDQpLGE9KG49aSkmJm4uX19lc01vZHVsZT9uOntkZWZhdWx0Om59fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZXx8dm9pZCAwPT09dCl0aHJvd1wiZGljb21QYXJzZXIuZXhwbGljaXRFbGVtZW50VG9TdHJpbmc6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyc1wiO2lmKHZvaWQgMD09PXQudnIpdGhyb3dcImRpY29tUGFyc2VyLmV4cGxpY2l0RWxlbWVudFRvU3RyaW5nOiBjYW5ub3QgY29udmVydCBpbXBsaWNpdCBlbGVtZW50IHRvIHN0cmluZ1wiO3ZhciByLGk9dC52cixhPXQudGFnO2Z1bmN0aW9uIG8odCxyKXtmb3IodmFyIG49XCJcIixpPTA7aTx0O2krKykwIT09aSYmKG4rPVwiL1wiKSxuKz1yLmNhbGwoZSxhLGkpLnRvU3RyaW5nKCk7cmV0dXJuIG59aWYoITA9PT1uLmlzU3RyaW5nVnIoaSkpcj1lLnN0cmluZyhhKTtlbHNle2lmKFwiQVRcIj09PWkpe3ZhciBzPWUudWludDMyKGEpO2lmKHZvaWQgMD09PXMpcmV0dXJuO3JldHVybiBzPDAmJihzPTQyOTQ5NjcyOTUrcysxKSxcInhcIitzLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfVwiVVNcIj09PWk/cj1vKHQubGVuZ3RoLzIsZS51aW50MTYpOlwiU1NcIj09PWk/cj1vKHQubGVuZ3RoLzIsZS5pbnQxNik6XCJVTFwiPT09aT9yPW8odC5sZW5ndGgvNCxlLnVpbnQzMik6XCJTTFwiPT09aT9yPW8odC5sZW5ndGgvNCxlLmludDMyKTpcIkZEXCI9PT1pP3I9byh0Lmxlbmd0aC84LGUuZG91YmxlKTpcIkZMXCI9PT1pJiYocj1vKHQubGVuZ3RoLzQsZS5mbG9hdCkpfXJldHVybiByfTt2YXIgbj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHIoMjUpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQscil7b3x8KG89ITAsY29uc29sZSYmY29uc29sZS5sb2cmJmNvbnNvbGUubG9nKFwiV0FSTklORzogZGljb21QYXJzZXIucmVhZEVuY2Fwc3VsYXRlZFBpeGVsRGF0YSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWRcIikpO2lmKHZvaWQgMD09PWUpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGE6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdkYXRhU2V0J1wiO2lmKHZvaWQgMD09PXQpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGE6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdlbGVtZW50J1wiO2lmKHZvaWQgMD09PXIpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGE6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdmcmFtZSdcIjtpZihcIng3ZmUwMDAxMFwiIT09dC50YWcpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGE6IHBhcmFtZXRlciAnZWxlbWVudCcgcmVmZXJzIHRvIG5vbiBwaXhlbCBkYXRhIHRhZyAoZXhwZWN0ZWQgdGFnID0geDdmZTAwMDEwKVwiO2lmKCEwIT09dC5lbmNhcHN1bGF0ZWRQaXhlbERhdGEpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGE6IHBhcmFtZXRlciAnZWxlbWVudCcgcmVmZXJzIHRvIHBpeGVsIGRhdGEgZWxlbWVudCB0aGF0IGRvZXMgbm90IGhhdmUgZW5jYXBzdWxhdGVkIHBpeGVsIGRhdGFcIjtpZighMCE9PXQuaGFkVW5kZWZpbmVkTGVuZ3RoKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkUGl4ZWxEYXRhOiBwYXJhbWV0ZXIgJ2VsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYodm9pZCAwPT09dC5iYXNpY09mZnNldFRhYmxlKXRocm93XCJkaWNvbVBhcnNlci5yZWFkRW5jYXBzdWxhdGVkUGl4ZWxEYXRhOiBwYXJhbWV0ZXIgJ2VsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYodm9pZCAwPT09dC5mcmFnbWVudHMpdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGE6IHBhcmFtZXRlciAnZWxlbWVudCcgcmVmZXJzIHRvIHBpeGVsIGRhdGEgZWxlbWVudCB0aGF0IGRvZXMgbm90IGhhdmUgZW5jYXBzdWxhdGVkIHBpeGVsIGRhdGFcIjtpZihyPDApdGhyb3dcImRpY29tUGFyc2VyLnJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGE6IHBhcmFtZXRlciAnZnJhbWUnIG11c3QgYmUgPj0gMFwiO2lmKDAhPT10LmJhc2ljT2Zmc2V0VGFibGUubGVuZ3RoKXJldHVybigwLG4uZGVmYXVsdCkoZSx0LHIpO3JldHVybigwLGkuZGVmYXVsdCkoZSx0LDAsdC5mcmFnbWVudHMubGVuZ3RoKX07dmFyIG49YShyKDI2KSksaT1hKHIoMTcpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgbz0hMX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFQU1fRU5EOjEsWl9ORUVEX0RJQ1Q6MixaX0VSUk5POi0xLFpfU1RSRUFNX0VSUk9SOi0yLFpfREFUQV9FUlJPUjotMyxaX0JVRl9FUlJPUjotNSxaX05PX0NPTVBSRVNTSU9OOjAsWl9CRVNUX1NQRUVEOjEsWl9CRVNUX0NPTVBSRVNTSU9OOjksWl9ERUZBVUxUX0NPTVBSRVNTSU9OOi0xLFpfRklMVEVSRUQ6MSxaX0hVRkZNQU5fT05MWToyLFpfUkxFOjMsWl9GSVhFRDo0LFpfREVGQVVMVF9TVFJBVEVHWTowLFpfQklOQVJZOjAsWl9URVhUOjEsWl9VTktOT1dOOjIsWl9ERUZMQVRFRDo4fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoOCksaT1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdLGE9WzE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDE2LDcyLDc4XSxvPVsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXSxzPVsxNiwxNiwxNiwxNiwxNywxNywxOCwxOCwxOSwxOSwyMCwyMCwyMSwyMSwyMiwyMiwyMywyMywyNCwyNCwyNSwyNSwyNiwyNiwyNywyNywyOCwyOCwyOSwyOSw2NCw2NF07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGYsbCx1LGgsZCl7dmFyIGMscCxnLG0sXyxiLHksdix3LEU9ZC5iaXRzLHg9MCxrPTAsUz0wLEE9MCxQPTAsTz0wLFQ9MCxSPTAsST0wLEQ9MCxMPW51bGwsRj0wLFU9bmV3IG4uQnVmMTYoMTYpLEI9bmV3IG4uQnVmMTYoMTYpLE09bnVsbCxOPTA7Zm9yKHg9MDt4PD0xNTt4KyspVVt4XT0wO2ZvcihrPTA7azxmO2srKylVW3RbcitrXV0rKztmb3IoUD1FLEE9MTU7QT49MSYmMD09PVVbQV07QS0tKTtpZihQPkEmJihQPUEpLDA9PT1BKXJldHVybiBsW3UrK109MjA5NzE1MjAsbFt1KytdPTIwOTcxNTIwLGQuYml0cz0xLDA7Zm9yKFM9MTtTPEEmJjA9PT1VW1NdO1MrKyk7Zm9yKFA8UyYmKFA9UyksUj0xLHg9MTt4PD0xNTt4KyspaWYoUjw8PTEsKFItPVVbeF0pPDApcmV0dXJuLTE7aWYoUj4wJiYoMD09PWV8fDEhPT1BKSlyZXR1cm4tMTtmb3IoQlsxXT0wLHg9MTt4PDE1O3grKylCW3grMV09Qlt4XStVW3hdO2ZvcihrPTA7azxmO2srKykwIT09dFtyK2tdJiYoaFtCW3RbcitrXV0rK109ayk7aWYoMD09PWU/KEw9TT1oLGI9MTkpOjE9PT1lPyhMPWksRi09MjU3LE09YSxOLT0yNTcsYj0yNTYpOihMPW8sTT1zLGI9LTEpLEQ9MCxrPTAseD1TLF89dSxPPVAsVD0wLGc9LTEsbT0oST0xPDxQKS0xLDE9PT1lJiZJPjg1Mnx8Mj09PWUmJkk+NTkyKXJldHVybiAxO2Zvcig7Oyl7eT14LVQsaFtrXTxiPyh2PTAsdz1oW2tdKTpoW2tdPmI/KHY9TVtOK2hba11dLHc9TFtGK2hba11dKToodj05Nix3PTApLGM9MTw8eC1ULFM9cD0xPDxPO2Rve2xbXysoRD4+VCkrKHAtPWMpXT15PDwyNHx2PDwxNnx3fDB9d2hpbGUoMCE9PXApO2ZvcihjPTE8PHgtMTtEJmM7KWM+Pj0xO2lmKDAhPT1jPyhEJj1jLTEsRCs9Yyk6RD0wLGsrKywwPT0tLVVbeF0pe2lmKHg9PT1BKWJyZWFrO3g9dFtyK2hba11dfWlmKHg+UCYmKEQmbSkhPT1nKXtmb3IoMD09PVQmJihUPVApLF8rPVMsUj0xPDwoTz14LVQpO08rVDxBJiYhKChSLT1VW08rVF0pPD0wKTspTysrLFI8PD0xO2lmKEkrPTE8PE8sMT09PWUmJkk+ODUyfHwyPT09ZSYmST41OTIpcmV0dXJuIDE7bFtnPUQmbV09UDw8MjR8Tzw8MTZ8Xy11fDB9fXJldHVybiAwIT09RCYmKGxbXytEXT14LVQ8PDI0fDY0PDwxNnwwKSxkLmJpdHM9UCwwfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxhLG8scyxmLGwsdSxoLGQsYyxwLGcsbSxfLGIseSx2LHcsRSx4LGssUyxBO3I9ZS5zdGF0ZSxuPWUubmV4dF9pbixTPWUuaW5wdXQsaT1uKyhlLmF2YWlsX2luLTUpLGE9ZS5uZXh0X291dCxBPWUub3V0cHV0LG89YS0odC1lLmF2YWlsX291dCkscz1hKyhlLmF2YWlsX291dC0yNTcpLGY9ci5kbWF4LGw9ci53c2l6ZSx1PXIud2hhdmUsaD1yLnduZXh0LGQ9ci53aW5kb3csYz1yLmhvbGQscD1yLmJpdHMsZz1yLmxlbmNvZGUsbT1yLmRpc3Rjb2RlLF89KDE8PHIubGVuYml0cyktMSxiPSgxPDxyLmRpc3RiaXRzKS0xO2U6ZG97cDwxNSYmKGMrPVNbbisrXTw8cCxwKz04LGMrPVNbbisrXTw8cCxwKz04KSx5PWdbYyZfXTt0OmZvcig7Oyl7aWYoYz4+Pj12PXk+Pj4yNCxwLT12LDA9PT0odj15Pj4+MTYmMjU1KSlBW2ErK109NjU1MzUmeTtlbHNle2lmKCEoMTYmdikpe2lmKDA9PSg2NCZ2KSl7eT1nWyg2NTUzNSZ5KSsoYyYoMTw8diktMSldO2NvbnRpbnVlIHR9aWYoMzImdil7ci5tb2RlPTEyO2JyZWFrIGV9ZS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixyLm1vZGU9MzA7YnJlYWsgZX13PTY1NTM1JnksKHYmPTE1KSYmKHA8diYmKGMrPVNbbisrXTw8cCxwKz04KSx3Kz1jJigxPDx2KS0xLGM+Pj49dixwLT12KSxwPDE1JiYoYys9U1tuKytdPDxwLHArPTgsYys9U1tuKytdPDxwLHArPTgpLHk9bVtjJmJdO3I6Zm9yKDs7KXtpZihjPj4+PXY9eT4+PjI0LHAtPXYsISgxNiYodj15Pj4+MTYmMjU1KSkpe2lmKDA9PSg2NCZ2KSl7eT1tWyg2NTUzNSZ5KSsoYyYoMTw8diktMSldO2NvbnRpbnVlIHJ9ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixyLm1vZGU9MzA7YnJlYWsgZX1pZihFPTY1NTM1JnkscDwodiY9MTUpJiYoYys9U1tuKytdPDxwLChwKz04KTx2JiYoYys9U1tuKytdPDxwLHArPTgpKSwoRSs9YyYoMTw8diktMSk+Zil7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHIubW9kZT0zMDticmVhayBlfWlmKGM+Pj49dixwLT12LEU+KHY9YS1vKSl7aWYoKHY9RS12KT51JiZyLnNhbmUpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixyLm1vZGU9MzA7YnJlYWsgZX1pZih4PTAsaz1kLDA9PT1oKXtpZih4Kz1sLXYsdjx3KXt3LT12O2Rve0FbYSsrXT1kW3grK119d2hpbGUoLS12KTt4PWEtRSxrPUF9fWVsc2UgaWYoaDx2KXtpZih4Kz1sK2gtdiwodi09aCk8dyl7dy09djtkb3tBW2ErK109ZFt4KytdfXdoaWxlKC0tdik7aWYoeD0wLGg8dyl7dy09dj1oO2Rve0FbYSsrXT1kW3grK119d2hpbGUoLS12KTt4PWEtRSxrPUF9fX1lbHNlIGlmKHgrPWgtdix2PHcpe3ctPXY7ZG97QVthKytdPWRbeCsrXX13aGlsZSgtLXYpO3g9YS1FLGs9QX1mb3IoO3c+MjspQVthKytdPWtbeCsrXSxBW2ErK109a1t4KytdLEFbYSsrXT1rW3grK10sdy09Mzt3JiYoQVthKytdPWtbeCsrXSx3PjEmJihBW2ErK109a1t4KytdKSl9ZWxzZXt4PWEtRTtkb3tBW2ErK109QVt4KytdLEFbYSsrXT1BW3grK10sQVthKytdPUFbeCsrXSx3LT0zfXdoaWxlKHc+Mik7dyYmKEFbYSsrXT1BW3grK10sdz4xJiYoQVthKytdPUFbeCsrXSkpfWJyZWFrfX1icmVha319d2hpbGUobjxpJiZhPHMpO24tPXc9cD4+MyxjJj0oMTw8KHAtPXc8PDMpKS0xLGUubmV4dF9pbj1uLGUubmV4dF9vdXQ9YSxlLmF2YWlsX2luPW48aT9pLW4rNTo1LShuLWkpLGUuYXZhaWxfb3V0PWE8cz9zLWErMjU3OjI1Ny0oYS1zKSxyLmhvbGQ9YyxyLmJpdHM9cH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDgpLGk9cigyOCksYT1yKDI3KSxvPXIoNDcpLHM9cig0NiksZj0wLGw9MSx1PTIsaD00LGQ9NSxjPTYscD0wLGc9MSxtPTIsXz0tMixiPS0zLHk9LTQsdj0tNSx3PTgsRT0xLHg9MixrPTMsUz00LEE9NSxQPTYsTz03LFQ9OCxSPTksST0xMCxEPTExLEw9MTIsRj0xMyxVPTE0LEI9MTUsTT0xNixOPTE3LGo9MTgsej0xOSxaPTIwLEM9MjEscT0yMixZPTIzLFc9MjQsSD0yNSxHPTI2LFY9MjcsSz0yOCxKPTI5LFg9MzAsJD0zMSxRPTMyLGVlPTg1Mix0ZT01OTIscmU9MTU7ZnVuY3Rpb24gbmUoZSl7cmV0dXJuKGU+Pj4yNCYyNTUpKyhlPj4+OCY2NTI4MCkrKCg2NTI4MCZlKTw8OCkrKCgyNTUmZSk8PDI0KX1mdW5jdGlvbiBpZShlKXt2YXIgdDtyZXR1cm4gZSYmZS5zdGF0ZT8odD1lLnN0YXRlLGUudG90YWxfaW49ZS50b3RhbF9vdXQ9dC50b3RhbD0wLGUubXNnPVwiXCIsdC53cmFwJiYoZS5hZGxlcj0xJnQud3JhcCksdC5tb2RlPUUsdC5sYXN0PTAsdC5oYXZlZGljdD0wLHQuZG1heD0zMjc2OCx0LmhlYWQ9bnVsbCx0LmhvbGQ9MCx0LmJpdHM9MCx0LmxlbmNvZGU9dC5sZW5keW49bmV3IG4uQnVmMzIoZWUpLHQuZGlzdGNvZGU9dC5kaXN0ZHluPW5ldyBuLkJ1ZjMyKHRlKSx0LnNhbmU9MSx0LmJhY2s9LTEscCk6X31mdW5jdGlvbiBhZShlKXt2YXIgdDtyZXR1cm4gZSYmZS5zdGF0ZT8oKHQ9ZS5zdGF0ZSkud3NpemU9MCx0LndoYXZlPTAsdC53bmV4dD0wLGllKGUpKTpffWZ1bmN0aW9uIG9lKGUsdCl7dmFyIHIsbjtyZXR1cm4gZSYmZS5zdGF0ZT8obj1lLnN0YXRlLHQ8MD8ocj0wLHQ9LXQpOihyPTErKHQ+PjQpLHQ8NDgmJih0Jj0xNSkpLHQmJih0PDh8fHQ+MTUpP186KG51bGwhPT1uLndpbmRvdyYmbi53Yml0cyE9PXQmJihuLndpbmRvdz1udWxsKSxuLndyYXA9cixuLndiaXRzPXQsYWUoZSkpKTpffWZ1bmN0aW9uIHNlKGUsdCl7dmFyIHIsaTtyZXR1cm4gZT8oaT1uZXcgZnVuY3Rpb24oKXt0aGlzLm1vZGU9MCx0aGlzLmxhc3Q9ITEsdGhpcy53cmFwPTAsdGhpcy5oYXZlZGljdD0hMSx0aGlzLmZsYWdzPTAsdGhpcy5kbWF4PTAsdGhpcy5jaGVjaz0wLHRoaXMudG90YWw9MCx0aGlzLmhlYWQ9bnVsbCx0aGlzLndiaXRzPTAsdGhpcy53c2l6ZT0wLHRoaXMud2hhdmU9MCx0aGlzLnduZXh0PTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLmhvbGQ9MCx0aGlzLmJpdHM9MCx0aGlzLmxlbmd0aD0wLHRoaXMub2Zmc2V0PTAsdGhpcy5leHRyYT0wLHRoaXMubGVuY29kZT1udWxsLHRoaXMuZGlzdGNvZGU9bnVsbCx0aGlzLmxlbmJpdHM9MCx0aGlzLmRpc3RiaXRzPTAsdGhpcy5uY29kZT0wLHRoaXMubmxlbj0wLHRoaXMubmRpc3Q9MCx0aGlzLmhhdmU9MCx0aGlzLm5leHQ9bnVsbCx0aGlzLmxlbnM9bmV3IG4uQnVmMTYoMzIwKSx0aGlzLndvcms9bmV3IG4uQnVmMTYoMjg4KSx0aGlzLmxlbmR5bj1udWxsLHRoaXMuZGlzdGR5bj1udWxsLHRoaXMuc2FuZT0wLHRoaXMuYmFjaz0wLHRoaXMud2FzPTB9LGUuc3RhdGU9aSxpLndpbmRvdz1udWxsLChyPW9lKGUsdCkpIT09cCYmKGUuc3RhdGU9bnVsbCkscik6X312YXIgZmUsbGUsdWU9ITA7ZnVuY3Rpb24gaGUoZSl7aWYodWUpe3ZhciB0O2ZvcihmZT1uZXcgbi5CdWYzMig1MTIpLGxlPW5ldyBuLkJ1ZjMyKDMyKSx0PTA7dDwxNDQ7KWUubGVuc1t0KytdPTg7Zm9yKDt0PDI1NjspZS5sZW5zW3QrK109OTtmb3IoO3Q8MjgwOyllLmxlbnNbdCsrXT03O2Zvcig7dDwyODg7KWUubGVuc1t0KytdPTg7Zm9yKHMobCxlLmxlbnMsMCwyODgsZmUsMCxlLndvcmsse2JpdHM6OX0pLHQ9MDt0PDMyOyllLmxlbnNbdCsrXT01O3ModSxlLmxlbnMsMCwzMixsZSwwLGUud29yayx7Yml0czo1fSksdWU9ITF9ZS5sZW5jb2RlPWZlLGUubGVuYml0cz05LGUuZGlzdGNvZGU9bGUsZS5kaXN0Yml0cz01fWZ1bmN0aW9uIGRlKGUsdCxyLGkpe3ZhciBhLG89ZS5zdGF0ZTtyZXR1cm4gbnVsbD09PW8ud2luZG93JiYoby53c2l6ZT0xPDxvLndiaXRzLG8ud25leHQ9MCxvLndoYXZlPTAsby53aW5kb3c9bmV3IG4uQnVmOChvLndzaXplKSksaT49by53c2l6ZT8obi5hcnJheVNldChvLndpbmRvdyx0LHItby53c2l6ZSxvLndzaXplLDApLG8ud25leHQ9MCxvLndoYXZlPW8ud3NpemUpOigoYT1vLndzaXplLW8ud25leHQpPmkmJihhPWkpLG4uYXJyYXlTZXQoby53aW5kb3csdCxyLWksYSxvLnduZXh0KSwoaS09YSk/KG4uYXJyYXlTZXQoby53aW5kb3csdCxyLWksaSwwKSxvLnduZXh0PWksby53aGF2ZT1vLndzaXplKTooby53bmV4dCs9YSxvLnduZXh0PT09by53c2l6ZSYmKG8ud25leHQ9MCksby53aGF2ZTxvLndzaXplJiYoby53aGF2ZSs9YSkpKSwwfXQuaW5mbGF0ZVJlc2V0PWFlLHQuaW5mbGF0ZVJlc2V0Mj1vZSx0LmluZmxhdGVSZXNldEtlZXA9aWUsdC5pbmZsYXRlSW5pdD1mdW5jdGlvbihlKXtyZXR1cm4gc2UoZSxyZSl9LHQuaW5mbGF0ZUluaXQyPXNlLHQuaW5mbGF0ZT1mdW5jdGlvbihlLHQpe3ZhciByLGVlLHRlLHJlLGllLGFlLG9lLHNlLGZlLGxlLHVlLGNlLHBlLGdlLG1lLF9lLGJlLHllLHZlLHdlLEVlLHhlLGtlLFNlLEFlPTAsUGU9bmV3IG4uQnVmOCg0KSxPZT1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV07aWYoIWV8fCFlLnN0YXRlfHwhZS5vdXRwdXR8fCFlLmlucHV0JiYwIT09ZS5hdmFpbF9pbilyZXR1cm4gXzsocj1lLnN0YXRlKS5tb2RlPT09TCYmKHIubW9kZT1GKSxpZT1lLm5leHRfb3V0LHRlPWUub3V0cHV0LG9lPWUuYXZhaWxfb3V0LHJlPWUubmV4dF9pbixlZT1lLmlucHV0LGFlPWUuYXZhaWxfaW4sc2U9ci5ob2xkLGZlPXIuYml0cyxsZT1hZSx1ZT1vZSx4ZT1wO2U6Zm9yKDs7KXN3aXRjaChyLm1vZGUpe2Nhc2UgRTppZigwPT09ci53cmFwKXtyLm1vZGU9RjticmVha31mb3IoO2ZlPDE2Oyl7aWYoMD09PWFlKWJyZWFrIGU7YWUtLSxzZSs9ZWVbcmUrK108PGZlLGZlKz04fWlmKDImci53cmFwJiYzNTYxNT09PXNlKXtyLmNoZWNrPTAsUGVbMF09MjU1JnNlLFBlWzFdPXNlPj4+OCYyNTUsci5jaGVjaz1hKHIuY2hlY2ssUGUsMiwwKSxzZT0wLGZlPTAsci5tb2RlPXg7YnJlYWt9aWYoci5mbGFncz0wLHIuaGVhZCYmKHIuaGVhZC5kb25lPSExKSwhKDEmci53cmFwKXx8KCgoMjU1JnNlKTw8OCkrKHNlPj44KSklMzEpe2UubXNnPVwiaW5jb3JyZWN0IGhlYWRlciBjaGVja1wiLHIubW9kZT1YO2JyZWFrfWlmKCgxNSZzZSkhPT13KXtlLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsci5tb2RlPVg7YnJlYWt9aWYoZmUtPTQsRWU9OCsoMTUmKHNlPj4+PTQpKSwwPT09ci53Yml0cylyLndiaXRzPUVlO2Vsc2UgaWYoRWU+ci53Yml0cyl7ZS5tc2c9XCJpbnZhbGlkIHdpbmRvdyBzaXplXCIsci5tb2RlPVg7YnJlYWt9ci5kbWF4PTE8PEVlLGUuYWRsZXI9ci5jaGVjaz0xLHIubW9kZT01MTImc2U/STpMLHNlPTAsZmU9MDticmVhaztjYXNlIHg6Zm9yKDtmZTwxNjspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1pZihyLmZsYWdzPXNlLCgyNTUmci5mbGFncykhPT13KXtlLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsci5tb2RlPVg7YnJlYWt9aWYoNTczNDQmci5mbGFncyl7ZS5tc2c9XCJ1bmtub3duIGhlYWRlciBmbGFncyBzZXRcIixyLm1vZGU9WDticmVha31yLmhlYWQmJihyLmhlYWQudGV4dD1zZT4+OCYxKSw1MTImci5mbGFncyYmKFBlWzBdPTI1NSZzZSxQZVsxXT1zZT4+PjgmMjU1LHIuY2hlY2s9YShyLmNoZWNrLFBlLDIsMCkpLHNlPTAsZmU9MCxyLm1vZGU9aztjYXNlIGs6Zm9yKDtmZTwzMjspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1yLmhlYWQmJihyLmhlYWQudGltZT1zZSksNTEyJnIuZmxhZ3MmJihQZVswXT0yNTUmc2UsUGVbMV09c2U+Pj44JjI1NSxQZVsyXT1zZT4+PjE2JjI1NSxQZVszXT1zZT4+PjI0JjI1NSxyLmNoZWNrPWEoci5jaGVjayxQZSw0LDApKSxzZT0wLGZlPTAsci5tb2RlPVM7Y2FzZSBTOmZvcig7ZmU8MTY7KXtpZigwPT09YWUpYnJlYWsgZTthZS0tLHNlKz1lZVtyZSsrXTw8ZmUsZmUrPTh9ci5oZWFkJiYoci5oZWFkLnhmbGFncz0yNTUmc2Usci5oZWFkLm9zPXNlPj44KSw1MTImci5mbGFncyYmKFBlWzBdPTI1NSZzZSxQZVsxXT1zZT4+PjgmMjU1LHIuY2hlY2s9YShyLmNoZWNrLFBlLDIsMCkpLHNlPTAsZmU9MCxyLm1vZGU9QTtjYXNlIEE6aWYoMTAyNCZyLmZsYWdzKXtmb3IoO2ZlPDE2Oyl7aWYoMD09PWFlKWJyZWFrIGU7YWUtLSxzZSs9ZWVbcmUrK108PGZlLGZlKz04fXIubGVuZ3RoPXNlLHIuaGVhZCYmKHIuaGVhZC5leHRyYV9sZW49c2UpLDUxMiZyLmZsYWdzJiYoUGVbMF09MjU1JnNlLFBlWzFdPXNlPj4+OCYyNTUsci5jaGVjaz1hKHIuY2hlY2ssUGUsMiwwKSksc2U9MCxmZT0wfWVsc2Ugci5oZWFkJiYoci5oZWFkLmV4dHJhPW51bGwpO3IubW9kZT1QO2Nhc2UgUDppZigxMDI0JnIuZmxhZ3MmJigoY2U9ci5sZW5ndGgpPmFlJiYoY2U9YWUpLGNlJiYoci5oZWFkJiYoRWU9ci5oZWFkLmV4dHJhX2xlbi1yLmxlbmd0aCxyLmhlYWQuZXh0cmF8fChyLmhlYWQuZXh0cmE9bmV3IEFycmF5KHIuaGVhZC5leHRyYV9sZW4pKSxuLmFycmF5U2V0KHIuaGVhZC5leHRyYSxlZSxyZSxjZSxFZSkpLDUxMiZyLmZsYWdzJiYoci5jaGVjaz1hKHIuY2hlY2ssZWUsY2UscmUpKSxhZS09Y2UscmUrPWNlLHIubGVuZ3RoLT1jZSksci5sZW5ndGgpKWJyZWFrIGU7ci5sZW5ndGg9MCxyLm1vZGU9TztjYXNlIE86aWYoMjA0OCZyLmZsYWdzKXtpZigwPT09YWUpYnJlYWsgZTtjZT0wO2Rve0VlPWVlW3JlK2NlKytdLHIuaGVhZCYmRWUmJnIubGVuZ3RoPDY1NTM2JiYoci5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoRWUpKX13aGlsZShFZSYmY2U8YWUpO2lmKDUxMiZyLmZsYWdzJiYoci5jaGVjaz1hKHIuY2hlY2ssZWUsY2UscmUpKSxhZS09Y2UscmUrPWNlLEVlKWJyZWFrIGV9ZWxzZSByLmhlYWQmJihyLmhlYWQubmFtZT1udWxsKTtyLmxlbmd0aD0wLHIubW9kZT1UO2Nhc2UgVDppZig0MDk2JnIuZmxhZ3Mpe2lmKDA9PT1hZSlicmVhayBlO2NlPTA7ZG97RWU9ZWVbcmUrY2UrK10sci5oZWFkJiZFZSYmci5sZW5ndGg8NjU1MzYmJihyLmhlYWQuY29tbWVudCs9U3RyaW5nLmZyb21DaGFyQ29kZShFZSkpfXdoaWxlKEVlJiZjZTxhZSk7aWYoNTEyJnIuZmxhZ3MmJihyLmNoZWNrPWEoci5jaGVjayxlZSxjZSxyZSkpLGFlLT1jZSxyZSs9Y2UsRWUpYnJlYWsgZX1lbHNlIHIuaGVhZCYmKHIuaGVhZC5jb21tZW50PW51bGwpO3IubW9kZT1SO2Nhc2UgUjppZig1MTImci5mbGFncyl7Zm9yKDtmZTwxNjspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1pZihzZSE9PSg2NTUzNSZyLmNoZWNrKSl7ZS5tc2c9XCJoZWFkZXIgY3JjIG1pc21hdGNoXCIsci5tb2RlPVg7YnJlYWt9c2U9MCxmZT0wfXIuaGVhZCYmKHIuaGVhZC5oY3JjPXIuZmxhZ3M+PjkmMSxyLmhlYWQuZG9uZT0hMCksZS5hZGxlcj1yLmNoZWNrPTAsci5tb2RlPUw7YnJlYWs7Y2FzZSBJOmZvcig7ZmU8MzI7KXtpZigwPT09YWUpYnJlYWsgZTthZS0tLHNlKz1lZVtyZSsrXTw8ZmUsZmUrPTh9ZS5hZGxlcj1yLmNoZWNrPW5lKHNlKSxzZT0wLGZlPTAsci5tb2RlPUQ7Y2FzZSBEOmlmKDA9PT1yLmhhdmVkaWN0KXJldHVybiBlLm5leHRfb3V0PWllLGUuYXZhaWxfb3V0PW9lLGUubmV4dF9pbj1yZSxlLmF2YWlsX2luPWFlLHIuaG9sZD1zZSxyLmJpdHM9ZmUsbTtlLmFkbGVyPXIuY2hlY2s9MSxyLm1vZGU9TDtjYXNlIEw6aWYodD09PWR8fHQ9PT1jKWJyZWFrIGU7Y2FzZSBGOmlmKHIubGFzdCl7c2U+Pj49NyZmZSxmZS09NyZmZSxyLm1vZGU9VjticmVha31mb3IoO2ZlPDM7KXtpZigwPT09YWUpYnJlYWsgZTthZS0tLHNlKz1lZVtyZSsrXTw8ZmUsZmUrPTh9c3dpdGNoKHIubGFzdD0xJnNlLGZlLT0xLDMmKHNlPj4+PTEpKXtjYXNlIDA6ci5tb2RlPVU7YnJlYWs7Y2FzZSAxOmlmKGhlKHIpLHIubW9kZT1aLHQ9PT1jKXtzZT4+Pj0yLGZlLT0yO2JyZWFrIGV9YnJlYWs7Y2FzZSAyOnIubW9kZT1OO2JyZWFrO2Nhc2UgMzplLm1zZz1cImludmFsaWQgYmxvY2sgdHlwZVwiLHIubW9kZT1YfXNlPj4+PTIsZmUtPTI7YnJlYWs7Y2FzZSBVOmZvcihzZT4+Pj03JmZlLGZlLT03JmZlO2ZlPDMyOyl7aWYoMD09PWFlKWJyZWFrIGU7YWUtLSxzZSs9ZWVbcmUrK108PGZlLGZlKz04fWlmKCg2NTUzNSZzZSkhPShzZT4+PjE2XjY1NTM1KSl7ZS5tc2c9XCJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzXCIsci5tb2RlPVg7YnJlYWt9aWYoci5sZW5ndGg9NjU1MzUmc2Usc2U9MCxmZT0wLHIubW9kZT1CLHQ9PT1jKWJyZWFrIGU7Y2FzZSBCOnIubW9kZT1NO2Nhc2UgTTppZihjZT1yLmxlbmd0aCl7aWYoY2U+YWUmJihjZT1hZSksY2U+b2UmJihjZT1vZSksMD09PWNlKWJyZWFrIGU7bi5hcnJheVNldCh0ZSxlZSxyZSxjZSxpZSksYWUtPWNlLHJlKz1jZSxvZS09Y2UsaWUrPWNlLHIubGVuZ3RoLT1jZTticmVha31yLm1vZGU9TDticmVhaztjYXNlIE46Zm9yKDtmZTwxNDspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1pZihyLm5sZW49MjU3KygzMSZzZSksc2U+Pj49NSxmZS09NSxyLm5kaXN0PTErKDMxJnNlKSxzZT4+Pj01LGZlLT01LHIubmNvZGU9NCsoMTUmc2UpLHNlPj4+PTQsZmUtPTQsci5ubGVuPjI4Nnx8ci5uZGlzdD4zMCl7ZS5tc2c9XCJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9sc1wiLHIubW9kZT1YO2JyZWFrfXIuaGF2ZT0wLHIubW9kZT1qO2Nhc2Ugajpmb3IoO3IuaGF2ZTxyLm5jb2RlOyl7Zm9yKDtmZTwzOyl7aWYoMD09PWFlKWJyZWFrIGU7YWUtLSxzZSs9ZWVbcmUrK108PGZlLGZlKz04fXIubGVuc1tPZVtyLmhhdmUrK11dPTcmc2Usc2U+Pj49MyxmZS09M31mb3IoO3IuaGF2ZTwxOTspci5sZW5zW09lW3IuaGF2ZSsrXV09MDtpZihyLmxlbmNvZGU9ci5sZW5keW4sci5sZW5iaXRzPTcsa2U9e2JpdHM6ci5sZW5iaXRzfSx4ZT1zKGYsci5sZW5zLDAsMTksci5sZW5jb2RlLDAsci53b3JrLGtlKSxyLmxlbmJpdHM9a2UuYml0cyx4ZSl7ZS5tc2c9XCJpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXRcIixyLm1vZGU9WDticmVha31yLmhhdmU9MCxyLm1vZGU9ejtjYXNlIHo6Zm9yKDtyLmhhdmU8ci5ubGVuK3IubmRpc3Q7KXtmb3IoO19lPShBZT1yLmxlbmNvZGVbc2UmKDE8PHIubGVuYml0cyktMV0pPj4+MTYmMjU1LGJlPTY1NTM1JkFlLCEoKG1lPUFlPj4+MjQpPD1mZSk7KXtpZigwPT09YWUpYnJlYWsgZTthZS0tLHNlKz1lZVtyZSsrXTw8ZmUsZmUrPTh9aWYoYmU8MTYpc2U+Pj49bWUsZmUtPW1lLHIubGVuc1tyLmhhdmUrK109YmU7ZWxzZXtpZigxNj09PWJlKXtmb3IoU2U9bWUrMjtmZTxTZTspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1pZihzZT4+Pj1tZSxmZS09bWUsMD09PXIuaGF2ZSl7ZS5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsci5tb2RlPVg7YnJlYWt9RWU9ci5sZW5zW3IuaGF2ZS0xXSxjZT0zKygzJnNlKSxzZT4+Pj0yLGZlLT0yfWVsc2UgaWYoMTc9PT1iZSl7Zm9yKFNlPW1lKzM7ZmU8U2U7KXtpZigwPT09YWUpYnJlYWsgZTthZS0tLHNlKz1lZVtyZSsrXTw8ZmUsZmUrPTh9ZmUtPW1lLEVlPTAsY2U9MysoNyYoc2U+Pj49bWUpKSxzZT4+Pj0zLGZlLT0zfWVsc2V7Zm9yKFNlPW1lKzc7ZmU8U2U7KXtpZigwPT09YWUpYnJlYWsgZTthZS0tLHNlKz1lZVtyZSsrXTw8ZmUsZmUrPTh9ZmUtPW1lLEVlPTAsY2U9MTErKDEyNyYoc2U+Pj49bWUpKSxzZT4+Pj03LGZlLT03fWlmKHIuaGF2ZStjZT5yLm5sZW4rci5uZGlzdCl7ZS5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsci5tb2RlPVg7YnJlYWt9Zm9yKDtjZS0tOylyLmxlbnNbci5oYXZlKytdPUVlfX1pZihyLm1vZGU9PT1YKWJyZWFrO2lmKDA9PT1yLmxlbnNbMjU2XSl7ZS5tc2c9XCJpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2tcIixyLm1vZGU9WDticmVha31pZihyLmxlbmJpdHM9OSxrZT17Yml0czpyLmxlbmJpdHN9LHhlPXMobCxyLmxlbnMsMCxyLm5sZW4sci5sZW5jb2RlLDAsci53b3JrLGtlKSxyLmxlbmJpdHM9a2UuYml0cyx4ZSl7ZS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXRcIixyLm1vZGU9WDticmVha31pZihyLmRpc3RiaXRzPTYsci5kaXN0Y29kZT1yLmRpc3RkeW4sa2U9e2JpdHM6ci5kaXN0Yml0c30seGU9cyh1LHIubGVucyxyLm5sZW4sci5uZGlzdCxyLmRpc3Rjb2RlLDAsci53b3JrLGtlKSxyLmRpc3RiaXRzPWtlLmJpdHMseGUpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZXMgc2V0XCIsci5tb2RlPVg7YnJlYWt9aWYoci5tb2RlPVosdD09PWMpYnJlYWsgZTtjYXNlIFo6ci5tb2RlPUM7Y2FzZSBDOmlmKGFlPj02JiZvZT49MjU4KXtlLm5leHRfb3V0PWllLGUuYXZhaWxfb3V0PW9lLGUubmV4dF9pbj1yZSxlLmF2YWlsX2luPWFlLHIuaG9sZD1zZSxyLmJpdHM9ZmUsbyhlLHVlKSxpZT1lLm5leHRfb3V0LHRlPWUub3V0cHV0LG9lPWUuYXZhaWxfb3V0LHJlPWUubmV4dF9pbixlZT1lLmlucHV0LGFlPWUuYXZhaWxfaW4sc2U9ci5ob2xkLGZlPXIuYml0cyxyLm1vZGU9PT1MJiYoci5iYWNrPS0xKTticmVha31mb3Ioci5iYWNrPTA7X2U9KEFlPXIubGVuY29kZVtzZSYoMTw8ci5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsYmU9NjU1MzUmQWUsISgobWU9QWU+Pj4yNCk8PWZlKTspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1pZihfZSYmMD09KDI0MCZfZSkpe2Zvcih5ZT1tZSx2ZT1fZSx3ZT1iZTtfZT0oQWU9ci5sZW5jb2RlW3dlKygoc2UmKDE8PHllK3ZlKS0xKT4+eWUpXSk+Pj4xNiYyNTUsYmU9NjU1MzUmQWUsISh5ZSsobWU9QWU+Pj4yNCk8PWZlKTspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1zZT4+Pj15ZSxmZS09eWUsci5iYWNrKz15ZX1pZihzZT4+Pj1tZSxmZS09bWUsci5iYWNrKz1tZSxyLmxlbmd0aD1iZSwwPT09X2Upe3IubW9kZT1HO2JyZWFrfWlmKDMyJl9lKXtyLmJhY2s9LTEsci5tb2RlPUw7YnJlYWt9aWYoNjQmX2Upe2UubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsci5tb2RlPVg7YnJlYWt9ci5leHRyYT0xNSZfZSxyLm1vZGU9cTtjYXNlIHE6aWYoci5leHRyYSl7Zm9yKFNlPXIuZXh0cmE7ZmU8U2U7KXtpZigwPT09YWUpYnJlYWsgZTthZS0tLHNlKz1lZVtyZSsrXTw8ZmUsZmUrPTh9ci5sZW5ndGgrPXNlJigxPDxyLmV4dHJhKS0xLHNlPj4+PXIuZXh0cmEsZmUtPXIuZXh0cmEsci5iYWNrKz1yLmV4dHJhfXIud2FzPXIubGVuZ3RoLHIubW9kZT1ZO2Nhc2UgWTpmb3IoO19lPShBZT1yLmRpc3Rjb2RlW3NlJigxPDxyLmRpc3RiaXRzKS0xXSk+Pj4xNiYyNTUsYmU9NjU1MzUmQWUsISgobWU9QWU+Pj4yNCk8PWZlKTspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1pZigwPT0oMjQwJl9lKSl7Zm9yKHllPW1lLHZlPV9lLHdlPWJlO19lPShBZT1yLmRpc3Rjb2RlW3dlKygoc2UmKDE8PHllK3ZlKS0xKT4+eWUpXSk+Pj4xNiYyNTUsYmU9NjU1MzUmQWUsISh5ZSsobWU9QWU+Pj4yNCk8PWZlKTspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1zZT4+Pj15ZSxmZS09eWUsci5iYWNrKz15ZX1pZihzZT4+Pj1tZSxmZS09bWUsci5iYWNrKz1tZSw2NCZfZSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixyLm1vZGU9WDticmVha31yLm9mZnNldD1iZSxyLmV4dHJhPTE1Jl9lLHIubW9kZT1XO2Nhc2UgVzppZihyLmV4dHJhKXtmb3IoU2U9ci5leHRyYTtmZTxTZTspe2lmKDA9PT1hZSlicmVhayBlO2FlLS0sc2UrPWVlW3JlKytdPDxmZSxmZSs9OH1yLm9mZnNldCs9c2UmKDE8PHIuZXh0cmEpLTEsc2U+Pj49ci5leHRyYSxmZS09ci5leHRyYSxyLmJhY2srPXIuZXh0cmF9aWYoci5vZmZzZXQ+ci5kbWF4KXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsci5tb2RlPVg7YnJlYWt9ci5tb2RlPUg7Y2FzZSBIOmlmKDA9PT1vZSlicmVhayBlO2lmKGNlPXVlLW9lLHIub2Zmc2V0PmNlKXtpZigoY2U9ci5vZmZzZXQtY2UpPnIud2hhdmUmJnIuc2FuZSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHIubW9kZT1YO2JyZWFrfWNlPnIud25leHQ/KGNlLT1yLnduZXh0LHBlPXIud3NpemUtY2UpOnBlPXIud25leHQtY2UsY2U+ci5sZW5ndGgmJihjZT1yLmxlbmd0aCksZ2U9ci53aW5kb3d9ZWxzZSBnZT10ZSxwZT1pZS1yLm9mZnNldCxjZT1yLmxlbmd0aDtjZT5vZSYmKGNlPW9lKSxvZS09Y2Usci5sZW5ndGgtPWNlO2Rve3RlW2llKytdPWdlW3BlKytdfXdoaWxlKC0tY2UpOzA9PT1yLmxlbmd0aCYmKHIubW9kZT1DKTticmVhaztjYXNlIEc6aWYoMD09PW9lKWJyZWFrIGU7dGVbaWUrK109ci5sZW5ndGgsb2UtLSxyLm1vZGU9QzticmVhaztjYXNlIFY6aWYoci53cmFwKXtmb3IoO2ZlPDMyOyl7aWYoMD09PWFlKWJyZWFrIGU7YWUtLSxzZXw9ZWVbcmUrK108PGZlLGZlKz04fWlmKHVlLT1vZSxlLnRvdGFsX291dCs9dWUsci50b3RhbCs9dWUsdWUmJihlLmFkbGVyPXIuY2hlY2s9ci5mbGFncz9hKHIuY2hlY2ssdGUsdWUsaWUtdWUpOmkoci5jaGVjayx0ZSx1ZSxpZS11ZSkpLHVlPW9lLChyLmZsYWdzP3NlOm5lKHNlKSkhPT1yLmNoZWNrKXtlLm1zZz1cImluY29ycmVjdCBkYXRhIGNoZWNrXCIsci5tb2RlPVg7YnJlYWt9c2U9MCxmZT0wfXIubW9kZT1LO2Nhc2UgSzppZihyLndyYXAmJnIuZmxhZ3Mpe2Zvcig7ZmU8MzI7KXtpZigwPT09YWUpYnJlYWsgZTthZS0tLHNlKz1lZVtyZSsrXTw8ZmUsZmUrPTh9aWYoc2UhPT0oNDI5NDk2NzI5NSZyLnRvdGFsKSl7ZS5tc2c9XCJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrXCIsci5tb2RlPVg7YnJlYWt9c2U9MCxmZT0wfXIubW9kZT1KO2Nhc2UgSjp4ZT1nO2JyZWFrIGU7Y2FzZSBYOnhlPWI7YnJlYWsgZTtjYXNlICQ6cmV0dXJuIHk7Y2FzZSBROmRlZmF1bHQ6cmV0dXJuIF99cmV0dXJuIGUubmV4dF9vdXQ9aWUsZS5hdmFpbF9vdXQ9b2UsZS5uZXh0X2luPXJlLGUuYXZhaWxfaW49YWUsci5ob2xkPXNlLHIuYml0cz1mZSwoci53c2l6ZXx8dWUhPT1lLmF2YWlsX291dCYmci5tb2RlPFgmJihyLm1vZGU8Vnx8dCE9PWgpKSYmZGUoZSxlLm91dHB1dCxlLm5leHRfb3V0LHVlLWUuYXZhaWxfb3V0KT8oci5tb2RlPSQseSk6KGxlLT1lLmF2YWlsX2luLHVlLT1lLmF2YWlsX291dCxlLnRvdGFsX2luKz1sZSxlLnRvdGFsX291dCs9dWUsci50b3RhbCs9dWUsci53cmFwJiZ1ZSYmKGUuYWRsZXI9ci5jaGVjaz1yLmZsYWdzP2Eoci5jaGVjayx0ZSx1ZSxlLm5leHRfb3V0LXVlKTppKHIuY2hlY2ssdGUsdWUsZS5uZXh0X291dC11ZSkpLGUuZGF0YV90eXBlPXIuYml0cysoci5sYXN0PzY0OjApKyhyLm1vZGU9PT1MPzEyODowKSsoci5tb2RlPT09Wnx8ci5tb2RlPT09Qj8yNTY6MCksKDA9PT1sZSYmMD09PXVlfHx0PT09aCkmJnhlPT09cCYmKHhlPXYpLHhlKX0sdC5pbmZsYXRlRW5kPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5zdGF0ZSlyZXR1cm4gXzt2YXIgdD1lLnN0YXRlO3JldHVybiB0LndpbmRvdyYmKHQud2luZG93PW51bGwpLGUuc3RhdGU9bnVsbCxwfSx0LmluZmxhdGVHZXRIZWFkZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gZSYmZS5zdGF0ZT8wPT0oMiYocj1lLnN0YXRlKS53cmFwKT9fOihyLmhlYWQ9dCx0LmRvbmU9ITEscCk6X30sdC5pbmZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbihlLHQpe3ZhciByLG49dC5sZW5ndGg7cmV0dXJuIGUmJmUuc3RhdGU/MCE9PShyPWUuc3RhdGUpLndyYXAmJnIubW9kZSE9PUQ/XzpyLm1vZGU9PT1EJiZpKDEsdCxuLDApIT09ci5jaGVjaz9iOmRlKGUsdCxuLG4pPyhyLm1vZGU9JCx5KTooci5oYXZlZGljdD0xLHApOl99LHQuaW5mbGF0ZUluZm89XCJwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ezI6XCJuZWVkIGRpY3Rpb25hcnlcIiwxOlwic3RyZWFtIGVuZFwiLDA6XCJcIixcIi0xXCI6XCJmaWxlIGVycm9yXCIsXCItMlwiOlwic3RyZWFtIGVycm9yXCIsXCItM1wiOlwiZGF0YSBlcnJvclwiLFwiLTRcIjpcImluc3VmZmljaWVudCBtZW1vcnlcIixcIi01XCI6XCJidWZmZXIgZXJyb3JcIixcIi02XCI6XCJpbmNvbXBhdGlibGUgdmVyc2lvblwifX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoOCksaT00LGE9MCxvPTEscz0yO2Z1bmN0aW9uIGYoZSl7Zm9yKHZhciB0PWUubGVuZ3RoOy0tdD49MDspZVt0XT0wfXZhciBsPTAsdT0xLGg9MixkPTI5LGM9MjU2LHA9YysxK2QsZz0zMCxtPTE5LF89MipwKzEsYj0xNSx5PTE2LHY9Nyx3PTI1NixFPTE2LHg9MTcsaz0xOCxTPVswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdLEE9WzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTNdLFA9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddLE89WzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdLFQ9bmV3IEFycmF5KDIqKHArMikpO2YoVCk7dmFyIFI9bmV3IEFycmF5KDIqZyk7ZihSKTt2YXIgST1uZXcgQXJyYXkoNTEyKTtmKEkpO3ZhciBEPW5ldyBBcnJheSgyNTYpO2YoRCk7dmFyIEw9bmV3IEFycmF5KGQpO2YoTCk7dmFyIEYsVSxCLE09bmV3IEFycmF5KGcpO2Z1bmN0aW9uIE4oZSx0LHIsbixpKXt0aGlzLnN0YXRpY190cmVlPWUsdGhpcy5leHRyYV9iaXRzPXQsdGhpcy5leHRyYV9iYXNlPXIsdGhpcy5lbGVtcz1uLHRoaXMubWF4X2xlbmd0aD1pLHRoaXMuaGFzX3N0cmVlPWUmJmUubGVuZ3RofWZ1bmN0aW9uIGooZSx0KXt0aGlzLmR5bl90cmVlPWUsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPXR9ZnVuY3Rpb24geihlKXtyZXR1cm4gZTwyNTY/SVtlXTpJWzI1NisoZT4+PjcpXX1mdW5jdGlvbiBaKGUsdCl7ZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109MjU1JnQsZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109dD4+PjgmMjU1fWZ1bmN0aW9uIEMoZSx0LHIpe2UuYmlfdmFsaWQ+eS1yPyhlLmJpX2J1Znw9dDw8ZS5iaV92YWxpZCY2NTUzNSxaKGUsZS5iaV9idWYpLGUuYmlfYnVmPXQ+PnktZS5iaV92YWxpZCxlLmJpX3ZhbGlkKz1yLXkpOihlLmJpX2J1Znw9dDw8ZS5iaV92YWxpZCY2NTUzNSxlLmJpX3ZhbGlkKz1yKX1mdW5jdGlvbiBxKGUsdCxyKXtDKGUsclsyKnRdLHJbMip0KzFdKX1mdW5jdGlvbiBZKGUsdCl7dmFyIHI9MDtkb3tyfD0xJmUsZT4+Pj0xLHI8PD0xfXdoaWxlKC0tdD4wKTtyZXR1cm4gcj4+PjF9ZnVuY3Rpb24gVyhlLHQscil7dmFyIG4saSxhPW5ldyBBcnJheShiKzEpLG89MDtmb3Iobj0xO248PWI7bisrKWFbbl09bz1vK3Jbbi0xXTw8MTtmb3IoaT0wO2k8PXQ7aSsrKXt2YXIgcz1lWzIqaSsxXTswIT09cyYmKGVbMippXT1ZKGFbc10rKyxzKSl9fWZ1bmN0aW9uIEgoZSl7dmFyIHQ7Zm9yKHQ9MDt0PHA7dCsrKWUuZHluX2x0cmVlWzIqdF09MDtmb3IodD0wO3Q8Zzt0KyspZS5keW5fZHRyZWVbMip0XT0wO2Zvcih0PTA7dDxtO3QrKyllLmJsX3RyZWVbMip0XT0wO2UuZHluX2x0cmVlWzIqd109MSxlLm9wdF9sZW49ZS5zdGF0aWNfbGVuPTAsZS5sYXN0X2xpdD1lLm1hdGNoZXM9MH1mdW5jdGlvbiBHKGUpe2UuYmlfdmFsaWQ+OD9aKGUsZS5iaV9idWYpOmUuYmlfdmFsaWQ+MCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPWUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MH1mdW5jdGlvbiBWKGUsdCxyLG4pe3ZhciBpPTIqdCxhPTIqcjtyZXR1cm4gZVtpXTxlW2FdfHxlW2ldPT09ZVthXSYmblt0XTw9bltyXX1mdW5jdGlvbiBLKGUsdCxyKXtmb3IodmFyIG49ZS5oZWFwW3JdLGk9cjw8MTtpPD1lLmhlYXBfbGVuJiYoaTxlLmhlYXBfbGVuJiZWKHQsZS5oZWFwW2krMV0sZS5oZWFwW2ldLGUuZGVwdGgpJiZpKyssIVYodCxuLGUuaGVhcFtpXSxlLmRlcHRoKSk7KWUuaGVhcFtyXT1lLmhlYXBbaV0scj1pLGk8PD0xO2UuaGVhcFtyXT1ufWZ1bmN0aW9uIEooZSx0LHIpe3ZhciBuLGksYSxvLHM9MDtpZigwIT09ZS5sYXN0X2xpdClkb3tuPWUucGVuZGluZ19idWZbZS5kX2J1ZisyKnNdPDw4fGUucGVuZGluZ19idWZbZS5kX2J1ZisyKnMrMV0saT1lLnBlbmRpbmdfYnVmW2UubF9idWYrc10scysrLDA9PT1uP3EoZSxpLHQpOihxKGUsKGE9RFtpXSkrYysxLHQpLDAhPT0obz1TW2FdKSYmQyhlLGktPUxbYV0sbykscShlLGE9eigtLW4pLHIpLDAhPT0obz1BW2FdKSYmQyhlLG4tPU1bYV0sbykpfXdoaWxlKHM8ZS5sYXN0X2xpdCk7cShlLHcsdCl9ZnVuY3Rpb24gWChlLHQpe3ZhciByLG4saSxhPXQuZHluX3RyZWUsbz10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxzPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxmPXQuc3RhdF9kZXNjLmVsZW1zLGw9LTE7Zm9yKGUuaGVhcF9sZW49MCxlLmhlYXBfbWF4PV8scj0wO3I8ZjtyKyspMCE9PWFbMipyXT8oZS5oZWFwWysrZS5oZWFwX2xlbl09bD1yLGUuZGVwdGhbcl09MCk6YVsyKnIrMV09MDtmb3IoO2UuaGVhcF9sZW48MjspYVsyKihpPWUuaGVhcFsrK2UuaGVhcF9sZW5dPWw8Mj8rK2w6MCldPTEsZS5kZXB0aFtpXT0wLGUub3B0X2xlbi0tLHMmJihlLnN0YXRpY19sZW4tPW9bMippKzFdKTtmb3IodC5tYXhfY29kZT1sLHI9ZS5oZWFwX2xlbj4+MTtyPj0xO3ItLSlLKGUsYSxyKTtpPWY7ZG97cj1lLmhlYXBbMV0sZS5oZWFwWzFdPWUuaGVhcFtlLmhlYXBfbGVuLS1dLEsoZSxhLDEpLG49ZS5oZWFwWzFdLGUuaGVhcFstLWUuaGVhcF9tYXhdPXIsZS5oZWFwWy0tZS5oZWFwX21heF09bixhWzIqaV09YVsyKnJdK2FbMipuXSxlLmRlcHRoW2ldPShlLmRlcHRoW3JdPj1lLmRlcHRoW25dP2UuZGVwdGhbcl06ZS5kZXB0aFtuXSkrMSxhWzIqcisxXT1hWzIqbisxXT1pLGUuaGVhcFsxXT1pKyssSyhlLGEsMSl9d2hpbGUoZS5oZWFwX2xlbj49Mik7ZS5oZWFwWy0tZS5oZWFwX21heF09ZS5oZWFwWzFdLGZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLGEsbyxzLGY9dC5keW5fdHJlZSxsPXQubWF4X2NvZGUsdT10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxoPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxkPXQuc3RhdF9kZXNjLmV4dHJhX2JpdHMsYz10LnN0YXRfZGVzYy5leHRyYV9iYXNlLHA9dC5zdGF0X2Rlc2MubWF4X2xlbmd0aCxnPTA7Zm9yKGE9MDthPD1iO2ErKyllLmJsX2NvdW50W2FdPTA7Zm9yKGZbMiplLmhlYXBbZS5oZWFwX21heF0rMV09MCxyPWUuaGVhcF9tYXgrMTtyPF87cisrKShhPWZbMipmWzIqKG49ZS5oZWFwW3JdKSsxXSsxXSsxKT5wJiYoYT1wLGcrKyksZlsyKm4rMV09YSxuPmx8fChlLmJsX2NvdW50W2FdKyssbz0wLG4+PWMmJihvPWRbbi1jXSkscz1mWzIqbl0sZS5vcHRfbGVuKz1zKihhK28pLGgmJihlLnN0YXRpY19sZW4rPXMqKHVbMipuKzFdK28pKSk7aWYoMCE9PWcpe2Rve2ZvcihhPXAtMTswPT09ZS5ibF9jb3VudFthXTspYS0tO2UuYmxfY291bnRbYV0tLSxlLmJsX2NvdW50W2ErMV0rPTIsZS5ibF9jb3VudFtwXS0tLGctPTJ9d2hpbGUoZz4wKTtmb3IoYT1wOzAhPT1hO2EtLSlmb3Iobj1lLmJsX2NvdW50W2FdOzAhPT1uOykoaT1lLmhlYXBbLS1yXSk+bHx8KGZbMippKzFdIT09YSYmKGUub3B0X2xlbis9KGEtZlsyKmkrMV0pKmZbMippXSxmWzIqaSsxXT1hKSxuLS0pfX0oZSx0KSxXKGEsbCxlLmJsX2NvdW50KX1mdW5jdGlvbiAkKGUsdCxyKXt2YXIgbixpLGE9LTEsbz10WzFdLHM9MCxmPTcsbD00O2ZvcigwPT09byYmKGY9MTM4LGw9MyksdFsyKihyKzEpKzFdPTY1NTM1LG49MDtuPD1yO24rKylpPW8sbz10WzIqKG4rMSkrMV0sKytzPGYmJmk9PT1vfHwoczxsP2UuYmxfdHJlZVsyKmldKz1zOjAhPT1pPyhpIT09YSYmZS5ibF90cmVlWzIqaV0rKyxlLmJsX3RyZWVbMipFXSsrKTpzPD0xMD9lLmJsX3RyZWVbMip4XSsrOmUuYmxfdHJlZVsyKmtdKysscz0wLGE9aSwwPT09bz8oZj0xMzgsbD0zKTppPT09bz8oZj02LGw9Myk6KGY9NyxsPTQpKX1mdW5jdGlvbiBRKGUsdCxyKXt2YXIgbixpLGE9LTEsbz10WzFdLHM9MCxmPTcsbD00O2ZvcigwPT09byYmKGY9MTM4LGw9Myksbj0wO248PXI7bisrKWlmKGk9byxvPXRbMioobisxKSsxXSwhKCsrczxmJiZpPT09bykpe2lmKHM8bClkb3txKGUsaSxlLmJsX3RyZWUpfXdoaWxlKDAhPS0tcyk7ZWxzZSAwIT09aT8oaSE9PWEmJihxKGUsaSxlLmJsX3RyZWUpLHMtLSkscShlLEUsZS5ibF90cmVlKSxDKGUscy0zLDIpKTpzPD0xMD8ocShlLHgsZS5ibF90cmVlKSxDKGUscy0zLDMpKToocShlLGssZS5ibF90cmVlKSxDKGUscy0xMSw3KSk7cz0wLGE9aSwwPT09bz8oZj0xMzgsbD0zKTppPT09bz8oZj02LGw9Myk6KGY9NyxsPTQpfX1mKE0pO3ZhciBlZT0hMTtmdW5jdGlvbiB0ZShlLHQscixpKXtDKGUsKGw8PDEpKyhpPzE6MCksMyksZnVuY3Rpb24oZSx0LHIsaSl7RyhlKSxpJiYoWihlLHIpLFooZSx+cikpLG4uYXJyYXlTZXQoZS5wZW5kaW5nX2J1ZixlLndpbmRvdyx0LHIsZS5wZW5kaW5nKSxlLnBlbmRpbmcrPXJ9KGUsdCxyLCEwKX10Ll90cl9pbml0PWZ1bmN0aW9uKGUpe2VlfHwoZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixpLGE9bmV3IEFycmF5KGIrMSk7Zm9yKHI9MCxuPTA7bjxkLTE7bisrKWZvcihMW25dPXIsZT0wO2U8MTw8U1tuXTtlKyspRFtyKytdPW47Zm9yKERbci0xXT1uLGk9MCxuPTA7bjwxNjtuKyspZm9yKE1bbl09aSxlPTA7ZTwxPDxBW25dO2UrKylJW2krK109bjtmb3IoaT4+PTc7bjxnO24rKylmb3IoTVtuXT1pPDw3LGU9MDtlPDE8PEFbbl0tNztlKyspSVsyNTYraSsrXT1uO2Zvcih0PTA7dDw9Yjt0KyspYVt0XT0wO2ZvcihlPTA7ZTw9MTQzOylUWzIqZSsxXT04LGUrKyxhWzhdKys7Zm9yKDtlPD0yNTU7KVRbMiplKzFdPTksZSsrLGFbOV0rKztmb3IoO2U8PTI3OTspVFsyKmUrMV09NyxlKyssYVs3XSsrO2Zvcig7ZTw9Mjg3OylUWzIqZSsxXT04LGUrKyxhWzhdKys7Zm9yKFcoVCxwKzEsYSksZT0wO2U8ZztlKyspUlsyKmUrMV09NSxSWzIqZV09WShlLDUpO0Y9bmV3IE4oVCxTLGMrMSxwLGIpLFU9bmV3IE4oUixBLDAsZyxiKSxCPW5ldyBOKG5ldyBBcnJheSgwKSxQLDAsbSx2KX0oKSxlZT0hMCksZS5sX2Rlc2M9bmV3IGooZS5keW5fbHRyZWUsRiksZS5kX2Rlc2M9bmV3IGooZS5keW5fZHRyZWUsVSksZS5ibF9kZXNjPW5ldyBqKGUuYmxfdHJlZSxCKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MCxIKGUpfSx0Ll90cl9zdG9yZWRfYmxvY2s9dGUsdC5fdHJfZmx1c2hfYmxvY2s9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGYsbCxkPTA7ZS5sZXZlbD4wPyhlLnN0cm0uZGF0YV90eXBlPT09cyYmKGUuc3RybS5kYXRhX3R5cGU9ZnVuY3Rpb24oZSl7dmFyIHQscj00MDkzNjI0NDQ3O2Zvcih0PTA7dDw9MzE7dCsrLHI+Pj49MSlpZigxJnImJjAhPT1lLmR5bl9sdHJlZVsyKnRdKXJldHVybiBhO2lmKDAhPT1lLmR5bl9sdHJlZVsxOF18fDAhPT1lLmR5bl9sdHJlZVsyMF18fDAhPT1lLmR5bl9sdHJlZVsyNl0pcmV0dXJuIG87Zm9yKHQ9MzI7dDxjO3QrKylpZigwIT09ZS5keW5fbHRyZWVbMip0XSlyZXR1cm4gbztyZXR1cm4gYX0oZSkpLFgoZSxlLmxfZGVzYyksWChlLGUuZF9kZXNjKSxkPWZ1bmN0aW9uKGUpe3ZhciB0O2ZvcigkKGUsZS5keW5fbHRyZWUsZS5sX2Rlc2MubWF4X2NvZGUpLCQoZSxlLmR5bl9kdHJlZSxlLmRfZGVzYy5tYXhfY29kZSksWChlLGUuYmxfZGVzYyksdD1tLTE7dD49MyYmMD09PWUuYmxfdHJlZVsyKk9bdF0rMV07dC0tKTtyZXR1cm4gZS5vcHRfbGVuKz0zKih0KzEpKzUrNSs0LHR9KGUpLGY9ZS5vcHRfbGVuKzMrNz4+PjMsKGw9ZS5zdGF0aWNfbGVuKzMrNz4+PjMpPD1mJiYoZj1sKSk6Zj1sPXIrNSxyKzQ8PWYmJi0xIT09dD90ZShlLHQscixuKTplLnN0cmF0ZWd5PT09aXx8bD09PWY/KEMoZSwodTw8MSkrKG4/MTowKSwzKSxKKGUsVCxSKSk6KEMoZSwoaDw8MSkrKG4/MTowKSwzKSxmdW5jdGlvbihlLHQscixuKXt2YXIgaTtmb3IoQyhlLHQtMjU3LDUpLEMoZSxyLTEsNSksQyhlLG4tNCw0KSxpPTA7aTxuO2krKylDKGUsZS5ibF90cmVlWzIqT1tpXSsxXSwzKTtRKGUsZS5keW5fbHRyZWUsdC0xKSxRKGUsZS5keW5fZHRyZWUsci0xKX0oZSxlLmxfZGVzYy5tYXhfY29kZSsxLGUuZF9kZXNjLm1heF9jb2RlKzEsZCsxKSxKKGUsZS5keW5fbHRyZWUsZS5keW5fZHRyZWUpKSxIKGUpLG4mJkcoZSl9LHQuX3RyX3RhbGx5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5wZW5kaW5nX2J1ZltlLmRfYnVmKzIqZS5sYXN0X2xpdF09dD4+PjgmMjU1LGUucGVuZGluZ19idWZbZS5kX2J1ZisyKmUubGFzdF9saXQrMV09MjU1JnQsZS5wZW5kaW5nX2J1ZltlLmxfYnVmK2UubGFzdF9saXRdPTI1NSZyLGUubGFzdF9saXQrKywwPT09dD9lLmR5bl9sdHJlZVsyKnJdKys6KGUubWF0Y2hlcysrLHQtLSxlLmR5bl9sdHJlZVsyKihEW3JdK2MrMSldKyssZS5keW5fZHRyZWVbMip6KHQpXSsrKSxlLmxhc3RfbGl0PT09ZS5saXRfYnVmc2l6ZS0xfSx0Ll90cl9hbGlnbj1mdW5jdGlvbihlKXtDKGUsdTw8MSwzKSxxKGUsdyxUKSxmdW5jdGlvbihlKXsxNj09PWUuYmlfdmFsaWQ/KFooZSxlLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTApOmUuYmlfdmFsaWQ+PTgmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmZS5iaV9idWYsZS5iaV9idWY+Pj04LGUuYmlfdmFsaWQtPTgpfShlKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbixpPXIoOCksYT1yKDUwKSxvPXIoMjgpLHM9cigyNyksZj1yKDQ5KSxsPTAsdT0xLGg9MyxkPTQsYz01LHA9MCxnPTEsbT0tMixfPS0zLGI9LTUseT0tMSx2PTEsdz0yLEU9Myx4PTQsaz0wLFM9MixBPTgsUD05LE89MTUsVD04LFI9Mjg2LEk9MzAsRD0xOSxMPTIqUisxLEY9MTUsVT0zLEI9MjU4LE09QitVKzEsTj0zMixqPTQyLHo9NjksWj03MyxDPTkxLHE9MTAzLFk9MTEzLFc9NjY2LEg9MSxHPTIsVj0zLEs9NCxKPTM7ZnVuY3Rpb24gWChlLHQpe3JldHVybiBlLm1zZz1mW3RdLHR9ZnVuY3Rpb24gJChlKXtyZXR1cm4oZTw8MSktKGU+ND85OjApfWZ1bmN0aW9uIFEoZSl7Zm9yKHZhciB0PWUubGVuZ3RoOy0tdD49MDspZVt0XT0wfWZ1bmN0aW9uIGVlKGUpe3ZhciB0PWUuc3RhdGUscj10LnBlbmRpbmc7cj5lLmF2YWlsX291dCYmKHI9ZS5hdmFpbF9vdXQpLDAhPT1yJiYoaS5hcnJheVNldChlLm91dHB1dCx0LnBlbmRpbmdfYnVmLHQucGVuZGluZ19vdXQscixlLm5leHRfb3V0KSxlLm5leHRfb3V0Kz1yLHQucGVuZGluZ19vdXQrPXIsZS50b3RhbF9vdXQrPXIsZS5hdmFpbF9vdXQtPXIsdC5wZW5kaW5nLT1yLDA9PT10LnBlbmRpbmcmJih0LnBlbmRpbmdfb3V0PTApKX1mdW5jdGlvbiB0ZShlLHQpe2EuX3RyX2ZsdXNoX2Jsb2NrKGUsZS5ibG9ja19zdGFydD49MD9lLmJsb2NrX3N0YXJ0Oi0xLGUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydCx0KSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQsZWUoZS5zdHJtKX1mdW5jdGlvbiByZShlLHQpe2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXR9ZnVuY3Rpb24gbmUoZSx0KXtlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10Pj4+OCYyNTUsZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109MjU1JnR9ZnVuY3Rpb24gaWUoZSx0KXt2YXIgcixuLGk9ZS5tYXhfY2hhaW5fbGVuZ3RoLGE9ZS5zdHJzdGFydCxvPWUucHJldl9sZW5ndGgscz1lLm5pY2VfbWF0Y2gsZj1lLnN0cnN0YXJ0PmUud19zaXplLU0/ZS5zdHJzdGFydC0oZS53X3NpemUtTSk6MCxsPWUud2luZG93LHU9ZS53X21hc2ssaD1lLnByZXYsZD1lLnN0cnN0YXJ0K0IsYz1sW2Erby0xXSxwPWxbYStvXTtlLnByZXZfbGVuZ3RoPj1lLmdvb2RfbWF0Y2gmJihpPj49Mikscz5lLmxvb2thaGVhZCYmKHM9ZS5sb29rYWhlYWQpO2Rve2lmKGxbKHI9dCkrb109PT1wJiZsW3Irby0xXT09PWMmJmxbcl09PT1sW2FdJiZsWysrcl09PT1sW2ErMV0pe2ErPTIscisrO2Rve313aGlsZShsWysrYV09PT1sWysrcl0mJmxbKythXT09PWxbKytyXSYmbFsrK2FdPT09bFsrK3JdJiZsWysrYV09PT1sWysrcl0mJmxbKythXT09PWxbKytyXSYmbFsrK2FdPT09bFsrK3JdJiZsWysrYV09PT1sWysrcl0mJmxbKythXT09PWxbKytyXSYmYTxkKTtpZihuPUItKGQtYSksYT1kLUIsbj5vKXtpZihlLm1hdGNoX3N0YXJ0PXQsbz1uLG4+PXMpYnJlYWs7Yz1sW2Erby0xXSxwPWxbYStvXX19fXdoaWxlKCh0PWhbdCZ1XSk+ZiYmMCE9LS1pKTtyZXR1cm4gbzw9ZS5sb29rYWhlYWQ/bzplLmxvb2thaGVhZH1mdW5jdGlvbiBhZShlKXt2YXIgdCxyLG4sYSxmLGwsdSxoLGQsYyxwPWUud19zaXplO2Rve2lmKGE9ZS53aW5kb3dfc2l6ZS1lLmxvb2thaGVhZC1lLnN0cnN0YXJ0LGUuc3Ryc3RhcnQ+PXArKHAtTSkpe2kuYXJyYXlTZXQoZS53aW5kb3csZS53aW5kb3cscCxwLDApLGUubWF0Y2hfc3RhcnQtPXAsZS5zdHJzdGFydC09cCxlLmJsb2NrX3N0YXJ0LT1wLHQ9cj1lLmhhc2hfc2l6ZTtkb3tuPWUuaGVhZFstLXRdLGUuaGVhZFt0XT1uPj1wP24tcDowfXdoaWxlKC0tcik7dD1yPXA7ZG97bj1lLnByZXZbLS10XSxlLnByZXZbdF09bj49cD9uLXA6MH13aGlsZSgtLXIpO2ErPXB9aWYoMD09PWUuc3RybS5hdmFpbF9pbilicmVhaztpZihsPWUuc3RybSx1PWUud2luZG93LGg9ZS5zdHJzdGFydCtlLmxvb2thaGVhZCxkPWEsYz12b2lkIDAsKGM9bC5hdmFpbF9pbik+ZCYmKGM9ZCkscj0wPT09Yz8wOihsLmF2YWlsX2luLT1jLGkuYXJyYXlTZXQodSxsLmlucHV0LGwubmV4dF9pbixjLGgpLDE9PT1sLnN0YXRlLndyYXA/bC5hZGxlcj1vKGwuYWRsZXIsdSxjLGgpOjI9PT1sLnN0YXRlLndyYXAmJihsLmFkbGVyPXMobC5hZGxlcix1LGMsaCkpLGwubmV4dF9pbis9YyxsLnRvdGFsX2luKz1jLGMpLGUubG9va2FoZWFkKz1yLGUubG9va2FoZWFkK2UuaW5zZXJ0Pj1VKWZvcihmPWUuc3Ryc3RhcnQtZS5pbnNlcnQsZS5pbnNfaD1lLndpbmRvd1tmXSxlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZisxXSkmZS5oYXNoX21hc2s7ZS5pbnNlcnQmJihlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZitVLTFdKSZlLmhhc2hfbWFzayxlLnByZXZbZiZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1mLGYrKyxlLmluc2VydC0tLCEoZS5sb29rYWhlYWQrZS5pbnNlcnQ8VSkpOyk7fXdoaWxlKGUubG9va2FoZWFkPE0mJjAhPT1lLnN0cm0uYXZhaWxfaW4pfWZ1bmN0aW9uIG9lKGUsdCl7Zm9yKHZhciByLG47Oyl7aWYoZS5sb29rYWhlYWQ8TSl7aWYoYWUoZSksZS5sb29rYWhlYWQ8TSYmdD09PWwpcmV0dXJuIEg7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWlmKHI9MCxlLmxvb2thaGVhZD49VSYmKGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0K1UtMV0pJmUuaGFzaF9tYXNrLHI9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCksMCE9PXImJmUuc3Ryc3RhcnQtcjw9ZS53X3NpemUtTSYmKGUubWF0Y2hfbGVuZ3RoPWllKGUscikpLGUubWF0Y2hfbGVuZ3RoPj1VKWlmKG49YS5fdHJfdGFsbHkoZSxlLnN0cnN0YXJ0LWUubWF0Y2hfc3RhcnQsZS5tYXRjaF9sZW5ndGgtVSksZS5sb29rYWhlYWQtPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPD1lLm1heF9sYXp5X21hdGNoJiZlLmxvb2thaGVhZD49VSl7ZS5tYXRjaF9sZW5ndGgtLTtkb3tlLnN0cnN0YXJ0KyssZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W2Uuc3Ryc3RhcnQrVS0xXSkmZS5oYXNoX21hc2sscj1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0fXdoaWxlKDAhPS0tZS5tYXRjaF9sZW5ndGgpO2Uuc3Ryc3RhcnQrK31lbHNlIGUuc3Ryc3RhcnQrPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPTAsZS5pbnNfaD1lLndpbmRvd1tlLnN0cnN0YXJ0XSxlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZS5zdHJzdGFydCsxXSkmZS5oYXNoX21hc2s7ZWxzZSBuPWEuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0Kys7aWYobiYmKHRlKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gSH1yZXR1cm4gZS5pbnNlcnQ9ZS5zdHJzdGFydDxVLTE/ZS5zdHJzdGFydDpVLTEsdD09PWQ/KHRlKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0P1Y6Syk6ZS5sYXN0X2xpdCYmKHRlKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT9IOkd9ZnVuY3Rpb24gc2UoZSx0KXtmb3IodmFyIHIsbixpOzspe2lmKGUubG9va2FoZWFkPE0pe2lmKGFlKGUpLGUubG9va2FoZWFkPE0mJnQ9PT1sKXJldHVybiBIO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihyPTAsZS5sb29rYWhlYWQ+PVUmJihlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZS5zdHJzdGFydCtVLTFdKSZlLmhhc2hfbWFzayxyPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQpLGUucHJldl9sZW5ndGg9ZS5tYXRjaF9sZW5ndGgsZS5wcmV2X21hdGNoPWUubWF0Y2hfc3RhcnQsZS5tYXRjaF9sZW5ndGg9VS0xLDAhPT1yJiZlLnByZXZfbGVuZ3RoPGUubWF4X2xhenlfbWF0Y2gmJmUuc3Ryc3RhcnQtcjw9ZS53X3NpemUtTSYmKGUubWF0Y2hfbGVuZ3RoPWllKGUsciksZS5tYXRjaF9sZW5ndGg8PTUmJihlLnN0cmF0ZWd5PT09dnx8ZS5tYXRjaF9sZW5ndGg9PT1VJiZlLnN0cnN0YXJ0LWUubWF0Y2hfc3RhcnQ+NDA5NikmJihlLm1hdGNoX2xlbmd0aD1VLTEpKSxlLnByZXZfbGVuZ3RoPj1VJiZlLm1hdGNoX2xlbmd0aDw9ZS5wcmV2X2xlbmd0aCl7aT1lLnN0cnN0YXJ0K2UubG9va2FoZWFkLVUsbj1hLl90cl90YWxseShlLGUuc3Ryc3RhcnQtMS1lLnByZXZfbWF0Y2gsZS5wcmV2X2xlbmd0aC1VKSxlLmxvb2thaGVhZC09ZS5wcmV2X2xlbmd0aC0xLGUucHJldl9sZW5ndGgtPTI7ZG97KytlLnN0cnN0YXJ0PD1pJiYoZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W2Uuc3Ryc3RhcnQrVS0xXSkmZS5oYXNoX21hc2sscj1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KX13aGlsZSgwIT0tLWUucHJldl9sZW5ndGgpO2lmKGUubWF0Y2hfYXZhaWxhYmxlPTAsZS5tYXRjaF9sZW5ndGg9VS0xLGUuc3Ryc3RhcnQrKyxuJiYodGUoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBIfWVsc2UgaWYoZS5tYXRjaF9hdmFpbGFibGUpe2lmKChuPWEuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0LTFdKSkmJnRlKGUsITEpLGUuc3Ryc3RhcnQrKyxlLmxvb2thaGVhZC0tLDA9PT1lLnN0cm0uYXZhaWxfb3V0KXJldHVybiBIfWVsc2UgZS5tYXRjaF9hdmFpbGFibGU9MSxlLnN0cnN0YXJ0KyssZS5sb29rYWhlYWQtLX1yZXR1cm4gZS5tYXRjaF9hdmFpbGFibGUmJihuPWEuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0LTFdKSxlLm1hdGNoX2F2YWlsYWJsZT0wKSxlLmluc2VydD1lLnN0cnN0YXJ0PFUtMT9lLnN0cnN0YXJ0OlUtMSx0PT09ZD8odGUoZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/VjpLKTplLmxhc3RfbGl0JiYodGUoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpP0g6R31mdW5jdGlvbiBmZShlLHQscixuLGkpe3RoaXMuZ29vZF9sZW5ndGg9ZSx0aGlzLm1heF9sYXp5PXQsdGhpcy5uaWNlX2xlbmd0aD1yLHRoaXMubWF4X2NoYWluPW4sdGhpcy5mdW5jPWl9ZnVuY3Rpb24gbGUoZSl7dmFyIHQ7cmV0dXJuIGUmJmUuc3RhdGU/KGUudG90YWxfaW49ZS50b3RhbF9vdXQ9MCxlLmRhdGFfdHlwZT1TLCh0PWUuc3RhdGUpLnBlbmRpbmc9MCx0LnBlbmRpbmdfb3V0PTAsdC53cmFwPDAmJih0LndyYXA9LXQud3JhcCksdC5zdGF0dXM9dC53cmFwP2o6WSxlLmFkbGVyPTI9PT10LndyYXA/MDoxLHQubGFzdF9mbHVzaD1sLGEuX3RyX2luaXQodCkscCk6WChlLG0pfWZ1bmN0aW9uIHVlKGUpe3ZhciB0LHI9bGUoZSk7cmV0dXJuIHI9PT1wJiYoKHQ9ZS5zdGF0ZSkud2luZG93X3NpemU9Mip0Lndfc2l6ZSxRKHQuaGVhZCksdC5tYXhfbGF6eV9tYXRjaD1uW3QubGV2ZWxdLm1heF9sYXp5LHQuZ29vZF9tYXRjaD1uW3QubGV2ZWxdLmdvb2RfbGVuZ3RoLHQubmljZV9tYXRjaD1uW3QubGV2ZWxdLm5pY2VfbGVuZ3RoLHQubWF4X2NoYWluX2xlbmd0aD1uW3QubGV2ZWxdLm1heF9jaGFpbix0LnN0cnN0YXJ0PTAsdC5ibG9ja19zdGFydD0wLHQubG9va2FoZWFkPTAsdC5pbnNlcnQ9MCx0Lm1hdGNoX2xlbmd0aD10LnByZXZfbGVuZ3RoPVUtMSx0Lm1hdGNoX2F2YWlsYWJsZT0wLHQuaW5zX2g9MCkscn1mdW5jdGlvbiBoZShlLHQscixuLGEsbyl7aWYoIWUpcmV0dXJuIG07dmFyIHM9MTtpZih0PT09eSYmKHQ9NiksbjwwPyhzPTAsbj0tbik6bj4xNSYmKHM9MixuLT0xNiksYTwxfHxhPlB8fHIhPT1BfHxuPDh8fG4+MTV8fHQ8MHx8dD45fHxvPDB8fG8+eClyZXR1cm4gWChlLG0pOzg9PT1uJiYobj05KTt2YXIgZj1uZXcgZnVuY3Rpb24oKXt0aGlzLnN0cm09bnVsbCx0aGlzLnN0YXR1cz0wLHRoaXMucGVuZGluZ19idWY9bnVsbCx0aGlzLnBlbmRpbmdfYnVmX3NpemU9MCx0aGlzLnBlbmRpbmdfb3V0PTAsdGhpcy5wZW5kaW5nPTAsdGhpcy53cmFwPTAsdGhpcy5nemhlYWQ9bnVsbCx0aGlzLmd6aW5kZXg9MCx0aGlzLm1ldGhvZD1BLHRoaXMubGFzdF9mbHVzaD0tMSx0aGlzLndfc2l6ZT0wLHRoaXMud19iaXRzPTAsdGhpcy53X21hc2s9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMud2luZG93X3NpemU9MCx0aGlzLnByZXY9bnVsbCx0aGlzLmhlYWQ9bnVsbCx0aGlzLmluc19oPTAsdGhpcy5oYXNoX3NpemU9MCx0aGlzLmhhc2hfYml0cz0wLHRoaXMuaGFzaF9tYXNrPTAsdGhpcy5oYXNoX3NoaWZ0PTAsdGhpcy5ibG9ja19zdGFydD0wLHRoaXMubWF0Y2hfbGVuZ3RoPTAsdGhpcy5wcmV2X21hdGNoPTAsdGhpcy5tYXRjaF9hdmFpbGFibGU9MCx0aGlzLnN0cnN0YXJ0PTAsdGhpcy5tYXRjaF9zdGFydD0wLHRoaXMubG9va2FoZWFkPTAsdGhpcy5wcmV2X2xlbmd0aD0wLHRoaXMubWF4X2NoYWluX2xlbmd0aD0wLHRoaXMubWF4X2xhenlfbWF0Y2g9MCx0aGlzLmxldmVsPTAsdGhpcy5zdHJhdGVneT0wLHRoaXMuZ29vZF9tYXRjaD0wLHRoaXMubmljZV9tYXRjaD0wLHRoaXMuZHluX2x0cmVlPW5ldyBpLkJ1ZjE2KDIqTCksdGhpcy5keW5fZHRyZWU9bmV3IGkuQnVmMTYoMiooMipJKzEpKSx0aGlzLmJsX3RyZWU9bmV3IGkuQnVmMTYoMiooMipEKzEpKSxRKHRoaXMuZHluX2x0cmVlKSxRKHRoaXMuZHluX2R0cmVlKSxRKHRoaXMuYmxfdHJlZSksdGhpcy5sX2Rlc2M9bnVsbCx0aGlzLmRfZGVzYz1udWxsLHRoaXMuYmxfZGVzYz1udWxsLHRoaXMuYmxfY291bnQ9bmV3IGkuQnVmMTYoRisxKSx0aGlzLmhlYXA9bmV3IGkuQnVmMTYoMipSKzEpLFEodGhpcy5oZWFwKSx0aGlzLmhlYXBfbGVuPTAsdGhpcy5oZWFwX21heD0wLHRoaXMuZGVwdGg9bmV3IGkuQnVmMTYoMipSKzEpLFEodGhpcy5kZXB0aCksdGhpcy5sX2J1Zj0wLHRoaXMubGl0X2J1ZnNpemU9MCx0aGlzLmxhc3RfbGl0PTAsdGhpcy5kX2J1Zj0wLHRoaXMub3B0X2xlbj0wLHRoaXMuc3RhdGljX2xlbj0wLHRoaXMubWF0Y2hlcz0wLHRoaXMuaW5zZXJ0PTAsdGhpcy5iaV9idWY9MCx0aGlzLmJpX3ZhbGlkPTB9O3JldHVybiBlLnN0YXRlPWYsZi5zdHJtPWUsZi53cmFwPXMsZi5nemhlYWQ9bnVsbCxmLndfYml0cz1uLGYud19zaXplPTE8PGYud19iaXRzLGYud19tYXNrPWYud19zaXplLTEsZi5oYXNoX2JpdHM9YSs3LGYuaGFzaF9zaXplPTE8PGYuaGFzaF9iaXRzLGYuaGFzaF9tYXNrPWYuaGFzaF9zaXplLTEsZi5oYXNoX3NoaWZ0PX5+KChmLmhhc2hfYml0cytVLTEpL1UpLGYud2luZG93PW5ldyBpLkJ1ZjgoMipmLndfc2l6ZSksZi5oZWFkPW5ldyBpLkJ1ZjE2KGYuaGFzaF9zaXplKSxmLnByZXY9bmV3IGkuQnVmMTYoZi53X3NpemUpLGYubGl0X2J1ZnNpemU9MTw8YSs2LGYucGVuZGluZ19idWZfc2l6ZT00KmYubGl0X2J1ZnNpemUsZi5wZW5kaW5nX2J1Zj1uZXcgaS5CdWY4KGYucGVuZGluZ19idWZfc2l6ZSksZi5kX2J1Zj0xKmYubGl0X2J1ZnNpemUsZi5sX2J1Zj0zKmYubGl0X2J1ZnNpemUsZi5sZXZlbD10LGYuc3RyYXRlZ3k9byxmLm1ldGhvZD1yLHVlKGUpfW49W25ldyBmZSgwLDAsMCwwLGZ1bmN0aW9uKGUsdCl7dmFyIHI9NjU1MzU7Zm9yKHI+ZS5wZW5kaW5nX2J1Zl9zaXplLTUmJihyPWUucGVuZGluZ19idWZfc2l6ZS01KTs7KXtpZihlLmxvb2thaGVhZDw9MSl7aWYoYWUoZSksMD09PWUubG9va2FoZWFkJiZ0PT09bClyZXR1cm4gSDtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9ZS5zdHJzdGFydCs9ZS5sb29rYWhlYWQsZS5sb29rYWhlYWQ9MDt2YXIgbj1lLmJsb2NrX3N0YXJ0K3I7aWYoKDA9PT1lLnN0cnN0YXJ0fHxlLnN0cnN0YXJ0Pj1uKSYmKGUubG9va2FoZWFkPWUuc3Ryc3RhcnQtbixlLnN0cnN0YXJ0PW4sdGUoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBIO2lmKGUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydD49ZS53X3NpemUtTSYmKHRlKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gSH1yZXR1cm4gZS5pbnNlcnQ9MCx0PT09ZD8odGUoZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/VjpLKTooZS5zdHJzdGFydD5lLmJsb2NrX3N0YXJ0JiYodGUoZSwhMSksZS5zdHJtLmF2YWlsX291dCksSCl9KSxuZXcgZmUoNCw0LDgsNCxvZSksbmV3IGZlKDQsNSwxNiw4LG9lKSxuZXcgZmUoNCw2LDMyLDMyLG9lKSxuZXcgZmUoNCw0LDE2LDE2LHNlKSxuZXcgZmUoOCwxNiwzMiwzMixzZSksbmV3IGZlKDgsMTYsMTI4LDEyOCxzZSksbmV3IGZlKDgsMzIsMTI4LDI1NixzZSksbmV3IGZlKDMyLDEyOCwyNTgsMTAyNCxzZSksbmV3IGZlKDMyLDI1OCwyNTgsNDA5NixzZSldLHQuZGVmbGF0ZUluaXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaGUoZSx0LEEsTyxULGspfSx0LmRlZmxhdGVJbml0Mj1oZSx0LmRlZmxhdGVSZXNldD11ZSx0LmRlZmxhdGVSZXNldEtlZXA9bGUsdC5kZWZsYXRlU2V0SGVhZGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUuc3RhdGU/MiE9PWUuc3RhdGUud3JhcD9tOihlLnN0YXRlLmd6aGVhZD10LHApOm19LHQuZGVmbGF0ZT1mdW5jdGlvbihlLHQpe3ZhciByLGksbyxmO2lmKCFlfHwhZS5zdGF0ZXx8dD5jfHx0PDApcmV0dXJuIGU/WChlLG0pOm07aWYoaT1lLnN0YXRlLCFlLm91dHB1dHx8IWUuaW5wdXQmJjAhPT1lLmF2YWlsX2lufHxpLnN0YXR1cz09PVcmJnQhPT1kKXJldHVybiBYKGUsMD09PWUuYXZhaWxfb3V0P2I6bSk7aWYoaS5zdHJtPWUscj1pLmxhc3RfZmx1c2gsaS5sYXN0X2ZsdXNoPXQsaS5zdGF0dXM9PT1qKWlmKDI9PT1pLndyYXApZS5hZGxlcj0wLHJlKGksMzEpLHJlKGksMTM5KSxyZShpLDgpLGkuZ3poZWFkPyhyZShpLChpLmd6aGVhZC50ZXh0PzE6MCkrKGkuZ3poZWFkLmhjcmM/MjowKSsoaS5nemhlYWQuZXh0cmE/NDowKSsoaS5nemhlYWQubmFtZT84OjApKyhpLmd6aGVhZC5jb21tZW50PzE2OjApKSxyZShpLDI1NSZpLmd6aGVhZC50aW1lKSxyZShpLGkuZ3poZWFkLnRpbWU+PjgmMjU1KSxyZShpLGkuZ3poZWFkLnRpbWU+PjE2JjI1NSkscmUoaSxpLmd6aGVhZC50aW1lPj4yNCYyNTUpLHJlKGksOT09PWkubGV2ZWw/MjppLnN0cmF0ZWd5Pj13fHxpLmxldmVsPDI/NDowKSxyZShpLDI1NSZpLmd6aGVhZC5vcyksaS5nemhlYWQuZXh0cmEmJmkuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKHJlKGksMjU1JmkuZ3poZWFkLmV4dHJhLmxlbmd0aCkscmUoaSxpLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksaS5nemhlYWQuaGNyYyYmKGUuYWRsZXI9cyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLDApKSxpLmd6aW5kZXg9MCxpLnN0YXR1cz16KToocmUoaSwwKSxyZShpLDApLHJlKGksMCkscmUoaSwwKSxyZShpLDApLHJlKGksOT09PWkubGV2ZWw/MjppLnN0cmF0ZWd5Pj13fHxpLmxldmVsPDI/NDowKSxyZShpLEopLGkuc3RhdHVzPVkpO2Vsc2V7dmFyIF89QSsoaS53X2JpdHMtODw8NCk8PDg7X3w9KGkuc3RyYXRlZ3k+PXd8fGkubGV2ZWw8Mj8wOmkubGV2ZWw8Nj8xOjY9PT1pLmxldmVsPzI6Myk8PDYsMCE9PWkuc3Ryc3RhcnQmJihffD1OKSxfKz0zMS1fJTMxLGkuc3RhdHVzPVksbmUoaSxfKSwwIT09aS5zdHJzdGFydCYmKG5lKGksZS5hZGxlcj4+PjE2KSxuZShpLDY1NTM1JmUuYWRsZXIpKSxlLmFkbGVyPTF9aWYoaS5zdGF0dXM9PT16KWlmKGkuZ3poZWFkLmV4dHJhKXtmb3Iobz1pLnBlbmRpbmc7aS5nemluZGV4PCg2NTUzNSZpLmd6aGVhZC5leHRyYS5sZW5ndGgpJiYoaS5wZW5kaW5nIT09aS5wZW5kaW5nX2J1Zl9zaXplfHwoaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm8mJihlLmFkbGVyPXMoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1vLG8pKSxlZShlKSxvPWkucGVuZGluZyxpLnBlbmRpbmchPT1pLnBlbmRpbmdfYnVmX3NpemUpKTspcmUoaSwyNTUmaS5nemhlYWQuZXh0cmFbaS5nemluZGV4XSksaS5nemluZGV4Kys7aS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm8mJihlLmFkbGVyPXMoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1vLG8pKSxpLmd6aW5kZXg9PT1pLmd6aGVhZC5leHRyYS5sZW5ndGgmJihpLmd6aW5kZXg9MCxpLnN0YXR1cz1aKX1lbHNlIGkuc3RhdHVzPVo7aWYoaS5zdGF0dXM9PT1aKWlmKGkuZ3poZWFkLm5hbWUpe289aS5wZW5kaW5nO2Rve2lmKGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSYmKGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5vJiYoZS5hZGxlcj1zKGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbyxvKSksZWUoZSksbz1pLnBlbmRpbmcsaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplKSl7Zj0xO2JyZWFrfWY9aS5nemluZGV4PGkuZ3poZWFkLm5hbWUubGVuZ3RoPzI1NSZpLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjAscmUoaSxmKX13aGlsZSgwIT09Zik7aS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm8mJihlLmFkbGVyPXMoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1vLG8pKSwwPT09ZiYmKGkuZ3ppbmRleD0wLGkuc3RhdHVzPUMpfWVsc2UgaS5zdGF0dXM9QztpZihpLnN0YXR1cz09PUMpaWYoaS5nemhlYWQuY29tbWVudCl7bz1pLnBlbmRpbmc7ZG97aWYoaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplJiYoaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm8mJihlLmFkbGVyPXMoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1vLG8pKSxlZShlKSxvPWkucGVuZGluZyxpLnBlbmRpbmc9PT1pLnBlbmRpbmdfYnVmX3NpemUpKXtmPTE7YnJlYWt9Zj1pLmd6aW5kZXg8aS5nemhlYWQuY29tbWVudC5sZW5ndGg/MjU1JmkuZ3poZWFkLmNvbW1lbnQuY2hhckNvZGVBdChpLmd6aW5kZXgrKyk6MCxyZShpLGYpfXdoaWxlKDAhPT1mKTtpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+byYmKGUuYWRsZXI9cyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW8sbykpLDA9PT1mJiYoaS5zdGF0dXM9cSl9ZWxzZSBpLnN0YXR1cz1xO2lmKGkuc3RhdHVzPT09cSYmKGkuZ3poZWFkLmhjcmM/KGkucGVuZGluZysyPmkucGVuZGluZ19idWZfc2l6ZSYmZWUoZSksaS5wZW5kaW5nKzI8PWkucGVuZGluZ19idWZfc2l6ZSYmKHJlKGksMjU1JmUuYWRsZXIpLHJlKGksZS5hZGxlcj4+OCYyNTUpLGUuYWRsZXI9MCxpLnN0YXR1cz1ZKSk6aS5zdGF0dXM9WSksMCE9PWkucGVuZGluZyl7aWYoZWUoZSksMD09PWUuYXZhaWxfb3V0KXJldHVybiBpLmxhc3RfZmx1c2g9LTEscH1lbHNlIGlmKDA9PT1lLmF2YWlsX2luJiYkKHQpPD0kKHIpJiZ0IT09ZClyZXR1cm4gWChlLGIpO2lmKGkuc3RhdHVzPT09VyYmMCE9PWUuYXZhaWxfaW4pcmV0dXJuIFgoZSxiKTtpZigwIT09ZS5hdmFpbF9pbnx8MCE9PWkubG9va2FoZWFkfHx0IT09bCYmaS5zdGF0dXMhPT1XKXt2YXIgeT1pLnN0cmF0ZWd5PT09dz9mdW5jdGlvbihlLHQpe2Zvcih2YXIgcjs7KXtpZigwPT09ZS5sb29rYWhlYWQmJihhZShlKSwwPT09ZS5sb29rYWhlYWQpKXtpZih0PT09bClyZXR1cm4gSDticmVha31pZihlLm1hdGNoX2xlbmd0aD0wLHI9YS5fdHJfdGFsbHkoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnRdKSxlLmxvb2thaGVhZC0tLGUuc3Ryc3RhcnQrKyxyJiYodGUoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBIfXJldHVybiBlLmluc2VydD0wLHQ9PT1kPyh0ZShlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD9WOkspOmUubGFzdF9saXQmJih0ZShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/SDpHfShpLHQpOmkuc3RyYXRlZ3k9PT1FP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciByLG4saSxvLHM9ZS53aW5kb3c7Oyl7aWYoZS5sb29rYWhlYWQ8PUIpe2lmKGFlKGUpLGUubG9va2FoZWFkPD1CJiZ0PT09bClyZXR1cm4gSDtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYoZS5tYXRjaF9sZW5ndGg9MCxlLmxvb2thaGVhZD49VSYmZS5zdHJzdGFydD4wJiYobj1zW2k9ZS5zdHJzdGFydC0xXSk9PT1zWysraV0mJm49PT1zWysraV0mJm49PT1zWysraV0pe289ZS5zdHJzdGFydCtCO2Rve313aGlsZShuPT09c1srK2ldJiZuPT09c1srK2ldJiZuPT09c1srK2ldJiZuPT09c1srK2ldJiZuPT09c1srK2ldJiZuPT09c1srK2ldJiZuPT09c1srK2ldJiZuPT09c1srK2ldJiZpPG8pO2UubWF0Y2hfbGVuZ3RoPUItKG8taSksZS5tYXRjaF9sZW5ndGg+ZS5sb29rYWhlYWQmJihlLm1hdGNoX2xlbmd0aD1lLmxvb2thaGVhZCl9aWYoZS5tYXRjaF9sZW5ndGg+PVU/KHI9YS5fdHJfdGFsbHkoZSwxLGUubWF0Y2hfbGVuZ3RoLVUpLGUubG9va2FoZWFkLT1lLm1hdGNoX2xlbmd0aCxlLnN0cnN0YXJ0Kz1lLm1hdGNoX2xlbmd0aCxlLm1hdGNoX2xlbmd0aD0wKToocj1hLl90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrKSxyJiYodGUoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiBIfXJldHVybiBlLmluc2VydD0wLHQ9PT1kPyh0ZShlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD9WOkspOmUubGFzdF9saXQmJih0ZShlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/SDpHfShpLHQpOm5baS5sZXZlbF0uZnVuYyhpLHQpO2lmKHkhPT1WJiZ5IT09S3x8KGkuc3RhdHVzPVcpLHk9PT1IfHx5PT09VilyZXR1cm4gMD09PWUuYXZhaWxfb3V0JiYoaS5sYXN0X2ZsdXNoPS0xKSxwO2lmKHk9PT1HJiYodD09PXU/YS5fdHJfYWxpZ24oaSk6dCE9PWMmJihhLl90cl9zdG9yZWRfYmxvY2soaSwwLDAsITEpLHQ9PT1oJiYoUShpLmhlYWQpLDA9PT1pLmxvb2thaGVhZCYmKGkuc3Ryc3RhcnQ9MCxpLmJsb2NrX3N0YXJ0PTAsaS5pbnNlcnQ9MCkpKSxlZShlKSwwPT09ZS5hdmFpbF9vdXQpKXJldHVybiBpLmxhc3RfZmx1c2g9LTEscH1yZXR1cm4gdCE9PWQ/cDppLndyYXA8PTA/ZzooMj09PWkud3JhcD8ocmUoaSwyNTUmZS5hZGxlcikscmUoaSxlLmFkbGVyPj44JjI1NSkscmUoaSxlLmFkbGVyPj4xNiYyNTUpLHJlKGksZS5hZGxlcj4+MjQmMjU1KSxyZShpLDI1NSZlLnRvdGFsX2luKSxyZShpLGUudG90YWxfaW4+PjgmMjU1KSxyZShpLGUudG90YWxfaW4+PjE2JjI1NSkscmUoaSxlLnRvdGFsX2luPj4yNCYyNTUpKToobmUoaSxlLmFkbGVyPj4+MTYpLG5lKGksNjU1MzUmZS5hZGxlcikpLGVlKGUpLGkud3JhcD4wJiYoaS53cmFwPS1pLndyYXApLDAhPT1pLnBlbmRpbmc/cDpnKX0sdC5kZWZsYXRlRW5kPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlJiZlLnN0YXRlPyh0PWUuc3RhdGUuc3RhdHVzKSE9PWomJnQhPT16JiZ0IT09WiYmdCE9PUMmJnQhPT1xJiZ0IT09WSYmdCE9PVc/WChlLG0pOihlLnN0YXRlPW51bGwsdD09PVk/WChlLF8pOnApOm19LHQuZGVmbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGEscyxmLGwsdSxoLGQ9dC5sZW5ndGg7aWYoIWV8fCFlLnN0YXRlKXJldHVybiBtO2lmKDI9PT0ocz0ocj1lLnN0YXRlKS53cmFwKXx8MT09PXMmJnIuc3RhdHVzIT09anx8ci5sb29rYWhlYWQpcmV0dXJuIG07Zm9yKDE9PT1zJiYoZS5hZGxlcj1vKGUuYWRsZXIsdCxkLDApKSxyLndyYXA9MCxkPj1yLndfc2l6ZSYmKDA9PT1zJiYoUShyLmhlYWQpLHIuc3Ryc3RhcnQ9MCxyLmJsb2NrX3N0YXJ0PTAsci5pbnNlcnQ9MCksaD1uZXcgaS5CdWY4KHIud19zaXplKSxpLmFycmF5U2V0KGgsdCxkLXIud19zaXplLHIud19zaXplLDApLHQ9aCxkPXIud19zaXplKSxmPWUuYXZhaWxfaW4sbD1lLm5leHRfaW4sdT1lLmlucHV0LGUuYXZhaWxfaW49ZCxlLm5leHRfaW49MCxlLmlucHV0PXQsYWUocik7ci5sb29rYWhlYWQ+PVU7KXtuPXIuc3Ryc3RhcnQsYT1yLmxvb2thaGVhZC0oVS0xKTtkb3tyLmluc19oPShyLmluc19oPDxyLmhhc2hfc2hpZnReci53aW5kb3dbbitVLTFdKSZyLmhhc2hfbWFzayxyLnByZXZbbiZyLndfbWFza109ci5oZWFkW3IuaW5zX2hdLHIuaGVhZFtyLmluc19oXT1uLG4rK313aGlsZSgtLWEpO3Iuc3Ryc3RhcnQ9bixyLmxvb2thaGVhZD1VLTEsYWUocil9cmV0dXJuIHIuc3Ryc3RhcnQrPXIubG9va2FoZWFkLHIuYmxvY2tfc3RhcnQ9ci5zdHJzdGFydCxyLmluc2VydD1yLmxvb2thaGVhZCxyLmxvb2thaGVhZD0wLHIubWF0Y2hfbGVuZ3RoPXIucHJldl9sZW5ndGg9VS0xLHIubWF0Y2hfYXZhaWxhYmxlPTAsZS5uZXh0X2luPWwsZS5pbnB1dD11LGUuYXZhaWxfaW49ZixyLndyYXA9cyxwfSx0LmRlZmxhdGVJbmZvPVwicGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dD1udWxsLHRoaXMubmV4dF9pbj0wLHRoaXMuYXZhaWxfaW49MCx0aGlzLnRvdGFsX2luPTAsdGhpcy5vdXRwdXQ9bnVsbCx0aGlzLm5leHRfb3V0PTAsdGhpcy5hdmFpbF9vdXQ9MCx0aGlzLnRvdGFsX291dD0wLHRoaXMubXNnPVwiXCIsdGhpcy5zdGF0ZT1udWxsLHRoaXMuZGF0YV90eXBlPTIsdGhpcy5hZGxlcj0wfX0sZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9OmUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQ7dmFyIHI9ZnVuY3Rpb24oKXt9O3IucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyByLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29weSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5maWxsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlYWRVSW50OH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSxuKXt2YXIgaT1yKDMwKSxhPXIoNTIpLG89cig1MSkscz1yKDQ4KSxmPXIoNDUpO2Zvcih2YXIgbCBpbiBmKXRbbF09ZltsXTt0Lk5PTkU9MCx0LkRFRkxBVEU9MSx0LklORkxBVEU9Mix0LkdaSVA9Myx0LkdVTlpJUD00LHQuREVGTEFURVJBVz01LHQuSU5GTEFURVJBVz02LHQuVU5aSVA9NztmdW5jdGlvbiB1KGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPHQuREVGTEFURXx8ZT50LlVOWklQKXRocm93IG5ldyBUeXBlRXJyb3IoXCJCYWQgYXJndW1lbnRcIik7dGhpcy5kaWN0aW9uYXJ5PW51bGwsdGhpcy5lcnI9MCx0aGlzLmZsdXNoPTAsdGhpcy5pbml0X2RvbmU9ITEsdGhpcy5sZXZlbD0wLHRoaXMubWVtTGV2ZWw9MCx0aGlzLm1vZGU9ZSx0aGlzLnN0cmF0ZWd5PTAsdGhpcy53aW5kb3dCaXRzPTAsdGhpcy53cml0ZV9pbl9wcm9ncmVzcz0hMSx0aGlzLnBlbmRpbmdfY2xvc2U9ITEsdGhpcy5nemlwX2lkX2J5dGVzX3JlYWQ9MH11LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMud3JpdGVfaW5fcHJvZ3Jlc3M/dGhpcy5wZW5kaW5nX2Nsb3NlPSEwOih0aGlzLnBlbmRpbmdfY2xvc2U9ITEsaSh0aGlzLmluaXRfZG9uZSxcImNsb3NlIGJlZm9yZSBpbml0XCIpLGkodGhpcy5tb2RlPD10LlVOWklQKSx0aGlzLm1vZGU9PT10LkRFRkxBVEV8fHRoaXMubW9kZT09PXQuR1pJUHx8dGhpcy5tb2RlPT09dC5ERUZMQVRFUkFXP28uZGVmbGF0ZUVuZCh0aGlzLnN0cm0pOnRoaXMubW9kZSE9PXQuSU5GTEFURSYmdGhpcy5tb2RlIT09dC5HVU5aSVAmJnRoaXMubW9kZSE9PXQuSU5GTEFURVJBVyYmdGhpcy5tb2RlIT09dC5VTlpJUHx8cy5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5tb2RlPXQuTk9ORSx0aGlzLmRpY3Rpb25hcnk9bnVsbCl9LHUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxyLG4saSxhLG8pe3JldHVybiB0aGlzLl93cml0ZSghMCxlLHQscixuLGksYSxvKX0sdS5wcm90b3R5cGUud3JpdGVTeW5jPWZ1bmN0aW9uKGUsdCxyLG4saSxhLG8pe3JldHVybiB0aGlzLl93cml0ZSghMSxlLHQscixuLGksYSxvKX0sdS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKHIsYSxvLHMsZixsLHUsaCl7aWYoaS5lcXVhbChhcmd1bWVudHMubGVuZ3RoLDgpLGkodGhpcy5pbml0X2RvbmUsXCJ3cml0ZSBiZWZvcmUgaW5pdFwiKSxpKHRoaXMubW9kZSE9PXQuTk9ORSxcImFscmVhZHkgZmluYWxpemVkXCIpLGkuZXF1YWwoITEsdGhpcy53cml0ZV9pbl9wcm9ncmVzcyxcIndyaXRlIGFscmVhZHkgaW4gcHJvZ3Jlc3NcIiksaS5lcXVhbCghMSx0aGlzLnBlbmRpbmdfY2xvc2UsXCJjbG9zZSBpcyBwZW5kaW5nXCIpLHRoaXMud3JpdGVfaW5fcHJvZ3Jlc3M9ITAsaS5lcXVhbCghMSx2b2lkIDA9PT1hLFwibXVzdCBwcm92aWRlIGZsdXNoIHZhbHVlXCIpLHRoaXMud3JpdGVfaW5fcHJvZ3Jlc3M9ITAsYSE9PXQuWl9OT19GTFVTSCYmYSE9PXQuWl9QQVJUSUFMX0ZMVVNIJiZhIT09dC5aX1NZTkNfRkxVU0gmJmEhPT10LlpfRlVMTF9GTFVTSCYmYSE9PXQuWl9GSU5JU0gmJmEhPT10LlpfQkxPQ0spdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmbHVzaCB2YWx1ZVwiKTtpZihudWxsPT1vJiYobz1lLmFsbG9jKDApLGY9MCxzPTApLHRoaXMuc3RybS5hdmFpbF9pbj1mLHRoaXMuc3RybS5pbnB1dD1vLHRoaXMuc3RybS5uZXh0X2luPXMsdGhpcy5zdHJtLmF2YWlsX291dD1oLHRoaXMuc3RybS5vdXRwdXQ9bCx0aGlzLnN0cm0ubmV4dF9vdXQ9dSx0aGlzLmZsdXNoPWEsIXIpcmV0dXJuIHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9jaGVja0Vycm9yKCk/dGhpcy5fYWZ0ZXJTeW5jKCk6dm9pZCAwO3ZhciBkPXRoaXM7cmV0dXJuIG4ubmV4dFRpY2soZnVuY3Rpb24oKXtkLl9wcm9jZXNzKCksZC5fYWZ0ZXIoKX0pLHRoaXN9LHUucHJvdG90eXBlLl9hZnRlclN5bmM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0cm0uYXZhaWxfb3V0LHQ9dGhpcy5zdHJtLmF2YWlsX2luO3JldHVybiB0aGlzLndyaXRlX2luX3Byb2dyZXNzPSExLFt0LGVdfSx1LnByb3RvdHlwZS5fcHJvY2Vzcz1mdW5jdGlvbigpe3ZhciBlPW51bGw7c3dpdGNoKHRoaXMubW9kZSl7Y2FzZSB0LkRFRkxBVEU6Y2FzZSB0LkdaSVA6Y2FzZSB0LkRFRkxBVEVSQVc6dGhpcy5lcnI9by5kZWZsYXRlKHRoaXMuc3RybSx0aGlzLmZsdXNoKTticmVhaztjYXNlIHQuVU5aSVA6c3dpdGNoKHRoaXMuc3RybS5hdmFpbF9pbj4wJiYoZT10aGlzLnN0cm0ubmV4dF9pbiksdGhpcy5nemlwX2lkX2J5dGVzX3JlYWQpe2Nhc2UgMDppZihudWxsPT09ZSlicmVhaztpZigzMSE9PXRoaXMuc3RybS5pbnB1dFtlXSl7dGhpcy5tb2RlPXQuSU5GTEFURTticmVha31pZih0aGlzLmd6aXBfaWRfYnl0ZXNfcmVhZD0xLGUrKywxPT09dGhpcy5zdHJtLmF2YWlsX2luKWJyZWFrO2Nhc2UgMTppZihudWxsPT09ZSlicmVhazsxMzk9PT10aGlzLnN0cm0uaW5wdXRbZV0/KHRoaXMuZ3ppcF9pZF9ieXRlc19yZWFkPTIsdGhpcy5tb2RlPXQuR1VOWklQKTp0aGlzLm1vZGU9dC5JTkZMQVRFO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBudW1iZXIgb2YgZ3ppcCBtYWdpYyBudW1iZXIgYnl0ZXMgcmVhZFwiKX1jYXNlIHQuSU5GTEFURTpjYXNlIHQuR1VOWklQOmNhc2UgdC5JTkZMQVRFUkFXOmZvcih0aGlzLmVycj1zLmluZmxhdGUodGhpcy5zdHJtLHRoaXMuZmx1c2gpLHRoaXMuZXJyPT09dC5aX05FRURfRElDVCYmdGhpcy5kaWN0aW9uYXJ5JiYodGhpcy5lcnI9cy5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sdGhpcy5kaWN0aW9uYXJ5KSx0aGlzLmVycj09PXQuWl9PSz90aGlzLmVycj1zLmluZmxhdGUodGhpcy5zdHJtLHRoaXMuZmx1c2gpOnRoaXMuZXJyPT09dC5aX0RBVEFfRVJST1ImJih0aGlzLmVycj10LlpfTkVFRF9ESUNUKSk7dGhpcy5zdHJtLmF2YWlsX2luPjAmJnRoaXMubW9kZT09PXQuR1VOWklQJiZ0aGlzLmVycj09PXQuWl9TVFJFQU1fRU5EJiYwIT09dGhpcy5zdHJtLm5leHRfaW5bMF07KXRoaXMucmVzZXQoKSx0aGlzLmVycj1zLmluZmxhdGUodGhpcy5zdHJtLHRoaXMuZmx1c2gpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtb2RlIFwiK3RoaXMubW9kZSl9fSx1LnByb3RvdHlwZS5fY2hlY2tFcnJvcj1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLmVycil7Y2FzZSB0LlpfT0s6Y2FzZSB0LlpfQlVGX0VSUk9SOmlmKDAhPT10aGlzLnN0cm0uYXZhaWxfb3V0JiZ0aGlzLmZsdXNoPT09dC5aX0ZJTklTSClyZXR1cm4gdGhpcy5fZXJyb3IoXCJ1bmV4cGVjdGVkIGVuZCBvZiBmaWxlXCIpLCExO2JyZWFrO2Nhc2UgdC5aX1NUUkVBTV9FTkQ6YnJlYWs7Y2FzZSB0LlpfTkVFRF9ESUNUOnJldHVybiBudWxsPT10aGlzLmRpY3Rpb25hcnk/dGhpcy5fZXJyb3IoXCJNaXNzaW5nIGRpY3Rpb25hcnlcIik6dGhpcy5fZXJyb3IoXCJCYWQgZGljdGlvbmFyeVwiKSwhMTtkZWZhdWx0OnJldHVybiB0aGlzLl9lcnJvcihcIlpsaWIgZXJyb3JcIiksITF9cmV0dXJuITB9LHUucHJvdG90eXBlLl9hZnRlcj1mdW5jdGlvbigpe2lmKHRoaXMuX2NoZWNrRXJyb3IoKSl7dmFyIGU9dGhpcy5zdHJtLmF2YWlsX291dCx0PXRoaXMuc3RybS5hdmFpbF9pbjt0aGlzLndyaXRlX2luX3Byb2dyZXNzPSExLHRoaXMuY2FsbGJhY2sodCxlKSx0aGlzLnBlbmRpbmdfY2xvc2UmJnRoaXMuY2xvc2UoKX19LHUucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihlKXt0aGlzLnN0cm0ubXNnJiYoZT10aGlzLnN0cm0ubXNnKSx0aGlzLm9uZXJyb3IoZSx0aGlzLmVyciksdGhpcy53cml0ZV9pbl9wcm9ncmVzcz0hMSx0aGlzLnBlbmRpbmdfY2xvc2UmJnRoaXMuY2xvc2UoKX0sdS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHIsbixhLG8pe2koND09PWFyZ3VtZW50cy5sZW5ndGh8fDU9PT1hcmd1bWVudHMubGVuZ3RoLFwiaW5pdCh3aW5kb3dCaXRzLCBsZXZlbCwgbWVtTGV2ZWwsIHN0cmF0ZWd5LCBbZGljdGlvbmFyeV0pXCIpLGkoZT49OCYmZTw9MTUsXCJpbnZhbGlkIHdpbmRvd0JpdHNcIiksaShyPj0tMSYmcjw9OSxcImludmFsaWQgY29tcHJlc3Npb24gbGV2ZWxcIiksaShuPj0xJiZuPD05LFwiaW52YWxpZCBtZW1sZXZlbFwiKSxpKGE9PT10LlpfRklMVEVSRUR8fGE9PT10LlpfSFVGRk1BTl9PTkxZfHxhPT09dC5aX1JMRXx8YT09PXQuWl9GSVhFRHx8YT09PXQuWl9ERUZBVUxUX1NUUkFURUdZLFwiaW52YWxpZCBzdHJhdGVneVwiKSx0aGlzLl9pbml0KHIsZSxuLGEsbyksdGhpcy5fc2V0RGljdGlvbmFyeSgpfSx1LnByb3RvdHlwZS5wYXJhbXM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJkZWZsYXRlUGFyYW1zIE5vdCBzdXBwb3J0ZWRcIil9LHUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fcmVzZXQoKSx0aGlzLl9zZXREaWN0aW9uYXJ5KCl9LHUucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKGUscixuLGksZil7c3dpdGNoKHRoaXMubGV2ZWw9ZSx0aGlzLndpbmRvd0JpdHM9cix0aGlzLm1lbUxldmVsPW4sdGhpcy5zdHJhdGVneT1pLHRoaXMuZmx1c2g9dC5aX05PX0ZMVVNILHRoaXMuZXJyPXQuWl9PSyx0aGlzLm1vZGUhPT10LkdaSVAmJnRoaXMubW9kZSE9PXQuR1VOWklQfHwodGhpcy53aW5kb3dCaXRzKz0xNiksdGhpcy5tb2RlPT09dC5VTlpJUCYmKHRoaXMud2luZG93Qml0cys9MzIpLHRoaXMubW9kZSE9PXQuREVGTEFURVJBVyYmdGhpcy5tb2RlIT09dC5JTkZMQVRFUkFXfHwodGhpcy53aW5kb3dCaXRzPS0xKnRoaXMud2luZG93Qml0cyksdGhpcy5zdHJtPW5ldyBhLHRoaXMubW9kZSl7Y2FzZSB0LkRFRkxBVEU6Y2FzZSB0LkdaSVA6Y2FzZSB0LkRFRkxBVEVSQVc6dGhpcy5lcnI9by5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLHRoaXMubGV2ZWwsdC5aX0RFRkxBVEVELHRoaXMud2luZG93Qml0cyx0aGlzLm1lbUxldmVsLHRoaXMuc3RyYXRlZ3kpO2JyZWFrO2Nhc2UgdC5JTkZMQVRFOmNhc2UgdC5HVU5aSVA6Y2FzZSB0LklORkxBVEVSQVc6Y2FzZSB0LlVOWklQOnRoaXMuZXJyPXMuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSx0aGlzLndpbmRvd0JpdHMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtb2RlIFwiK3RoaXMubW9kZSl9dGhpcy5lcnIhPT10LlpfT0smJnRoaXMuX2Vycm9yKFwiSW5pdCBlcnJvclwiKSx0aGlzLmRpY3Rpb25hcnk9Zix0aGlzLndyaXRlX2luX3Byb2dyZXNzPSExLHRoaXMuaW5pdF9kb25lPSEwfSx1LnByb3RvdHlwZS5fc2V0RGljdGlvbmFyeT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZGljdGlvbmFyeSl7c3dpdGNoKHRoaXMuZXJyPXQuWl9PSyx0aGlzLm1vZGUpe2Nhc2UgdC5ERUZMQVRFOmNhc2UgdC5ERUZMQVRFUkFXOnRoaXMuZXJyPW8uZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLHRoaXMuZGljdGlvbmFyeSl9dGhpcy5lcnIhPT10LlpfT0smJnRoaXMuX2Vycm9yKFwiRmFpbGVkIHRvIHNldCBkaWN0aW9uYXJ5XCIpfX0sdS5wcm90b3R5cGUuX3Jlc2V0PWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuZXJyPXQuWl9PSyx0aGlzLm1vZGUpe2Nhc2UgdC5ERUZMQVRFOmNhc2UgdC5ERUZMQVRFUkFXOmNhc2UgdC5HWklQOnRoaXMuZXJyPW8uZGVmbGF0ZVJlc2V0KHRoaXMuc3RybSk7YnJlYWs7Y2FzZSB0LklORkxBVEU6Y2FzZSB0LklORkxBVEVSQVc6Y2FzZSB0LkdVTlpJUDp0aGlzLmVycj1zLmluZmxhdGVSZXNldCh0aGlzLnN0cm0pfXRoaXMuZXJyIT09dC5aX09LJiZ0aGlzLl9lcnJvcihcIkZhaWxlZCB0byByZXNldCBzdHJlYW1cIil9LHQuWmxpYj11fSkuY2FsbCh0aGlzLHIoMSkuQnVmZmVyLHIoMykpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTkpLlBhc3NUaHJvdWdofSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTkpLlRyYW5zZm9ybX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDIpfSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWE7dmFyIG49cigzMSksaT1yKDYpO2Z1bmN0aW9uIGEoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgYSkpcmV0dXJuIG5ldyBhKGUpO24uY2FsbCh0aGlzLGUpfWkuaW5oZXJpdHM9cig1KSxpLmluaGVyaXRzKGEsbiksYS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihlLHQscil7cihudWxsLGUpfX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKGUpe3RyeXtpZighdC5sb2NhbFN0b3JhZ2UpcmV0dXJuITF9Y2F0Y2goZSl7cmV0dXJuITF9dmFyIHI9dC5sb2NhbFN0b3JhZ2VbZV07cmV0dXJuIG51bGwhPXImJlwidHJ1ZVwiPT09U3RyaW5nKHIpLnRvTG93ZXJDYXNlKCl9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYocihcIm5vRGVwcmVjYXRpb25cIikpcmV0dXJuIGU7dmFyIG49ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIW4pe2lmKHIoXCJ0aHJvd0RlcHJlY2F0aW9uXCIpKXRocm93IG5ldyBFcnJvcih0KTtyKFwidHJhY2VEZXByZWNhdGlvblwiKT9jb25zb2xlLnRyYWNlKHQpOmNvbnNvbGUud2Fybih0KSxuPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSkuY2FsbCh0aGlzLHIoMCkpfSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKGUscil7XCJ1c2Ugc3RyaWN0XCI7aWYoIWUuc2V0SW1tZWRpYXRlKXt2YXIgbixpLGEsbyxzLGY9MSxsPXt9LHU9ITEsaD1lLmRvY3VtZW50LGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7ZD1kJiZkLnNldFRpbWVvdXQ/ZDplLFwiW29iamVjdCBwcm9jZXNzXVwiPT09e30udG9TdHJpbmcuY2FsbChlLnByb2Nlc3MpP249ZnVuY3Rpb24oZSl7dC5uZXh0VGljayhmdW5jdGlvbigpe3AoZSl9KX06IWZ1bmN0aW9uKCl7aWYoZS5wb3N0TWVzc2FnZSYmIWUuaW1wb3J0U2NyaXB0cyl7dmFyIHQ9ITAscj1lLm9ubWVzc2FnZTtyZXR1cm4gZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXt0PSExfSxlLnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLGUub25tZXNzYWdlPXIsdH19KCk/ZS5NZXNzYWdlQ2hhbm5lbD8oKGE9bmV3IE1lc3NhZ2VDaGFubmVsKS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cChlLmRhdGEpfSxuPWZ1bmN0aW9uKGUpe2EucG9ydDIucG9zdE1lc3NhZ2UoZSl9KTpoJiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gaC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpPyhpPWguZG9jdW1lbnRFbGVtZW50LG49ZnVuY3Rpb24oZSl7dmFyIHQ9aC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7cChlKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGkucmVtb3ZlQ2hpbGQodCksdD1udWxsfSxpLmFwcGVuZENoaWxkKHQpfSk6bj1mdW5jdGlvbihlKXtzZXRUaW1lb3V0KHAsMCxlKX06KG89XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIixzPWZ1bmN0aW9uKHQpe3Quc291cmNlPT09ZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQuZGF0YSYmMD09PXQuZGF0YS5pbmRleE9mKG8pJiZwKCt0LmRhdGEuc2xpY2Uoby5sZW5ndGgpKX0sZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixzLCExKTplLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIscyksbj1mdW5jdGlvbih0KXtlLnBvc3RNZXNzYWdlKG8rdCxcIipcIil9KSxkLnNldEltbWVkaWF0ZT1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1uZXcgRnVuY3Rpb24oXCJcIitlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdPWFyZ3VtZW50c1tyKzFdO3ZhciBpPXtjYWxsYmFjazplLGFyZ3M6dH07cmV0dXJuIGxbZl09aSxuKGYpLGYrK30sZC5jbGVhckltbWVkaWF0ZT1jfWZ1bmN0aW9uIGMoZSl7ZGVsZXRlIGxbZV19ZnVuY3Rpb24gcChlKXtpZih1KXNldFRpbWVvdXQocCwwLGUpO2Vsc2V7dmFyIHQ9bFtlXTtpZih0KXt1PSEwO3RyeXshZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jYWxsYmFjayxuPWUuYXJncztzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDp0KCk7YnJlYWs7Y2FzZSAxOnQoblswXSk7YnJlYWs7Y2FzZSAyOnQoblswXSxuWzFdKTticmVhaztjYXNlIDM6dChuWzBdLG5bMV0sblsyXSk7YnJlYWs7ZGVmYXVsdDp0LmFwcGx5KHIsbil9fSh0KX1maW5hbGx5e2MoZSksdT0hMX19fX19KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PWU/dGhpczplOnNlbGYpfSkuY2FsbCh0aGlzLHIoMCkscigzKSl9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7dmFyIG49RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O2Z1bmN0aW9uIGkoZSx0KXt0aGlzLl9pZD1lLHRoaXMuX2NsZWFyRm49dH10LnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkobi5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sdC5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgaShuLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LHQuY2xlYXJUaW1lb3V0PXQuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbihlKXtlJiZlLmNsb3NlKCl9LGkucHJvdG90eXBlLnVucmVmPWkucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sdC5lbnJvbGw9ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9dH0sdC51bmVucm9sbD1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCksZS5faWRsZVRpbWVvdXQ9LTF9LHQuX3VucmVmQWN0aXZlPXQuYWN0aXZlPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKTt2YXIgdD1lLl9pZGxlVGltZW91dDt0Pj0wJiYoZS5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fb25UaW1lb3V0JiZlLl9vblRpbWVvdXQoKX0sdCkpfSxyKDYyKSx0LnNldEltbWVkaWF0ZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5zZXRJbW1lZGlhdGV8fHZvaWQgMCE9PWUmJmUuc2V0SW1tZWRpYXRlfHx0aGlzJiZ0aGlzLnNldEltbWVkaWF0ZSx0LmNsZWFySW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLmNsZWFySW1tZWRpYXRlfHx2b2lkIDAhPT1lJiZlLmNsZWFySW1tZWRpYXRlfHx0aGlzJiZ0aGlzLmNsZWFySW1tZWRpYXRlfSkuY2FsbCh0aGlzLHIoMCkpfSxmdW5jdGlvbihlLHQpe30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoOSkuQnVmZmVyLGk9cig2NCk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH1yZXR1cm4gZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXt2YXIgdD17ZGF0YTplLG5leHQ6bnVsbH07dGhpcy5sZW5ndGg+MD90aGlzLnRhaWwubmV4dD10OnRoaXMuaGVhZD10LHRoaXMudGFpbD10LCsrdGhpcy5sZW5ndGh9LGUucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e2RhdGE6ZSxuZXh0OnRoaXMuaGVhZH07MD09PXRoaXMubGVuZ3RoJiYodGhpcy50YWlsPXQpLHRoaXMuaGVhZD10LCsrdGhpcy5sZW5ndGh9LGUucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMubGVuZ3RoKXt2YXIgZT10aGlzLmhlYWQuZGF0YTtyZXR1cm4gMT09PXRoaXMubGVuZ3RoP3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbDp0aGlzLmhlYWQ9dGhpcy5oZWFkLm5leHQsLS10aGlzLmxlbmd0aCxlfX0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH0sZS5wcm90b3R5cGUuam9pbj1mdW5jdGlvbihlKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtmb3IodmFyIHQ9dGhpcy5oZWFkLHI9XCJcIit0LmRhdGE7dD10Lm5leHQ7KXIrPWUrdC5kYXRhO3JldHVybiByfSxlLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oZSl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybiBuLmFsbG9jKDApO2lmKDE9PT10aGlzLmxlbmd0aClyZXR1cm4gdGhpcy5oZWFkLmRhdGE7Zm9yKHZhciB0LHIsaSxhPW4uYWxsb2NVbnNhZmUoZT4+PjApLG89dGhpcy5oZWFkLHM9MDtvOyl0PW8uZGF0YSxyPWEsaT1zLHQuY29weShyLGkpLHMrPW8uZGF0YS5sZW5ndGgsbz1vLm5leHQ7cmV0dXJuIGF9LGV9KCksaSYmaS5pbnNwZWN0JiZpLmluc3BlY3QuY3VzdG9tJiYoZS5leHBvcnRzLnByb3RvdHlwZVtpLmluc3BlY3QuY3VzdG9tXT1mdW5jdGlvbigpe3ZhciBlPWkuaW5zcGVjdCh7bGVuZ3RoOnRoaXMubGVuZ3RofSk7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZStcIiBcIitlfSl9LGZ1bmN0aW9uKGUsdCl7fSxmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPWk7dmFyIG49cigyMCkuRXZlbnRFbWl0dGVyO2Z1bmN0aW9uIGkoKXtuLmNhbGwodGhpcyl9cig1KShpLG4pLGkuUmVhZGFibGU9cigxOSksaS5Xcml0YWJsZT1yKDU5KSxpLkR1cGxleD1yKDU4KSxpLlRyYW5zZm9ybT1yKDU3KSxpLlBhc3NUaHJvdWdoPXIoNTYpLGkuU3RyZWFtPWksaS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ZnVuY3Rpb24gaSh0KXtlLndyaXRhYmxlJiYhMT09PWUud3JpdGUodCkmJnIucGF1c2UmJnIucGF1c2UoKX1mdW5jdGlvbiBhKCl7ci5yZWFkYWJsZSYmci5yZXN1bWUmJnIucmVzdW1lKCl9ci5vbihcImRhdGFcIixpKSxlLm9uKFwiZHJhaW5cIixhKSxlLl9pc1N0ZGlvfHx0JiYhMT09PXQuZW5kfHwoci5vbihcImVuZFwiLHMpLHIub24oXCJjbG9zZVwiLGYpKTt2YXIgbz0hMTtmdW5jdGlvbiBzKCl7b3x8KG89ITAsZS5lbmQoKSl9ZnVuY3Rpb24gZigpe298fChvPSEwLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZGVzdHJveSYmZS5kZXN0cm95KCkpfWZ1bmN0aW9uIGwoZSl7aWYodSgpLDA9PT1uLmxpc3RlbmVyQ291bnQodGhpcyxcImVycm9yXCIpKXRocm93IGV9ZnVuY3Rpb24gdSgpe3IucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsaSksZS5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsYSksci5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHMpLHIucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGYpLHIucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGwpLGUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGwpLHIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIix1KSxyLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIix1KSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIix1KX1yZXR1cm4gci5vbihcImVycm9yXCIsbCksZS5vbihcImVycm9yXCIsbCksci5vbihcImVuZFwiLHUpLHIub24oXCJjbG9zZVwiLHUpLGUub24oXCJjbG9zZVwiLHUpLGUuZW1pdChcInBpcGVcIixyKSxlfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXt2YXIgbj1yKDEpLkJ1ZmZlcixpPXIoNjcpLlRyYW5zZm9ybSxhPXIoNTUpLG89cigyOSkscz1yKDMwKS5vayxmPXIoMSkua01heExlbmd0aCxsPVwiQ2Fubm90IGNyZWF0ZSBmaW5hbCBCdWZmZXIuIEl0IHdvdWxkIGJlIGxhcmdlciB0aGFuIDB4XCIrZi50b1N0cmluZygxNikrXCIgYnl0ZXNcIjthLlpfTUlOX1dJTkRPV0JJVFM9OCxhLlpfTUFYX1dJTkRPV0JJVFM9MTUsYS5aX0RFRkFVTFRfV0lORE9XQklUUz0xNSxhLlpfTUlOX0NIVU5LPTY0LGEuWl9NQVhfQ0hVTks9MS8wLGEuWl9ERUZBVUxUX0NIVU5LPTE2Mzg0LGEuWl9NSU5fTUVNTEVWRUw9MSxhLlpfTUFYX01FTUxFVkVMPTksYS5aX0RFRkFVTFRfTUVNTEVWRUw9OCxhLlpfTUlOX0xFVkVMPS0xLGEuWl9NQVhfTEVWRUw9OSxhLlpfREVGQVVMVF9MRVZFTD1hLlpfREVGQVVMVF9DT01QUkVTU0lPTjtmb3IodmFyIHU9T2JqZWN0LmtleXMoYSksaD0wO2g8dS5sZW5ndGg7aCsrKXt2YXIgZD11W2hdO2QubWF0Y2goL15aLykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGQse2VudW1lcmFibGU6ITAsdmFsdWU6YVtkXSx3cml0YWJsZTohMX0pfWZvcih2YXIgYz17Wl9PSzphLlpfT0ssWl9TVFJFQU1fRU5EOmEuWl9TVFJFQU1fRU5ELFpfTkVFRF9ESUNUOmEuWl9ORUVEX0RJQ1QsWl9FUlJOTzphLlpfRVJSTk8sWl9TVFJFQU1fRVJST1I6YS5aX1NUUkVBTV9FUlJPUixaX0RBVEFfRVJST1I6YS5aX0RBVEFfRVJST1IsWl9NRU1fRVJST1I6YS5aX01FTV9FUlJPUixaX0JVRl9FUlJPUjphLlpfQlVGX0VSUk9SLFpfVkVSU0lPTl9FUlJPUjphLlpfVkVSU0lPTl9FUlJPUn0scD1PYmplY3Qua2V5cyhjKSxnPTA7ZzxwLmxlbmd0aDtnKyspe3ZhciBtPXBbZ107Y1tjW21dXT1tfWZ1bmN0aW9uIF8oZSx0LHIpe3ZhciBpPVtdLGE9MDtmdW5jdGlvbiBvKCl7Zm9yKHZhciB0O251bGwhPT0odD1lLnJlYWQoKSk7KWkucHVzaCh0KSxhKz10Lmxlbmd0aDtlLm9uY2UoXCJyZWFkYWJsZVwiLG8pfWZ1bmN0aW9uIHMoKXt2YXIgdCxvPW51bGw7YT49Zj9vPW5ldyBSYW5nZUVycm9yKGwpOnQ9bi5jb25jYXQoaSxhKSxpPVtdLGUuY2xvc2UoKSxyKG8sdCl9ZS5vbihcImVycm9yXCIsZnVuY3Rpb24odCl7ZS5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLHMpLGUucmVtb3ZlTGlzdGVuZXIoXCJyZWFkYWJsZVwiLG8pLHIodCl9KSxlLm9uKFwiZW5kXCIscyksZS5lbmQodCksbygpfWZ1bmN0aW9uIGIoZSx0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9bi5mcm9tKHQpKSwhbi5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm90IGEgc3RyaW5nIG9yIGJ1ZmZlclwiKTt2YXIgcj1lLl9maW5pc2hGbHVzaEZsYWc7cmV0dXJuIGUuX3Byb2Nlc3NDaHVuayh0LHIpfWZ1bmN0aW9uIHkoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgeSkpcmV0dXJuIG5ldyB5KGUpO1AuY2FsbCh0aGlzLGUsYS5ERUZMQVRFKX1mdW5jdGlvbiB2KGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHYpKXJldHVybiBuZXcgdihlKTtQLmNhbGwodGhpcyxlLGEuSU5GTEFURSl9ZnVuY3Rpb24gdyhlKXtpZighKHRoaXMgaW5zdGFuY2VvZiB3KSlyZXR1cm4gbmV3IHcoZSk7UC5jYWxsKHRoaXMsZSxhLkdaSVApfWZ1bmN0aW9uIEUoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgRSkpcmV0dXJuIG5ldyBFKGUpO1AuY2FsbCh0aGlzLGUsYS5HVU5aSVApfWZ1bmN0aW9uIHgoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgeCkpcmV0dXJuIG5ldyB4KGUpO1AuY2FsbCh0aGlzLGUsYS5ERUZMQVRFUkFXKX1mdW5jdGlvbiBrKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGspKXJldHVybiBuZXcgayhlKTtQLmNhbGwodGhpcyxlLGEuSU5GTEFURVJBVyl9ZnVuY3Rpb24gUyhlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBTKSlyZXR1cm4gbmV3IFMoZSk7UC5jYWxsKHRoaXMsZSxhLlVOWklQKX1mdW5jdGlvbiBBKGUpe3JldHVybiBlPT09YS5aX05PX0ZMVVNIfHxlPT09YS5aX1BBUlRJQUxfRkxVU0h8fGU9PT1hLlpfU1lOQ19GTFVTSHx8ZT09PWEuWl9GVUxMX0ZMVVNIfHxlPT09YS5aX0ZJTklTSHx8ZT09PWEuWl9CTE9DS31mdW5jdGlvbiBQKGUscil7dmFyIG89dGhpcztpZih0aGlzLl9vcHRzPWU9ZXx8e30sdGhpcy5fY2h1bmtTaXplPWUuY2h1bmtTaXplfHx0LlpfREVGQVVMVF9DSFVOSyxpLmNhbGwodGhpcyxlKSxlLmZsdXNoJiYhQShlLmZsdXNoKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZsdXNoIGZsYWc6IFwiK2UuZmx1c2gpO2lmKGUuZmluaXNoRmx1c2gmJiFBKGUuZmluaXNoRmx1c2gpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZmx1c2ggZmxhZzogXCIrZS5maW5pc2hGbHVzaCk7aWYodGhpcy5fZmx1c2hGbGFnPWUuZmx1c2h8fGEuWl9OT19GTFVTSCx0aGlzLl9maW5pc2hGbHVzaEZsYWc9dm9pZCAwIT09ZS5maW5pc2hGbHVzaD9lLmZpbmlzaEZsdXNoOmEuWl9GSU5JU0gsZS5jaHVua1NpemUmJihlLmNodW5rU2l6ZTx0LlpfTUlOX0NIVU5LfHxlLmNodW5rU2l6ZT50LlpfTUFYX0NIVU5LKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNodW5rIHNpemU6IFwiK2UuY2h1bmtTaXplKTtpZihlLndpbmRvd0JpdHMmJihlLndpbmRvd0JpdHM8dC5aX01JTl9XSU5ET1dCSVRTfHxlLndpbmRvd0JpdHM+dC5aX01BWF9XSU5ET1dCSVRTKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHdpbmRvd0JpdHM6IFwiK2Uud2luZG93Qml0cyk7aWYoZS5sZXZlbCYmKGUubGV2ZWw8dC5aX01JTl9MRVZFTHx8ZS5sZXZlbD50LlpfTUFYX0xFVkVMKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbXByZXNzaW9uIGxldmVsOiBcIitlLmxldmVsKTtpZihlLm1lbUxldmVsJiYoZS5tZW1MZXZlbDx0LlpfTUlOX01FTUxFVkVMfHxlLm1lbUxldmVsPnQuWl9NQVhfTUVNTEVWRUwpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbWVtTGV2ZWw6IFwiK2UubWVtTGV2ZWwpO2lmKGUuc3RyYXRlZ3kmJmUuc3RyYXRlZ3khPXQuWl9GSUxURVJFRCYmZS5zdHJhdGVneSE9dC5aX0hVRkZNQU5fT05MWSYmZS5zdHJhdGVneSE9dC5aX1JMRSYmZS5zdHJhdGVneSE9dC5aX0ZJWEVEJiZlLnN0cmF0ZWd5IT10LlpfREVGQVVMVF9TVFJBVEVHWSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmF0ZWd5OiBcIitlLnN0cmF0ZWd5KTtpZihlLmRpY3Rpb25hcnkmJiFuLmlzQnVmZmVyKGUuZGljdGlvbmFyeSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkaWN0aW9uYXJ5OiBpdCBzaG91bGQgYmUgYSBCdWZmZXIgaW5zdGFuY2VcIik7dGhpcy5faGFuZGxlPW5ldyBhLlpsaWIocik7dmFyIHM9dGhpczt0aGlzLl9oYWRFcnJvcj0hMSx0aGlzLl9oYW5kbGUub25lcnJvcj1mdW5jdGlvbihlLHIpe08ocykscy5faGFkRXJyb3I9ITA7dmFyIG49bmV3IEVycm9yKGUpO24uZXJybm89cixuLmNvZGU9dC5jb2Rlc1tyXSxzLmVtaXQoXCJlcnJvclwiLG4pfTt2YXIgZj10LlpfREVGQVVMVF9DT01QUkVTU0lPTjtcIm51bWJlclwiPT10eXBlb2YgZS5sZXZlbCYmKGY9ZS5sZXZlbCk7dmFyIGw9dC5aX0RFRkFVTFRfU1RSQVRFR1k7XCJudW1iZXJcIj09dHlwZW9mIGUuc3RyYXRlZ3kmJihsPWUuc3RyYXRlZ3kpLHRoaXMuX2hhbmRsZS5pbml0KGUud2luZG93Qml0c3x8dC5aX0RFRkFVTFRfV0lORE9XQklUUyxmLGUubWVtTGV2ZWx8fHQuWl9ERUZBVUxUX01FTUxFVkVMLGwsZS5kaWN0aW9uYXJ5KSx0aGlzLl9idWZmZXI9bi5hbGxvY1Vuc2FmZSh0aGlzLl9jaHVua1NpemUpLHRoaXMuX29mZnNldD0wLHRoaXMuX2xldmVsPWYsdGhpcy5fc3RyYXRlZ3k9bCx0aGlzLm9uY2UoXCJlbmRcIix0aGlzLmNsb3NlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9jbG9zZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIW8uX2hhbmRsZX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBPKHQscil7ciYmZS5uZXh0VGljayhyKSx0Ll9oYW5kbGUmJih0Ll9oYW5kbGUuY2xvc2UoKSx0Ll9oYW5kbGU9bnVsbCl9ZnVuY3Rpb24gVChlKXtlLmVtaXQoXCJjbG9zZVwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvZGVzXCIse2VudW1lcmFibGU6ITAsdmFsdWU6T2JqZWN0LmZyZWV6ZShjKSx3cml0YWJsZTohMX0pLHQuRGVmbGF0ZT15LHQuSW5mbGF0ZT12LHQuR3ppcD13LHQuR3VuemlwPUUsdC5EZWZsYXRlUmF3PXgsdC5JbmZsYXRlUmF3PWssdC5VbnppcD1TLHQuY3JlYXRlRGVmbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHkoZSl9LHQuY3JlYXRlSW5mbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHYoZSl9LHQuY3JlYXRlRGVmbGF0ZVJhdz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHgoZSl9LHQuY3JlYXRlSW5mbGF0ZVJhdz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGsoZSl9LHQuY3JlYXRlR3ppcD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHcoZSl9LHQuY3JlYXRlR3VuemlwPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRShlKX0sdC5jcmVhdGVVbnppcD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFMoZSl9LHQuZGVmbGF0ZT1mdW5jdGlvbihlLHQscil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KSxfKG5ldyB5KHQpLGUscil9LHQuZGVmbGF0ZVN5bmM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYihuZXcgeSh0KSxlKX0sdC5nemlwPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pLF8obmV3IHcodCksZSxyKX0sdC5nemlwU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiBiKG5ldyB3KHQpLGUpfSx0LmRlZmxhdGVSYXc9ZnVuY3Rpb24oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksXyhuZXcgeCh0KSxlLHIpfSx0LmRlZmxhdGVSYXdTeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGIobmV3IHgodCksZSl9LHQudW56aXA9ZnVuY3Rpb24oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksXyhuZXcgUyh0KSxlLHIpfSx0LnVuemlwU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiBiKG5ldyBTKHQpLGUpfSx0LmluZmxhdGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksXyhuZXcgdih0KSxlLHIpfSx0LmluZmxhdGVTeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGIobmV3IHYodCksZSl9LHQuZ3VuemlwPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pLF8obmV3IEUodCksZSxyKX0sdC5ndW56aXBTeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGIobmV3IEUodCksZSl9LHQuaW5mbGF0ZVJhdz1mdW5jdGlvbihlLHQscil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KSxfKG5ldyBrKHQpLGUscil9LHQuaW5mbGF0ZVJhd1N5bmM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYihuZXcgayh0KSxlKX0sby5pbmhlcml0cyhQLGkpLFAucHJvdG90eXBlLnBhcmFtcz1mdW5jdGlvbihyLG4saSl7aWYocjx0LlpfTUlOX0xFVkVMfHxyPnQuWl9NQVhfTEVWRUwpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNvbXByZXNzaW9uIGxldmVsOiBcIityKTtpZihuIT10LlpfRklMVEVSRUQmJm4hPXQuWl9IVUZGTUFOX09OTFkmJm4hPXQuWl9STEUmJm4hPXQuWl9GSVhFRCYmbiE9dC5aX0RFRkFVTFRfU1RSQVRFR1kpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgc3RyYXRlZ3k6IFwiK24pO2lmKHRoaXMuX2xldmVsIT09cnx8dGhpcy5fc3RyYXRlZ3khPT1uKXt2YXIgbz10aGlzO3RoaXMuZmx1c2goYS5aX1NZTkNfRkxVU0gsZnVuY3Rpb24oKXtzKG8uX2hhbmRsZSxcInpsaWIgYmluZGluZyBjbG9zZWRcIiksby5faGFuZGxlLnBhcmFtcyhyLG4pLG8uX2hhZEVycm9yfHwoby5fbGV2ZWw9cixvLl9zdHJhdGVneT1uLGkmJmkoKSl9KX1lbHNlIGUubmV4dFRpY2soaSl9LFAucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHModGhpcy5faGFuZGxlLFwiemxpYiBiaW5kaW5nIGNsb3NlZFwiKSx0aGlzLl9oYW5kbGUucmVzZXQoKX0sUC5wcm90b3R5cGUuX2ZsdXNoPWZ1bmN0aW9uKGUpe3RoaXMuX3RyYW5zZm9ybShuLmFsbG9jKDApLFwiXCIsZSl9LFAucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKHQscil7dmFyIGk9dGhpcyxvPXRoaXMuX3dyaXRhYmxlU3RhdGU7KFwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fHZvaWQgMD09PXQmJiFyKSYmKHI9dCx0PWEuWl9GVUxMX0ZMVVNIKSxvLmVuZGVkP3ImJmUubmV4dFRpY2socik6by5lbmRpbmc/ciYmdGhpcy5vbmNlKFwiZW5kXCIscik6by5uZWVkRHJhaW4/ciYmdGhpcy5vbmNlKFwiZHJhaW5cIixmdW5jdGlvbigpe3JldHVybiBpLmZsdXNoKHQscil9KToodGhpcy5fZmx1c2hGbGFnPXQsdGhpcy53cml0ZShuLmFsbG9jKDApLFwiXCIscikpfSxQLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbih0KXtPKHRoaXMsdCksZS5uZXh0VGljayhULHRoaXMpfSxQLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxvPXRoaXMuX3dyaXRhYmxlU3RhdGUscz0oby5lbmRpbmd8fG8uZW5kZWQpJiYoIWV8fG8ubGVuZ3RoPT09ZS5sZW5ndGgpO3JldHVybiBudWxsPT09ZXx8bi5pc0J1ZmZlcihlKT90aGlzLl9oYW5kbGU/KHM/aT10aGlzLl9maW5pc2hGbHVzaEZsYWc6KGk9dGhpcy5fZmx1c2hGbGFnLGUubGVuZ3RoPj1vLmxlbmd0aCYmKHRoaXMuX2ZsdXNoRmxhZz10aGlzLl9vcHRzLmZsdXNofHxhLlpfTk9fRkxVU0gpKSx2b2lkIHRoaXMuX3Byb2Nlc3NDaHVuayhlLGkscikpOnIobmV3IEVycm9yKFwiemxpYiBiaW5kaW5nIGNsb3NlZFwiKSk6cihuZXcgRXJyb3IoXCJpbnZhbGlkIGlucHV0XCIpKX0sUC5wcm90b3R5cGUuX3Byb2Nlc3NDaHVuaz1mdW5jdGlvbihlLHQscil7dmFyIGk9ZSYmZS5sZW5ndGgsYT10aGlzLl9jaHVua1NpemUtdGhpcy5fb2Zmc2V0LG89MCx1PXRoaXMsaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiByO2lmKCFoKXt2YXIgZCxjPVtdLHA9MDt0aGlzLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXtkPWV9KSxzKHRoaXMuX2hhbmRsZSxcInpsaWIgYmluZGluZyBjbG9zZWRcIik7ZG97dmFyIGc9dGhpcy5faGFuZGxlLndyaXRlU3luYyh0LGUsbyxpLHRoaXMuX2J1ZmZlcix0aGlzLl9vZmZzZXQsYSl9d2hpbGUoIXRoaXMuX2hhZEVycm9yJiZiKGdbMF0sZ1sxXSkpO2lmKHRoaXMuX2hhZEVycm9yKXRocm93IGQ7aWYocD49Zil0aHJvdyBPKHRoaXMpLG5ldyBSYW5nZUVycm9yKGwpO3ZhciBtPW4uY29uY2F0KGMscCk7cmV0dXJuIE8odGhpcyksbX1zKHRoaXMuX2hhbmRsZSxcInpsaWIgYmluZGluZyBjbG9zZWRcIik7dmFyIF89dGhpcy5faGFuZGxlLndyaXRlKHQsZSxvLGksdGhpcy5fYnVmZmVyLHRoaXMuX29mZnNldCxhKTtmdW5jdGlvbiBiKGYsbCl7aWYodGhpcyYmKHRoaXMuYnVmZmVyPW51bGwsdGhpcy5jYWxsYmFjaz1udWxsKSwhdS5faGFkRXJyb3Ipe3ZhciBkPWEtbDtpZihzKGQ+PTAsXCJoYXZlIHNob3VsZCBub3QgZ28gZG93blwiKSxkPjApe3ZhciBnPXUuX2J1ZmZlci5zbGljZSh1Ll9vZmZzZXQsdS5fb2Zmc2V0K2QpO3UuX29mZnNldCs9ZCxoP3UucHVzaChnKTooYy5wdXNoKGcpLHArPWcubGVuZ3RoKX1pZigoMD09PWx8fHUuX29mZnNldD49dS5fY2h1bmtTaXplKSYmKGE9dS5fY2h1bmtTaXplLHUuX29mZnNldD0wLHUuX2J1ZmZlcj1uLmFsbG9jVW5zYWZlKHUuX2NodW5rU2l6ZSkpLDA9PT1sKXtpZihvKz1pLWYsaT1mLCFoKXJldHVybiEwO3ZhciBtPXUuX2hhbmRsZS53cml0ZSh0LGUsbyxpLHUuX2J1ZmZlcix1Ll9vZmZzZXQsdS5fY2h1bmtTaXplKTtyZXR1cm4gbS5jYWxsYmFjaz1iLHZvaWQobS5idWZmZXI9ZSl9aWYoIWgpcmV0dXJuITE7cigpfX1fLmJ1ZmZlcj1lLF8uY2FsbGJhY2s9Yn0sby5pbmhlcml0cyh5LFApLG8uaW5oZXJpdHModixQKSxvLmluaGVyaXRzKHcsUCksby5pbmhlcml0cyhFLFApLG8uaW5oZXJpdHMoeCxQKSxvLmluaGVyaXRzKGssUCksby5pbmhlcml0cyhTLFApfSkuY2FsbCh0aGlzLHIoMykpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZS53ZWJwYWNrUG9seWZpbGx8fChlLmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sZS5wYXRocz1bXSxlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pfX0pLGUud2VicGFja1BvbHlmaWxsPTEpLGV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbih0LGQpe2lmKHZvaWQgMD09PXQpdGhyb3dcImRpY29tUGFyc2VyLnBhcnNlRGljb206IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyICdieXRlQXJyYXknXCI7ZnVuY3Rpb24gYyhmKXt2YXIgYz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLmVsZW1lbnRzLngwMDAyMDAxMCl0aHJvd1wiZGljb21QYXJzZXIucGFyc2VEaWNvbTogbWlzc2luZyByZXF1aXJlZCBtZXRhIGhlYWRlciBhdHRyaWJ1dGUgMDAwMiwwMDEwXCI7dmFyIHI9ZS5lbGVtZW50cy54MDAwMjAwMTA7cmV0dXJuIHUucmVhZEZpeGVkU3RyaW5nKHQsci5kYXRhT2Zmc2V0LHIubGVuZ3RoKX0oZikscD1mdW5jdGlvbihlKXtpZihcIjEuMi44NDAuMTAwMDguMS4yXCI9PT1lKXJldHVybiExO3JldHVybiEwfShjKSxnPWZ1bmN0aW9uKG8sZil7aWYoXCIxLjIuODQwLjEwMDA4LjEuMi4xLjk5XCI9PT1vKXtpZihkJiZkLmluZmxhdGVyKXt2YXIgdT1kLmluZmxhdGVyKHQsZik7cmV0dXJuIG5ldyBhLmRlZmF1bHQocy5kZWZhdWx0LHUsMCl9aWYodm9pZCAwIT09ZSYmdGhpcy5tb2R1bGUhPT1lKXt2YXIgaD1yKDY4KSxjPSgwLGwuZGVmYXVsdCkodCxmLHQubGVuZ3RoLWYpLHA9aC5pbmZsYXRlUmF3U3luYyhjKSxnPSgwLG4uZGVmYXVsdCkodCxwLmxlbmd0aCtmKTtyZXR1cm4gdC5jb3B5KGcsMCwwLGYpLHAuY29weShnLGYpLG5ldyBhLmRlZmF1bHQocy5kZWZhdWx0LGcsMCl9aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHBha28pe3ZhciBtPXQuc2xpY2UoZiksXz1wYWtvLmluZmxhdGVSYXcobSksYj0oMCxuLmRlZmF1bHQpKHQsXy5sZW5ndGgrZik7cmV0dXJuIGIuc2V0KHQuc2xpY2UoMCxmKSwwKSxiLnNldChfLGYpLG5ldyBhLmRlZmF1bHQocy5kZWZhdWx0LGIsMCl9dGhyb3dcImRpY29tUGFyc2VyLnBhcnNlRGljb206IG5vIGluZmxhdGVyIGF2YWlsYWJsZSB0byBoYW5kbGUgZGVmbGF0ZSB0cmFuc2ZlciBzeW50YXhcIn1pZihcIjEuMi44NDAuMTAwMDguMS4yLjJcIj09PW8pcmV0dXJuIG5ldyBhLmRlZmF1bHQoaS5kZWZhdWx0LHQsZik7cmV0dXJuIG5ldyBhLmRlZmF1bHQocy5kZWZhdWx0LHQsZil9KGMsZi5wb3NpdGlvbiksbT1uZXcgby5kZWZhdWx0KGcuYnl0ZUFycmF5UGFyc2VyLGcuYnl0ZUFycmF5LHt9KTttLndhcm5pbmdzPWcud2FybmluZ3M7dHJ5e3A/aC5wYXJzZURpY29tRGF0YVNldEV4cGxpY2l0KG0sZyxnLmJ5dGVBcnJheS5sZW5ndGgsZCk6aC5wYXJzZURpY29tRGF0YVNldEltcGxpY2l0KG0sZyxnLmJ5dGVBcnJheS5sZW5ndGgsZCl9Y2F0Y2goZSl7dmFyIF89e2V4Y2VwdGlvbjplLGRhdGFTZXQ6bX07dGhyb3cgX31yZXR1cm4gbX1yZXR1cm4gcD0oMCxmLmRlZmF1bHQpKHQsZCksZz1jKHApLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIGUuZWxlbWVudHMpZS5lbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShyKSYmKHQuZWxlbWVudHNbcl09ZS5lbGVtZW50c1tyXSk7cmV0dXJuIHZvaWQgMCE9PWUud2FybmluZ3MmJih0Lndhcm5pbmdzPWUud2FybmluZ3MuY29uY2F0KHQud2FybmluZ3MpKSx0fShwLGcpO3ZhciBwLGd9O3ZhciBuPWMocigyMikpLGk9YyhyKDM3KSksYT1jKHIoMTIpKSxvPWMocig3KSkscz1jKHIoMjEpKSxmPWMocigzNikpLGw9YyhyKDExKSksdT1kKHIoMTQpKSxoPWQocigxNikpO2Z1bmN0aW9uIGQoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fX0pLmNhbGwodGhpcyxyKDY5KShlKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9XCIxLjguMVwifSxmdW5jdGlvbihlLHQpe3QucmVhZD1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBhLG8scz04Kmktbi0xLGY9KDE8PHMpLTEsbD1mPj4xLHU9LTcsaD1yP2ktMTowLGQ9cj8tMToxLGM9ZVt0K2hdO2ZvcihoKz1kLGE9YyYoMTw8LXUpLTEsYz4+PS11LHUrPXM7dT4wO2E9MjU2KmErZVt0K2hdLGgrPWQsdS09OCk7Zm9yKG89YSYoMTw8LXUpLTEsYT4+PS11LHUrPW47dT4wO289MjU2Km8rZVt0K2hdLGgrPWQsdS09OCk7aWYoMD09PWEpYT0xLWw7ZWxzZXtpZihhPT09ZilyZXR1cm4gbz9OYU46MS8wKihjPy0xOjEpO28rPU1hdGgucG93KDIsbiksYS09bH1yZXR1cm4oYz8tMToxKSpvKk1hdGgucG93KDIsYS1uKX0sdC53cml0ZT1mdW5jdGlvbihlLHQscixuLGksYSl7dmFyIG8scyxmLGw9OCphLWktMSx1PSgxPDxsKS0xLGg9dT4+MSxkPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsYz1uPzA6YS0xLHA9bj8xOi0xLGc9dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhzPWlzTmFOKHQpPzE6MCxvPXUpOihvPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKGY9TWF0aC5wb3coMiwtbykpPDEmJihvLS0sZio9MiksKHQrPW8raD49MT9kL2Y6ZCpNYXRoLnBvdygyLDEtaCkpKmY+PTImJihvKyssZi89MiksbytoPj11PyhzPTAsbz11KTpvK2g+PTE/KHM9KHQqZi0xKSpNYXRoLnBvdygyLGkpLG8rPWgpOihzPXQqTWF0aC5wb3coMixoLTEpKk1hdGgucG93KDIsaSksbz0wKSk7aT49ODtlW3IrY109MjU1JnMsYys9cCxzLz0yNTYsaS09OCk7Zm9yKG89bzw8aXxzLGwrPWk7bD4wO2VbcitjXT0yNTUmbyxjKz1wLG8vPTI1NixsLT04KTtlW3IrYy1wXXw9MTI4Kmd9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5ieXRlTGVuZ3RoPWZ1bmN0aW9uKGUpe3JldHVybiAzKmUubGVuZ3RoLzQtbChlKX0sdC50b0J5dGVBcnJheT1mdW5jdGlvbihlKXt2YXIgdCxyLG4sbyxzLGY9ZS5sZW5ndGg7bz1sKGUpLHM9bmV3IGEoMypmLzQtbykscj1vPjA/Zi00OmY7dmFyIHU9MDtmb3IodD0wO3Q8cjt0Kz00KW49aVtlLmNoYXJDb2RlQXQodCldPDwxOHxpW2UuY2hhckNvZGVBdCh0KzEpXTw8MTJ8aVtlLmNoYXJDb2RlQXQodCsyKV08PDZ8aVtlLmNoYXJDb2RlQXQodCszKV0sc1t1KytdPW4+PjE2JjI1NSxzW3UrK109bj4+OCYyNTUsc1t1KytdPTI1NSZuOzI9PT1vPyhuPWlbZS5jaGFyQ29kZUF0KHQpXTw8MnxpW2UuY2hhckNvZGVBdCh0KzEpXT4+NCxzW3UrK109MjU1Jm4pOjE9PT1vJiYobj1pW2UuY2hhckNvZGVBdCh0KV08PDEwfGlbZS5jaGFyQ29kZUF0KHQrMSldPDw0fGlbZS5jaGFyQ29kZUF0KHQrMildPj4yLHNbdSsrXT1uPj44JjI1NSxzW3UrK109MjU1Jm4pO3JldHVybiBzfSx0LmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZS5sZW5ndGgsaT1yJTMsYT1cIlwiLG89W10scz0wLGY9ci1pO3M8ZjtzKz0xNjM4MylvLnB1c2godShlLHMscysxNjM4Mz5mP2Y6cysxNjM4MykpOzE9PT1pPyh0PWVbci0xXSxhKz1uW3Q+PjJdLGErPW5bdDw8NCY2M10sYSs9XCI9PVwiKToyPT09aSYmKHQ9KGVbci0yXTw8OCkrZVtyLTFdLGErPW5bdD4+MTBdLGErPW5bdD4+NCY2M10sYSs9blt0PDwyJjYzXSxhKz1cIj1cIik7cmV0dXJuIG8ucHVzaChhKSxvLmpvaW4oXCJcIil9O2Zvcih2YXIgbj1bXSxpPVtdLGE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxvPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLHM9MCxmPW8ubGVuZ3RoO3M8ZjsrK3MpbltzXT1vW3NdLGlbby5jaGFyQ29kZUF0KHMpXT1zO2Z1bmN0aW9uIGwoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodCU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTtyZXR1cm5cIj1cIj09PWVbdC0yXT8yOlwiPVwiPT09ZVt0LTFdPzE6MH1mdW5jdGlvbiB1KGUsdCxyKXtmb3IodmFyIGksYSxvPVtdLHM9dDtzPHI7cys9MylpPShlW3NdPDwxNiYxNjcxMTY4MCkrKGVbcysxXTw8OCY2NTI4MCkrKDI1NSZlW3MrMl0pLG8ucHVzaChuWyhhPWkpPj4xOCY2M10rblthPj4xMiY2M10rblthPj42JjYzXStuWzYzJmFdKTtyZXR1cm4gby5qb2luKFwiXCIpfWlbXCItXCIuY2hhckNvZGVBdCgwKV09NjIsaVtcIl9cIi5jaGFyQ29kZUF0KDApXT02M30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gMjU1PT09ZS5ieXRlQXJyYXlbdF0mJjIxNz09PWUuYnl0ZUFycmF5W3QrMV19ZnVuY3Rpb24gaShlLHQscil7dmFyIGk9dC5mcmFnbWVudHNbcl07cmV0dXJuISghbihlLGkucG9zaXRpb24raS5sZW5ndGgtMikmJiFuKGUsaS5wb3NpdGlvbitpLmxlbmd0aC0zKSl9ZnVuY3Rpb24gYShlLHQscil7Zm9yKHZhciBuPXI7bjx0LmZyYWdtZW50cy5sZW5ndGg7bisrKWlmKGkoZSx0LG4pKXJldHVybiBufU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSl0aHJvd1wiZGljb21QYXJzZXIuY3JlYXRlSlBFR0Jhc2ljT2Zmc2V0VGFibGU6IG1pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyIGRhdGFTZXRcIjtpZih2b2lkIDA9PT10KXRocm93XCJkaWNvbVBhcnNlci5jcmVhdGVKUEVHQmFzaWNPZmZzZXRUYWJsZTogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgcGl4ZWxEYXRhRWxlbWVudFwiO2lmKFwieDdmZTAwMDEwXCIhPT10LnRhZyl0aHJvd1wiZGljb21QYXJzZXIuY3JlYXRlSlBFR0Jhc2ljT2Zmc2V0VGFibGU6IHBhcmFtZXRlciAncGl4ZWxEYXRhRWxlbWVudCcgcmVmZXJzIHRvIG5vbiBwaXhlbCBkYXRhIHRhZyAoZXhwZWN0ZWQgdGFnID0geDdmZTAwMDEwJ1wiO2lmKCEwIT09dC5lbmNhcHN1bGF0ZWRQaXhlbERhdGEpdGhyb3dcImRpY29tUGFyc2VyLmNyZWF0ZUpQRUdCYXNpY09mZnNldFRhYmxlOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYoITAhPT10LmhhZFVuZGVmaW5lZExlbmd0aCl0aHJvd1wiZGljb21QYXJzZXIuY3JlYXRlSlBFR0Jhc2ljT2Zmc2V0VGFibGU6IHBhcmFtZXRlciAncGl4ZWxEYXRhRWxlbWVudCcgcmVmZXJzIHRvIHBpeGVsIGRhdGEgZWxlbWVudCB0aGF0IGRvZXMgbm90IGhhdmUgZW5jYXBzdWxhdGVkIHBpeGVsIGRhdGFcIjtpZih2b2lkIDA9PT10LmJhc2ljT2Zmc2V0VGFibGUpdGhyb3dcImRpY29tUGFyc2VyLmNyZWF0ZUpQRUdCYXNpY09mZnNldFRhYmxlOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYodm9pZCAwPT09dC5mcmFnbWVudHMpdGhyb3dcImRpY29tUGFyc2VyLmNyZWF0ZUpQRUdCYXNpY09mZnNldFRhYmxlOiBwYXJhbWV0ZXIgJ3BpeGVsRGF0YUVsZW1lbnQnIHJlZmVycyB0byBwaXhlbCBkYXRhIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBoYXZlIGVuY2Fwc3VsYXRlZCBwaXhlbCBkYXRhXCI7aWYodC5mcmFnbWVudHMubGVuZ3RoPD0wKXRocm93XCJkaWNvbVBhcnNlci5jcmVhdGVKUEVHQmFzaWNPZmZzZXRUYWJsZTogcGFyYW1ldGVyICdwaXhlbERhdGFFbGVtZW50JyByZWZlcnMgdG8gcGl4ZWwgZGF0YSBlbGVtZW50IHRoYXQgZG9lcyBub3QgaGF2ZSBlbmNhcHN1bGF0ZWQgcGl4ZWwgZGF0YVwiO2lmKHImJnIubGVuZ3RoPD0wKXRocm93XCJkaWNvbVBhcnNlci5jcmVhdGVKUEVHQmFzaWNPZmZzZXRUYWJsZTogcGFyYW1ldGVyICdmcmFnbWVudHMnIG11c3Qgbm90IGJlIHplcm8gbGVuZ3RoXCI7cj1yfHx0LmZyYWdtZW50czt2YXIgbj1bXSxpPTA7Zm9yKDs7KXtuLnB1c2godC5mcmFnbWVudHNbaV0ub2Zmc2V0KTt2YXIgbz1hKGUsdCxpKTtpZih2b2lkIDA9PT1vfHxvPT09dC5mcmFnbWVudHMubGVuZ3RoLTEpcmV0dXJuIG47aT1vKzF9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbiBlKHQscil7aWYodm9pZCAwPT09dCl0aHJvd1wiZGljb21QYXJzZXIuZXhwbGljaXREYXRhU2V0VG9KUzogbWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIgZGF0YVNldFwiO3I9cnx8e29taXRQcml2YXRlQXR0aWJ1dGVzOiEwLG1heEVsZW1lbnRMZW5ndGg6MTI4fTt2YXIgbj17fTtmb3IodmFyIGkgaW4gdC5lbGVtZW50cyl7dmFyIHM9dC5lbGVtZW50c1tpXTtpZighMCE9PXIub21pdFByaXZhdGVBdHRpYnV0ZXN8fCFvLmlzUHJpdmF0ZVRhZyhpKSlpZihzLml0ZW1zKXtmb3IodmFyIGY9W10sbD0wO2w8cy5pdGVtcy5sZW5ndGg7bCsrKWYucHVzaChlKHMuaXRlbXNbbF0uZGF0YVNldCxyKSk7bltpXT1mfWVsc2V7dmFyIHU7dT12b2lkIDAscy5sZW5ndGg8ci5tYXhFbGVtZW50TGVuZ3RoJiYodT0oMCxhLmRlZmF1bHQpKHQscykpLG5baV09dm9pZCAwIT09dT91OntkYXRhT2Zmc2V0OnMuZGF0YU9mZnNldCxsZW5ndGg6cy5sZW5ndGh9fX1yZXR1cm4gbn07dmFyIG4saT1yKDQzKSxhPShuPWkpJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufSxvPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocigyNSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoZSYmOD09PWUubGVuZ3RoKXt2YXIgcj1wYXJzZUludChlLnN1YnN0cmluZygwLDQpLDEwKSxuPXBhcnNlSW50KGUuc3Vic3RyaW5nKDQsNiksMTApLGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoNiw4KSwxMCk7aWYodCYmITAhPT1mdW5jdGlvbihlLHQscil7aWYoaXNOYU4ocikpcmV0dXJuITE7cmV0dXJuIHQ+MCYmdDw9MTImJmU+MCYmZTw9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSAyOnJldHVybiB0JTQ9PTAmJnQlMTAwfHx0JTQwMD09MD8yOToyODtjYXNlIDk6Y2FzZSA0OmNhc2UgNjpjYXNlIDExOnJldHVybiAzMDtkZWZhdWx0OnJldHVybiAzMX19KHQscil9KGksbixyKSl0aHJvd1wiaW52YWxpZCBEQSAnXCIrZStcIidcIjtyZXR1cm57eWVhcjpyLG1vbnRoOm4sZGF5Oml9fWlmKHQpdGhyb3dcImludmFsaWQgREEgJ1wiK2UrXCInXCI7cmV0dXJufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoPj0yKXt2YXIgcj1wYXJzZUludChlLnN1YnN0cmluZygwLDIpLDEwKSxuPWUubGVuZ3RoPj00P3BhcnNlSW50KGUuc3Vic3RyaW5nKDIsNCksMTApOnZvaWQgMCxpPWUubGVuZ3RoPj02P3BhcnNlSW50KGUuc3Vic3RyaW5nKDQsNiksMTApOnZvaWQgMCxhPWUubGVuZ3RoPj04P3BhcnNlSW50KGUuc3Vic3RyaW5nKDcsMTMpLDEwKTp2b2lkIDA7aWYodCYmKGlzTmFOKHIpfHx2b2lkIDAhPT1uJiZpc05hTihuKXx8dm9pZCAwIT09aSYmaXNOYU4oaSl8fHZvaWQgMCE9PWEmJmlzTmFOKGEpfHxyPDB8fHI+MjN8fG4mJihuPDB8fG4+NTkpfHxpJiYoaTwwfHxpPjU5KXx8YSYmKGE8MHx8YT45OTk5OTkpKSl0aHJvd1wiaW52YWxpZCBUTSAnXCIrZStcIidcIjtyZXR1cm57aG91cnM6cixtaW51dGVzOm4sc2Vjb25kczppLGZyYWN0aW9uYWxTZWNvbmRzOmF9fWlmKHQpdGhyb3dcImludmFsaWQgVE0gJ1wiK2UrXCInXCI7cmV0dXJufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMjUpO09iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7XCJkZWZhdWx0XCIhPT1lJiZcIl9fZXNNb2R1bGVcIiE9PWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5bZV19fSl9KTt2YXIgaT1yKDc3KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInBhcnNlVE1cIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbChpKS5kZWZhdWx0fX0pO3ZhciBhPXIoNzYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicGFyc2VEQVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsKGEpLmRlZmF1bHR9fSk7dmFyIG89cig0Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJleHBsaWNpdEVsZW1lbnRUb1N0cmluZ1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsKG8pLmRlZmF1bHR9fSk7dmFyIHM9cig3NSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJleHBsaWNpdERhdGFTZXRUb0pTXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwocykuZGVmYXVsdH19KTt2YXIgZj1yKDc0KTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZUpQRUdCYXNpY09mZnNldFRhYmxlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwoZikuZGVmYXVsdH19KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNzgpO09iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7XCJkZWZhdWx0XCIhPT1lJiZcIl9fZXNNb2R1bGVcIiE9PWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5bZV19fSl9KTt2YXIgaT1yKDE2KTtPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wiZGVmYXVsdFwiIT09ZSYmXCJfX2VzTW9kdWxlXCIhPT1lJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpW2VdfX0pfSk7dmFyIGE9cigxNCk7T2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihlKXtcImRlZmF1bHRcIiE9PWUmJlwiX19lc01vZHVsZVwiIT09ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYVtlXX19KX0pO3ZhciBvPXIoMjIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiYWxsb2NcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUChvKS5kZWZhdWx0fX0pO3ZhciBzPXIoNzEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidmVyc2lvblwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQKHMpLmRlZmF1bHR9fSk7dmFyIGY9cigzNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJiaWdFbmRpYW5CeXRlQXJyYXlQYXJzZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUChmKS5kZWZhdWx0fX0pO3ZhciBsPXIoMTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQnl0ZVN0cmVhbVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQKGwpLmRlZmF1bHR9fSk7dmFyIHU9cigxMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzaGFyZWRDb3B5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFAodSkuZGVmYXVsdH19KTt2YXIgaD1yKDcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiRGF0YVNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQKGgpLmRlZmF1bHR9fSk7dmFyIGQ9cig0MSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJmaW5kQW5kU2V0VU5FbGVtZW50TGVuZ3RoXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFAoZCkuZGVmYXVsdH19KTt2YXIgYz1yKDQyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImZpbmRFbmRPZkVuY2Fwc3VsYXRlZEVsZW1lbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUChjKS5kZWZhdWx0fX0pO3ZhciBwPXIoMjQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZmluZEl0ZW1EZWxpbWl0YXRpb25JdGVtQW5kU2V0RWxlbWVudExlbmd0aFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQKHApLmRlZmF1bHR9fSk7dmFyIGc9cigyMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJsaXR0bGVFbmRpYW5CeXRlQXJyYXlQYXJzZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUChnKS5kZWZhdWx0fX0pO3ZhciBtPXIoNzApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicGFyc2VEaWNvbVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQKG0pLmRlZmF1bHR9fSk7dmFyIF89cigxNSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJyZWFkRGljb21FbGVtZW50RXhwbGljaXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUChfKS5kZWZhdWx0fX0pO3ZhciBiPXIoMjMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicmVhZERpY29tRWxlbWVudEltcGxpY2l0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFAoYikuZGVmYXVsdH19KTt2YXIgeT1yKDI2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInJlYWRFbmNhcHN1bGF0ZWRJbWFnZUZyYW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFAoeSkuZGVmYXVsdH19KTt2YXIgdj1yKDQ0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInJlYWRFbmNhcHN1bGF0ZWRQaXhlbERhdGFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUCh2KS5kZWZhdWx0fX0pO3ZhciB3PXIoMTcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicmVhZEVuY2Fwc3VsYXRlZFBpeGVsRGF0YUZyb21GcmFnbWVudHNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUCh3KS5kZWZhdWx0fX0pO3ZhciBFPXIoMzYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicmVhZFBhcnQxMEhlYWRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQKEUpLmRlZmF1bHR9fSk7dmFyIHg9cig0MCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJyZWFkU2VxdWVuY2VJdGVtc0V4cGxpY2l0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFAoeCkuZGVmYXVsdH19KTt2YXIgaz1yKDM5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInJlYWRTZXF1ZW5jZUl0ZW1zSW1wbGljaXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUChrKS5kZWZhdWx0fX0pO3ZhciBTPXIoMTMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicmVhZFNlcXVlbmNlSXRlbVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQKFMpLmRlZmF1bHR9fSk7dmFyIEE9cig0KTtmdW5jdGlvbiBQKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInJlYWRUYWdcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUChBKS5kZWZhdWx0fX0pfV0pfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWNvbVBhcnNlci5taW4uanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/dicom-parser/dist/dicomParser.min.js\n");

/***/ }),

/***/ "../node_modules/is-buffer/index.js":
/*!******************************************!*\
  !*** ../node_modules/is-buffer/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzPzExYjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../node_modules/is-buffer/index.js\n");

/***/ }),

/***/ "../node_modules/process/browser.js":
/*!******************************************!*\
  !*** ../node_modules/process/browser.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzP2U0OGIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/process/browser.js\n");

/***/ }),

/***/ "../node_modules/webpack/buildin/global.js":
/*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/global.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanM/YTQyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "../node_modules/webpack/buildin/module.js":
/*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/module.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanM/NDY4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/webpack/buildin/module.js\n");

/***/ }),

/***/ "./dicom.js":
/*!******************!*\
  !*** ./dicom.js ***!
  \******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-core */ \"../node_modules/cornerstone-core/dist/cornerstone.js\");\n/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-wado-image-loader */ \"../node_modules/cornerstone-wado-image-loader/dist/cornerstoneWADOImageLoader.min.js\");\n/* harmony import */ var cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-tools */ \"../node_modules/cornerstone-tools/dist/cornerstoneTools.min.js\");\n/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cornerstone-math */ \"../node_modules/cornerstone-math/dist/cornerstoneMath.min.js\");\n/* harmony import */ var cornerstone_math__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cornerstone_math__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dicom_parser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dicom-parser */ \"../node_modules/dicom-parser/dist/dicomParser.min.js\");\n/* harmony import */ var dicom_parser__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dicom_parser__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\ncornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__[\"external\"].cornerstone = cornerstone_core__WEBPACK_IMPORTED_MODULE_0__;\ncornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__[\"external\"].dicomParser = dicom_parser__WEBPACK_IMPORTED_MODULE_4__;\ncornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__[\"configure\"]({\n  useWebWorkers: false\n});\ncornerstone_tools__WEBPACK_IMPORTED_MODULE_2__[\"external\"].cornerstone = cornerstone_core__WEBPACK_IMPORTED_MODULE_0__;\ncornerstone_tools__WEBPACK_IMPORTED_MODULE_2__[\"external\"].cornerstoneMath = cornerstone_math__WEBPACK_IMPORTED_MODULE_3__;\n\nconst element = document.getElementById('dicomImage');\ncornerstone_core__WEBPACK_IMPORTED_MODULE_0__[\"enable\"](element);\n\nconst parseBoundary = header => {\n  const items = header.split(';');\n  if (items)\n    for (let item of items) {\n      item = item.trim();\n      if (item.indexOf('boundary') >= 0) {\n        let b = item.split('=')[1].trim();\n        if (b.startsWith('\"'))\n          b = b.substring(1);\n        if (b.endsWith('\"'))\n          b = b.substring(0, b.length - 1);\n        return b;\n      }\n    }\n  return '';\n}\n\nconst parseMultipart = (buffer, boundary) => {\n  const bodyArray = new Uint8Array(buffer);\n  const boundaryBytes = Array.from(boundary, x => x.charCodeAt(0));\n  const boundaryArray = [0x2d, 0x2d].concat(boundaryBytes, [0x0d, 0x0a]);\n  const boundaryEndArray = [0x2d, 0x2d].concat(boundaryBytes, [0x2d, 0x2d]);\n\n  let stops = [], i = 0;\n  while (true) {\n    i = findPart(bodyArray, boundaryArray, i);\n    if (i == -1)\n      break;\n    stops.push(i);\n    i += 1;\n  }\n  i = findPart(bodyArray, boundaryEndArray, stops[stops.length - 1] + 1);\n\n  if (i != -1)\n    stops.push(i);\n\n  let allParts = [], start = 0, end = 0;\n  for (i = 0; i < stops.length - 1; i++) {\n    start = stops[i] + boundaryArray.length;\n    end = stops[i+1] - 2;\n\n    const rawPart = bodyArray.slice(start, end);\n    let headers = {}, line = '';\n    for (let j = 0; j < rawPart.length - 1; j++) {\n      if (rawPart[j] == 0x0d && rawPart[j+1] == 0x0a) {\n        if (line === '') {\n          allParts.push({headers, body: rawPart.slice(j+2).buffer});\n          break;\n        }\n        const headerParts = line.split(':', 2);\n        headers[headerParts[0]] = headerParts[1].trim();\n        line = '';\n        j += 1;\n      } else {\n        line += String.fromCharCode(rawPart[j]);\n      }\n    }\n  }\n\n  return allParts;\n}\n\nconst findPart = (arr, subarr, start = 0) => {\n  for (let i = start; i < 1 + (arr.length - subarr.length); i++) {\n    let j = 0;\n    if (!(i == 0 || (arr[i-2] == 0x0d && arr[i-1] == 0x0a)))\n      continue;\n    for (; j < subarr.length; j++)\n      if (arr[i+j] !== subarr[j])\n        break;\n    if (j == subarr.length)\n      return i;\n  }\n  return -1;\n}\n\nconst makeRequest = (uri, token) => {\n  return fetch(uri, {\n    headers: {\n      Accept: 'multipart/related; type=application/dicom',\n      Authorization: 'Bearer ' + token\n    }\n  });\n}\n\nconst sleep = async (ms) => new Promise(r => setTimeout(r, ms));\n\nconst parseDicom = async (uri, token) => {\n  let response = await makeRequest(uri, token);\n  if (response.status == 503) {\n    await sleep(3000);\n    response = await makeRequest(uri, token);\n  }\n  const boundary = parseBoundary(response.headers.get('Content-Type'));\n  const parts = await response.arrayBuffer()\n    .then(buffer => parseMultipart(buffer, boundary));\n  const blob = new Blob([parts[0].body]);\n  const imageId = cornerstone_wado_image_loader__WEBPACK_IMPORTED_MODULE_1__[\"wadouri\"].fileManager.add(blob);\n  let loaded = false;\n  cornerstone_core__WEBPACK_IMPORTED_MODULE_0__[\"loadImage\"](imageId).then(image => {\n    const viewport = cornerstone_core__WEBPACK_IMPORTED_MODULE_0__[\"getDefaultViewportForImage\"](element, image);\n    cornerstone_core__WEBPACK_IMPORTED_MODULE_0__[\"displayImage\"](element, image, viewport);\n    if (!loaded) {\n      cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__[\"mouseInput\"].enable(element);\n      cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__[\"mouseWheelInput\"].enable(element);\n      cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__[\"wwwc\"].activate(element, 1);  // left click\n      cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__[\"pan\"].activate(element, 2);  // middle click\n      cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__[\"zoom\"].activate(element, 4);  // right click\n      cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__[\"zoomWheel\"].activate(element);\n      loaded = true;\n    }\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (parseDicom);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kaWNvbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2RpY29tLmpzP2FjOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY29ybmVyc3RvbmUgZnJvbSAnY29ybmVyc3RvbmUtY29yZSc7XG5pbXBvcnQgKiBhcyBjb3JuZXJzdG9uZVdBRE9JbWFnZUxvYWRlciBmcm9tICdjb3JuZXJzdG9uZS13YWRvLWltYWdlLWxvYWRlcic7XG5pbXBvcnQgKiBhcyBjb3JuZXJzdG9uZVRvb2xzIGZyb20gJ2Nvcm5lcnN0b25lLXRvb2xzJztcbmltcG9ydCAqIGFzIGNvcm5lcnN0b25lTWF0aCBmcm9tICdjb3JuZXJzdG9uZS1tYXRoJztcbmltcG9ydCAqIGFzIGRpY29tUGFyc2VyIGZyb20gJ2RpY29tLXBhcnNlcic7XG5cbmNvcm5lcnN0b25lV0FET0ltYWdlTG9hZGVyLmV4dGVybmFsLmNvcm5lcnN0b25lID0gY29ybmVyc3RvbmU7XG5jb3JuZXJzdG9uZVdBRE9JbWFnZUxvYWRlci5leHRlcm5hbC5kaWNvbVBhcnNlciA9IGRpY29tUGFyc2VyO1xuY29ybmVyc3RvbmVXQURPSW1hZ2VMb2FkZXIuY29uZmlndXJlKHtcbiAgdXNlV2ViV29ya2VyczogZmFsc2Vcbn0pO1xuY29ybmVyc3RvbmVUb29scy5leHRlcm5hbC5jb3JuZXJzdG9uZSA9IGNvcm5lcnN0b25lO1xuY29ybmVyc3RvbmVUb29scy5leHRlcm5hbC5jb3JuZXJzdG9uZU1hdGggPSBjb3JuZXJzdG9uZU1hdGg7XG5cbmNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGljb21JbWFnZScpO1xuY29ybmVyc3RvbmUuZW5hYmxlKGVsZW1lbnQpO1xuXG5jb25zdCBwYXJzZUJvdW5kYXJ5ID0gaGVhZGVyID0+IHtcbiAgY29uc3QgaXRlbXMgPSBoZWFkZXIuc3BsaXQoJzsnKTtcbiAgaWYgKGl0ZW1zKVxuICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIGl0ZW0gPSBpdGVtLnRyaW0oKTtcbiAgICAgIGlmIChpdGVtLmluZGV4T2YoJ2JvdW5kYXJ5JykgPj0gMCkge1xuICAgICAgICBsZXQgYiA9IGl0ZW0uc3BsaXQoJz0nKVsxXS50cmltKCk7XG4gICAgICAgIGlmIChiLnN0YXJ0c1dpdGgoJ1wiJykpXG4gICAgICAgICAgYiA9IGIuc3Vic3RyaW5nKDEpO1xuICAgICAgICBpZiAoYi5lbmRzV2l0aCgnXCInKSlcbiAgICAgICAgICBiID0gYi5zdWJzdHJpbmcoMCwgYi5sZW5ndGggLSAxKTtcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgICB9XG4gICAgfVxuICByZXR1cm4gJyc7XG59XG5cbmNvbnN0IHBhcnNlTXVsdGlwYXJ0ID0gKGJ1ZmZlciwgYm91bmRhcnkpID0+IHtcbiAgY29uc3QgYm9keUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgY29uc3QgYm91bmRhcnlCeXRlcyA9IEFycmF5LmZyb20oYm91bmRhcnksIHggPT4geC5jaGFyQ29kZUF0KDApKTtcbiAgY29uc3QgYm91bmRhcnlBcnJheSA9IFsweDJkLCAweDJkXS5jb25jYXQoYm91bmRhcnlCeXRlcywgWzB4MGQsIDB4MGFdKTtcbiAgY29uc3QgYm91bmRhcnlFbmRBcnJheSA9IFsweDJkLCAweDJkXS5jb25jYXQoYm91bmRhcnlCeXRlcywgWzB4MmQsIDB4MmRdKTtcblxuICBsZXQgc3RvcHMgPSBbXSwgaSA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaSA9IGZpbmRQYXJ0KGJvZHlBcnJheSwgYm91bmRhcnlBcnJheSwgaSk7XG4gICAgaWYgKGkgPT0gLTEpXG4gICAgICBicmVhaztcbiAgICBzdG9wcy5wdXNoKGkpO1xuICAgIGkgKz0gMTtcbiAgfVxuICBpID0gZmluZFBhcnQoYm9keUFycmF5LCBib3VuZGFyeUVuZEFycmF5LCBzdG9wc1tzdG9wcy5sZW5ndGggLSAxXSArIDEpO1xuXG4gIGlmIChpICE9IC0xKVxuICAgIHN0b3BzLnB1c2goaSk7XG5cbiAgbGV0IGFsbFBhcnRzID0gW10sIHN0YXJ0ID0gMCwgZW5kID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IHN0b3BzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHN0YXJ0ID0gc3RvcHNbaV0gKyBib3VuZGFyeUFycmF5Lmxlbmd0aDtcbiAgICBlbmQgPSBzdG9wc1tpKzFdIC0gMjtcblxuICAgIGNvbnN0IHJhd1BhcnQgPSBib2R5QXJyYXkuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgbGV0IGhlYWRlcnMgPSB7fSwgbGluZSA9ICcnO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmF3UGFydC5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgIGlmIChyYXdQYXJ0W2pdID09IDB4MGQgJiYgcmF3UGFydFtqKzFdID09IDB4MGEpIHtcbiAgICAgICAgaWYgKGxpbmUgPT09ICcnKSB7XG4gICAgICAgICAgYWxsUGFydHMucHVzaCh7aGVhZGVycywgYm9keTogcmF3UGFydC5zbGljZShqKzIpLmJ1ZmZlcn0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlclBhcnRzID0gbGluZS5zcGxpdCgnOicsIDIpO1xuICAgICAgICBoZWFkZXJzW2hlYWRlclBhcnRzWzBdXSA9IGhlYWRlclBhcnRzWzFdLnRyaW0oKTtcbiAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICBqICs9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocmF3UGFydFtqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFsbFBhcnRzO1xufVxuXG5jb25zdCBmaW5kUGFydCA9IChhcnIsIHN1YmFyciwgc3RhcnQgPSAwKSA9PiB7XG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IDEgKyAoYXJyLmxlbmd0aCAtIHN1YmFyci5sZW5ndGgpOyBpKyspIHtcbiAgICBsZXQgaiA9IDA7XG4gICAgaWYgKCEoaSA9PSAwIHx8IChhcnJbaS0yXSA9PSAweDBkICYmIGFycltpLTFdID09IDB4MGEpKSlcbiAgICAgIGNvbnRpbnVlO1xuICAgIGZvciAoOyBqIDwgc3ViYXJyLmxlbmd0aDsgaisrKVxuICAgICAgaWYgKGFycltpK2pdICE9PSBzdWJhcnJbal0pXG4gICAgICAgIGJyZWFrO1xuICAgIGlmIChqID09IHN1YmFyci5sZW5ndGgpXG4gICAgICByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmNvbnN0IG1ha2VSZXF1ZXN0ID0gKHVyaSwgdG9rZW4pID0+IHtcbiAgcmV0dXJuIGZldGNoKHVyaSwge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIEFjY2VwdDogJ211bHRpcGFydC9yZWxhdGVkOyB0eXBlPWFwcGxpY2F0aW9uL2RpY29tJyxcbiAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIHRva2VuXG4gICAgfVxuICB9KTtcbn1cblxuY29uc3Qgc2xlZXAgPSBhc3luYyAobXMpID0+IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCBtcykpO1xuXG5jb25zdCBwYXJzZURpY29tID0gYXN5bmMgKHVyaSwgdG9rZW4pID0+IHtcbiAgbGV0IHJlc3BvbnNlID0gYXdhaXQgbWFrZVJlcXVlc3QodXJpLCB0b2tlbik7XG4gIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gNTAzKSB7XG4gICAgYXdhaXQgc2xlZXAoMzAwMCk7XG4gICAgcmVzcG9uc2UgPSBhd2FpdCBtYWtlUmVxdWVzdCh1cmksIHRva2VuKTtcbiAgfVxuICBjb25zdCBib3VuZGFyeSA9IHBhcnNlQm91bmRhcnkocmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgY29uc3QgcGFydHMgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpXG4gICAgLnRoZW4oYnVmZmVyID0+IHBhcnNlTXVsdGlwYXJ0KGJ1ZmZlciwgYm91bmRhcnkpKTtcbiAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtwYXJ0c1swXS5ib2R5XSk7XG4gIGNvbnN0IGltYWdlSWQgPSBjb3JuZXJzdG9uZVdBRE9JbWFnZUxvYWRlci53YWRvdXJpLmZpbGVNYW5hZ2VyLmFkZChibG9iKTtcbiAgbGV0IGxvYWRlZCA9IGZhbHNlO1xuICBjb3JuZXJzdG9uZS5sb2FkSW1hZ2UoaW1hZ2VJZCkudGhlbihpbWFnZSA9PiB7XG4gICAgY29uc3Qgdmlld3BvcnQgPSBjb3JuZXJzdG9uZS5nZXREZWZhdWx0Vmlld3BvcnRGb3JJbWFnZShlbGVtZW50LCBpbWFnZSk7XG4gICAgY29ybmVyc3RvbmUuZGlzcGxheUltYWdlKGVsZW1lbnQsIGltYWdlLCB2aWV3cG9ydCk7XG4gICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgIGNvcm5lcnN0b25lVG9vbHMubW91c2VJbnB1dC5lbmFibGUoZWxlbWVudCk7XG4gICAgICBjb3JuZXJzdG9uZVRvb2xzLm1vdXNlV2hlZWxJbnB1dC5lbmFibGUoZWxlbWVudCk7XG4gICAgICBjb3JuZXJzdG9uZVRvb2xzLnd3d2MuYWN0aXZhdGUoZWxlbWVudCwgMSk7ICAvLyBsZWZ0IGNsaWNrXG4gICAgICBjb3JuZXJzdG9uZVRvb2xzLnBhbi5hY3RpdmF0ZShlbGVtZW50LCAyKTsgIC8vIG1pZGRsZSBjbGlja1xuICAgICAgY29ybmVyc3RvbmVUb29scy56b29tLmFjdGl2YXRlKGVsZW1lbnQsIDQpOyAgLy8gcmlnaHQgY2xpY2tcbiAgICAgIGNvcm5lcnN0b25lVG9vbHMuem9vbVdoZWVsLmFjdGl2YXRlKGVsZW1lbnQpO1xuICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZURpY29tO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dicom.js\n");

/***/ }),

/***/ "./main.js":
/*!*****************!*\
  !*** ./main.js ***!
  \*****************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"../node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var base_64__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base-64 */ \"../node_modules/base-64/base64.js\");\n/* harmony import */ var base_64__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(base_64__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _dicom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dicom.js */ \"./dicom.js\");\n\n\n\n\n\nconst clinicalUri = 'https://portal-stu3.demo.syncfor.science/api/fhir';\nconst imagingUri = 'https://imaging-broker.demo.syncfor.science/baseDstu3';\nconst redirectUri = new URL('redirect.html', window.location).href;\n\n\nasync function getAuthUris(baseUri) {\n  return fetch(baseUri + '/metadata')\n    .then(response => response.json())\n    .then(j => findOAuthUris(j));\n}\n\nfunction findOAuthUris(metadataObj) {\n  for (const restObj of metadataObj.rest) \n    for (const extObj of restObj.security.extension) \n      if (extObj.url === 'http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris')\n        return extObj.extension.reduce((obj, uriPair) => {\n          obj[uriPair.url] = uriPair.valueUri;\n          return obj;\n        }, {});\n}\n\nasync function registerClient(registerUri) {\n  const args = {\n    client_name: 'Imaging Demo Application',\n    redirect_uris: [redirectUri],\n    scope: 'launch/patient patient/*.read offline_access'\n  };\n  \n  return fetch(registerUri, {\n    method: 'POST',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify(args)\n  })\n    .then(response => response.json());\n}\n\nasync function getToken(tokenUri, clientId, clientSecret, code) {\n  const data = new FormData();\n  data.set('grant_type', 'authorization_code');\n  data.set('code', code);\n  data.set('redirect_uri', redirectUri);\n\n  return fetch(tokenUri, {\n    method: 'POST',\n    headers: {Authorization: 'Basic ' + base_64__WEBPACK_IMPORTED_MODULE_1___default.a.encode(clientId + ':' + clientSecret)},\n    body: data\n  })\n    .then(response => response.json());\n}\n\nasync function getDicomUri(patientId, token) {\n  return fetch(imagingUri + '/ImagingStudy?patient=' + patientId, {\n    method: 'GET',\n    headers: {Authorization: 'Bearer ' + token}\n  })\n    .then(r => r.json())\n    .then(data => data.entry[0].resource.contained[0].address);\n}\n\nfunction launchOAuth(authorizeUri, clientId, state) {\n  const params = {\n    response_type: 'code',\n    client_id: clientId,\n    redirect_uri: redirectUri,\n    scope: 'launch/patient patient/*.read offline_access',\n    state: state,\n    aud: clinicalUri\n  };\n  const queryParams = new URLSearchParams();\n  Object.entries(params)\n    .forEach(([k, v]) => queryParams.set(k, v));\n  const url = new URL(authorizeUri);\n  url.search = '?' + queryParams.toString();\n  return window.open(url.href);\n}\n\nfunction makeState(length = 8) {\n  return Math.floor(Math.random() * 16**length).toString(16);\n}\n\nfunction receiveCode(state) {\n  return new Promise((resolve, reject) => {\n    const bc = new BroadcastChannel(state);\n    bc.onmessage = ev => resolve(ev.data);\n    bc.onmessageerror = ev => reject(ev);\n  });\n}\n\nconst run = async () => {\n  const state = makeState();\n  const authUris = await getAuthUris(clinicalUri);\n  const { client_id: clientId, client_secret: clientSecret } = await registerClient(authUris.register);\n  const newWindow = launchOAuth(authUris.authorize, clientId, state);\n\n  const code = await receiveCode(state);\n  newWindow.close();\n\n  const { access_token: token, patient: patientId } = await getToken(authUris.token, clientId, clientSecret, code);\n  const dicomUri = await getDicomUri(patientId, token);\n  Object(_dicom_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(dicomUri, token);\n}\n\nrun()\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tYWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbWFpbi5qcz8xZDUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgYmFzZTY0IGZyb20gJ2Jhc2UtNjQnO1xuXG5pbXBvcnQgbG9hZERpY29tIGZyb20gJy4vZGljb20uanMnO1xuXG5jb25zdCBjbGluaWNhbFVyaSA9ICdodHRwczovL3BvcnRhbC1zdHUzLmRlbW8uc3luY2Zvci5zY2llbmNlL2FwaS9maGlyJztcbmNvbnN0IGltYWdpbmdVcmkgPSAnaHR0cHM6Ly9pbWFnaW5nLWJyb2tlci5kZW1vLnN5bmNmb3Iuc2NpZW5jZS9iYXNlRHN0dTMnO1xuY29uc3QgcmVkaXJlY3RVcmkgPSBuZXcgVVJMKCdyZWRpcmVjdC5odG1sJywgd2luZG93LmxvY2F0aW9uKS5ocmVmO1xuXG5cbmFzeW5jIGZ1bmN0aW9uIGdldEF1dGhVcmlzKGJhc2VVcmkpIHtcbiAgcmV0dXJuIGZldGNoKGJhc2VVcmkgKyAnL21ldGFkYXRhJylcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oaiA9PiBmaW5kT0F1dGhVcmlzKGopKTtcbn1cblxuZnVuY3Rpb24gZmluZE9BdXRoVXJpcyhtZXRhZGF0YU9iaikge1xuICBmb3IgKGNvbnN0IHJlc3RPYmogb2YgbWV0YWRhdGFPYmoucmVzdCkgXG4gICAgZm9yIChjb25zdCBleHRPYmogb2YgcmVzdE9iai5zZWN1cml0eS5leHRlbnNpb24pIFxuICAgICAgaWYgKGV4dE9iai51cmwgPT09ICdodHRwOi8vZmhpci1yZWdpc3RyeS5zbWFydGhlYWx0aGl0Lm9yZy9TdHJ1Y3R1cmVEZWZpbml0aW9uL29hdXRoLXVyaXMnKVxuICAgICAgICByZXR1cm4gZXh0T2JqLmV4dGVuc2lvbi5yZWR1Y2UoKG9iaiwgdXJpUGFpcikgPT4ge1xuICAgICAgICAgIG9ialt1cmlQYWlyLnVybF0gPSB1cmlQYWlyLnZhbHVlVXJpO1xuICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH0sIHt9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJDbGllbnQocmVnaXN0ZXJVcmkpIHtcbiAgY29uc3QgYXJncyA9IHtcbiAgICBjbGllbnRfbmFtZTogJ0ltYWdpbmcgRGVtbyBBcHBsaWNhdGlvbicsXG4gICAgcmVkaXJlY3RfdXJpczogW3JlZGlyZWN0VXJpXSxcbiAgICBzY29wZTogJ2xhdW5jaC9wYXRpZW50IHBhdGllbnQvKi5yZWFkIG9mZmxpbmVfYWNjZXNzJ1xuICB9O1xuICBcbiAgcmV0dXJuIGZldGNoKHJlZ2lzdGVyVXJpLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGFyZ3MpXG4gIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0VG9rZW4odG9rZW5VcmksIGNsaWVudElkLCBjbGllbnRTZWNyZXQsIGNvZGUpIHtcbiAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBkYXRhLnNldCgnZ3JhbnRfdHlwZScsICdhdXRob3JpemF0aW9uX2NvZGUnKTtcbiAgZGF0YS5zZXQoJ2NvZGUnLCBjb2RlKTtcbiAgZGF0YS5zZXQoJ3JlZGlyZWN0X3VyaScsIHJlZGlyZWN0VXJpKTtcblxuICByZXR1cm4gZmV0Y2godG9rZW5VcmksIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogJ0Jhc2ljICcgKyBiYXNlNjQuZW5jb2RlKGNsaWVudElkICsgJzonICsgY2xpZW50U2VjcmV0KX0sXG4gICAgYm9keTogZGF0YVxuICB9KVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldERpY29tVXJpKHBhdGllbnRJZCwgdG9rZW4pIHtcbiAgcmV0dXJuIGZldGNoKGltYWdpbmdVcmkgKyAnL0ltYWdpbmdTdHVkeT9wYXRpZW50PScgKyBwYXRpZW50SWQsIHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiAnQmVhcmVyICcgKyB0b2tlbn1cbiAgfSlcbiAgICAudGhlbihyID0+IHIuanNvbigpKVxuICAgIC50aGVuKGRhdGEgPT4gZGF0YS5lbnRyeVswXS5yZXNvdXJjZS5jb250YWluZWRbMF0uYWRkcmVzcyk7XG59XG5cbmZ1bmN0aW9uIGxhdW5jaE9BdXRoKGF1dGhvcml6ZVVyaSwgY2xpZW50SWQsIHN0YXRlKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICByZXNwb25zZV90eXBlOiAnY29kZScsXG4gICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICByZWRpcmVjdF91cmk6IHJlZGlyZWN0VXJpLFxuICAgIHNjb3BlOiAnbGF1bmNoL3BhdGllbnQgcGF0aWVudC8qLnJlYWQgb2ZmbGluZV9hY2Nlc3MnLFxuICAgIHN0YXRlOiBzdGF0ZSxcbiAgICBhdWQ6IGNsaW5pY2FsVXJpXG4gIH07XG4gIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICBPYmplY3QuZW50cmllcyhwYXJhbXMpXG4gICAgLmZvckVhY2goKFtrLCB2XSkgPT4gcXVlcnlQYXJhbXMuc2V0KGssIHYpKTtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChhdXRob3JpemVVcmkpO1xuICB1cmwuc2VhcmNoID0gJz8nICsgcXVlcnlQYXJhbXMudG9TdHJpbmcoKTtcbiAgcmV0dXJuIHdpbmRvdy5vcGVuKHVybC5ocmVmKTtcbn1cblxuZnVuY3Rpb24gbWFrZVN0YXRlKGxlbmd0aCA9IDgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KipsZW5ndGgpLnRvU3RyaW5nKDE2KTtcbn1cblxuZnVuY3Rpb24gcmVjZWl2ZUNvZGUoc3RhdGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBiYyA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKHN0YXRlKTtcbiAgICBiYy5vbm1lc3NhZ2UgPSBldiA9PiByZXNvbHZlKGV2LmRhdGEpO1xuICAgIGJjLm9ubWVzc2FnZWVycm9yID0gZXYgPT4gcmVqZWN0KGV2KTtcbiAgfSk7XG59XG5cbmNvbnN0IHJ1biA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc3RhdGUgPSBtYWtlU3RhdGUoKTtcbiAgY29uc3QgYXV0aFVyaXMgPSBhd2FpdCBnZXRBdXRoVXJpcyhjbGluaWNhbFVyaSk7XG4gIGNvbnN0IHsgY2xpZW50X2lkOiBjbGllbnRJZCwgY2xpZW50X3NlY3JldDogY2xpZW50U2VjcmV0IH0gPSBhd2FpdCByZWdpc3RlckNsaWVudChhdXRoVXJpcy5yZWdpc3Rlcik7XG4gIGNvbnN0IG5ld1dpbmRvdyA9IGxhdW5jaE9BdXRoKGF1dGhVcmlzLmF1dGhvcml6ZSwgY2xpZW50SWQsIHN0YXRlKTtcblxuICBjb25zdCBjb2RlID0gYXdhaXQgcmVjZWl2ZUNvZGUoc3RhdGUpO1xuICBuZXdXaW5kb3cuY2xvc2UoKTtcblxuICBjb25zdCB7IGFjY2Vzc190b2tlbjogdG9rZW4sIHBhdGllbnQ6IHBhdGllbnRJZCB9ID0gYXdhaXQgZ2V0VG9rZW4oYXV0aFVyaXMudG9rZW4sIGNsaWVudElkLCBjbGllbnRTZWNyZXQsIGNvZGUpO1xuICBjb25zdCBkaWNvbVVyaSA9IGF3YWl0IGdldERpY29tVXJpKHBhdGllbnRJZCwgdG9rZW4pO1xuICBsb2FkRGljb20oZGljb21VcmksIHRva2VuKTtcbn1cblxucnVuKClcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./main.js\n");

/***/ })

/******/ });